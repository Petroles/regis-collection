<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.23779</field>
		<field name="filename">8015_kokubum_cnc_me_prud.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">
UNIVERSIDADE ESTADUAL PAULISTA
Faculdade de Ciências e Tecnologia

Câmpus de Presidente Prudente

                       

ESTUDO DE MÉTODOS PARA CLASSIFICAÇÃO E 

LOCALIZAÇÃO PRECISA DE PADRÕES USANDO UM 

SISTEMA DE LUZ ESTRUTURADA   

Christiane Nogueira de Carvalho Kokubum     

Presidente Prudente 

2004 



 
UNIVERSIDADE ESTADUAL PAULISTA

Faculdade de Ciências e Tecnologia
Câmpus de Presidente Prudente

 
                  Pós-Graduação em Ciências Cartográficas   

CHRISTIANE NOGUEIRA DE CARVALHO KOKUBUM   

ESTUDO DE MÉTODOS PARA CLASSIFICAÇÃO E 

LOCALIZAÇÃO PRECISA DE PADRÕES USANDO 

UM SISTEMA DE LUZ ESTRUTURADA          

Presidente Prudente 

2004 

Dissertação apresentada ao Programa 
de Pós-Graduação em Ciências 
Cartográficas da Faculdade de 
Ciências e Tecnologia da UNESP, 
como parte dos requisitos exigidos 
para a obtenção do título de Mestre em 
Ciências Cartográficas.   

Orientador:  

Prof. Dr. Antonio M. G. Tommaselli 



 
RESUMO  

Algumas das tarefas mais significativas em Visão Computacional e em 

Fotogrametria Digital à curta distância estão associadas à segmentação, ao 

reconhecimento de objetos na imagem e à posterior reconstrução. Esta dissertação 

apresenta uma metodologia para a identificação e para a medição automáticas de 

alvos projetados em imagens tomadas à curta-distância, usando o sistema ativo 

denominado luz estruturada. Para a classificação de tais padrões, dois métodos de 

correspondência são comparados: correspondência por padrão  (template matching) 

e por assinatura. O método de correspondência por padrão consiste na classificação 

por correlação, que mede a similaridade entre as janelas de referência e de busca 

utilizando uma função de correlação adequada. Os problemas existentes neste 

método estão relacionados com os ruídos na imagem, variações de brilho, 

distorções geométricas, o grande número de padrões a serem comparados e a 

escolha do tamanho do padrão. O método de assinatura consiste na comparação da 

representação funcional unidimensional da fronteira do padrão. Este método de 

assinatura não varia em relação à translação, mas depende da rotação e da 

mudança de escala. Para a localização precisa, dois métodos foram comparados: 

correspondência por mínimos quadrados e detector de cantos. O método de 

correspondência por mínimos quadrados refina a correspondência obtida por 

correlação, estimando os parâmetros de transformação radiométricos e geométricos 

entre as janelas de referência e de pesquisa, de acordo com o critério de erro dos 

mínimos quadrados. Já o detector de cantos determina as coordenadas subpixel 

usando uma combinação dos operadores de Moravec e de Förstner. Experimentos 

realizados com dados simulados e reais foram conduzidos com o objetivo de 

verificar a eficácia da metodologia com respeito à detecção e a localização precisa. 

Os resultados mostram que a metodologia de classificação funciona 

adequadamente, identificando 98% de alvos em superfícies planas e 93% em 

superfícies oblíquas. Os métodos de correspondência por mínimos quadrados e 

detector de cantos mostraram-se equivalentes para a localização precisa.    

Palavras-chave: Correlação, correspondência por mínimos quadrados, luz 
estruturada, assinatura, reconhecimento de padrões, detecção de cantos. 



 
ABSTRACT  

Some of the main tasks in computer vision and close range Photogrammetry are 

related to the processes of segmentation, object recognition in the image and later 

reconstruction. The aim of this work is to study an automatic recognition system to 

identify and to measure targets projected with a structured light system. For target 

recognition two methods are compared: template matching and the signature 

method. The template matching method consists in the detection of area similarity by 

correlation. The idea of correlation is to compare the gray level distribution of a small 

sub image with its homologous in the search image. In this paper, the function used 

is the modified cross covariance which presented the best results. The problems in 

this method are related to illumination differences between the two images, geometric 

distortions, noise, the great number of templates to be compared and determination 

of template size. The signature method is based in the analysis of the one-

dimensional representation of target border. The signature depends on the rotation 

and the scale changes of the target. Two methods were compared for precise 

localization: LSM (least square matching) and corner detection. The idea of least 

squares matching is to minimize the gray level differences between the image patch 

and the matching window; the geometric and radiometric parameters from the 

template to the matching window are determined in the adjustment process. The 

corner detection consists in the determination of the subpixel coordinates of corners 

using the Förstner and Moravec operators. Experiments were performed, in order to 

verify the performance of the methodology for detection and precise localization. The 

results showed that the classification works appropriately, identifying 98% of targets 

in plane surfaces and 93% in oblique surfaces. Besides, the results of precise 

localization were equivalent in both methods: LSM and corner detection.        

Keywords: Template matching, structured light, signature, recognition of targets, 
corner detection.  



 
LISTA DE FIGURAS  

FIGURA 1 - Princípio de formação de uma imagem digital......................................... 25 

FIGURA 2  Definição do sistema de coordenadas de uma imagem digital............... 26 

FIGURA 3  Regiões definidas no processo de limiarização local.............................. 37 

FIGURA 4 

 

Representação das magnitudes dos gradientes e do ângulo de direções 

das bordas................................................................................................................ 39 

FIGURA 5 

 

Máscaras usadas no operador de Sobel(a) Gradiente em x; (b) Gradiente 

em y.......................................................................................................................... 40 

FIGURA 6 - Janelas 3x3 mostrando os vetores de 0º, 45º, 90º e 135º, respectivamente 

................................................................................................................................. 42 

FIGURA 7 - Ferramenta de produção automotiva ...................................................... 47 

FIGURA 8 - Padrão desenvolvido por Dunn e Keizer (1989)...................................... 53 

FIGURA 9 - Detalhe do padrão binário projetado. ...................................................... 54 

FIGURA 10 - O padrão de iluminação composto de quatro primitivas. ....................... 54 

FIGURA 11  Pesquisa bidimensional de imagens correlatas. ................................... 59 

FIGURA 12 - Representação do pixel reamostrado.................................................... 69 

FIGURA 13 

 

Padrões que reduzem a quantidade de parâmetros a serem 

determinados pelo modelo matemático mencionado nesta seção. (a) escala em y; (b) 

rotação; (c) duas escalas; (d) todos na direção y; (e) todos na direção y e escala em 

x; (f) todos................................................................................................................. 70 

FIGURA 14  Fronteiras e suas respectivas assinaturas............................................ 71 

FIGURA 15  Assinatura: (a) Princípio da construção (b) Assinaturas para um círculo e 

um triângulo.  ........................................................................................................... 71 

FIGURA 16  Alvo codificado...................................................................................... 78 

FIGURA 17  Seqüência das operações e  processamentos realizados. ................... 80 

FIGURA 18 - Padrões primitivos. ................................................................................ 82 

FIGURA 19  Vizinhança dos padrões. ...................................................................... 83 

FIGURA 20 - Sistema sensor e projetor...................................................................... 84 

FIGURA 21 

 

Configuração da janela do limiar local. ................................................. 86 

FIGURA 22  Fluxograma do algoritmo de segmentação de padrões........................ 89 

FIGURA 23 - Padrão com diferentes rotações e idênticas assinaturas. ..................... 93 

FIGURA 24  Pontos iniciais dos padrões utilizados. ................................................. 93 



 
FIGURA 25  Direções obtidas dos pontos................................................................. 94 

FIGURA 26  Exemplo de uma imagem de padrões. ............................................... 101 

FIGURA 27 - Dimensão dos padrões projetados em pixel........................................ 101 

FIGURA 28 

 
Resultados da limiarização. (a) Imagem original; (b) Método de 

expansão do histograma; (c) Método de transformação local. ............................... 102 

FIGURA 29 - (a) Imagem original (tomada de um dorso humano) com o sistema de luz 

estruturada; (b) Parte da imagem original; (c) (d) Limiarização com o método de Otsu 

local; (e) (f) Limiarização com Pun local ................................................................. 104 

FIGURA 30 

 

Resultados de imagens segmentadas. (a) Todos os alvos foram 

segmentados. (b) Alguns alvos não foram segmentados. ...................................... 105 

FIGURA 31 

 

Resultados da correspondência por correlação usando padrões binários 

(imagens invertidas). (a) Imagem dos alvos projetados em um cilindro; (b) Imagem 

realçada de uma imagem sem variação de rotação; (c) Classificação dos alvos para 

a imagem com padrões projetados distorcidos; (d) Imagem realçada de uma imagem 

com variação na rotação; (e) Classificação dos alvos para a imagem com padrões 

projetados distorcidos............................................................................................. 110 

FIGURA 32 - Classificação dos alvos de um cilindro após a segmentação.............. 111 

FIGURA 33 - Classificação dos alvos após a segmentação de um dorso humano .. 111 

FIGURA 34 

 

Resultados da correspondência por correlação usando padrões 

suavizados pela média (imagens invertidas) (a) Imagem realçada de uma imagem 

sem variação de rotação; (b) Classificação dos alvos para a imagem sem variação 

da rotação; (c) Imagem realçada de uma imagem com padrões projetados 

distorcidos; (d) Classificação dos alvos para a imagem com padrões projetados 

distorcidos. ............................................................................................................. 113 

FIGURA 35 

 

Resultados da correspondência por correlação usando padrões 

reamostrados (Padrões 23 pixels x 23 pixels) (imagens invertidas) (a) Imagem 

realçada de uma imagem sem variação de rotação; (b) Classificação dos alvos para 

a imagem sem variação da rotação; (c) Imagem realçada de uma imagem com 

padrões projetados distorcidos; (d) Classificação dos alvos para a imagem com 

padrões projetados distorcidos. .............................................................................. 115 

FIGURA 36  Reamostragem dos padrões primitivos sem moldura. ........................ 116 

FIGURA 37 

 

Resultados da correspondência por correlação usando padrões 

reamostrados sem bordas (Padrões 90 pixels x 90 pixels) (a) Imagem realçada de 

uma imagem sem variação de rotação; (b) Classificação dos alvos para a imagem 



 
sem variação da rotação; (c) Imagem realçada de uma imagem com padrões 

projetados distorcidos; (d) Classificação dos alvos para a imagem com padrões 

projetados distorcidos............................................................................................. 117 

FIGURA 38 

 
Resultados da correspondência por correlação usando padrões 

reamostrados usando molduras (Padrões 90 pixels x 90 pixels) (a) Imagem realçada 

de uma imagem sem variação de rotação; (b) Classificação dos alvos para a imagem 

sem variação da rotação; (c) Imagem realçada de uma imagem com padrões 

projetados distorcidos; (d) Classificação dos alvos para a imagem com padrões 

projetados distorcidos............................................................................................. 118 

FIGURA 39 

 

Extração de fronteiras usando o método de perseguição de 

fronteiras.(a) Extração de fronteiras dos alvos projetados em um cilindro;(b) Detalhe 

da imagem com as fronteiras dos alvos extraídos.................................................. 120 

FIGURA 40 - Assinatura dos padrões armazenados. ............................................... 121 

FIGURA 41  Assinaturas dos padrões e dos alvos segmentados........................... 123 

FIGURA 42  Resultado da classificação usando o método de assinatura. ............. 124 

FIGURA 43 - Localização precisa dos alvos usando padrões pré-definidos............. 126 

FIGURA 44 

 

Localização precisa usando o método de reamostragem dos padrões.

............................................................................................................................... 127 

FIGURA 45 

 

Localização precisa por detecção de cantos usando padrões 

reamostrados.......................................................................................................... 128 

FIGURA 46  Uma das quatro imagens usadas para calibração da câmara............ 129   



 
LISTA DE TABELAS    

TABELA 1  Resolução espacial. ............................................................................... 24 

TABELA 2  Resolução radiométrica. ......................................................................... 25 

TABELA 3  Exemplos de aplicações de reconhecimento de padrões....................... 58 

TABELA 4 - Parâmetros de orientação interior calibrados.......................................... 85 

TABELA 5 - Padrões pré-definidos e as suas instâncias armazenadas. .................... 90 

TABELA 6  Exemplo de saída do reconhecimento de padrões. ............................. 129 

TABELA 7 - Métodos usados e respectivos erros médios quadrático usando apenas 

os alvos do tipo A. .................................................................................................. 131 

TABELA 8  Resultados da reconstrução usando o método de detector de cantos para 

todos os cinco padrões........................................................................................... 132            



 
CONTEÚDO  

CAPÍTULO I  

1. INTRODUÇÃO .................................................................................................. 18 

1.1. Considerações iniciais ............................................................................ 18 

1.2. Objetivos................................................................................................. 21 

1.2.1. Objetivo geral ....................................................................................... 21 

1.2.1. Objetivos específicos ........................................................................... 21 

1.3 . Estrutura do trabalho ............................................................................ 23  

CAPÍTULO II  

2. IMAGENS DIGITAIS: AQUISIÇÃO E PROCESSAMENTO ............................... 24 

2.1. Imagem Digital............................................................................................ 24 

2.2. Câmaras digitais ......................................................................................... 25 

2.3. Sistemas de coordenadas .......................................................................... 26 

2.4. Efeitos sistemáticos .................................................................................... 27 

2.5. Melhoramento de contraste linear .............................................................. 29 

2.5.1. Método de expansão do histograma .................................................... 29 

2.5.2. Transformação local ............................................................................ 30 

2.6. Segmentação ............................................................................................. 32 

2.7. Limiarização ............................................................................................... 33 

2.7.1. Método de Otsu ................................................................................... 34 

2.7.2. Método de Pun..................................................................................... 36 

2.7.3. Limiarização local ................................................................................ 37 

2.8. Detecção de bordas ................................................................................... 38 

2.8.1. Operadores de gradiente ..................................................................... 38 

2.8.1.1. Operadores de Sobel .................................................................... 40 

2.9. Detector de cantos ..................................................................................... 41 

2.9.1. Operadores de interesse...................................................................... 41 

2.9.1.1. Operador de Moravec.................................................................... 41 



 
2.9.1.2. Operador de Förstner .................................................................... 43 

    2.9.2. Técnica híbrida usada para detecção de cantos ................................. 44  

CAPÍTULO III  

3. FOTOGRAMETRIA À CURTA DISTÂNCIA ....................................................... 46 

3.1. Aplicações da Fotogrametria à curta distância ........................................... 46 

3.2. Luz estruturada........................................................................................... 49 

3.2.1. Técnicas utilizando o sistema de luz estruturada................................. 50  

CAPÍTULO IV  

4. RECONHECIMENTO DE PADRÕES ................................................................ 57 

4.1. Correspondência por padrão (Template matching) .................................... 59 

4.1.1. Funções básicas de correlação ........................................................... 60 

4.1.1.1. Função covariância cruzada.......................................................... 61 

4.1.1.2. Função covariância cruzada modificada ou coeficiente de 

correlação................................................................................................... 62 

4.1.1.3. Função correlação cruzada ........................................................... 63 

4.1.2. Correspondência por mínimos quadrados ........................................... 63 

4.2. Correspondência por assinatura................................................................. 70 

4.2.1. Determinação da discrepância entre as assinaturas ........................... 72 

4.3. Outras técnicas para o reconhecimento de padrões .................................. 75  

CAPÍTULO V  

5. MATERIAIS E MÉTODOS ................................................................................. 79 

5.1. Materiais ..................................................................................................... 79 

5.2. Métodos...................................................................................................... 80 

5.2.1. Geração de padrões ............................................................................ 81 

5.2.2. Coleta de dados ................................................................................... 83 

5.2.3. Limiarização local ................................................................................ 85 



 
5.2.4. Segmentação....................................................................................... 87 

5.2.5 Classificação ......................................................................................... 88 

5.2.5.1 Correlação ...................................................................................... 90 

5.2.5.2 Assinatura ...................................................................................... 92 

5.2.6. Localização precisa ............................................................................. 95 

5.2.6.1. Método de correspondência de imagens por mínimos quadrados e 

reamostragem ............................................................................................ 95 

5.2.6.2. Detecção de cantos....................................................................... 97 

5.2.7. Critério para avaliação do método de localização precisa ................... 98  

CAPÍTULO VI  

6. DESENVOLVIMENTO E IMPLEMENTAÇÃO.................................................. 100 

6.1. Geração automática de padrões .............................................................. 100 

6.2. Limiarização local ..................................................................................... 102 

6.3. Segmentação ........................................................................................... 105 

6.4. Classificação ............................................................................................ 106 

6.4.1. Correspondência por correlação ........................................................ 107 

6.4.4.1. Comparação dos alvos segmentados com os padrões pré-definidos 

e com as suas instâncias armazenadas................................................... 108 

6.4.4.2. Comparação dos alvos segmentados com os padrões pré-definidos 

suavizados e com as suas instâncias suavizadas armazenados ............. 112 

6.4.4.3. Comparação dos alvos segmentados com os padrões pré-definidos 

reamostrados ........................................................................................... 113 

6.5. Localização precisa .................................................................................. 125 

6.5.1. Correspondência de imagens por mínimos quadrados...................... 125 

6.5.2. Detecção de cantos ........................................................................... 127  

CAPÍTULO VII  

7. CONCLUSÕES E RECOMENDAÇÕES .......................................................... 133  

REFERÊNCIAS BIBLIOGRÁFICAS .................................................................... 135 



  
LISTA DE SIGLAS  

A/D Analógico/Digital 

AMD        Advanced Micro Devices 

CC Calibração de câmaras 

CCD Charge Coupled Device  Dispositivo de carga acoplada 

DC Detector de cantos 

DPI           Dots per inch  Pontos por polegadas 

EMQ Erro médio quadrático 

FAPESP

 

Fundação de Amparo à Pesquisa do Estado de São Paulo 

FCT Faculdade de Ciências e Tecnologia 

GB Gigabytes 

MB Megabytes 

MMQ Método dos mínimos quadrados 

MQ Mínimos quadrados 

NC Nível de cinza 

PPD Padrões pré-definidos 

PPP Pontos por polegadas 

PR Padrões reamostrados 

RAM Random Acess Memory  Memória de acesso aleatório 

UNESP Universidade Estadual Paulista 

UPTK Unesp Photogrammetric ToolKit   



  

Christiane N. C. Kokubum 

18

 
CAPÍTULO I    

1. INTRODUÇÃO   

1.1. Considerações iniciais   

Atualmente, a reconstrução tridimensional é um dos assuntos mais 

abordados na literatura relacionada à Fotogrametria Digital e a Visão Computacional.  

Há diversos sistemas para reconstrução 3D no mercado, porém, 

apresentam algumas das desvantagens: alto custo, necessidade de operadores 

altamente qualificados, impossibilidade de resposta em tempo real em curto período 

de tempo e dificuldade de reconstrução em superfícies com texturas homogêneas.            

Pensando nestas desvantagens, decidiu-se criar um sistema que 

possuísse as seguintes características: baixo custo e facilidade de operação com 

alto grau de automação. Dos vários sistemas de reconstrução pesquisados, aqueles 

cujas características mais se aproximam destes requisitos são os sistemas de 

reconstrução por luz estruturada. Neste tipo de sistema utiliza-se uma fonte de luz, 

que projeta um padrão de luz conhecido na cena medida. 

Inicialmente, um sistema de reconstrução composto por uma câmara 

digital Kodak DC 40 e um projetor de padrões foi construído. Os padrões projetados 

para este sistema eram brancos e circulares. A identificação automática para estes 

alvos é fácil, porém, nos objetos de superfícies com relevo muito irregular ocorreram 



  

Christiane N. C. Kokubum 

19

 
oclusões de alguns alvos, acarretando em incorretas identificações (TOMMASELLI, 

1997). Uma solução para este problema de oclusão de padrões foi usar padrões 

coloridos com três diferentes formas, porém, em superfícies coloridas, alguns alvos 

ficaram oclusos dificultando na sua identificação (SCALCO, 2000). 

Observando estes inconvenientes em trabalhos anteriores, resolveu-

se usar padrões brancos com cinco diferentes formas neste trabalho. Além disso, um 

sistema formado por uma câmara de maior resolução foi criado para a captura da 

imagem em substituição à câmara anterior.  

Como a reconstrução tridimensional é uma etapa muito complexa, 

dividiu-se o processo em duas etapas: reconstrução 3D e reconhecimento de 

padrões. A etapa em que consiste esta dissertação objetiva encontrar um método 

apropriado para a identificação e a medição automática de alvos, em uma ou mais 

imagens, procedimento fundamental na reconstrução. As vantagens da automação 

destes processos são: processos fotogramétricos mais flexíveis, maior agilidade e 

menor possibilidade de ocorrer erros grosseiros uma vez que é menor a intervenção 

do operador. Além disto, alguns métodos permitem, ainda, a medição das 

coordenadas com precisão subpixel. 

Para a identificação e medição de alvos, um dos métodos mais 

utilizados é a correspondência por padrão (template matching). Achar um padrão na 

imagem vincula detecção (métodos de correlação cruzada e correlação baseada em 

feições), localização precisa (métodos baseados em áreas e métodos baseados em 

feições) e verificação. A correlação mede a similaridade de uma máscara de 

referência com uma janela de busca utilizando uma função de correlação adequada. 

Já a correlação por mínimos quadrados procura refinar esta correspondência pela 

estimação dos parâmetros de transformação radiométricos e geométricos entre as 



  

Christiane N. C. Kokubum 

20

 
janelas de referência e de pesquisa, de acordo com o critério dos mínimos 

quadrados. Esses métodos baseados em área são sensíveis ou afetados por 

problemas como: 

- Iluminação não adequada; 

- Distorção dos padrões; 

- Ruídos; 

- Tamanho da janela de referência; e, 

- Grande número de janelas de referência a serem comparadas.   

Por estes problemas mencionados acima, resolveu-se comparar os 

métodos de classificação por correlação com o método de assinatura e o método de 

localização precisa por mínimos quadrados  com os por detector de cantos. 

A assinatura é um método de correspondência que consiste na 

comparação da representação funcional unidimensional de uma fronteira. Há várias 

maneiras de se adquirir uma assinatura. Uma das mais fáceis de obtê-la é a partir do 

gráfico da distância da fronteira do alvo ao centróide em função da direção. Esta 

assinatura não varia em relação à translação, mas depende da rotação e mudança 

de escala (GONZALES e WOODS, 2000). A eficácia deste processo depende dos 

operadores que são utilizados para a etapa de extração de feições. 

A detecção de cantos, neste trabalho, é obtida pela combinação de 

dois operadores: Moravec e Förstner. O operador de Moravec gera coordenadas 

com precisão pixel que são posteriormente usadas como coordenadas aproximadas 

para a determinação subpixel das coordenadas com o operador de Förstner. 



  

Christiane N. C. Kokubum 

21

 
Os experimentos são apresentados e discutidos, mostrando as 

vantagens e desvantagens de cada metodologia, além de indicar o método mais 

eficaz para a detecção e localização precisa para os tipos de alvos usados.   

1.2. Objetivos   

1.2.1. Objetivo geral   

Este trabalho tem como objetivo o estudo e o desenvolvimento de 

métodos de classificação e de localização automáticos de alvos em imagens 

tomadas à curta-distância usando o sistema de luz estruturada.   

1.2.1. Objetivos específicos   

 

Implementar programas relacionados aos métodos de 

reconhecimento e localização automáticos de alvos em 

imagens tomadas à curta-distância: 

-    Geração automática de padrões para criação de fotolitos, 

os quais serão projetados na cena desejada, usando o sistema 

de luz estruturada; 



  

Christiane N. C. Kokubum 

22

 
- Limiarização local da imagem; 

- Segmentação da imagem por crescimento de regiões; 

-  Determinação da fronteira pelo método de perseguição 

de fronteiras; 

- Assinatura; 

- Correspondência por correlação; 

- Correspondência por mínimos quadrados.  

 

Realizar experimentos para comparação dos resultados: 

-    Comparação dos métodos de correlação e de assinatura 

para a detecção automática dos alvos projetados; 

-  Comparação dos métodos de mínimos quadrados e de 

detector de cantos para a localização automática precisa dos 

alvos; 

- Análise dos métodos a partir da comparação das 

discrepâncias dos dados a partir de uma reconstrução.   

 

Integração à biblioteca de classes e de funções UPTK (Unesp 

Photogrammetric ToolKit) desenvolvida no Departamento de 

Cartografia.      



  

Christiane N. C. Kokubum 

23

 
1.3 . Estrutura do trabalho  

Este trabalho é composto de sete capítulos. No primeiro capítulo 

apresenta-se uma abordagem geral sobre algumas técnicas empregadas e os seus 

problemas para realização do reconhecimento automático de alvos. 

No segundo capítulo, efetua-se uma revisão a respeito de imagens 

digitais e os conceitos envolvidos em sua aquisição. 

No capítulo seguinte, é feita uma revisão a respeito da Fotogrametria 

à curta distância, suas aplicações, além de enfatizar o método ativo denominado luz 

estruturada.  

No quarto capítulo são revisados alguns métodos de detecção e de 

localização precisa utilizados no trabalho.  

No quinto capítulo são apresentados os materiais utilizados no 

desenvolvimento do trabalho, bem como os métodos desenvolvidos e 

implementados. 

O sexto capítulo descreve o desenvolvimento, a implementação e os 

experimentos realizados da metodologia discutida anteriormente. 

O sétimo capítulo traz as considerações finais e as recomendações 

para os futuros trabalhos nesta área de pesquisa.       



  

Christiane N. C. Kokubum 

24

 
CAPÍTULO II   

2. IMAGENS DIGITAIS: AQUISIÇÃO E PROCESSAMENTO   

2.1. Imagem Digital   

Segundo Schenk (1999), imagem é uma função contínua yxF , na 

qual as coordenadas x, y são as variáveis espaciais e o valor da função são os 

níveis de cinza. A discretização desta função resulta na imagem digital com uma 

função discreta yxf , .  

A qualidade de uma imagem depende de dois fatores:  

- Resolução espacial: relacionada com o tamanho do pixel e é 

freqüentemente expressa em ppp (pontos por polegadas; dpi - dots 

per inch). Na Tabela 1 pode-se observar a dimensão do pixel para 

diferentes resoluções.  

TABELA 1  Resolução espacial. 

ppp 300 600 1200

 

1270

 

2540

 

Tamanho do pixel ( m) 84 42 21 20 10 

 

- Resolução radiométrica: Depende dos níveis de quantização 

(transformação da função contínua em valores de cinza discretos) 



  

Christiane N. C. Kokubum 

25

 
empregados. A Tabela 2 mostra o número de bits necessários para 

representar certos níveis de cinza.  

TABELA 2  Resolução radiométrica. 

n Bits 1

 

2

 

3

 

4 5 6 7 8 

2n Níveis de cinza

 

2

 

4

 

8

 

16

 

32

 

64

 

128

 

256

   

2.2. Câmaras digitais  

Segundo Tommaselli et al (2000), câmaras digitais são dispositivos 

compostos de um sistema de lentes, um chip sensor, que pode ser do tipo CCD 

(Charge Coupled Device) ou CMOS (Complementary Metal Oxide Semiconductor), 

processadores e uma memória para a coleta e armazenamento de imagens digitais. 

O princípio de formação de uma imagem digital pode ser observado na Figura 1.         

FIGURA 1 - Princípio de formação de uma imagem digital.  

(Adaptado de TOMMASELLI et al, 2000)  

 

Circuitos 
eletrônicos 

Conversor 
Analógico/

Digital 
(A/D) 

Frame 
buffer 

Eixo óptico 

Sistema de 

lentes 

Sensor 

CCD 

Filtro 

colorido 



  

Christiane N. C. Kokubum 

26

 
O conversor A/D possui como objetivo transformar o sinal elétrico 

analógico gerado pelo CCD em um sinal digital, que é armazenado em uma memória 

temporária (frame buffer).     

2.3. Sistemas de coordenadas   

O sistema de coordenadas de uma imagem digital é um sistema 

plano-retangular com origem no canto superior esquerdo, sendo o eixo das 

abscissas coincidente com a primeira linha e o eixo das ordenadas com a primeira 

coluna (Figura 2).  

Para realização de procedimentos fotogramétricos com as imagens 

digitais, utiliza-se um sistema intermediário (x, y) com origem definida no centro da 

imagem (Figura 2).          

FIGURA 2  Definição do sistema de coordenadas de uma imagem digital.  

x 

j (colunas) 

i (linhas) 

Centro da imagem 

0 



  

Christiane N. C. Kokubum 

27

 
A transformação das coordenadas do sistema imagem para o 

sistema intermediário depende de uma translação entre as origens dos sistemas, 

uma reflexão no eixo das ordenadas e um fator de escala equivalente ao tamanho 

do pixel, a fim de estabelecer as coordenadas num sistema métrico (Equação 1).  

                      
yy

xx

Sciy

Scjx

*)(

*)(
                                             (1)  

Onde: 

2

1
2

1

H
c

W
c

y

x 

yx,  coordenadas referidas ao sistema intermediário; 

ji,

 

 coordenadas referidas ao sistema da imagem; 

yx cc , - coordenadas do centro da imagem no sistema de imagem; 

WH , 

 

números de linhas e colunas, respectivamente; 

yx SS

 

dimensões do pixel nas componentes x e y, respectivamente.     

2.4. Efeitos sistemáticos   

No processo de formação de uma imagem digital, há efeitos 

sistemáticos que produzem distorções, com causas e características distintas. Estes 



  

Christiane N. C. Kokubum 

28

 
efeitos ocorrem com freqüência e podem ser modelados matematicamente, a fim de 

que se possam minimizar os efeitos de afastamento da geometria projetiva.  

Alguns dos efeitos sistemáticos existentes na formação das imagens 

digitais, segundo Galo (1993) e Mikhail et al (2001) são: 

- Deslocamento do ponto principal; 

- Distorção das lentes.  

O deslocamento do ponto principal ocorre pela não coincidência do 

eixo óptico com o centro da imagem. 

Segundo Mikhail et al (2001), a distorção das lentes é a aberração 

mais relevante para a prática fotogramétrica. Estas distorções são causadas pelos 

desvios dos raios que, ao atravessar em um sistema de lentes, prejudicam a 

geometria por meio de deslocamentos na imagem. Esta aberração pode ser dividida 

em: distorção radial simétrica e distorção descentrada.  

A distorção radial simétrica é o deslocamento radial de um ponto na 

imagem, isto é, uma mudança no ângulo entre o raio de luz e o eixo óptico sofrida 

por um raio de luz ao atravessar uma lente ou um sistema de lentes (MIKHAIL et al, 

2001).  

A distorção descentrada é um deslocamento da imagem advindo da 

impossibilidade do fabricante em alinhar perfeitamente os eixos ópticos das lentes 

de uma objetiva.  

   



  

Christiane N. C. Kokubum 

29

 
2.5. Melhoramento de contraste linear   

O melhoramento de contraste linear consiste no processamento de 

uma imagem, de modo que o resultado seja mais apropriado para uma aplicação 

específica do que a imagem original. O contraste nas imagens é afetado pela 

iluminação não homogênea e abertura incorreta do diafragma da câmara durante a 

aquisição da imagem. É normalmente usado como uma etapa de pré-processamento 

para sistemas de reconhecimento de padrões (GONZALES e WOODS, 2000). 

Dentre os métodos existentes para solucionar este problema 

encontram-se: método denominado expansão do histograma, método de contraste 

linear percentual e método de transformação local.      

2.5.1. Método de expansão do histograma   

Este método de melhoramento ocupa todo o intervalo de cinza, não 

provocando nenhuma perda. Esta operação é realizada a partir de uma interpolação 

linear (Equação 2) (SPRING, 2003).  

nivelmaior
GG

GG
G it _*

minmax

min                                         (2)   



  

Christiane N. C. Kokubum 

30

 
Onde: 

minG  menor nível de cinza encontrado na imagem; 

maxG  maior nível de cinza encontrado na imagem; 

iG  nível de cinza original de um pixel na imagem; 

tG  nível de cinza resultante de um pixel após a transformação; 

maior_nível 

 

indica o maior nível de quantização disponível. Por exemplo: se a 

imagem possui 8 bits, o maior nível é dado por 128   = 255.   

Outra forma de melhoramento do contraste é denominada de 

contraste linear percentual. Este processo é utilizado quando se deseja especificar 

os valores de minG e maxG para realçar determinado intervalo de cinza. Neste caso, 

utiliza-se uma certa percentagem de pixels a partir da média do histograma. O 

problema deste processo é a perda de informação em benefício do realce da 

informação que se deseja realçar. Além disso, como escolher a percentagem de 

pixels a se trabalhar porque depende da imagem original (GONZALES e WOODS, 

2000).    

2.5.2. Transformação local   

Os métodos mostrados na Seção 2.4.1 são globais no sentido de que 

os pixels são modificados através de uma função de transformação baseada na 

distribuição dos níveis de cinza sobre uma imagem inteira, não garantindo o realce 

local desejado. Uma transformação local baseada nas propriedades de intensidades 



  

Christiane N. C. Kokubum 

31

 
da média e do desvio-padrão de pixels pode ser observada na Equação 3 

(GONZALES e WOODS, 2000).     

yxmyxmyxfyxAyxg ,,,,,                                  (3)  

Onde:  

yxkMyxA ,/, ; 

yxf , - níveis de cinza da imagem original; 

yxg , - níveis de cinza da imagem resultante; 

yxm , - nível de cinza médio calculado numa vizinhança centrada em yx, ; 

yx,

 

- desvio-padrão calculado numa vizinhança centrada em yx, ; 

M

 

-  média global de yxf , ; 

k - constante variando no intervalo 1,0 .  

Este método possui um melhor resultado em relação ao método de 

expansão do histograma pelo fato de realizar um melhoramento local, porém, possui 

uma desvantagem na automação do processo, já que, a constante k a ser sugerida 

depende das características da imagem original.       



  

Christiane N. C. Kokubum 

32

 
2.6. Segmentação   

A segmentação consiste em subdividir uma imagem em regiões 

homogêneas usando propriedades desejadas como: nível de cinza, cor ou textura. 

Os principais objetivos da segmentação são reduzir a quantidade de dados a serem 

processados na análise de imagens e obter importantes informações a respeito de 

objetos e feições contidas nelas (EL-HAKIM, 1996).  

Os métodos de segmentação podem ser divididos em dois tipos: 

baseados em bordas e baseados em regiões (SONKA et al, 1998).  

Os métodos de segmentação baseados em bordas procuram 

discriminar os objetos pelos contornos detectados a partir das descontinuidades em 

algumas das propriedades. O problema deste método está no fato de não haver 

pixels com valores de gradientes nulos, resultante de ruídos ou variações de 

iluminação.  

Os métodos de segmentação baseados em regiões procuram dividir 

a imagem em regiões que devem corresponder às áreas de interesse da aplicação. 

Estas regiões consistem no conjunto de pixels contíguos que se espalham 

bidirecionalmente e que apresentam uniformidade (SPRING, 2003).   O método mais 

conhecido para este tipo de segmentação é o crescimento de regiões. Este método 

consiste em agrupar pixels vizinhos que apresentam regiões homogêneas segundo 

critérios de similaridade. Um dos critérios que pode ser usado é comparar se a 

média e o desvio-padrão dos níveis de cinza de duas regiões e verificar se estes 

valores são estatisticamente compatíveis.     



  

Christiane N. C. Kokubum 

33

 
Para o reconhecimento de padrões, a etapa de segmentação é 

interessante porque não necessita que cada alvo armazenado percorra toda a 

imagem comparando os níveis de cinza, otimizando o processo, evitando diferentes 

respostas para o mesmo tipo de alvo e proporcionando resultados mais confiáveis.   

2.7. Limiarização   

Segundo Gonzales e Woods (2000), a etapa de limiarização é uma 

das abordagens mais importantes para a segmentação de imagens.  

A limiarização pode ser resolvida a partir de técnicas globais e locais. 

As técnicas globais consistem em determinar um único limiar para toda a imagem. A 

escolha da modificação dos níveis de cinza depende da significância do objeto na 

imagem. Isto é, caso o objeto significativo possua valores de níveis de cinza altos, 

todos os valores acima do limiar permanecem com o nível de cinza original e abaixo 

deste limiar recebem zero.  

Porém, esta técnica traz problemas causados pela reflectância, 

sombras e iluminação não adequada. O sucesso deste método depende de um 

histograma bimodal.  

Uma das maneiras de determinar o limiar (T) é a partir da média (m) 

e do desvio-padrão (s) dos níveis de cinza da imagem, a partir da Equação 4.  

smT 3                                                          (4)  



  

Christiane N. C. Kokubum 

34

 
Uma melhor alternativa, portanto, são as técnicas locais, que 

consistem em determinar um limiar para cada região da imagem, que pode ser 

delimitada por uma janela. 

Outras técnicas destinadas à obtenção de um valor de limiar são 

descritas resumidamente nas seções seguintes. Para maiores detalhes ver Sonka et 

al

 

(1998) e Artero (1999).     

2.7.1. Método de Otsu   

O método de Otsu é baseado na análise discriminante e o valor do 

limiar é obtido supondo que os pixels da imagem podem ser classificados em duas 

classes: fundo ( 1C :níveis de cinza no intervalo t,1 ) e objeto ( 2C :níveis de cinza no 

intervalo Lt ,1 ) (OTSU, 1979). Neste caso, a distribuição de probabilidade de 

ambas as classes podem ser descritas por:  

t

p

t

p
C t

11

1
1 ,...,:      e     

t

p

t

p
C Lt

22

1
2 ,...,:                          (5)   

Onde: 

t

i
ipt

1
1  e 

L

ti
ipt

1
2

   



  

Christiane N. C. Kokubum 

35

 
As médias para as classes C1 e C2 são dadas por:  

t

i i

i

t

pi

1
1

.
               e               

L

ti

i

t

pi

1 2
2

.
                        (6)  

Sendo T  a intensidade média para toda a imagem, então: 

            

Ttt 2211                                          (7) 

e 

                              121 tt                                                 (8)  

Utilizando a análise discriminante, a variância entre as classes da 

imagem limiarizada é definida por:  

                 
2

122
2

211
2 ttB                             (9)  

O limiar ótimo t* é determinado como sendo aquele cuja variância 

entre as classes 2B  é máxima, isto é: 

                       

 

Lttt B 1,maxarg*
2                                   (10)     



  

Christiane N. C. Kokubum 

36

 
2.7.2. Método de Pun   

O método de Pun está relacionado com a teoria da informação, que 

se baseia na premissa de que a geração de informação pode ser modelada como 

um processo probabilístico (GONZALES, 1993). 

A partir desta teoria, define-se a entropia da imagem como:  

                   xxxEntropia log                                            (11)  

Como neste método pretende-se segmentar em duas classes (fundo 

e objeto), têm-se duas entropias (Equação 12).  

                  
t

i
ieib ppH

0

log                                                 (12) 

                           
1

1

log
l

ti
ieiw ppH  

O limiar, neste método, é obtido por:  

            tHtHArgMaximoT wb                                           (13)     



  

Christiane N. C. Kokubum 

37

 
2.7.3. Limiarização local   

Artero (1999) utilizou uma técnica de limiarização local da imagem 

que consiste em determinar um limiar utilizando os pixels pertencentes a uma janela 

de 60 pixels x 60 pixels. O valor de limiar assim obtido é utilizado para todos os 

pixels localizados na região central desta janela (uma região de tamanho 20 pixels x 

20 pixels). As dimensões destas janelas foram definidas empiricamente e podem ser 

alteradas dependendo das características da imagem. 

Como algumas regiões não possuem todos os blocos vizinhos, 

algumas alterações devem ser realizadas no momento da implementação. No total, 

são nove regiões da borda da imagem que necessitam ser diferenciada em relação 

ao tamanho da máscara a ser percorrida e a região que será alterada pelo limiar 

determinado (Figura 3).           

FIGURA 3  Regiões definidas no processo de limiarização local.   

(Fonte: ARTERO, 1999).  

1 2 2 2 ...

 

2 3 
4 5 5 5 ...

 

5 6 
4 5 5 5 ...

 

5 6 
...

 

...

 

...

 

...

 

...

 

5 6 
4 5 5 5 ...

 

5 6 
7 8 8 8 ...

 

8 9 

 

20x20 

Situação 1  
40x40 

20x20 

Situação 2 
60x40 

 

20x20 

Situação 3 
40x40 

 

20x20

 

Situação 6 
40x60 

 

20x20

 

Situação 8 
     60x40 

 

20x20

 

Situação 7 
40x40 

 

20x20 
Situação 4 

40x60 

 

Situação 9 
40x40 

 

20x20

 

Situação 5 
60x60 

20x20

 



  

Christiane N. C. Kokubum 

38

 
2.8. Detecção de bordas   

A etapa de detecção de bordas é essencial para o cálculo das 

coordenadas subpixel. Este método consiste na aplicação de um detector de bordas, 

que normalmente é baseado na aplicação de operações de detecção de variações 

de brilho na imagem. Para a detecção de bordas, os operadores de gradiente são 

imprescindíveis. Estes gradientes são apresentados a seguir.    

2.8.1. Operadores de gradiente   

Segundo Gonzales e Woods (2000), o gradiente ( f ) de uma 

imagem yxf ,  na posição yx,  é dado pelo vetor na Equação 14.  

                          

y

f
x

f

Gy

Gx
f                                                    (14)  

Onde: 

yx GG ,  gradientes em x e y, respectivamente.  

Nos métodos de detecção de bordas, a magnitude deste vetor é 

muito importante porque o alto valor da magnitude indica a presença de bordas, isto 



  

Christiane N. C. Kokubum 

39

 
é, uma grande variação entre os níveis de cinza na imagem. A magnitude deste 

vetor é obtida pela raiz quadrada da soma dos quadrados dos gradientes em x e y 

(Equação 15).     

22 )()( GyGxf       (a)                                         (15) 

                      GyGxf                (b)   

Outro valor importante na detecção de bordas é a direção do vetor 

( ) para cada pixel em relação ao eixo x. Este ângulo é determinado pela Equação 

16. 

x

y

G

G
arctg                                                 (16)  

A representação geométrica das grandezas calculadas nas Equações 

15a e 16 pode ser percebida por meio da Figura 4.        

FIGURA 4  Representação das magnitudes dos gradientes e do ângulo de direções 

das bordas.  

 

Gx 

Gy 

Magnitude 



  

Christiane N. C. Kokubum 

40

 
2.8.1.1. Operadores de Sobel   

O operador de Sobel é definido com valores maiores na parte central 

das máscaras, o que equivale, considerar que os pixels centrais têm uma maior 

influência em relação aos pixels das bordas. Os gradientes são determinados a partir 

de duas máscaras representando os gradientes em x e y. Estas máscaras podem 

ser observadas na Figura 5.         

FIGURA 5  Máscaras usadas no operador de Sobel.  

(a) Gradiente em x; (b) Gradiente em y.  

Uma vantagem do operador de Sobel em relação a outros 

operadores de gradiente é conseguir detectar bordas em qualquer direção. 

A detecção de bordas, neste método, consiste em realizar a 

convolução das máscaras na imagem desejada. Para cada convolução, determinam-

se os gradientes em x e y para o pixel central. No final do procedimento, a imagem 

resultante dos gradientes possui o mesmo tamanho da imagem original. Como em 

cada convolução, os gradientes em x e y são determinados apenas para os pixels 

centrais, uma implementação utilizando-se as vizinhanças parciais é necessária para 

determinar os gradientes nas bordas da imagem.   

-1 0 1 

-2 0 2 

-1 0 1 

(a) 

-1 -2 -1 

0 0 0 

1 2 1 

(b) 



  

Christiane N. C. Kokubum 

41

 
2.9. Detector de cantos  

2.9.1. Operadores de interesse   

Os operadores de interesse podem ser definidos como um  operador 

de vizinhança que objetiva localizar com uma alta precisão as coordenadas pixel ou 

subpixel (HARALICK e SHAPIRO (1993) apud GALO e TOZZI (2002)).  Dentre os 

diversos operadores de interesse pode-se citar: operador de Moravec e operador de 

Förstner.   

2.9.1.1. Operador de Moravec   

Este operador baseia-se na medida de variância direcional 

considerando os quadrados das diferenças de tons de cinza em quatro direções: 0º, 

45º, 90º e 135º (Figura 6).   

Levando-se em conta uma janela com n x n pixels e admitindo que o 

elemento inteiro (n/2, n/2) é o pixel central, pode-se obter a resposta do operador de 

interesse Moravec pelo cálculo das equações 17.     



  

Christiane N. C. Kokubum 

42

      

FIGURA 6 - Janelas 3x3 mostrando os vetores de 0º, 45º, 90º e 135º, respectivamente 

(GALO e TOZZI, 2002).   

N

r

N

c

N

r

N

c

N

r

N

Nc

N

r

N

Nc

crgcrg
n

V

crgcrg
nn

V

crgcrg
n

V

crgcrg
nn

V

crOI

0 0

2

2135

0

2

0

2

90

0

2
2

245

2

0

2
2

0

1,1(),(
1

1

,1(),(
1

1

1,1(),(
1

1

1,(),(
1

1

min]][[                    (17)  

Onde: 

cr,

 

- linhas e colunas da imagem, respectivamente; 

),( crg - níveis de cinza para posição ),( cr ;  

2/)1(nN ; e, 

OI  operador de interesse.  

A Equação 17 determina, para cada ponto da imagem, o valor 

mínimo do operador de interesse nas quatro direções. A partir do valor do operador 

de interesse obtido na Equação 17, para cada ponto da imagem, os máximos locais 

de crOI podem ser encontrados. Pixels com valores de crOI superiores a um 

C 

 
(0,0) 

L 



  

Christiane N. C. Kokubum 

43

 
limiar pré-estabelecido correspondem a pontos de quina. O resultado deste operador 

serão as coordenadas dos cantos com precisão pixel. 

Vale ressaltar que o uso de janelas de dimensão ímpar (Equação 

17) não é uma restrição do operador de Moravec, mas uma opção de Galo e Tozzi 

(2002). Esta restrição deve ao fato de se ter escolhido o pixel central da janela como 

origem, sendo a janela simétrica a este ponto.    

2.9.1.2. Operador de Förstner    

Para determinação da posição das quinas com acurácia subpixel 

pode-se usar o fato de que uma quina é formada pela intersecção de pelo menos 

dois segmentos lineares, isto é, a quina é localizada pela intersecção dos vetores 

perpendiculares às direções de máximo gradiente sobre as bordas. 

Um dos operadores mais usados para detecção de quinas 

(operadores de interesse) é o operador de Förstner.  

As coordenadas destes operadores de interesse (cantos) são 

determinadas com precisão subpixel usando a Equação 18. (FÖRSTNER, 1988 

apud GALO e TOZZI, 2002). 

      
CiLiiCii

CiLiiLii

CiCiLi

CiLiLi

ggLgC

ggCgL

ggg

ggg

C

L
2

21

2

2

0

0                      (18) 

Onde: 

0,0 CL - coordenadas dos cantos com precisão subpixel; 

ii CL , - coordenadas do pixel de uma janela m x m; 



  

Christiane N. C. Kokubum 

44

 
CiLi gg , - gradientes em y e x, respectivamente.  

Como pode ser observado na Equação 18, a estimação da posição 

dos cantos com precisão subpixel depende das posições com precisão pixel e os 

gradientes ao longo das linhas e colunas. Os gradientes em x e y podem ser 

determinados a partir dos operadores de Sobel (Seção 2.7.1.1).  

A matriz inversa 2 x 2 na Equação 18 pode ser vista como a matriz 

variância-covariância do ajustamento. Esta matriz pode ser usada para obter a elipse 

dos erros associada à quina 00 , CL e fazer a discriminação de pontos com 

diferentes características (HARALICK e SHAPIRO, 1993 apud GALO e TOZZI, 

2002).   

2.9.2. Técnica híbrida usada para detecção de cantos    

Galo e Tozzi (2002) desenvolveram um método para a extração de 

pontos com acurácia subpixel em imagens digitais usando uma combinação dos 

métodos de detecção de quinas: Moravec e Förstner. Primeiramente, detectam-se 

os cantos usando o operador de Moravec com precisão pixel que são usados, 

posteriormente, como pontos iniciais para obtenção das coordenadas de cantos 

subpixel. Esta etapa é realizada normalizando a matriz dos valores de OI (Equação 

17) no intervalo 255,0  e fazendo-se a supressão dos não máximos aplicando-se um 

certo limiar que pode ser expresso de modo percentual (Tp). Os pixels com níveis de 



  

Christiane N. C. Kokubum 

45

 
cinza superiores ao limiar ( pTLim ) determinado são rotulados como pixels 

prováveis de serem de quinas.   

100

255
*100 Pp TTLim                                               (19)  

Com esta segmentação, a imagem original fica subdividida em duas 

classes. Como em torno das quinas tem-se um conjunto de pontos, podem-se 

agrupar estes pontos e usar o centro de massa destas regiões como posições 

aproximadas das quinas. O centro de massa de cada região é então rotulado como 

255 e, portanto, tem-se como resultado uma imagem composta de três classes. 

Estes pixels com rótulos iguais a 255 são usados como centro da janela a ser 

selecionada para o cálculo das coordenadas subpixel usando o operador de 

Förstner (Seção 2.8.1.2). Um cuidado a ser tomado, neste procedimento, está 

relacionado ao tamanho da janela a ser selecionada para determinação dos 

gradientes em x e y. Caso a janela a ser selecionada seja muito pequena, a 

localização precisa torna-se precária; porém, se a janela for muito grande também, 

pode-se capturar dados que não façam parte do canto a ser determinado, 

deteriorando os resultados. Outro cuidado que merece atenção é o fato de se usar 

limiar global para a supressão dos não máximos. Uma solução para evitar que 

quinas em regiões de baixo contraste sejam selecionadas é realizar todos os 

procedimentos em áreas locais selecionadas da imagem.  

Outro problema existente é advindo da aquisição da imagem, 

acarretando em cantos arredondados e dificultando na intersecção das retas.   



  

Christiane N. C. Kokubum 

46

 
CAPÍTULO III   

3. FOTOGRAMETRIA À CURTA DISTÂNCIA   

Fotogrametria terrestre é o ramo da Fotogrametria realizada com 

fotografias obtidas com câmaras situadas na superfície terrestre. Um caso especial 

da Fotogrametria terrestre, com fotografias tiradas até uma distância de 100 m, é 

denominado de Fotogrametria à curta distância (WOLF, 1983).  

Um método alternativo deste ramo da Fotogrametria e muito 

utilizado para a identificação e medição automática de superfícies é o método ativo 

denominado luz estruturada. Este método possui como objetivo substituir uma das 

câmaras por uma fonte de luz, facilitando no processo de determinação de 

correspondência.    

3.1. Aplicações da Fotogrametria à curta distância   

As aplicações da Fotogrametria à curta distância encontram-se, 

principalmente, nas seguintes áreas: 

- Indústria: Os principais setores envolvidos, de acordo com 

Fraser (1996), englobam a fabricação de aeronaves e automóveis, as 



  

Christiane N. C. Kokubum 

47

 
indústrias aeroespaciais, químicas e nucleares e o controle de 

qualidade da produção.  

Peipe e Schneider (1995) apud Fraser (1996) aplicaram um sistema 

denominado DPA-Win VM para inspeção das ferramentas de produção automotiva 

(Figura 7). A tarefa envolveu a medida de 30 suportes, os quais foram sinalizados 

com quatro alvos para obtenção dos parâmetros de orientação e posição. Uma rede 

composta de 40 câmaras foi necessária para obter a cobertura total dos alvos para 

uma imagem com escala 1:50 e maior. A acurácia obtida após a triangulação por 

feixes de raios foi de 0.05 mm ou 1:70.000.   

        

FIGURA 7 - Ferramenta de produção automotiva (PEIPE e SCHNEIDER (1995) apud 

FRASER (1996)).  

- Medicina: Utilizada na reconstrução e na determinação de 

formas e dimensões de órgãos e membros do corpo humano, 

inclusive com uso de ondas eletromagnéticas em outras faixas do 

espectro que abrange o visível, como por exemplo, os raios-X. 



  

Christiane N. C. Kokubum 

48

 
Wong et al (1992) apud Newton e Mitchell (1996) empregaram 

métodos fotogramétricos para estudar o crescimento e a distribuição de massa 

corporal. A cobertura completa foi obtida através de nove câmaras digitais 

agrupadas 3 a 3. Cada conjunto de 3 câmaras formava um triângulo com distância 

de 2 m do paciente.   

- Arquitetura: Utilizada na representação de fachadas ou elevações 

de monumentos históricos e estruturas.  

Segundo Dallas (1996), um exemplo de aplicação é o levantamento 

da igreja St. Mary, North Yorkshire, realizado em 1994 pela agência governamental 

responsável pela preservação e gerenciamento de aproximadamente 400 

monumentos na Inglaterra denominada English Heritage.

 

Nesta igreja, foi realizada 

uma cobertura estéreo, tanto na porção interior como exterior utilizando a câmara 

UMK 30/1318 da Zeiss.  

- Arqueologia: Utilizada na reconstrução de objetos arqueológicos 

e achados de sítios arqueológicos. 

Segundo Dallas (1996), um exemplo desta aplicação foi à tomada de 

fotos do navio Romano-Celta, encontrado próximo a Magor, a partir da câmara Wild 

P31. No total, 15 fotografias foram necessárias. 

Hasegawa et al (1999) descreveram uma metodologia para 

determinação das coordenadas dos achados arqueológicos ao longo da margem do 

Rio Paraná. As tomadas fotográficas realizadas nas trincheiras eram quase na 

vertical e ocupavam geralmente uma área de um metro quadrado. A câmara usada 



  

Christiane N. C. Kokubum 

49

 
para este trabalho foi uma Kodak DC210. A etapa de reconstrução do objeto foi 

realizada usando as equações de colinearidade.    

3.2. Luz estruturada   

Segundo Battle et al (1996), a percepção de profundidade é uma das 

etapas mais importantes da Visão Computacional. A necessidade de conhecer 

informações 3D a respeito da superfície pode ser resolvida a partir de métodos 

passivos ou ativos, como já foi mencionado. Dentre os métodos ativos encontra-se a 

técnica denominada de luz estruturada.  

Segundo Newton e Mitchell (1996), esta técnica envolve o uso de 

um projetor e uma câmara, no qual o sistema de projeção é usado para projetar o 

padrão sobre o objeto na cena e uma câmara captura a imagem dos padrões que 

são distorcidos pela superfície de projeção. O projetor é equivalente a segunda 

câmara usada na Fotogrametria e qualquer ponto projetado na cena com direção e 

com identificação conhecidas pode ser reconstruído usando os princípios de 

intersecção dos raios de luz da Fotogrametria analítica (relação câmara-projetor). A 

determinação das relações geométricas existentes entre o sensor e os feixes de 

raios luminosos dos padrões projetados é conseguida por uma calibração de 

sistema. O sistema de luz estruturada permite a reconstrução 3D para cada ponto de 

vista, sendo necessária à combinação de vários pontos de vistas para criar um 

modelo 3D completo do objeto. Uma das vantagens deste sistema é quando este 

usa fontes de luz branca e conseqüentemente, não há a necessidade de cuidados 



  

Christiane N. C. Kokubum 

50

 
especiais de segurança, ao contrário de sistemas de varredura a laser, cuja luz 

possui algum nível de radiação. Além disso, alguns sistemas de luz estruturada 

possuem precisões compatíveis com o sistema laser. Como vantagem deste sistema 

há a possibilidade de se capturar todos os alvos projetados e a imagem do objeto de 

uma só vez, não sendo necessário manter o objeto estático durante a aquisição. 

Também pode haver a necessidade de tomada de múltiplas posições para cobrir 

inteiramente um objeto, quando ele for maior que o campo de cobertura do sensor.  

As vantagens deste sistema em relação a técnicas 

estereofotogramétricas estão relacionadas com (BATTLE et al, 1996): 

- Menor tempo entre a tomada de fotos e a resposta final; 

- Menor custo dos equipamentos; 

- Não necessidade de pessoas especializadas para manusear os 

equipamentos; e, 

- Menor dificuldade ao medir superfícies homogêneas.   

3.2.1. Técnicas utilizando o sistema de luz estruturada   

Muitas são as formas de identificar e medir pontos conjugados ou 

correspondentes. A seguir, são descritas algumas técnicas para solucionar este 

problema, particularmente para sistemas à curta distância.  

Ballard e Brown (1982) descreveram a técnica de luz estruturada, na 

qual a superfície é seccionada por um plano de luz e a cena é imageada 

continuamente, enquanto a fonte de luz faz a varredura de toda a superfície. A 



  

Christiane N. C. Kokubum 

51

 
vantagem é a simplificação do processo de extração de feições, uma vez que 

apenas uma linha aparece em cada imagem. O problema é a necessidade de 

imobilizar tanto o objeto quanto a câmara, durante o processo de aquisição de 

imagens. 

Hummel e Carrihill (1985) desenvolveram um sistema baseado no 

conceito de J. T. Schwartz, onde se pode reconstruir a profundidade a partir de duas 

imagens sem necessidade de resolver o problema de correspondência. Este sistema 

utiliza-se do princípio de plano de luz para reconstrução da geometria 3D, onde um 

ponto objeto é determinado pela intersecção do plano vertical passando através do 

centro da lente do projetor e a linha de sinal determinada pela imagem da câmara. 

Este plano vertical é determinado de duas maneiras: com uma intensidade projetada 

uniformemente e com intensidades graduadas produzidas por um filtro linear. 

Keefe e Riley (1986) utilizaram o princípio de luz estruturada para 

reconstrução 3D de formas faciais. Este sistema projeta uma linha de pontos 

verticais gerada por um laser. A partir de um estereopar das imagens da face é 

possível reconstruir um contorno de uma parte desta. 

Wang et al (1987) introduziram uma abordagem para a 

determinação das orientações da superfície com luz estruturada, sem 

correspondência. Neste método, assume-se que a geometria da câmara e do 

projetor podem ser aproximada por uma projeção ortográfica. A função de calibração 

determina a orientação relativa do plano da imagem da câmara, o plano do slide e o 

plano base. Dois padrões ortogonais de faixas paralelas são projetados sobre a 

superfície do objeto. A orientação da superfície pode ser inferida das direções das 

faixas na imagem coletada pela câmara. Para cada padrão, uma injunção 

geométrica na orientação da superfície é obtida. Esta orientação pode ser obtida 



  

Christiane N. C. Kokubum 

52

 
pela intersecção das duas curvas na esfera gaussiana e interpoladas utilizando a 

interpolação bicúbica. Portanto, a profundidade relativa pode ser determinada da 

orientação da superfície a partir da integração de uma equação diferencial. 

Boyer e Kak (1987) implementaram um esquema de código colorido 

que projeta um padrão de faixas verticais vermelhas, verdes, azuis e brancas sobre 

a cena. O padrão projetado possui diversos subpadrões chaves. O padrão chave 

pode ser localizado na imagem da câmara usando um conjunto de correlatores 

binários. A localização dos padrões chaves serve como semente para indexar as 

faixas vizinhas. Este método, como o de Scalco (2000), traz problemas pelo fato de 

utilizar alvos coloridos. Isto dificulta na identificação dos alvos se o fundo for colorido. 

Dunn e Keizer (1989), usando luz estruturada, recuperaram a forma 

tridimensional de partes do corpo humano. Este sistema projeta uma grade 

quadrada de 35 mm que aparece distorcida na imagem coletada pela câmara devido 

à curvatura e a variação na orientação da superfície. As coordenadas 3D são 

determinadas pela intersecção das linhas da grade projetada seguida de uma 

triangulação. Este sistema realiza o processamento em quatro passos: 

- Determinação das matrizes de calibração da câmara e do 

projetor; 

- Processamento da imagem para localizar as interseções da 

grade na imagem da câmara; 

- Rotulação da grade; e, 

- Triangulação.  

O padrão desenvolvido por Dunn e Keizer (1989) pode ser 

observado na Figura 8. Este padrão apresenta problemas quando se trabalha com 



  

Christiane N. C. Kokubum 

53

 
superfícies com descontinuidades porque as retas oblíquas são desconectadas na 

imagem, não havendo possibilidade de identificação do restante da imagem.              

FIGURA 8 - Padrão desenvolvido por Dunn e Keizer (1989).  

Schalkoff (1989) descreveu um sistema de reconstrução, com luz 

estruturada. Neste sistema utiliza-se de um projetor como câmara ativa que projeta 

um conjunto de raios no plano da imagem. O objetivo desta técnica é controlar a 

iluminação e simplificar o problema de determinação de correspondências. Os 

problemas deste método estão relacionados com a modelagem geométrica da 

câmara e do projetor.  

Oosterlinck e Vuylsteke (1990) desenvolveram um padrão de 

iluminação para determinar a posição espacial do ponto a partir de uma forma 

binária. O padrão de iluminação utiliza-se de dois níveis de intensidade (preto e 

branco) que definem uma grade de pontos e marca cada ponto individualmente com 

um bit de codificação. Os pontos da grade a serem reconhecidos na cena são 

localizados a partir da intersecção das bordas horizontais e verticais, isto é, onde 



  

Christiane N. C. Kokubum 

54

 
quatro quadrados se encontram. Cada quadrado do tabuleiro é marcado por um 

quadrado menor na forma de um sinal claro ou escuro. A escolha dos códigos de 

bits para os pontos da grade é baseada em duas seqüências binárias. O tipo de 

padrão utilizado por Oosterlinck e Vuylsteke (1990) pode ser visto nas Figuras 9 e 

10.    

FIGURA 9 - Detalhe do padrão binário projetado. 

(Fonte: OOSTERLINCK e VUYLSTEKE, 1990).      

FIGURA 10 - O padrão de iluminação composto de quatro primitivas. 

 (Fonte: OOSTERLINCK e VUYLSTEKE, 1990).  

Maas (1992) usou luz estruturada para a medição de superfícies de 

objetos que não apresentam textura na superfície. Neste método, trabalhou-se com 

dois tipos de objetos: um painel de carbono e um carro. Os padrões de luz 

estruturada são projetados sobre o objeto por um projetor de slides e a imagem é 

capturada por duas ou mais câmaras. O estabelecimento de correspondências é 

realizado usando informações de linhas epipolares. A quantidade de câmaras a 

serem usadas depende da superfície, dos valores aproximados das coordenadas e 

do número de pontos projetados.  

0+ 0- 1+ 1- 

0 1 62 



  

Christiane N. C. Kokubum 

55

 
Plassman (1995) apud Scalco (2000) utilizou luz estruturada para a 

medida de ulcerações cutâneas. O instrumento desenvolvido projeta uma seqüência 

de faixas paralelas de luz sobre a superfície da ulceração. Estes padrões são 

capturados pela câmara e processados em um sistema computacional conectado a 

ela. O mapa de profundidade é obtido por triangulação. 

Singh et al (1997) apud Scalco (2000) utilizaram o princípio de luz 

estruturada na medição de coordenadas 3D da superfície sem textura. Estas 

coordenadas são determinadas pela combinação de um método de limiarização 

convencional e correlação por mínimos quadrados. 

Scalco (2000) utilizou o sistema 3DScan com o princípio de luz 

estruturada. Este sistema foi desenvolvido no Departamento de Cartografia da 

Unesp de Presidente Prudente (TOMMASELLI, 1997) e baseia-se na intersecção 

das retas projetantes, calculadas a partir de pontos homólogos na imagem e no 

projetor, após a correspondência entre eles. A partir desta intersecção, as 

coordenadas 3D dos pontos na superfície são determinadas. As coordenadas do 

centro do alvo são calculadas pela média geométrica entre os centros de massa. O 

alvo deve ser maior que uma determinada área informada anteriormente para não 

ser considerado um ruído. A imagem é varrida pixel a pixel e, ao ser encontrado um 

pixel colorido, este é rotulado e é obtido um centro inicial do alvo. A partir dos 

experimentos realizados por Scalco (2000) com os algoritmos de correlação, alguns 

inconvenientes puderam ser percebidos como: 

- Necessidade de definir diferentes imagens de referência para 

cada tipo de alvo; 



  

Christiane N. C. Kokubum 

56

 
- Necessidade de redefinir as imagens de referência para cada 

cena a ser reconstruída porque os alvos se modificam 

consideravelmente, limitando a automação do sistema;   

As vantagens deste processo são:  

- Confiabilidade equivalente a sistemas estéreo-fotogramétricos 

convencionais;  

- Componentes de baixo custo, disponíveis no mercado da 

informática; 

- Redução da complexidade do sistema devido à introdução do 

projetor de padrões, que possui geometria conhecida e que pode ser 

tratado como uma segunda câmara.       



  

Christiane N. C. Kokubum 

57

 
CAPÍTULO IV   

4. RECONHECIMENTO DE PADRÕES    

O reconhecimento de padrões consiste em dotar uma máquina com 

a capacidade de aproximar, em um determinado sentido, a capacidade similar dos 

seres humanos. Por exemplo, em um sistema para a leitura automática de imagens 

de documentos datilografados, os padrões de interesse são caracteres 

alfanuméricos, enquanto a meta é atingir uma dada precisão de reconhecimento de 

caracteres que sejam a mais próxima possível à excelente capacidade exibida por 

seres humanos na realização de tais tarefas (GONZALES e WOODS, 2000).  

Segundo JAIN et al (2000), o sistema de reconhecimento de 

padrões, na maioria das vezes, engloba cinco etapas: aquisição de dados; pré-

processamento; extração de características; seleção de características (análise dos 

dados) e classificação (decisão).  

Algumas aplicações do reconhecimento de padrões estão vinculadas 

à classificação de documentos (procurar textos em documentos); organização e 

recuperação de base de dados; e, biométrica (identificação de pessoas a partir do 

conhecimento de atributos físicos, tais como, face e impressão digital). Outras 

aplicações estão descritas na Tabela 3.    



  

Christiane N. C. Kokubum 

58

 
TABELA 3  Exemplos de aplicações de reconhecimento de padrões.  

(Fonte: JAIN et al, 2000) 

Domínio do 
problema 

Aplicação Padrão de 
entrada 

Classes do padrão 

Bioinformática Análise de 
seqüências 

DNA/ 
Seqüência 

protéica 

Conhecimento dos tipos 
de genes 

Mineração de 
dados 

Procura por 
padrões 

significativos 

Pontos em 
espaços 

multidimensionais

 

Agrupamentos 
compactos e bem 

distribuídos 
Classificação de 

documentos 
Procura na 

Internet 
Texto Categorias semânticas 

(esporte, turismo, etc). 
Indústria Inspeção na 

placa de 
circuitos 

Imagem de 
intensidade 

Natureza do produto: 
defeituosa ou não 

Recuperação de 
dados 

Procura na 
Internet 

Vídeo clipe Gêneros de filmes (ação, 
suspense). 

Reconhecimento 
biométrico 

Identificação 
pessoal 

Face, íris, 
impressão digital.

 

Usuários autorizados 
para uma área de acesso

 

Sensoriamento 
remoto 

Prever o 
rendimento da 

colheita 

Imagens 
multiespectrais 

Categorias de uso da 
terra, padrão de 
crescimento das 

colheitas. 

  

A etapa de reconhecimento de padrões é ainda um grande problema 

para pesquisas realizadas nas áreas de Fotogrametria e de Visão Computacional 

porque as propostas tendem a se concentrar em uma tarefa específica ou são 

difíceis de serem usadas. Além disto, segundo Gonzales e Woods (2000), como este 

procedimento é muito complexo, há a necessidade de formular algumas restrições e 

idealizações para reduzir a complexidade da tarefa a um nível tratável. 

Segundo Jain et al (2000), as quatro melhores abordagens para o 

reconhecimento de padrão são: correspondência por padrão, classificação 

estatística, correlação estrutural ou sintática e redes neurais.   



  

Christiane N. C. Kokubum 

59

 
4.1. Correspondência por padrão (Template matching)   

Segundo Schenk (1999), o método de correspondência por padrão é 

um método baseado em área, que consiste em comparar a distribuição de níveis de 

cinza de uma matriz amostra (padrão) com matrizes candidatas pertencentes a uma 

matriz de busca, usando uma função de correlação adequada (Figura 11).             

FIGURA 11  Pesquisa bidimensional de imagens correlatas. 

 (Adaptado de ANDRADE, 1998).   

Na Fotogrametria, não há métodos de correlação que possam ser 

empregados para todas as aplicações. Portanto, algumas considerações a respeito 

do ambiente são necessárias: localização aproximada dos alvos; iluminação; se os 

Matriz 
candidata 



  

Christiane N. C. Kokubum 

60

 
alvos encontram-se parcialmente oclusos; tempo de resposta; precisão; acurácia; 

confiabilidade; deformação geométrica e radiométrica; e, rotação dos alvos.  

Além disso, alguns aspectos devem ser discutidos neste método 

como (SCHENK, 1999): 

- Dimensão do padrão: padrões com dimensões maiores garantem 

uma melhor correspondência, porém, aumentam o custo computacional; 

- Localização e dimensão da janela de busca 

 

o método de 

correspondência baseado em área garante boas aproximações, e, portanto, 

métodos de redução do espaço de busca devem ser usados.   

4.1.1. Funções básicas de correlação   

Segundo Schenk (1999), as técnicas de correlação possuem uma 

grande tradição na determinação de pontos conjugados na Fotogrametria. A idéia 

fundamental da técnica de correlação é medir a similaridade entre o padrão e a 

janela de busca, calculando o coeficiente de correlação. Este coeficiente de 

correlação é determinado para cada matriz candidata, pertencente à matriz de 

busca, e, dependendo da função escolhida, determina-se a matriz homóloga ao 

padrão, a partir do ponto de máximo ou mínimo.      

As principais funções para a determinação de correspondência  por 

correlação são: função correlação, função covariância cruzada, função erro, função 

erro modificada e função quociente.   



  

Christiane N. C. Kokubum 

61

 
4.1.1.1. Função covariância cruzada   

A melhor janela de correlação, nesta função, ocorre quando o 

coeficiente de correlação a ser determinado é máximo. A função covariância cruzada 

pode ser observada na Equação 20.  

1

0

1

0

,,
1 y x

r

i

r

j
bbrr

yx

gbjaiggjig
rr

                  (20)  

Onde: 

 

- coeficiente de correlação; 

br gg , 

 

níveis de cinza da janela de referência (matriz amostra) e da matriz 

candidata, respectivamente; 

yx rr , 

 

dimensões da janela de referência na coluna e na linha, respectivamente; 

ji,

 

 índices dos pixels na janela de referência e na matriz candidata; 

ba, 

 

valores para mudanças de posição em linha e coluna na janela de busca 

(matriz de busca).    

br gg , - médias dos níveis de cinza da janela de referência e da matriz candidata.       



  

Christiane N. C. Kokubum 

62

 
4.1.1.2. Função covariância cruzada modificada ou coeficiente de correlação 

  
Esta função de correlação é resultado da normalização da função 

covariância cruzada (Seção 4.1.1.1) (Equação 21). O coeficiente de correlação, 

neste caso, varia de 1 a 1. O valor 1 para o coeficiente de correlação corresponde 

a medida de similaridade máxima, o valor 0 indica que não há correlação e o valor -1 

indica correlação inversa (KRAUS, 1993)  

22
,,

,,

bbrr

bbrr

br

rb

gbjaiggjig

gbjaiggjig
          (21)  

Onde: 

RB

 

 covariância entre a janela de referência e a matriz candidata; 

R

  

desvio-padrão da janela de referência; 

B

 

- desvio-padrão da matriz candidata.  

O problema desta função é quando o denominador for igual a zero, 

isto é, quando a janela de referência ou a matriz candidata forem homogêneas.   

Para evitar estes casos, é importante fazer uma pré-análise da janela 

de referência (COSTA et al, 2003).      



  

Christiane N. C. Kokubum 

63

 
4.1.1.3. Função correlação cruzada   

Esta função de correlação consiste no produto entre os tons de cinza 

da janela de referência e a matriz candidata. O maior valor do coeficiente de 

correlação corresponde a melhor correspondência na matriz homóloga.  

1

0

1

0

,,
1 y x

r

i

r

j
br

yx

bjaigjig
rr

                                    (22)   

4.1.2. Correspondência por mínimos quadrados   

Este método de correspondência tem como objetivo procurar o menor 

valor para o somatório dos quadrados das diferenças entre os níveis de brilho entre 

ambas as imagens, isto é, refinar a solução de tal modo que mínimoe2 

(ANDRADE, 1998 e ACKERMAN, 1984).  

Gruen (1996) detalha o método de correlação por mínimos 

quadrados bidimensionalmente. Inicialmente, assume-se que a janela de referência 

e a janela de pesquisa são idênticas. Como as imagens são afetadas por ruído, 

insere-se uma função erro a uma das imagens (Equação 23).  

                     yxgyxeyxf ,,,                                          (23)  



  

Christiane N. C. Kokubum 

64

 
A Equação 23 pode ser considerada como uma equação que associa 

o vetor das observações yxf , com uma função yxg , , na qual a localização na 

janela de pesquisa em relação a janela de referência necessita ser estimada. Esta 

localização é descrita por parâmetros de deslocamento yx, relacionados à 

posição inicial de yxg , . 

Para determinação de uma melhor correspondência, parâmetros 

relacionados à geometria e à radiometria são inseridos. Primeiramente, a 

transformação geométrica é modelada pelo seguinte polinômio:  

x
T
y

x
T
y

tBty

tAtx
                                                      (24)  

Onde: 

mmmm

m

mmmm

m

mT
y

mT
x

bbb

b

bbb

B

aaa

a

aaa

A

yyyt

xxxt

21

21

11211

21

21

11211

1
0

2
00

1
0

2
00

,

...

...

...1

...1

                                               (25)  

00 , yx - posições da malha regular dos pontos de yxg ,
0 ; 

yxg ,0 - aproximação inicial da posição de yxg , .  

Sendo a Equação 23 não linear, esta pode ser linearizada da forma 

expressa na Equação 26.  



  

Christiane N. C. Kokubum 

65

 
dy

y

yxg
dx

x

yxg
yxgyxeyxf

,),(
,,,

00
0                         (26) 

                                        i
i

dp
p

x
dx                i

i

dp
p

y
dy

 

Onde: 

ip - parâmetros da transformação que serão obtidos posteriormente; 

A partir de uma transformação afim com as matrizes 
021

1211

a

aa
A e 

021

1211

b

bb
B  , tem-se: 

              02101211 yaxaax                                                 (27) 

                                      02101211 ybxbby

  

Onde: 

1111 , ba - equivale aos parâmetros de translação x, y.  

Realizando uma diferenciação da Equação 27, tem-se:  

02101211 ydaxdadadx                                         (28) 

                                       02101211 ydbxdbdbdy

  

Simplificando a Equação 28 e acrescentando os parâmetros 

radiométricos sr (deslocamento - brilho) e er (escala - contraste), a Equação 26 

equivale a:  



  

Christiane N. C. Kokubum 

66

 
es

o

ryxgrdbgyy

dbgyxgydbdagxydagxxgxdayxgyxeyxf

,

,,,
0

210

1201121012011        (29)  

Onde: 

                                         
x

yx
gx

g ,
0

           
y

yx
gy

g ,
0  

Combinando os parâmetros da Equação 29 no vetor X, tem-se:  

es
T rrdbdbdbdadadaX ,,,,,,, 211211211211

  

Para estimar estes parâmetros pode ser usado o método paramétrico 

(GEMAEL, 1994) que é adequado para modelos do tipo explícito.  

11 XaFLa un                                               (30)  

Onde: 

La  vetor dos valores observados ajustados; 

Xa  

 

vetor dos parâmetros ajustados; 

n 

 

número de observações; 

u  número de incógnitas.  

Sabendo que VLbLa

 

e XXoXa , a equação acima 

linearizada pode ser descrita por: 



  

Christiane N. C. Kokubum 

67

 
X

Xa

F
XoFXXoFVLb

XoXa

                         (31)  

Sendo XoFLo

 

e 
XoXaXa

F
A , a Equação 31 pode ser reescrita 

como:  

AXLoVLb                                             (32)  

Considerando LbLoL , a equação torna-se:  

    111 LXAV nuunn                                               (33)  

Onde:  

V  vetor dos resíduos; 

A  matriz das derivadas parciais; 

X  vetor das correções aos parâmetros; 

Lo   vetor dos valores aproximados; 

Lb   vetor dos valores observados.  

O vetor dos parâmetros ajustados é determinado a partir de:  

                         XXoXa                                                  (34) 

            

                                



  

Christiane N. C. Kokubum 

68

 
Onde: 

PLAPAAX TT
1

; 

Xo - vetor dos parâmetros aproximados; 

P  matriz peso.  

Após a estimação dos parâmetros geométricos e radiométricos, uma 

transformação afim direta é aplicada para determinação das coordenadas e a janela 

de pesquisa é reamostrada usando o método de interpolação bilinear para o cálculo 

dos novos níveis de cinza. A iteração deste processo ocorre até que os valores 

absolutos dos parâmetros geométricos sejam menores que o critério de 

convergência adotado (Equação 35).   

111 cda           312 cda           521 cda                               (35) 

                                    211 cdb           412 cdb           621 cdb

  

Onde: 

61, ici - critérios de convergência.   

Os critérios de convergência escolhidos dependem da imagem 

utilizada. Para isto, antes de realizar todo o processo automático, necessita realizar 

um treinamento.  

O conceito básico da interpolação bilinear é realizar a interpolação 

linear nas direções das linhas e das colunas. O modelo matemático para a 

interpolação bilinear (Equação 36)  pode ser estabelecido com base na Figura 12. 



  

Christiane N. C. Kokubum 

69

        

FIGURA 12 - Representação do pixel reamostrado.  

1,1**1,*1*

,1*1*,*1*1

jiNCdydxjiNCdxdy

jiNCdydxjiNCdydxNC

II

IIIR          (36)  

Onde: 

IRNC - nível de cinza da imagem reamostrada; 

INC - nível de cinza da janela de pesquisa; 

ji,

 

 coordenadas da janela de pesquisa.  

A estimação do modelo matemático deve acomodar os parâmetros 

suficientes para realizar uma boa modelagem das distorções radiométricas e 

geométricas para não ocorrer o problema de superparametrização. Isto quer dizer 

que o modelo a ser escolhido deve conter apenas os parâmetros que conseguirão 

ser determinados porque, caso contrário, estes dados trarão um efeito negativo ao 

resultado, deteriorando a qualidade do mesmo. Testes podem ser realizados para 

determinar aqueles parâmetros que são não-determináveis. Isto pode ser realizado 

trabalhando com variáveis estocásticas, associando pesos que devem estar 

dy 

dx ),( jiNC IR

)1,( jiNC I 

),( jiNCI 

)1,1( jiNC I 

),1( jiNC I

 



  

Christiane N. C. Kokubum 

70

 
relacionados ao tamanho da distorção a ser esperada. Alguns alvos binários no 

quais certos parâmetros não podem ser determinados encontram-se na Figura 13.    

FIGURA 13  Padrões que reduzem a quantidade de parâmetros a serem 

determinados pelo modelo matemático mencionado nesta seção. (a) escala em y; (b) 

rotação; (c) duas escalas; (d) todos na direção y; (e) todos na direção y e escala em 

x; (f) todos (Fonte: GRUEN, 1996).   

O modelo matemático pode ser simplificado, considerando apenas 

os parâmetros geométricos supondo-se que uma normalização geométrica tenha 

sido realizada previamente.   

4.2. Correspondência por assinatura   

Segundo Gonzales e Woods (2000), a definição de assinatura é uma 

representação funcional unidimensional de uma fronteira. Há várias maneiras de se 

determinar a assinatura de um alvo. Uma das maneiras mais fáceis de obtê-la é a 

partir do gráfico da distância do limite ao centróide em função do ângulo. Esta 

assinatura é invariante à translação, mas depende da rotação e mudança de escala. 

Exemplos deste tipo de assinatura podem ser observados na Figura 14.   



  

Christiane N. C. Kokubum 

71

        

FIGURA 14  Fronteiras e suas respectivas assinaturas.  

Segundo Sonka et al (1998), a assinatura pode ser obtida como uma 

seqüência da distância dos contornos normais. Esta distância é calculada para cada 

elemento da fronteira como uma função da distância, isto é, para cada ponto 

pertencente à fronteira são traçadas a sua tangente e a sua normal até que a normal 

intercepte o outro lado da fronteira. Como as assinaturas são sensíveis a ruídos, 

uma suavização na fronteira é necessária para redução destes. A forma de obter 

esta assinatura pode ser vista na Figura 15.        

FIGURA 15  Assinatura: (a) Princípio da construção (b) Assinaturas para um círculo e 

um triângulo.  (Fonte: Adaptado de SONKA et al, 1998).  

 

A

  

A 

 

(a) (b) 



  

Christiane N. C. Kokubum 

72

 
Como o método da assinatura depende da rotação, uma 

normalização é realizada através do estabelecimento do ponto inicial para a geração 

da assinatura. Uma das maneiras de determinar este ponto é escolher o ponto com 

maior distância ao centróide, caso o mesmo seja único e independente de rotação 

dos objetos de interesse.  

Um outro problema da assinatura está relacionado com a mudança 

de amplitude advinda dos diferentes tamanhos dos padrões. Para resolver isto, uma 

mudança simples de escala de todas as funções de maneira que as mesmas variem 

dentro do mesmo domínio é necessária. Este método é bem simples, porém, tem a 

desvantagem da função depender apenas de dois valores: o máximo e o mínimo. 

Uma melhor abordagem consiste na divisão da amostra pela variância, desde que a 

mesma seja diferente de zero. A idéia, neste caso, é remover a dependência, 

preservando a forma fundamental da função. 

  

Para verificar a similaridade entre duas assinaturas, vários critérios 

podem ser usados. Na Seção 4.2.1, observa-se alguns critérios para a determinação 

da discrepância entre as assinaturas.   

4.2.1. Determinação da discrepância entre as assinaturas    

Segundo Mustafa et al (1999), esta discrepância pode ser 

determinada a partir do cálculo de quatro erros métricos entre as assinaturas 

armazenada e gerada na cena. Estes erros são: 



  

Christiane N. C. Kokubum 

73

 
- Erro de distância: mede a distância entre duas distribuições 

espaciais das assinaturas. Valores próximos a zero indicam que as distribuições 

possuem o mesmo valor médio e são distribuídas ao redor dos mesmos pontos de 

freqüência. Os valores próximos a unidade refere-se a distribuições ao redor de 

diferentes freqüências. Este erro é calculado por:  

         2121
1

,
nc

SS                                           (37)  

Onde: 

21 , SS - assinaturas a serem comparadas; 

cn constante de normalização; 

21 ,

 

- médias das assinaturas.   

Um problema na determinação deste erro está relacionado à 

definição da constante de normalização já que o processo é automático e esta 

constante de normalização depende dos dados de entrada usados.  

- Erro na forma: mede a diferença de variância entre as assinaturas. 

Valores próximos a zero indicam que as formas de ambas as assinaturas são 

similares. Este erro é dado por:  

21

21

21

21

00
, SS                                  (38)   



  

Christiane N. C. Kokubum 

74

 
Onde: 

21 ,

 
- desvios-padrão da distribuição;  

- Erro de dispersão: mede a diferença de dispersão da distribuição 

entre duas assinaturas em relação à média. Valores próximos a zero indicam que as 

assinaturas são similares. Este erro é dado por:   

2211

2211
2,1

,,

,,
)(

SS

SS
SS                                        (39)  

      
k

k
kSS ,   e    21

2

1

  

- Erro de correlação: mede a correlação entre as duas assinaturas. 

Valores próximos a zero indicam forte correlação e conseqüentemente grande 

similaridade. A fórmula para determinar este erro é:  

2
22

2
11

2211
21 1,

SS

SS
SS                                  (40)  

O problema encontrado para determinação deste erro de correlação 

está relacionado às duas assinaturas terem que possuir a mesma quantidade de 

pixels no alvo. Por isso, há a necessidade de realizar uma amostragem dos dados.    



  

Christiane N. C. Kokubum 

75

 
4.3. Outras técnicas para o reconhecimento de padrões   

Mayr e Poth (1995) utilizaram o processo de correlação binária para 

a identificação de marcas fiduciais. Cada marca fiducial é localizada 

independentemente. A boa qualidade da solução no nível anterior da pirâmide de 

imagens reduz a janela de procura, aumentando a velocidade do processo. Esta 

técnica denominada de pirâmide de imagens consiste de um conjunto de imagens 

reamostradas da imagem original, cada uma com um grau de resolução menor. A 

acurácia final obtida está em torno de 0.1 pixel.  

Picard (1997) apud Jain (2000) identificou uma aplicação moderna 

de reconhecimento de padrão, chamada de computação afetiva que dará ao 

computador a habilidade de reconhecer e de expressar emoções, responder 

inteligentemente a emoção humana e empregar mecanismos de emoção nas 

decisões racionais.  

Drewniok e Rohr (1997) desenvolveram uma abordagem automática 

para orientação exterior de imagens aéreas baseada no ajustamento analítico de 

modelos à imagem. Esta técnica é denominada ajustamento por modelo e possui 

como objetivo a detecção e localização das marcas artificiais (pontos pré-

sinalizados) ou naturais (pontos de controle). A utilização destes modelos é 

recomendada quando se deseja alta acurácia no momento da localização e quando 

se tem uma alta variabilidade estrutural. 

Mustafa et al (1999) descrevem um sistema para identificação do 

objeto. Dado um conjunto de objetos 3D e uma cena contendo um ou mais destes 

objetos, o sistema identifica quais os objetos que aparecem na cena através do 



  

Christiane N. C. Kokubum 

76

 
método de assinatura. Neste trabalho, dois tipos de assinaturas são utilizados: 

curvatura e espectral. Para testar a discrepância entre duas assinaturas, quatro 

erros métricos são usados: erro de distância, erro na forma, erro de dispersão e erro 

de correlação. Este sistema testou 95 objetos e conseguiu bons resultados em 

aproximadamente 77 objetos.    

Howard e Padgett

 

(1999) implementaram um programa para o 

reconhecimento de padrões em imagens de satélite em tempo real usando redes 

neurais. Primeiramente, realizou-se a segmentação da imagem para separar os 

diferentes tipos de alvos existentes nas imagens a partir de um agrupamento 

(clustering). Os alvos obtidos deste agrupamento foram treinados a partir de um 

classificador de redes neurais para validar ou não se o alvo extraído contém um dos 

alvos agrupados anteriormente. Valores acima de um limiar escolhido dependendo 

da imagem que se está trabalhando são considerados como objeto e os menores, 

como fundo. Testes realizados mostraram que o algoritmo conseguiu detectar 99% 

dos alvos quando usou imagens hiper-espectrais. Os problemas encontrados nas 

redes neurais para o reconhecimento de padrões estão relacionados à demora do 

processo referente ao treinamento e aos valores de pesos a serem estipulados no 

início dos processos intermediários. Além disto, os processos intermediários não são 

transparentes e nem de entendimento fácil, atrapalhando o desenvolvimento. 

Ting e Leung (1999) propuseram uma técnica baseada na descrição 

de estruturas lineares usando um conjunto de caracteres. Linhas, textos e espaços 

são convertidos em representações lineares. O documento é lido da esquerda para 

direita e de cima para baixo. A cada objeto encontrado, especifica-se o seu tipo, isto 

é, linha vertical, linha horizontal, caixa de texto ou espaço em branco. Conhecendo o 

seu tipo, um conjunto de caracteres é criado com todos os objetos do documento. 



  

Christiane N. C. Kokubum 

77

 
Para saber se este documento é idêntico a outro, compara-se o conjunto de 

caracteres de ambos os documentos. O uso desta técnica permite uma medida 

rápida e robusta de similaridade entre dois documentos. Além disto, este processo 

de descrição de conjunto de caracteres

 

permite uma tolerância significativa em 

relação às inconsistências da segmentação. Testes realizados mostraram boas 

soluções. Porém, esta técnica depende das primitivas usadas para determinar o 

conjunto de caracteres. Quanto maior o número de primitivas, melhor o resultado a 

ser encontrado, porém, maior o custo computacional. Além disso, outros problemas 

dificultam este reconhecimento de padrões: distorções do documento e símbolos 

incompletos. 

Hattori et al (2000) realizaram medidas simuladas de uma geladeira 

doméstica com um desenho especial para os alvos codificados (Figura 16). Pela 

dificuldade em encontrar os alvos devido às diferenças de profundidade, estes 

necessitam ser selecionado no pré-processamento. Os alvos devem ser bem 

distribuídos para facilitar na sua medição.  

O padrão do desenho é feito de um material circular refletivo que é 

fixado no objeto. O tamanho do alvo é ajustado para que um pequeno círculo na 

imagem tenha aproximadamente 3 pixels. A codificação é realizada a partir dos bits 

associados ao círculo. 

Primeiramente, um número pequeno de alvos codificados foi 

identificado para obter os parâmetros de orientação, enquanto, os alvos medidos 

foram identificados pela intersecção de múltiplos raios.  

Este processo conseguiu reconhecer 97% dos alvos das imagens 

por uma simples binarização de imagens.  



  

Christiane N. C. Kokubum 

78

         

FIGURA 16  Alvo codificado (Fonte: HATTORI et al, 2000).   

14 mm

 

2 mm

 

30 mm 24 mm 



  

Christiane N. C. Kokubum 

79

 
CAPÍTULO V  

5. MATERIAIS E MÉTODOS  

5.1. Materiais    

Nesta seção estão listados os equipamentos e programas 

computacionais que foram usados para a realização deste trabalho de pesquisa:    

- Uma câmara digital KODAK DX 3500; 

- Um computador AMD Athlon XP 2200+, 80 GB de disco rígido e 

256 MB de memória RAM; 

- Um projetor de padrões composto por: 

i. Sistema de lentes; 

ii. Suporte para fixação dos fotolitos a serem projetados; 

iii. Sistema de iluminação; 

iv. Condensador interno e flash; 

v. Suporte para acoplar a câmara digital. 

- Compilador Borland C/C++ Builder 5.0; 

- Software Microstation Bentley. 

- Microsoft Office 2000 Standard; 

- Software Paint Shop Pro 4.0. 

- Software Surfer 7.0 Demo. 



  

Christiane N. C. Kokubum 

80

 
5.2. Métodos  

Para compreensão dos processos envolvidos para a classificação e 

a localização precisa dos alvos, um fluxograma é apresentado na Figura 17.                        

FIGURA 17  Seqüência das operações e  processamentos realizados.  

Projeção de padrões 

Coleta de imagem 

Limiarização local 

Segmentação 

Análise dos resultados 

Localização precisa por 
mínimos quadrados 

Localização precisa por 
detecção de cantos 

Classificação dos 
alvos 

Extração de 
fronteiras 

Cálculo da altura e da 
largura do alvo 

segmentado 

Reamostragem do 
padrão  

Utilização de alvos 
pré-definidos 
suavizados 

Reconhecimento por 
assinatura  

Utilização de alvos 
binários pré-

definidos 

Determinação do 
coeficiente de correlação 



  

Christiane N. C. Kokubum 

81

 
5.2.1. Geração de padrões   

No método de reconhecimento de padrões a ser usado, cada padrão 

necessita ser classificado unicamente, pois a cada um estão associados os 

parâmetros de seu vetor diretor para determinação das coordenadas 3D.  

Estudos anteriores utilizaram padrões projetados com luz branca sob 

formas circulares e padrões baseados em uma combinação de formas e cores. 

Apesar das formas circulares serem de fácil identificação automática, estas se 

mostraram inadequadas quando alguns padrões eram oclusos, isto pois inviabilizava 

a análise de vizinhança.  

A utilização de padrões com diferentes formas e cores possibilita a 

identificação automática de alguns casos de oclusão, porém, as cores dos padrões 

projetados podem coincidir com a superfície dos objetos, acarretando em erros na 

segmentação de alvos. 

Observando estes problemas, chegou-se a várias possibilidades de 

abordagens, sendo a mais adequada, a utilização de padrões de luz branca com 

formas específicas. Entretanto, haveria a necessidade de alguma técnica para que 

estes padrões pudessem ser reconhecidos univocamente em relação aos demais. 

Uma solução seria a utilização de padrões com formas diferentes umas das outras. 

Esta solução seria impraticável, pois haveria a necessidade de muitas formas para 

compor todos os padrões e de um banco de dados relativamente grande para 

armazenar cada uma das características dos padrões pré-definidos. Isto traria um 

aumento do custo computacional para a identificação de cada padrão e aumentaria 

a possibilidade de redundância no reconhecimento.  



  

Christiane N. C. Kokubum 

82

 
A solução mais viável foi utilizar um conjunto pequeno de formas e 

conciliá-las com uma análise de vizinhança. Além disto, procurou-se gerar padrões 

de forma a privilegiar a existências de quinas, que poderiam ser usados como 

pontos para localização precisa. Os padrões escolhidos são mostrados na Figura 18.     

FIGURA 18 - Padrões primitivos.  

Com estas cinco formas é possível classificar cada padrão dentro, 

naturalmente, de cinco classes, que serão rotuladas pelas letras: A, B, C, D e E, 

cujas relações entre forma e rótulo são mostradas na Figura 18. Como a forma do 

padrão representado pela letra A é a que possui maior facilidade de ser detectada, 

dentre as demais formas, usando o método de correlação de imagens, este padrão 

foi assumido como pivô de uma estrutura bidimensional de vizinhança oito (Figura 

19). Além disto, a geração dos padrões seguiu algumas restrições:  

- Padrões do tipo A não possuem outro A como vizinho; 

- Assumindo-se que uma máscara de padrões é formada por nove 

elementos em uma matriz 3x3 com um padrão A como pivô, não há outra máscara 

de padrões semelhante dentro de um raio de quatro pivôs A, isto é, dentro deste 

raio, somente a metade dos padrões é idêntica. 

Padrão B Padrão A Padrão C Padrão D Padrão E 



  

Christiane N. C. Kokubum 

83

  

FIGURA 19  Vizinhança dos padrões.   

Apenas com o intuito de facilitar na leitura, decidiu-se nomear os 

protótipos primitivos por padrões e os protótipos projetados como alvos.   

5.2.2. Coleta de dados   

A coleta de dados é realizada a partir de um sistema baseado no 

princípio de luz estruturada. Este sistema é composto por um sistema projetor de 

padrões de luz estruturada e um sensor (uma câmara digital de pequeno formato e 

de foco fixo) (Figura 20).        

Pivô 

 



  

Christiane N. C. Kokubum 

84

         

FIGURA 20 - Sistema sensor e projetor.  

A câmara usada para a construção deste protótipo com o sistema de 

luz estruturada foi a KODAK DX 3500 que possui uma distância focal nominal de 38 

mm, resolução máxima de 1800 x 1200 pixels e tamanho do pixel de 19,44 m 

considerando um tamanho teórico do sensor de 35 mm. As vantagens desta câmara 

são: foco fixo e disparo de um único flash por imagem.  

Esta câmara foi calibrada por meio de um processo de calibração 

por feixe de raios (bundle method) usando o programa CC (GALO, 1993). Neste 

processo, apenas os quatro parâmetros mais significativos foram considerados: 

distância focal, ponto principal ( 00 , yx ) e o primeiro parâmetro de distorção radial 

simétrica 1K . A quantidade de pontos de apoio, de fotocoordenadas e de imagens 

usada para a calibração da câmara foi de 28, 80 e 6, respectivamente. Os 

resultantes são mostrados na Tabela 4. Maiores informações a respeito da 

calibração podem ser encontradas em Reiss e Tommaselli (2004).    

Controle do flash 
e bateria 

Espelho 

Câmara digital e 
fotocélula 

Fotolito 
removível 

Lentes 

Condensador interno 
e luz do flash 



  

Christiane N. C. Kokubum 

85

 
TABELA 4 - Parâmetros de orientação interior calibrados. 

(REISS e TOMMASELLI, 2004). 

Parâmetros Valores estimados Desvios-padrão estimados 

f (mm) 38,329 0,012 

x0 (mm) -0,297 0,008 

y0 (mm) -0,226 0,013 

K1 (mm) -0,000102184 0,3984 x 10
-6 

  

O projetor de padrões é composto de fotocélula, condensador 

interno, placa com os padrões, bateria, lentes e espelho (Figura 20). O fotolito foi 

impresso usando um processo fotográfico e encontra-se entre duas placas de vidro 

planas, usadas para absorver parte do calor gerado pela lâmpada. O controlador do 

flash assegura a sincronização entre o instante de aquisição da imagem pela câmara 

e a iluminação da cena pelo projetor. Este tipo de iluminação instantânea evita o 

aquecimento do projetor e a deformação do padrão reproduzido no material 

fotográfico. A calibração do projetor foi realizada por Reiss e Tommaselli (2004).   

5.2.3. Limiarização local   

Devido à lei de iluminância, a luz que atinge os cantos da imagem é 

atenuada por um fator de cos4 , onde  é o ângulo entre o eixo óptico da câmara e o 

ponto em análise. Com isto a área central da imagem é mais iluminada que a 

periferia, gerando um efeito semelhante ao de vinhete, embora devido a causas 



  

Christiane N. C. Kokubum 

86

 
diferentes. Para reduzir este efeito, realizou-se uma etapa prévia de limiarização 

local, para separar o fundo do sinal gerado pelos alvos projetados. 

O método usado foi o de limiarização local (Seção 2.7.3) porque se 

verificou experimentalmente a necessidade de definir diferentes limiares para cada 

região da imagem.  

Inicialmente, foi considerada a hipótese de definir um valor de limiar 

para cada pixel da imagem (calculado a partir de uma pequena região em torno do 

pixel). Porém, devido ao grande volume de processamento que isto implicaria, uma 

nova estratégia foi desenvolvida e, resolveu-se implementar uma variante da 

limiarização pelos métodos de Otsu e de Pun. Neste caso, o limiar é calculado a 

partir de uma subimagem 3w x 3w e aplicado em uma janela w x w (Figura 21). 

Maiores informações podem ser encontradas em ARTERO (1999). Isto permite uma 

transição suave de uma janela para outra, evitando o efeito de ladrilho na imagem 

limiarizada. Pixels com níveis de cinza inferiores ao limiar recebem zero enquanto os 

outros pixels permanecem com o nível de cinza original. 

O processo desenvolvido é uma variante do método original, porque 

a imagem não é binarizada.  

FIGURA 21 

 

Configuração da janela do limiar local.  

w

w

3w

3w R2

R1



  

Christiane N. C. Kokubum 

87

 
5.2.4. Segmentação   

A segmentação dos alvos na imagem é feita usando o método de 

crescimento de regiões.  Esta técnica consiste no agrupamento e na rotulação de 

todos os pixels de cada padrão. Isto é feito percorrendo toda a imagem até encontrar 

um pixel que possua um limiar maior que um limiar global determinado. Este pixel é 

denominado de pixel semente e é rotulado. A partir deste pixel semente, com 

coordenadas (i, j), observam-se os pixels vizinhos: frente (i, j+1), abaixo (i+1, j) e 

atrás (i, j-1). Caso o nível de cinza de um destes pixels seja maior que o limiar global 

determinado, ele é agrupado ao pixel semente e rotulado. A segmentação do padrão 

finaliza quando os níveis de cinza dos pixels vizinhos forem menor que o limiar. 

Finalizada a segmentação do alvo, reinicia-se a varredura a partir do pixel semente 

do padrão segmentado anteriormente. Alvos pertencentes ao fundo recebem rótulo 

1, zero indica que o pixel não foi rotulado e os padrões segmentados recebem 

rótulos de 2 até o número de alvos segmentados. Este procedimento é realizado até 

que todos os pixels da imagem tenham sido rotulados. As informações geradas 

neste procedimento são: centro de massa de cada alvo segmentado; número do 

rótulo e coordenadas de todos os pixels pertencentes ao alvo; e, os valores máximos 

e mínimos para cada padrão para a determinação da altura e da largura do alvo para 

posterior reamostragem. O centro de massa é determinado a partir de uma média 

ponderada das discrepâncias entre os níveis de cinza dos pixels segmentados e o 

limiar global determinado. Um fluxograma da etapa de segmentação de padrões 

pode ser observado na Figura 22.  



  

Christiane N. C. Kokubum 

88

 
Esta etapa de segmentação de padrões faz-se necessária para 

diminuir o número de máscaras a serem comparadas nos métodos de detecção de 

alvos por correspondência por padrão

 
e assinatura. Isto torna menor o custo 

computacional porque este procedimento evita a busca de vários padrões por toda a 

imagem, procedimento que é pouco confiável, devido às várias respostas diferentes 

para o mesmo tipo de alvo.    

5.2.5 Classificação   

A etapa de classificação de padrões é fundamental porque é nesta 

etapa que os alvos são identificados e são definidos os valores aproximados para a 

localização precisa. Esta classificação visa atribuir a cada alvo segmentado, 

baseado nas suas características de forma, a qual classe de padrões ele tem maior 

probabilidade de pertencer, dentro das cinco classes pré-definidas (Figura 18). 

Para a etapa de classificação, dois métodos foram implementados e 

comparados neste trabalho: correspondência por área usando as funções de 

correlação e o método de assinatura.        



  

Christiane N. C. Kokubum 

89

                                        

FIGURA 22  Fluxograma do algoritmo de segmentação de padrões.   

Varredura na imagem 

Pixel é rotulado 
como 1 S 

N 

Pixel atual (i, j) é rotulado. 

Pixel recebe o mesmo  
rótulo que o pixel 

semente 

S 

N N 

S 

S 

Pixel recebe o mesmo  
rótulo que o pixel 

semente 

Pixel recebe o mesmo  
rótulo que o pixel 

semente 

Fim da 
segmentação do 

alvo 

 
Reinicia a varredura 
no pixel semente do 

alvo segmentado 
anteriormente

 

Se o NC(i, j) &gt; 
limiar

 

S 

Se NC(i, j+1) &gt; 
limiar

 

Se NC(i, j-1) &gt; 
limiar 

Se NC(i+1, j) &gt; 
limiar 

N 

Realiza-se o 
incremento dos índices

 

Pixel atual é considerado pixel 
semente e é rotulado.

 



  

Christiane N. C. Kokubum 

90

 
5.2.5.1 Correlação   

Nesta etapa de classificação, três metodologias foram avaliadas: 

comparação dos alvos segmentados com os padrões pré-definidos e com as suas 

instâncias (cópia de um objeto com alterações em escala ou rotação) armazenadas, 

comparação dos alvos segmentados com os padrões pré-definidos suavizados e 

com as suas instâncias armazenadas suavizadas, comparação dos alvos 

segmentados com os padrões pré-definidos reamostrados.   

- 1ª Metodologia: Comparação dos alvos segmentados com os padrões pré-

definidos e as suas instâncias armazenadas (imagens binárias).  

Neste caso, 45 padrões são armazenados para posterior 

comparação (Tabela 5). Estes padrões variam em relação à escala. Esta escala foi 

escolhida a partir de visualizações realizadas na imagem original.   

TABELA 5 - Padrões pré-definidos e as suas instâncias armazenadas. 

               Padrão 

Tamanho 

(pixels) 

A B C D E 

11 x 11 

     

13 x 13 

     

15 x 15 

     

17 x 17 

     

19 x 19 

     

13 x 15 

     

15 x 13 

     

15 x 17 

     

17 x 15 

      



  

Christiane N. C. Kokubum 

91

 
- 2ª Metodologia: Comparação dos alvos segmentados com os padrões pré-

definidos e as suas instâncias armazenadas suavizadas.  

Neste caso, os mesmos 45 padrões são armazenados para posterior 

comparação. Porém estes padrões sofreram uma suavização pela média antes da 

comparação com os alvos segmentados.  

Os inconvenientes das duas metodologias anteriores estão 

relacionados ao número de padrões e instâncias a serem armazenados e que são 

necessários para obter a melhor correspondência e os melhores valores 

aproximados para a determinação  das coordenadas subpixel.     

- 3ª Metodologia: Comparação dos alvos segmentados com os padrões pré-

definidos reamostrados.  

Este método consiste em armazenar apenas 5 padrões e reamostrá-

los de acordo com a dimensão do alvo segmentado. A dimensão do alvo 

segmentado é obtida a partir das discrepâncias entre as coordenadas máximas e 

mínimas em x e y. Com estas coordenadas, determina-se a altura e a largura do alvo 

segmentado. Com a dimensão do alvo, reamostra os padrões pré-definidos que 

possuem uma dimensão superior aos alvos segmentados. Este procedimento pode 

ser usado porque as imagens sofrem uma pequena rotação que pode ser 

desconsiderada. As vantagens deste método em relação aos dois primeiros estão 

relacionadas ao número de padrões armazenados e a melhor determinação das 

coordenadas aproximadas para a localização precisa. 

Os resultados destes experimentos são mostrados na Seção 6.4.1 



  

Christiane N. C. Kokubum 

92

 
5.2.5.2 Assinatura   

A outra técnica de classificação a ser usada é a de assinatura. Esta 

técnica consiste na comparação entre as assinaturas dos alvos armazenados e 

segmentados.  

As etapas necessárias para a classificação, usando o método de 

assinatura são: 

- Extração da fronteira do alvo pelo método de perseguição de 

fronteiras. Este método consiste em obter as coordenadas de todos 

os pixels localizados na fronteira do alvo. Nesta etapa, observa-se a 

lista de alvos gerada na segmentação de imagens. Se o rótulo 

armazenado na lista for diferente de um (o que significa que o pixel 

pertence ao fundo), armazenam-se as coordenadas do pixel e o 

número do seu rótulo em uma outra estrutura de lista. A partir do 

primeiro pixel, observam-se os seus pixels vizinhos na seguinte 

ordem: frente, abaixo e atrás. Este procedimento ocorre até que 

todos os alvos segmentados sejam percorridos. Pixels que não 

pertencem à fronteira são rotulados como 1, representando fundo. 

- Determinação do ponto inicial: O problema em determinar o ponto 

inicial está relacionado com padrões de formas idênticas que variam 

em relação à rotação. Como este ponto é determinado pela maior 

distância do centróide ao ponto pertencente à fronteira, algumas 

assinaturas geradas são idênticas. Isto pode ser observado na Figura 

23 em que os padrões B e E e C e D geram as mesmas assinaturas. 



  

Christiane N. C. Kokubum 

93

 
A técnica utilizada, portanto, é determinar o ponto que possui o 

menor valor no eixo das abscissas e a partir deste procurar o menor 

valor no eixo das ordenadas. Os pontos iniciais de cada alvo podem 

ser observados na Figura 24.           

FIGURA 23 - Padrão com diferentes rotações e idênticas assinaturas.   

FIGURA 24  Pontos iniciais dos padrões utilizados. 

 

-  Determinação da distância de todos os pontos da fronteira ao 

centróide e cálculo da sua direção. Como são conhecidas as 

coordenadas de três pontos (ponto inicial, centróide e ponto da 

fronteira) (Figura 25), determina-se a direção a partir da fórmula dos 

cossenos dada por:  

Distância 
(pixels) 

Padrões: B e E

 

Padrões: C e D

 

Direção 
(radianos) 

Direção 
(radianos) 



  

Christiane N. C. Kokubum 

94

 
                      cos2222 bccba                                             (41)  

Onde:  

a

  

distância entre o ponto inicial e um ponto pertencente à fronteira; 

b  distância entre o ponto inicial e o centróide; 

c

 

 distância de um ponto pertencente à fronteira e o centróide; 

 

- direção a ser calculada.        

FIGURA 25  Direções obtidas dos pontos.  

- Normalização do gráfico: o fato dos padrões conterem tamanhos 

diferentes e conseqüentemente, número de pixels diferentes, 

acarreta na necessidade de realizar a normalização dos mesmos. 

Isto é feito pela normalização dos dados no intervalo de [0,1].   

- Criação do gráfico relacionando a distância em função do ângulo; 

- Interpolação dos dados. Esta etapa é necessária porque na 

determinação da métrica de correlação, há necessidade dos padrões 

a serem comparados possuírem quantidades de pixels idênticas; 

a 

Centróide 

 

b c 

Ponto inicial 



  

Christiane N. C. Kokubum 

95

 
- Determinação da discrepância entre as assinaturas, usando a 

métrica de correlação (Seção 4.2.1). O uso somente da métrica de 

correlação está relacionado ao tipo de padrões utilizados no trabalho. 

Como os padrões são semelhantes, as métricas de distância, 

dispersão e forma não se mostraram adequadas como critério para 

estabelecer a correspondência.   

5.2.6. Localização precisa   

A localização automática precisa dos cantos dos alvos projetados 

possui a vantagem em relação aos métodos manual ou semi-automático, por 

diminuir o tempo de resposta do sistema e fornecer uma resposta com precisão 

subpixel. Nesta etapa, dois métodos de localização precisa foram comparados com 

o objetivo de refinar a solução obtida na classificação: correspondência por mínimos 

quadrados e detecção de cantos.    

5.2.6.1. Método de correspondência de imagens por mínimos quadrados e 

reamostragem   

O método de correspondência de imagens por mínimos quadrados 

consiste em um refinamento na posição dos cantos dos padrões, obtida na etapa de 



  

Christiane N. C. Kokubum 

96

 
classificação a uma precisão subpixel. Para isto, determinaram-se os parâmetros 

radiométricos e geométricos a partir do conhecimento dos níveis de cinza das 

janelas de referência e de pesquisa de acordo com a Seção 4.1.2. Porém, os 

resultados obtidos para os parâmetros radiométricos não ofereceram resultados 

satisfatórios. Uma melhor metodologia, portanto, foi determinar separadamente os 

parâmetros radiométricos e geométricos. Primeiramente, realizou-se a correção 

radiométrica da imagem e, posteriormente, fez-se a sua correção geométrica. 

Ambos os parâmetros foram obtidos por um ajustamento usando o método 

paramétrico.  Após a etapa de mínimos quadrados, realizou-se a reamostragem da 

janela de pesquisa a partir do conhecimento dos parâmetros obtidos pelo método de 

correspondência por mínimos quadrados para determinação da posição e dos níveis 

de cinza da nova imagem. As novas posições dos pixels na imagem e seus 

respectivos níveis de cinza são determinados a partir de uma transformação afim 

direta e de uma interpolação bilinear. 

A aplicação do método de correspondência por mínimos quadrados 

e a reamostragem ocorrem até o momento em que as correções dos parâmetros 

geométricos determinados sejam menores que os critérios pré-definidos inicialmente 

(critérios de convergência = 0.00001).  

As coordenadas com precisão subpixel são determinadas a partir do 

conhecimento das coordenadas aproximadas obtidas no processo de classificação 

por correlação e os novos parâmetros determinados.     



  

Christiane N. C. Kokubum 

97

 
5.2.6.2. Detecção de cantos   

A detecção de cantos foi realizada usando o método descrito na 

Seção 2.9.  

Para a detecção de cantos, é necessário realizar previamente a 

detecção de bordas, neste caso usando-se os operadores de Sobel (Seção 2.8.1.1). 

Estes operadores permitem a determinação dos gradientes em x e y para os pixels 

centrais após a convolução das máscaras na imagem original.  

Para determinação dos gradientes nas molduras na janela do alvo 

segmentado, uma janela maior na imagem original é selecionada, isto é, para se 

obter uma matriz 5 x 5 composta de gradientes em x e y, uma subimagem 7 x 7 deve 

ser selecionada.  

O tamanho da subimagem a ser analisada depende do tipo de 

padrão. Em padrões do tipo A, para todos os cantos, as subimagens podem ser 

maiores que em outros padrões porque a distância entre os cantos é grande. Este 

fato tende a garantir uma melhor qualidade subpixel dos cantos do padrão tipo A. 

Para os alvos B, C, D e E, o tamanho da subimagem a ser analisada depende da 

posição em que se encontram os alvos. Quanto menor a distância entre os alvos, 

menor a janela a ser analisada e menor a precisão do detector de cantos na 

localização dos padrões porque o número de observações é pequeno.  

Um problema está relacionado com os padrões pré-definidos, 

porque, por mais que estes garantam um grande número de cantos com localização 

precisa para reconstrução, a etapa de aquisição da imagem acaba interferindo na 

forma dos alvos, arredondando os cantos e dificultando na localização precisa. 



  

Christiane N. C. Kokubum 

98

 
Após a realização da detecção de bordas com os operadores de 

Sobel e, portanto, com o conhecimento dos gradientes na imagem e a posição 

aproximada de cada vértice do alvo, obtida na classificação dos alvos, determinam-

se os cantos da imagem usando a metodologia citada na Seção 2.9.2.   

5.2.7. Critério para avaliação do método de localização precisa   

Uma vez que as coordenadas reconstruídas a partir dos padrões 

projetados sobre uma imagem plana deveriam gerar uma superfície plana perfeita, a 

forma encontrada para avaliar os resultados da calibração dos vetores diretores foi a 

seguinte:  

- Executar o processo de reconstrução sobre a imagem; 

- Efetuar a regressão de uma superfície plana sobre as coordenadas 

3D reconstruídas; e conseguinte, 

- Calcular as discrepâncias entre as coordenadas Z

 

obtidas na  

reconstrução e as coordenadas Z

 

calculadas pelo plano ajustado 

(Equação 42);  

XAYAAYXZ 100100),(                                      (42)  

 Onde:  

Z - profundidade dos pontos; 



  

Christiane N. C. Kokubum 

99

 
YX , - coordenadas obtidas da reconstrução;  

100100 ,, AAA - coeficientes do plano. Estes coeficientes foram obtidos usando o 

software Surfer 7.0.  

-  Cálculo do erro médio quadrático.  

O método de reconstrução usado neste trabalho é uma 

implementação da modelagem matemática desenvolvida na primeira versão do 

sistema de reconstrução (TOMMASELLI, 1997).  

A reconstrução da superfície é realizada conhecendo-se cada vetor 

diretor dos cantos dos alvos e suas respectivas coordenadas subpixel. Os vetores 

diretores dos vértices dos alvos são calculados por uma calibração do projetor, a 

partir do conhecimento das coordenadas subpixel determinadas nos métodos de 

localização precisa, da orientação interior, da orientação exterior, das coordenadas 

do projetor e dos valores aproximados dos vetores diretores. Os parâmetros de 

orientação interior e de orientação exterior e as coordenadas do projetor são obtidos 

pela calibração da câmara. Maiores detalhes de todo o processo de reconstrução 

podem ser vistos em Reiss e Tommaselli (2004).        



  

Christiane N. C. Kokubum 

100

 
CAPÍTULO VI   

6. DESENVOLVIMENTO E IMPLEMENTAÇÃO   

Para atender aos objetivos deste trabalho, alguns programas foram 

implementados em Linguagem C/C++ como: geração automática de padrões, 

limiarização local, segmentação por crescimento de regiões, extração de fronteiras, 

correspondência por área, assinatura e detecção de bordas. Além disto, vale 

ressaltar que os programas de segmentação por crescimento de regiões e 

limiarização foram implementados pelo Msc. Mário Luiz Lopes Reiss. As funções 

implementadas podem ser encontradas na biblioteca UPTK, que está sendo 

desenvolvida pelo Departamento de Cartografia da FCT/Unesp (TOMMASELLI, 

2003).     

6.1. Geração automática de padrões  

O programa de geração automática de padrões tem como resultado 

a criação de um padrão composto pela combinação de cinco padrões primitivos 

(Figura 18). Como mencionado anteriormente, esta combinação de padrões possui 

algumas restrições para ser realizada. Estes padrões primitivos foram combinados 

em matrizes, gerando-se uma malha. A partir de um processo fotográfico foram 



  

Christiane N. C. Kokubum 

101

 
então gerados fotolitos. No total, dez fotolitos foram criados, modificando-se o 

tamanho do padrão e o espaçamento entre os mesmos (Figura 26).  

O fotolito projetado neste trabalho possui padrões com tamanho de 9 

pixels. x 9 pixels. e com espaçamento de 7 pixels entre os padrões (Figura 27).  

FIGURA 26  Exemplo de uma imagem de padrões.          

FIGURA 27 - Dimensão dos padrões projetados em pixel.    

9 

7 

4 

4 9 



  

Christiane N. C. Kokubum 

102

 
6.2. Limiarização local   

Inicialmente, dois métodos foram implementados para solucionar 

este problema: método de expansão do histograma e método de transformação local 

baseado nas propriedades de intensidades da média e de desvio-padrão de pixels 

(Seção 2.5). Estes métodos, entretanto, não proporcionaram um resultado 

satisfatório como pode ser observado na Figura 28.         

FIGURA 28  Resultados da limiarização. (a) Imagem original; (b) Método de 

expansão do histograma; (c) Método de transformação local.  

O problema do método de expansão do histograma está relacionado 

a este ser um método global e, portanto, determina um único limiar por toda a 

imagem.  

O método de transformação local garante um melhor resultado que o 

método de expansão do histograma por este método ser local, porém, em 

procedimentos totalmente automáticos, este método possui a restrição em relação à 

(a) (b) (c) 



  

Christiane N. C. Kokubum 

103

 
constante k, pela necessidade de informá-la inicialmente e esta ser dependente da 

imagem original a ser usada.  

Portanto, como os métodos anteriores não garantiram resultados 

satisfatórios, uma nova metodologia foi sugerida. Esta metodologia consistiu na 

implementação de uma limiarização local (Seção 2.6.3) comparando dois 

operadores de limiarização automática: Otsu (Seção 2.6.1) e Pun (Seção 2.6.2). 

Neste método de limiarização informa-se o tamanho da máscara a ser percorrida na 

imagem e o método de limiarização desejado. Para cada percurso da máscara na 

imagem, um limiar é determinado a partir do método de Otsu ou de Pun e aplicado à 

imagem, em função da região central da máscara. Os pixels com valores abaixo do 

limiar determinado pelos métodos de Otsu ou de Pun recebem nível de brilho zero e 

os pixels com níveis de cinza superiores a este valor, permanecem com o mesmo 

valor de nível de cinza.  

Os resultados deste processo podem ser observados na Figura 29. 

Como se podem perceber visualmente, ambos os métodos de limiarização 

conseguiram eliminar completamente os ruídos do fundo, sem prejudicar o processo 

de reconhecimento. Além disto, foram comparados três diferentes tamanhos de 

máscaras (3x3, 5x5 e 7x7). A partir de testes, observou-se que a máscara 3x3 

usando o método de Otsu proporcionou melhores resultados aliados a um menor 

custo computacional. Conseqüentemente, pensando no custo computacional, 

decidiu-se usar o método de Otsu. Outra maneira de comparar os métodos de 

limiarização é observar os resultados das segmentações, verificando o número de 

alvos perdidos e suas respectivas formas.   



  

Christiane N. C. Kokubum 

104

                     

FIGURA 29 - (a) Imagem original (tomada de um dorso humano) com o sistema de luz 

estruturada; (b) Parte da imagem original; (c) (d) Limiarização com o método de Otsu 

local; (e) (f) Limiarização com Pun local (REISS e TOMMASELLI, 2004).   

(a) (b) 

(d) 

(e) (f) 

(c) 



  

Christiane N. C. Kokubum 

105

 
6.3. Segmentação   

A segmentação consiste em subdividir uma imagem em regiões 

homogêneas usando critérios de similaridade. Neste caso, o método de 

segmentação usado foi por crescimento de regiões, usando como critério de 

similaridade os níveis de cinza. Neste processo de segmentação de regiões, o fundo 

da imagem recebe o rótulo 1 e os padrões são rotulados com números desde 2 até o 

número de padrões segmentados. Após a segmentação de um alvo, adiciona-se +1 

ao número do rótulo. Simultaneamente à segmentação, são calculadas as 

coordenadas dos centros de massa de cada padrão. As coordenadas dos pixels 

segmentados e o rótulo de cada padrão são armazenados em uma lista para ser 

usada nas próximas etapas. Os resultados da etapa de segmentação podem ser 

observados na Figura 30. 

FIGURA 30  Resultados de imagens segmentadas. (a) Todos os 

alvos foram segmentados. (b) Alguns alvos não foram segmentados.  

Como pode ser observado na Figura 30a, todos os alvos foram 

segmentados. Na Figura 30b, entretanto, alguns alvos não foram segmentados. Isto 

(a) (b) 



  

Christiane N. C. Kokubum 

106

 
ocorreu porque foram feitas algumas considerações a respeito do tamanho do alvo, 

isto é, baseado na relação da distância focal da câmara com as distâncias máxima e 

mínima do centro perspectivo da câmara à superfície do objeto, foi possível 

determinar a quantidade aproximada de pixels de cada padrão. Assim, alvos com 

quantidade de pixels não pertencentes ao intervalo estabelecido são eliminados 

após a segmentação. Esta restrição ocorre para não adquirir pixels que sejam ruídos 

na imagem ou alvos muito grandes que são conseqüência da deformação dos alvos 

no objeto ou junção de alvos, proporcionando um reconhecimento equivocado 

posteriormente.   

6.4. Classificação   

A partir da imagem segmentada, inicia-se uma das etapas 

fundamentais para a realização da reconstrução: a classificação dos alvos. Esta 

etapa é importante porque os seus resultados interferem completamente na 

localização precisa e posterior reconstrução pois as coordenadas aproximadas dos 

cantos dos alvos são determinadas nesta etapa. A classificação de alvos objetiva 

informar a melhor correspondência do alvo segmentado quando comparado com os 

padrões.  

Nesta etapa de classificação, dois métodos de correspondência 

foram comparados: a correspondência por padrão e a assinatura.   



  

Christiane N. C. Kokubum 

107

 
6.4.1. Correspondência por correlação   

A correspondência por correlação consiste na comparação entre os 

níveis de cinza de duas imagens sobrepostas usando uma função desejada. Várias 

funções podem ser utilizadas, porém, neste trabalho foram comparadas cinco delas: 

erro, erro quadrático, correlação cruzada, covariância cruzada e covariância cruzada 

modificada. A partir de testes realizados, observou-se que a função covariância 

cruzada modificada é a que apresentou melhores resultados. Os resultados das 

outras funções acarretaram em erros de um e dois pixels em relação ao valor exato 

nas imagens testadas. Porém, esta função possui uma desvantagem em relação às 

outras funções: maior custo computacional porque a função é mais complexa. 

Mesmo havendo o inconveniente do custo computacional, decidiu-se usar esta 

função para a classificação dos alvos porque as imagens a serem comparadas são 

pequenas e não prejudicariam o rendimento computacional. 

Na função de covariância cruzada modificada, a melhor 

correspondência será aquela em que o coeficiente de correlação for o mais próximo 

da unidade. Porém, se a imagem sofre rotações, variações na escala ou perda de 

parte do alvo, uma falsa correspondência pode ocorrer ou o coeficiente de 

correlação ser tão pequeno que não possa ser considerado. A partir de testes 

realizados, observou-se que um limiar para este coeficiente de correlação poderia 

ser 0.7 porque garantiria uma classificação correta para as imagens usadas e não 

provocaria uma perda significativa dos alvos. 

Portanto, três metodologias foram comparadas: comparação dos 

alvos segmentados com os padrões pré-definidos e com as suas instâncias 



  

Christiane N. C. Kokubum 

108

 
armazenadas, comparação dos alvos segmentados com os padrões pré-definidos 

suavizados e com as suas instâncias armazenadas suavizadas, comparação dos 

alvos segmentados com os padrões pré-definidos reamostrados.    

6.4.4.1. Comparação dos alvos segmentados com os padrões pré-definidos e com 

as suas instâncias armazenadas   

O método consiste, portanto, na comparação de todos os alvos 

segmentados na imagem com os cincos padrões

 

armazenados e suas instâncias 

geradas por modificação em relação à escala. No total são 45 padrões binários 

armazenados. A variação de escala foi determinada a partir de observações 

empíricas realizadas na imagem. Além das imagens de cada padrão, foram 

armazenadas em uma estrutura de lista as coordenadas em pixels dos cantos, que 

são usadas posteriormente como valores aproximados na localização precisa. O 

resultado deste reconhecimento pode ser observado na Figura 31. Na Figura 31b, os 

alvos encontram-se sem rotação porque se concentram na parte central do cilindro, 

enquanto que na Figura 31d, os alvos estão distorcidos.  

Por uma questão de visualização, os alvos detectados foram 

pintados em cores diferentes: padrão A (preto); padrão B (azul); padrão C 

(vermelho); padrão D (verde) e padrão E (roxo).  

Neste experimento, todos os alvos foram detectados corretamente 

(Figura 31c). Os alvos que não foram detectados apresentavam-se parcialmente 

incompletos ou deformados pela superfície e não geraram um coeficiente de 



  

Christiane N. C. Kokubum 

109

 
correlação maior que o pré-definido como limiar (0.7) com nenhum dos padrões ou 

suas instâncias. 

Uma dificuldade observada foi a detecção de alvos em escalas 

diferentes em x e y e distorcidos (Figura 31d), já que não é recomendável gerar 

muitos padrões

 

instanciados, porque isto aumentaria o custo computacional. Nestes 

casos, como os alvos sofrem modificações diferentes em escalas x e y, uma 

detecção correta pode ocorrer, porém, as coordenadas aproximadas não são 

confiáveis. 

Vale ressaltar que este procedimento proporciona bons resultados 

porque é pequena a percentagem de alvos não reconhecidos (em torno de 15%). 

Isto garante um grande número de vértices para a localização precisa e tende a 

garantir uma melhor reconstrução do objeto se comparada com a reconstrução 

obtida apenas pelo centro de massa de cada alvo. Um exemplo de classificação de 

todos os alvos da imagem pode ser observado nas Figuras 32 e 33.            



  

Christiane N. C. Kokubum 

110

                    

FIGURA 31 

 

Resultados da correspondência por correlação usando padrões binários 
(imagens invertidas). (a) Imagem dos alvos projetados em um cilindro; (b) Imagem realçada 
de uma imagem sem variação de rotação; (c) Classificação dos alvos para a imagem com 

padrões projetados distorcidos; (d) Imagem realçada de uma imagem com variação na 
rotação; (e) Classificação dos alvos para a imagem com padrões projetados distorcidos.  

(a) 

(b)

 

(d)

 

(c)

 

(e)

 



  

Christiane N. C. Kokubum 

111

             

FIGURA 32 - Classificação dos alvos de um cilindro após a segmentação (imagem invertida).            

FIGURA 33 - Classificação dos alvos após a segmentação de um dorso humano  

(imagem invertida).  



  

Christiane N. C. Kokubum 

112

 
Pensando em melhorar os resultados da classificação por 

correlação, usaram-se os mesmos padrões armazenados e suas instâncias 

suavizadas pela média.    

6.4.4.2. Comparação dos alvos segmentados com os padrões pré-definidos 

suavizados e com as suas instâncias suavizadas armazenados   

Esta escolha foi feita observando como eram os alvos projetados, já 

que a correspondência com alvos binários poderia ser prejudicada por causa da 

variação entre os níveis de cinza entre as imagens armazenadas e segmentadas. Os 

resultados após estas considerações podem ser observados na Figura 34.   

Como pode ser observada na Figura 34, a correspondência por 

correlação usando padrões armazenados suavizados garantiu melhores resultados 

que o método usando imagens binárias. Em imagens com pouca variação na 

rotação, este método conseguiu classificar aproximadamente 94% dos alvos 

segmentados enquanto em imagens com variação na rotação, 90% dos alvos foram 

classificados corretamente. 

Mesmo considerando que os resultados eram bons com as 

metodologias anteriores, decidiu-se refinar ainda mais os resultados. Como os alvos 

projetados sofrem uma variação diferente de escala em x e y, o alvo segmentado 

poderia ser correlacionado com um padrão de diferente tamanho e proporcionar 

coordenadas aproximadas incorretas para a localização precisa. Uma possibilidade 

seria aumentar o número de padrões armazenados, porém, isto aumentaria o custo 



  

Christiane N. C. Kokubum 

113

 
computacional. Uma melhor maneira, foi trabalhar com padrões reamostrados em 

tempo real.              

FIGURA 34 

 

Resultados da correspondência por correlação usando padrões 

suavizados pela média (imagens invertidas) (a) Imagem realçada de uma imagem 

sem variação de rotação; (b) Classificação dos alvos para a imagem sem variação 

da rotação; (c) Imagem realçada de uma imagem com padrões projetados 

distorcidos; (d) Classificação dos alvos para a imagem com padrões projetados 

distorcidos.  

6.4.4.3. Comparação dos alvos segmentados com os padrões pré-definidos 

reamostrados   

Esta metodologia consiste armazenar apenas os cinco padrões 

primitivos e a partir do conhecimento da dimensão dos alvos segmentados, 

(d) 

(a)

 

(b) 

(c) 



  

Christiane N. C. Kokubum 

114

 
reamostrá-los em tempo real. Neste caso, três experimentos foram realizados: 

reamostrando padrões primitivos com dimensão 23 x 23 pixels, 90 x 90 pixels (com 

moldura) e 90 x 90 pixels (sem moldura).   

- 1º Experimento: Reamostrando padrões primitivos com dimensão 23 x 23 

pixels    

Esta dimensão dos padrões armazenados foi escolhida 

empiricamente, a partir de observações realizadas na imagem. A dimensão dos 

alvos segmentados foi obtida a partir da diferença entre as coordenadas máximas e 

mínimas de cada alvo. Este procedimento pode ser usado, neste caso, porque as 

imagens usadas possuem uma pequena variação da rotação. O método usado para 

a reamostragem dos alvos nas imagens foi o método de interpolação bilinear (Seção 

4.1.2). Para este tipo de método, aproximadamente 96% dos alvos conseguiram ser 

classificados corretamente para imagens com pequena rotação e em regiões com 

um alto gradiente, todos os alvos foram classificados (Figura 35). É importante 

ressaltar que este procedimento conseguiu classificar corretamente mesmo alguns 

alvos estando incompletos.      



  

Christiane N. C. Kokubum 

115

              

FIGURA 35 

 

Resultados da correspondência por correlação usando padrões 

reamostrados (Padrões 23 pixels x 23 pixels) (imagens invertidas) (a) Imagem 

realçada de uma imagem sem variação de rotação; (b) Classificação dos alvos para 

a imagem sem variação da rotação; (c) Imagem realçada de uma imagem com 

padrões projetados distorcidos; (d) Classificação dos alvos para a imagem com 

padrões projetados distorcidos.   

Posteriormente, observou-se, adicionalmente, que esta técnica de 

classificação poderia ser melhorada ainda mais a partir do uso de padrões com 

dimensão proporcional ao do alvo projetado ao invés da escolha empírica de sua 

dimensão, com base apenas na observação dos alvos na imagem. Neste caso, a 

dimensão escolhida para os padrões armazenados foi de 90 pixels x 90 pixels.    

(a)

 

(b) 

(c) (d) 



  

Christiane N. C. Kokubum 

116

 
- 2º Experimento: Reamostrando padrões primitivos com dimensão 90 x 90 

pixels (sem moldura)  

Neste experimento, resolveu-se reamostrar apenas a parte branca 

do alvo e posteriormente, inserir a moldura preta com dimensão de 2 pixels (Figura 

36). Os resultados obtidos com este método podem ser observados na Figura 37.      

FIGURA 36  Reamostragem dos padrões primitivos sem moldura.      



  

Christiane N. C. Kokubum 

117

                  

FIGURA 37 

 

Resultados da correspondência por correlação usando padrões 

reamostrados sem bordas (Padrões 90 pixels x 90 pixels) (a) Imagem realçada de 

uma imagem sem variação de rotação; (b) Classificação dos alvos para a imagem 

sem variação da rotação; (c) Imagem realçada de uma imagem com padrões 

projetados distorcidos; (d) Classificação dos alvos para a imagem com padrões 

projetados distorcidos.   

- 3º Experimento: Reamostrando padrões primitivos com dimensão 90 x 90 

pixels (com moldura)   

Como o resultado obtido e mostrado na Figura 37 não proporcionou 

os resultados esperados, decidiu-se usar padrões com dimensão proporcional ao do 

alvo projetado (90 pixels x 90 pixels). Porém, ao invés de reamostrar o alvo sem as 

(c) (d) 

(a)

 

(b) 



  

Christiane N. C. Kokubum 

118

 
molduras, reamostrou-os com molduras de dimensão 2 pixels. Os resultados desta 

metodologia podem ser observados na Figura 38.             

FIGURA 38 

 

Resultados da correspondência por correlação usando padrões 

reamostrados usando molduras (Padrões 90 pixels x 90 pixels) (a) Imagem realçada 

de uma imagem sem variação de rotação; (b) Classificação dos alvos para a imagem 

sem variação da rotação; (c) Imagem realçada de uma imagem com padrões 

projetados distorcidos; (d) Classificação dos alvos para a imagem com padrões 

projetados distorcidos.   

A partir destes experimentos realizados pode-se observar que os 

métodos usando a reamostragem por interpolação bilinear em tempo real 

proporcionaram melhores resultados. Além disso, usando o método de 

reamostragem por interpolação bilinear, pode-se diminuir o limiar até valores como 

0.5, e mesmo assim o procedimento ainda consegue correlacionar perfeitamente 

(c) (d) 

(a)

 

(b) 



  

Christiane N. C. Kokubum 

119

 
sem muitas perdas de alvos. Verificou-se, ainda, que não é viável reamostrar apenas 

a imagem sem as molduras e depois inseri-las. Este procedimento faz com que a 

imagem não sofra uma suavização e os valores dos coeficientes de correlação 

sejam inferiores aos valores estipulados anteriormente. Realizando este mesmo 

procedimento com os alvos pré-definidos, a perda de alvos é mais elevada e ainda, 

alguns alvos já começam a ser correlacionados erroneamente. Por outro lado, o 

método de classificação usando alvos pré-definidos também proporcionou bons 

resultados e poderia ser melhorado ainda mais, se o número de padrões 

armazenados fosse maior. Porém, isso não é viável porque aumentaria muito o 

custo computacional.    

6.4.2. Assinatura  

 

A assinatura de um alvo consiste de um gráfico relacionando a 

distância e a direção de cada pixel pertencente à sua fronteira. Para determinar os 

pixels que fazem parte da fronteira, uma extração é realizada usando o método de 

perseguição de fronteiras (Figura 39). Neste método, uma estrutura de lista é criada 

composta do número do rótulo do alvo e as respectivas coordenadas dos pixels 

pertencentes à fronteira.  

Como os alvos encontram-se com dimensão pequena, a 

segmentação, em alguns casos, não proporciona resultados satisfatórios, 

interferindo na extração da fronteira e prejudicando na detecção pelo método da 

assinatura (ver Figura 39).  



  

Christiane N. C. Kokubum 

120

                 

FIGURA 39  Extração de fronteiras usando o método de perseguição de fronteiras.  

  (a) Extração de fronteiras dos alvos projetados em um cilindro; 

(b) Detalhe da imagem com as fronteiras dos alvos extraídos.  

Para a comparação entre as assinaturas armazenadas (relacionadas 

aos padrões) e assinaturas geradas (referentes aos alvos segmentados), resolveu-

se primeiramente, armazenar as distâncias e as direções em um arquivo com 

extensão .dat. Porém, o usuário poderia querer alterar os padrões a serem 

comparados e, para isto, decidiu-se determinar a assinatura dos padrões 

(a) 

(b) 



  

Christiane N. C. Kokubum 

121

 
armazenados juntamente com as dos alvos segmentados. As características das 

assinaturas de cada padrão armazenado podem ser vistas na Figura 40.  

FIGURA 40 - Assinatura dos padrões armazenados.  

Como dito anteriormente, estes gráficos são gerados a partir do 

conhecimento das distâncias e das direções. As direções são obtidas a partir do 

conhecimento de três pontos: dois pontos da fronteira e o centróide usando a 

fórmula dos cossenos.  Portanto, este gráfico é construído com as direções (em 

função das distâncias) no eixo das abscissas e as distâncias no eixo das ordenadas 

Padrão A

0

1

2

3

4

5

6

7

0

0
,3

9

0
,9

6

1
,4

4

1
,7

8

2
,3

2
,8

4

3
,2

3
,6

4

4
,2

1

4
,6

5

5
,0

1

5
,5

6

6
,0

7

Padrão A

 

Padrão B

0

1

2

3

4

5

6

7

0

0
,4

1

5
,6

7

5
,6

8

4
,0

9

4
,0

9

3
,7

1

3
,3

8

3
,3

6

4
,0

4

4
,5

4

5
,0

5

5
,7

3

6
,1

7

Padrão B

 

Padrão C

0

2

4

6

8

10

12

0

0
,4

6

0
,7

9

1
,2

9

1
,9

7

2
,4

3

2
,9

9

3
,6

5

4
,0

4

4
,4

1

4
,7

1

4
,7

6
,2

8

6
,2

8

Padrão C

 

Padrão D

0

1

2

3

4

5

6

7

8

9

0

0
,5

1
,1

2

1
,5

4

1
,9

4

2
,3

2

2
,3

6

3
,7

2

3
,8

1

4
,0

2

4
,4

3

4
,8

2

5
,3

9

5
,9

8

Padrão D

 

Padrão E

0

1

2

3

4

5

6

7

0

0
,3

4

0
,9

6

1
,5

8

2
,0

1

2
,6

6

3
,2

3

3
,5

5 4

4
,0

9

4
,0

7

5
,6

8

5
,6

7

6
,1

4

Padrão E

 



  

Christiane N. C. Kokubum 

122

 
(em função das coordenadas dos pixels pertencentes à fronteira e o centro de 

massa do padrão).  

Para comparar as assinaturas geradas e armazenadas, quatro erros 

métricos foram calculados: erro de distância, erro de forma, erro de dispersão e erro 

de correlação. Para isto, necessitou-se realizar uma subamostragem dos dados para 

determinar o erro de correlação porque na determinação deste erro, necessita-se 

que tanto o padrão armazenado quanto o alvo gerado tenham a mesma quantidade 

de pixels na fronteira. A subamostragem foi realizada fazendo com que o alvo com 

maior quantidade de pixels na fronteira tivesse no final, um número idêntico ao outro 

alvo. O resultado desta subamostragem pode ser observado na Figura 41. Após 

testes realizados, observou-se que os erros métricos de distância, dispersão e forma 

não poderiam ser usados para os tipos de alvos escolhidos neste trabalho porque os 

alvos B, C, D e E são idênticos, variando apenas na rotação. Portanto, preferiu-se 

usar apenas a métrica de correlação.             



  

Christiane N. C. Kokubum 

123

                      

FIGURA 41 

 

Assinaturas dos padrões e dos alvos segmentados.   

A Figura 41 mostra os resultados da subamostragem da assinatura. 

São mostrados dois gráficos para cada tipo de alvo e cada gráfico contém três 

Padrão E 

Padrão C 

T e m p late C

Tem pl at e

P adr ão m ai or

P adr ão
subam ost r ado

T e m p late C

Tem pl at e

P adr ão m enor

Tem pl at e
subam ost r ado

Padrão D

 

T e mp l a t e D

Templ ate

Padr ão mai or

Padr ão
subamostr ado

Te m plate D

Templat e

Padr ão menor

Templat e
subamost r ado

Te m plate E

Templat e

Padr ão maior

Padr ão
subamost r ado

Te m plate E

Templat e

Padr ão menor

Templat e
subamost r ado

Padrão A

 
Te m plate A

Padr ão maior

Templat e

Padr ão
subamost r ado

Te m plate A

Templat e

Padr ão menor

Templat e
subamost r ado

Padrão B

 

T e m p late B

P adr ão
subam ost r ado

Tem pl at e

P adr ão m ai or

T e m p late B

Tem pl at e

P adr ão m enor

Tem pl at e
subam ost r ado



  

Christiane N. C. Kokubum 

124

 
assinaturas. Os gráficos mostram a assinatura do padrão, a assinatura do alvo 

segmentado e a assinatura do padrão ou do alvo subamostrado, dependendo da 

quantidade de pixels.  

A partir destes gráficos, pode-se perceber a similaridade das 

assinaturas dos alvos após a reamostragem. O problema de compatibilização das 

assinaturas por meio de reamostragem é complicado, pois ao reamostrar pode-se 

perder informação. Na Figura 41 podem ser vistos padrões nos quais os picos são 

achatados, em função da reamostragem. Os resultados obtidos com o método de 

assinatura usando a subamostragem dos dados proporcionaram uma classificação 

correta de aproximadamente 67% dos alvos em regiões com pequena variação na 

rotação (centro do cilindro) e 55% em regiões com alto gradiente. Os alvos 

vermelhos na Figura 42 indicam que estes não foram classificados.           

FIGURA 42  Resultado da classificação usando o método de assinatura.  

Pensando em melhorar estes resultados, decidiu-se realizar uma 

superamostragem dos dados com uma freqüência de, no mínimo, duas vezes 



  

Christiane N. C. Kokubum 

125

 
superior a maior freqüência para não haver perda de dados. Porém, os resultados 

obtidos não proporcionaram melhores resultados que a subamostragem dos dados.      

6.5. Localização precisa   

A etapa de localização precisa possui como objetivo obter as 

coordenadas dos cantos dos alvos projetados com precisão subpixel. Os valores 

aproximados para as coordenadas com precisão pixel foram obtidos após a 

classificação dos alvos. Para realizar esta etapa, dois métodos foram comparados: 

correlação por mínimos quadrados e detecção de cantos. 

      

6.5.1. Correspondência de imagens por mínimos quadrados   

A correspondência de imagens por mínimos quadrados consiste em 

refinar a solução obtida na detecção de alvos a partir da determinação dos 

parâmetros geométricos usando o ajustamento baseado no método paramétrico 

(Seção 4.1.2). Neste caso, dois experimentos foram comparados: um usando 

padrões pré-definidos e o outro com padrões reamostrados.   

O resultado do experimento referente à localização precisa usando 

alvos pré-definidos pode ser observado na Figura 43.  



  

Christiane N. C. Kokubum 

126

            

Cantos obtidos da classificação 

 

azul 
Cantos com coordenadas subpixel 

 

cor-de-rosa  

FIGURA 43 - Localização precisa dos alvos usando padrões pré-definidos.  

Na Figura 43 podem ser observados os cantos plotados a partir  dos 

valores aproximados, resultantes do processo de classificação de alvos como 

círculos amarelo, e os cantos com coordenadas subpixel em verde.   

Como pode ser observada na Figura 43, a localização precisa foi 

dificultada porque os valores aproximados resultantes do processo de detecção 

usando padrões pré-definidos, não foram precisos o suficiente. Isto ocorre porque há 

variações de escalas diferentes em x e y.  

Para melhorar a localização precisa, decidiu-se gerar apenas cinco 

padrões para serem comparados. Neste caso, como se conhecia a altura e a largura 

do alvo, fez-se uma reamostragem dos alvos a partir de uma interpolação bilinear. 

Como as imagens usadas não possuíam uma rotação muito elevada, este método 

de reamostragem do alvo a partir do conhecimento da altura e da largura não 

acarretou em problemas. A localização precisa, neste caso, forneceu melhores 

resultados porque foram melhores as coordenadas aproximadas com precisão pixel  

(Figura 44).   



  

Christiane N. C. Kokubum 

127

             

Cantos obtidos da classificação 

 

azul 
Cantos com precisão subpixel - amarelo  

FIGURA 44  Localização precisa usando o método de reamostragem dos padrões.   

6.5.2. Detecção de cantos   

Antes de detectar os vértices com precisão subpixel, foi necessário 

determinar os gradientes da imagem. Para isto, foram usados os operadores de 

Sobel como descritos na Seção 2.8.1.1. Para cada convolução das máscaras na 

subimagem, os gradientes em x e y para o pixel central são determinados a partir de 

uma maior imagem recortada. Por exemplo, se a máscara de gradientes a ser 

determinada é 5 pixels x 5 pixels, seleciona-se uma imagem 7 pixels x 7 pixels. Com 

todos os gradientes em x e y da imagem obtidos e com a localização aproximada 

dos vértices dos alvos obtida pela correlação no momento da classificação, 

determinou-se os cantos dos alvos com precisão subpixel. As coordenadas subpixel 

foram obtidas a partir de um programa baseado em Galo e Tozzi (2002). Como a 

reamostragem por interpolação bilinear proporcionou melhores resultados que a 



  

Christiane N. C. Kokubum 

128

 
utilização de padrões pré-definidos, resolveu-se fazer experimentos apenas com a 

detecção de cantos usando padrões reamostrados em tempo real (Figura 45).               

Cantos obtidos da classificação  amarelo. 
Cantos com precisão subpixel  vermelho.  

FIGURA 45  Localização precisa por detecção de cantos usando padrões 

reamostrados.  

 

Como visualmente é difícil afirmar qual o melhor método de 

localização precisa, resolveu-se realizar a reconstrução de duas linhas selecionadas 

de uma imagem (linhas 14 e 15) (Figura 46). Inicialmente, escolheu-se uma imagem 

de um plano com quatro diferentes orientações. Para cada imagem, determinaram-

se as coordenadas de todos os vértices usando três métodos: correspondência por 

mínimos quadrados usando padrões pré-definidos e suas instâncias; 

correspondência por mínimos quadrados reamostrando em tempo real os padrões 

armazenados; e, detecção de cantos reamostrando os padrões armazenados. A 

reamostragem destes padrões é feita a partir do conhecimento da altura e da largura 

do alvo segmentado. Com as coordenadas determinadas, criaram-se três arquivos, 

um para cada método. Cada arquivo é composto pelo nome da imagem, 



  

Christiane N. C. Kokubum 

129

 
identificação do padrão e as coordenadas de imagem de cada vértice (Tabela 6). 

Além disso, as coordenadas do centro de massa dos demais alvos foram usadas.        

FIGURA 46  Uma das quatro imagens usadas para calibração da câmara.  

TABELA 6 

 

Exemplo de saída do reconhecimento de padrões. 

Coordenadas (pixel) Nome da imagem 
sem extensão 

Identificador do 
padrão X Y 

       DCP_2517           145413            1377,54            530,54 

 

O identificador do padrão é dividido em quatro partes: os quatro 

primeiros dígitos equivalem à linha e a coluna do padrão, respectivamente. O quinto 

dígito está relacionado ao número do vértice do padrão e o último ao tipo do padrão. 

A numeração dos vértices de cada padrão inicia-se no ponto inicial mostrado na 

Figura 24 e continua no sentido horário. Em relação ao tipo do padrão, a numeração 

é a seguinte: A (1), B (2), C (3), D (4) e E (5). 

Para a realização da reconstrução, dois procedimentos são 

necessários anteriormente: calibração da câmara e calibração do projetor.  



  

Christiane N. C. Kokubum 

130

 
A calibração do projetor consiste na determinação dos vetores 

diretores de cada padrão projetado e das coordenadas do projetor no referencial da 

câmara  (Xp, Yp e Zp). Para realização desta etapa, necessita-se: 

- Determinação dos parâmetros de orientação interior a partir da 

calibração de câmara; 

- Resseção espacial para determinação dos parâmetros de 

orientação exterior. Esta etapa depende das coordenadas dos alvos fixados na placa 

de calibração (pontos de apoio 

 

sistema global) e das coordenadas dos mesmos 

pontos na imagem; 

- Calibração do projetor: nesta etapa, calculam-se, inicialmente, as 

coordenadas dos pontos projetados no referencial global, usando suas coordenadas 

imagem, os parâmetros de orientação exterior obtidos na etapa anterior e a equação 

de colinearidade inversa. Com várias nuvens de pontos, que correspondem a vários 

planos de projeção, calculam-se os elementos do projetor (REISS e TOMMASELLI, 

2004).  

Com as coordenadas X, Y e Z no espaço objeto de cada ponto, 

determina-se a coordenada Z

 

a partir do ajuste de um plano (Seção 5.2.7). 

Calculam-se, então, as discrepâncias entre as coordenadas Z obtidas da 

reconstrução e as coordenadas Z

 

obtidas pela equação do plano ajustado, e, 

posteriormente, o erro médio quadrático para todas as discrepâncias. O programa de 

reconstrução 3D foi baseado na modelagem matemática desenvolvida na primeira 

versão do sistema de reconstrução (TOMMASELLI, 1997). 

Como os alvos do tipo A oferecem uma detecção e uma localização 

precisa melhor que outros alvos, decidiu-se realizar dois experimentos. O primeiro 

experimento consiste em determinar o erro médio quadrático usando apenas os 



  

Christiane N. C. Kokubum 

131

 
vértices dos padrões do tipo A enquanto o segundo experimento, calcula o erro 

médio quadrático para os vértices de todos os alvos.   

Os erros médios quadráticos determinados por cada método no 

experimento um podem ser observados na Tabela 7.  

TABELA 7 - Métodos usados e respectivos erros médios quadrático usando apenas 

os alvos do tipo A. 

Coeficientes da regressão 
polinomial 

 

Método 
usado A00 A01 A10 

EMQ 
(mm) 

Erro 
máximo 

(mm) 

Erro 
mínim
o (mm)

 

MQ (PPD) -1083.599 0.0065506

 

0.0807629

 

0.84 5.042 -3.146 

MQ (PR) -1083.570 0.0069474

 

0.0806655

 

0.44 3.341 0.000 

DC (PR) -1083.611 0.0066874

 

0.0810187

 

0.39 2.019 0.000 

MQ  Método dos mínimos quadrados            DC  Detector de cantos 
PPD 

 

Padrões pré-definidos                           PR 

 

Padrões reamostrados   

Como pode ser observado pela Tabela 7, o método que obteve 

melhores resultados foi o detector de cantos usando imagens reamostradas. Os 

resultados da localização precisa com alvos reamostrados foram melhores do que os 

com alvos pré-definidos, o que já era esperado, porque não ocorre o problema de 

detecção com alvos de tamanhos diferentes, acarretando em incertezas nas 

coordenadas dos vértices aproximados da etapa de detecção de alvos. Como o erro 

médio quadrático obtido com o método dos mínimos quadrados com alvos pré-

definidos foi elevado em relação aos outros métodos, decidiu-se comparar somente 

os outros dois métodos: detecção de cantos e MMQ usando alvos reamostrados 

(Tabela 8).  



  

Christiane N. C. Kokubum 

132

 
TABELA 8  Resultados da reconstrução usando o método de detector de cantos para 

todos os cinco padrões. 

Coeficientes da regressão 
polinomial 

 
Método 
usado A00 A01 A10 

EMQ 
(mm) 

Erro 
máximo 

(mm) 

Erro 
mínimo 
(mm) 

Erro 
relativo

 

MQ (PR)

 

-1083.711

 

0.0069474 0.0806655 0.71 6.349 0.000 1/1600 

DC (PR)

 

-1083,585

 

0,0066416 0,0799038 0.52 5.776 0.000 1/2000 

  

A partir destes resultados, pode-se dizer que ambos os métodos 

ofereceram bons resultados. A partir do EMQ pode-se afirmar que a detecção de 

cantos proporcionou melhores resultados para este trabalho, porém, a diferença 

entre os dois métodos é pequena, o que permite afirmar que ambos os métodos são 

bons para a localização precisa. Além disso, estes experimentos mostraram que o 

método de reamostragem dos padrões é significativamente melhor que o método 

usando padrões pré-definidos.            



  

Christiane N. C. Kokubum 

133

 
CAPÍTULO VII   

7. CONCLUSÕES E RECOMENDAÇÕES  

O processo de classificação de alvos por correspondência de 

padrões, apresentado neste trabalho, produziu bons resultados em imagens 

coletadas com um sistema de luz estruturada. Como pôde ser observado, a 

identificação de alvos usando o método baseado em área proporcionou melhores 

resultados do que o método baseado em assinatura. Isto pode ser conseqüência dos 

pré-processamentos realizados como perseguição de fronteiras ou da dimensão dos 

alvos. Com relação ao tipo de padrões pré-definidos a serem usados (template), 

notou-se que o uso de imagens suavizadas proporcionou melhores resultados do 

que padrões binários. Para classificação, os padrões reamostrados em tempo real 

foi o que apresentou os melhores resultados. 

Com relação à localização precisa usando o método de 

correspondência por mínimos quadrados, o método de reamostragem em tempo real 

dos padrões primitivos provou ser melhor que o método usando alvos pré-definidos e 

suas instâncias estáticas. Verificou-se, ainda, que a diferença entre os  resultados 

proporcionados pelos métodos de detecção de cantos e de correspondência por 

mínimos quadrados é pequena, permitindo afirmar que ambos os métodos são 

equivalentes para a localização precisa. Em ambos os casos os cantos dos alvos 

foram localizados com precisão subpixel. 

Além disso, podem-se mencionar os seguintes problemas da 

correspondência por mínimos quadrados: determinação dos valores aproximados 



  

Christiane N. C. Kokubum 

134

 
dos cantos dos padrões e a forma dos padrões projetados. O problema na forma dos 

padrões está relacionado a retas em que os gradientes são idênticos nestas áreas. 

Uma analogia muito interessante a se mencionar neste trabalho está 

relacionada às duas metodologias comparadas para localização precisa. Ambos os 

métodos (Moravec e correspondência por padrão) determinam coordenadas 

aproximadas com precisão pixel e estas mesmas coordenadas são refinadas pelos 

métodos de Förstner e correspondência por mínimos quadrados.   

Outras estratégias que podem ser usadas para melhorar os 

resultados são: 

- Utilizar o conhecimento à priori a respeito das posições e das 

orientações da câmara e do projetor em relação ao espaço objeto 

para fazer a predição de localização e aspecto do alvo; 

- Realizar uma predição da rotação e da escala do alvo a partir do 

conhecimento das distâncias e dos ângulos entre os alvos 

segmentados e a partir disto reamostrar os alvos primitivos. Esta 

estratégia parece ser confiável, porém, possui problemas em áreas 

de descontinuidades; 

- Realizar a detecção de padrões unindo os dados obtidos pelos 

detectores baseados em área e baseados em contornos (assinatura); 

- Realizar uma operação de melhoramento local da imagem por meio 

da técnica de especificação do histograma, o que deve melhorar a 

localização precisa dos alvos; 

- Melhorar o sistema de projeção e captura com a aquisição de uma 

nova câmara de melhor resolução e construção.  



  

Christiane N. C. Kokubum 

135

 
REFERÊNCIAS BIBLIOGRÁFICAS  

ACKERMAN, F. High precision digital image correlation. Proceedings of the 39th 

Photogrammetric Week, Stuttgart, 1984, p. 231-243.  

ANDRADE, J. B. Fotogrametria. Curitiba. SBEE, 1998.  

ARTERO, A.O. Técnicas para a extração automática de feições retas em 
imagens digitais. Dissertação de Mestrado, Curso de Pós Graduação em Ciências 
Cartográficas, Presidente Prudente, 1999, 117p.    

BALLARD, D.H.; BROWN, C.M. Computer Vision, New Jersey: Prentice-Hall, 1982, 
522p.  

BATTLE, J.; MOUADIBB, E.; SALVI, J. Recent progress in coded structured light 
as a technique to solve the correspondence problem: a survey. Pattern 
Recognition, vol. 31, nº 7, p. 963-982, 1996.  

BOYER, K. L; KAK, A. C. Color-encoded structured light for rapid range sensing. 
IEEE Transactions Pattern Analysis machine Intelligence, vol. PAMI-9, nº 1, p. 14-28, 
1987.  

CARRIHILL, B; HUMMEL, R. Experiments with the intensity ratio depth sensor. 
Computer Vision Graphics Image Processing, vol. 32, p. 337-358, 1985.   

COSTA, E. R.; TOMMASELLI, A.M.G.; GALO, M.. Incorporação da pré-análise no 
processo de correspondência de pontos em Fotogrametria Digital. XXI 
Congresso Brasileiro de Cartografia, Belo Horizonte, 2003.  

DALLAS, R.W.A. Architectural and archaelogical Photogrammetry. In: ATKINSON, 
K.B. Close range photogrammetry and machine vision. Department of 
Photogrammetry and Surveying, University College London. Whittles Publishing, 1996.  

DREWNIOK, C.; ROHR, K. Exterior orientation 

 

an automatic approach based 
on fitting analytic landmark models. ISPRS JOURNAL OF PHOTOGRAMMETRY 
&amp;amp; REMOTE SENSING 52, 132-145, Alemanha, 1997.  



  

Christiane N. C. Kokubum 

136

 
DUNN, S. M.; KEIZER, R. L. Measuring the area and volume of the human body 
with structured light. IEEE TRANSACTIONS ON SYSTEMS, MAN, AND 
CYBERNETICS, vol. 19, nº 6, 1989. 
EL-HAKIM, S. F. Vision-based automated measurement techniques. In: 
ATKINSON, K.B. Close range photogrammetry and machine vision. Department of 
Photogrammetry and Surveying, University College London. Whittles Publishing, 1996.  

FRASER, C.S. Industrial measurement applications. In: ATKINSON, K.B. Close 
range photogrammetry and machine vision. Department of Photogrammetry and 
Surveying, University College London. Whittles Publishing, 1996.  

GALO, M. Calibração e Aplicação de Câmaras Digitais. Curitiba, 1993. 
Dissertação de Mestrado, Curso de Pós-Graduação em Ciências Geodésicas, 
UFPR.  

GALO, M; TOZZI, C. L. Extração de pontos com acurácia subpixel em imagens 
digitais. Série em Ciências Geodésicas. Universidade Federal do Paraná, Curso de 
Pós-Graduação em Ciências Geodésicas, Curitiba, volume 2, 2002.   

GEMAEL, C. Introdução ao ajustamento de observações: aplicações geodésicas. 
Curitiba, UFPR, 1994, 319p.  

GONZALES, R.C., Digital Image Processing, Addison Wesley, New York, 1993.  

GONZALEZ, R. C.; WOODS, R. E. Processamento de Imagens Digitais, Tradução: 
Roberto Marcondes César Junior e Luciano da Fontoura Costa, Ed, Edgard Blücher, 
São Paulo, 2000, 509p.  

GRUEN, A. Least squares matching: a fundamental measurement algorithm. In: 
ATKINSON, K. B. Close range photogrammetry and machine vision. Department of 
Photogrammetry and Surveying, University College London. Whittles Publishing, 
1996.  

HARALICK, R.; SHAPIRO, L. G. Computer and robot vision.  Reading: Addison-
Wesley Publishing Company, 1993, Vol. II, 630 p. 
HASEGAWA, J. K.; KÜNZLI, R.; THOMAZ, R. C. C. Corrida contra o tempo: 
Salvamento arqueológico. Geoconvergência, vol. 2, nº 2, 1999.  

HATTORI, S.; AKIMOTO, K.; OKAMOTO, A.; HASEGAWA, H.; FRASER, C.S. 
Design and Use of Coded Targets for Automatic Measurement with a CCD 



  

Christiane N. C. Kokubum 

137

 
Camera. ASPRS Annual Conference. Portland, Oregon, American Society of 
Photogrammetry &amp;amp; Remote Sensing: 11, 2000.   

HOWARD, A; PADGETT, C. A generalized approach to real-time pattern 
recognition in sensed data. Pattern Recognition 32, 1999, p. 2069-2071.   

JAIN, A. K.; DUIN, R.P.W.; MAO, J.  Statistical Pattern Recognition: A Review. In: 
IEEE Transactions on Pattern Analysis and Machine Intelligence, Vol: 22, No. 1, 5-
37:264-323, January 2000.  

KEEFE, M; RILEY, D. R. Capturing facial surface information. Photogrammetric 
Engineering and Remote Sensing, vol. 52, p. 1539-1548, 1986.  

KRAUS, K. Photogrammetry 

 

Fundamentals and Standard Processes. 
DÜMMLER / BONN, volume 1, 1993.  

MAAS, H.G. Robust Automatic Surface Reconstruction with Structured Light. 
In: INTERNATIONAL ARCHIVES OF PHOTOGRAMMETRY AND REMOTE 
SENSING. Proceedings. P.709-713. Washington, 1992.  

MAYR, W.; POTH, Z. Automatic generation of stereomodels. JOINT ISPRS 
WORKSHOP WG III/2 AND IC WG II/III. Stockholm, Sweden, 1995.  

MIKHAIL, E. M., BETHEL, J. S, MCGLONE, J. C. Introduction to Modern 
Photogrammetry. Ed. John Wiley &amp;amp; Sons, Inc. New York, 2001.  

MUSTAFA, A. A. Y.; SHAPIRO, L.G.; GANTER, M.A. 3D object identification with 
color and curvature signatures. Pattern recognition, 1999, 339-355.  

NEWTON, I.; MITCHELL, H.L. Medical Photogrammetry. In: ATKINSON, K. B. 
Close range photogrammetry and machine vision. Department of Photogrammetry 
and Surveying, University College London. Whittles Publishing, 1996.  

OOSTERLINCK, A.; VUYLSTEKE, P. Range image acquisition with a single 
binary-encoded light pattern. IEEE Transactions on pattern analysis and machine 
intelligence, vol. 12, nº 2, 1990.  

OTSU, N. A threshold selection method from gray-level histogram. IEEE 
Transactions on System Man Cybernetics, Vol. SMC-9, nº 1, 1979, pp. 62-66. 



  

Christiane N. C. Kokubum 

138

  
REISS, M.L.L; TOMMASELLI, A.M.G. Calibração de um projetor de padrões para 
reconstrução 3D por luz estruturada. I SIMGEO 

 
Simpósio de Ciências 

Geodésicas e tecnologias da Geoinformação, Recife, 2004.  

SCALCO, P.A.P. Determinação automática de correspondência em um sistema 
de reconstrução com luz estruturada. Dissertação de Mestrado. Curso de Pós 
Graduação em Ciências Cartográficas, FCT/UNESP, Presidente Prudente, 2000.  

SCHALKOFF, R.J. Digital image processing and computer vision. Department of 
Electrical and Computer Engineering Clemson University, 1989.  

SCHENK, T. Digital Photogrammetry. The Ohio State University, volume 1, 1999.  

SONKA, M.; VAKLAV, H; BOYLE, R. Image processing, analysis, and machine 
vision. PWS PUBLISHING. 770p, 1998.  

SPRING: Tutorial de Geoprocessamento. Descrição geral do SPRING. 
Disponível em:&amp;lt;http://www.dpi.inpe.br/spring/teoria/index.html&gt;. Acesso em: 03 de 
março de 2003.  

TING, A.; LEUNG, M. K. H.. Form recognition using linear structure. Pattern 
Recognition 32, 1999, p. 645-656.   

TOMMASELLI, A.M.G. Implementação de Um Sistema Fotogramétrico Digital 
Para Reconstrução de Imagens. Relatório Final de Bolsa de Pesquisa, nível 2c, 
apresentado ao CNPq, Faculdade de Ciências e Tecnologia, Unesp, Presidente 
Prudente, 1997, 115p.  

TOMMASELLI, A. M. G.; GALO, M.; HASEGAWA, J. K. Modernas Tecnologias de 
Aquisição de Imagens em Fotogrametria. BOLETIM DE CIÊNCIAS 
GEODÉSICAS. Curitiba, v. 6, nº 1, p. 49-64, 2000.  

TOMMASELLI, A. M. G.; GALO, M.; HASEGAWA, J. K. Desenvolvimento de uma 
biblioteca de funções e classes para Fotogrametria. XXI Congresso Brasileiro de 
Cartografia, Belo Horizonte, 2003.  

WANG, Y. F.; MITICHE, A.; AGGARWAL, J. K. Computation of surface orientation 
and structure of objects using grid coding. IEEE Transactions on Pattern Analysis 
Machine Intelligence, vol. PAMI-9, nº 1, p. 129-137, 1987. 

http://www.dpi.inpe.br/spring/teoria/index.html&gt;


  

Christiane N. C. Kokubum 

139

 
WOLF, P.R. Elements of Photogrammetry, with air photo interpretation and 
remote sensing. McGRAW-HILL Internation Editions, 1983.  



This document was created with Win2PDF available at http://www.daneprairie.com.
The unregistered version of Win2PDF is for evaluation or non-commercial use only.

http://www.daneprairie.com

	CAPA
	FOLHA DE ROSTO
	RESUMO
	ABSTRACT
	LISTA DE FIGURAS
	LISTA DE TABELAS
	CONTEÚDO
	LISTA DE SIGLAS
	CAPÍTULO I
	1. INTRODUÇÃO
	1.1. Considerações iniciais
	1.2. Objetivos
	1.3 . Estrutura do trabalho


	CAPÍTULO II
	2. IMAGENS DIGITAIS: AQUISIÇÃO E PROCESSAMENTO
	2.1. Imagem Digital
	2.2. Câmaras digitais
	2.3. Sistemas de coordenadas
	2.4. Efeitos sistemáticos
	2.5. Melhoramento de contraste linear
	2.6. Segmentação
	2.7. Limiarização
	2.8. Detecção de bordas
	2.9. Detector de cantos


	CAPÍTULO III
	3. FOTOGRAMETRIA À CURTA DISTÂNCIA
	3.1. Aplicações da Fotogrametria à curta distância
	3.2. Luz estruturada


	CAPÍTULO IV
	4. RECONHECIMENTO DE PADRÕES
	4.1. Correspondência por padrão (Template matching)
	4.2. Correspondência por assinatura
	4.3. Outras técnicas para o reconhecimento de padrões


	CAPÍTULO V
	5. MATERIAIS E MÉTODOS
	5.1. Materiais
	5.2. Métodos


	CAPÍTULO VI
	6. DESENVOLVIMENTO E IMPLEMENTAÇÃO
	6.1. Geração automática de padrões
	6.2. Limiarização local
	6.3. Segmentação
	6.4. Classificação
	6.5. Localização precisa


	CAPÍTULO VII
	7. CONCLUSÕES E RECOMENDAÇÕES
	REFERÊNCIAS BIBLIOGRÁFICAS

</field>
	</doc>
</add>