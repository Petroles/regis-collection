<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.16740</field>
		<field name="filename">2340_D2014%20-%20Luiz%20Aizemberg.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">
UNIVERSIDADE FEDERAL FLUMINENSE

ESCOLA DE ENGENHARIA

DOUTORADO EM ENGENHARIA DE PRODUÇÃO

LUIZ AIZEMBERG

OTIMIZAÇÃO DAS MOVIMENTAÇÕES DE LOTES DE DERIVADOS DE PETRÓLEO E

DE BIOCOMBUSTÍVEIS PELA REDE LOGÍSTICA BRASILEIRA DE PETRÓLEO:

CONCEITOS, MODELAGEM E APLICAÇÃO

NITERÓI

2014



LUIZ AIZEMBERG

OTIMIZAÇÃO DAS MOVIMENTAÇÕES DE LOTES DE DERIVADOS DE PETRÓLEO E

DE BIOCOMBUSTÍVEIS PELA REDE LOGÍSTICA BRASILEIRA DE PETRÓLEO:

CONCEITOS, MODELAGEM E APLICAÇÃO

Tese apresentada ao Curso de Pós-
Graduação em Engenharia de Produção da
Universidade Federal Fluminense, como
requisito parcial para obtenção do Grau
de Doutor em Engenharia de Produção.
Área de Concentração: Sistemas, Apoio à
decisão e Logística.

Orientador: Prof. Dr. Artur Alves Pessoa

Niterói

2014



LUIZ AIZEMBERG

OTIMIZAÇÃO DAS MOVIMENTAÇÕES DE LOTES DE DERIVADOS DE PETRÓLEO E

DE BIOCOMBUSTÍVEIS PELA REDE LOGÍSTICA BRASILEIRA DE PETRÓLEO:

CONCEITOS, MODELAGEM E APLICAÇÃO

Tese apresentada ao Curso de Pós-Graduação em Enge-
nharia de Produção da Universidade Federal Fluminense,
como requisito parcial para obtenção do Grau de Doutor
em Engenharia de Produção. Área de Concentração: Sis-
temas, Apoio à decisão e Logística.

Aprovada dia 9 de julho de 2014.

BANCA EXAMINADORA

Prof. Dr. Artur Alves Pessoa - Orientador

UFF

Prof. Dr. Eduardo Uchoa Barboza - Co-orientador

UFF

Prof. Dr. Eduardo Siqueira Brick

UFF

Prof. Dr. Luidi Gelabert Simonetti

UFF

Prof. Dr. Marcus Vinicius Soledade Poggi de Aragão

PUC

Prof. Dr. Virgílio José Martins Ferreira Filho

UFRJ

Niterói

2014



Dedico este trabalho àqueles que sempre me

apoiaram, incentivaram e cobraram muito para

que eu me tornasse engenheiro, meus amados

pais Gerson Aizemberg e Angela Maria Aizem-

berg. Sei que nunca conseguirei retribuir tanta

dedicação e amor.



AGRADECIMENTOS

Gostaria de agradecer a todos os que participaram do projeto que originou esta tese, à

equipe UFCG, equipe UTFPR, e principalmente à equipe UFF.

Quero agradecer ao meu orientador Artur Alves Pessoa que, com seus incomensuráveis

conhecimentos e infindável boa vontade, sempre se colocou à disposição para me auxiliar em

qualquer etapa. Agradeço também ao meu co-orientador, Eduardo Uchoa Barboza, por sua ajuda

em diversos momentos de minha pesquisa.

A minha família, pois sem o seu eterno apoio, carinho e cobranças, não seria possível a

realização deste trabalho.

Aos meus amigos do Logis, Marcos, Hugo, Maurício, André, Fred, Guilherme e Mario,

que me ajudaram muito ao longo do mestrado e doutorado.

A todos os meus antigos professores que, seja pela inteligência, conhecimento ou amor

à profissão, me tornaram cada vez mais interessado pelo conhecimento.



RESUMO

Nesta tese de doutorado, foram estudados modelos matemáticos e outras técnicas de
otimização para um problema de nível tático de transporte de óleo e derivados. O problema
monoproduto e monomodal considera capacidades de estoque e tamanhos de lote discretos a
serem transportados, objetivando atender as demandas ao longo de um horizonte de tempo.
Testes exaustivos foram realizados com 75 instâncias retiradas da literatura e com 25 novas
instâncias com maior grau de dificuldade do que as já existentes. Uma heurística baseada em
geração de colunas foi desenvolvida para encontrar boas soluções viáveis em menos tempo do
que os algoritmos heurísticos do otimizador comercial utilizado.

Este estudo foi posteriormente utilizado no desenvolvimento de um modelo matemático
multiproduto e multimodal, onde diversas restrições encontradas no planejamento logístico de
uma empresa de petróleo são consideradas. Nesta etapa, foram pesquisadas e testadas técnicas
de otimização com maior aderência a modelos matemáticos complexos. Optou-se por mudar
o foco de métodos exatos para heurísticos. Uma heurística baseada em busca local foi cons-
truída e sua eficiência comprovada. Além das instâncias utilizadas no estudo anterior, instâncias
baseadas em dados reais foram utilizadas, o que permitiu testar todas as restrições do modelo.

Palavras-chave: Programação Matemática, Logística, Petróleo.



ABSTRACT

In this thesis, we study tactical models and other optimization techniques for a crude oil
transportation problem. The problem with one product and one transportation mode considers
inventory capacities and discrete lot sizes to be transported, aiming at meeting given demands
over a finite time horizon. We use 75 instances from the literature and propose 25 new harder
ones. A column generation-based heuristic is proposed to find good feasible solutions with less
computational burden than the heuristics of the commercial solver used.

The optimization study is then used in the development of a mathematical model with
several products and transportation modes, where many real constraints found in the logistic
management of a petroleum company are considered. Optimization techniques more adherent to
complex mathematical models are studied. The focus changed from exact to heuristic methods.
A local search heuristic was devised and its efficiency comproved. Instances from the previous
study and new instances based on real data are used. These new instances allow testing the new
constraints added in the model.

Keywords: Mathematical Programming, Logistic, Petroleum.



7

SUMÁRIO

1 INTRODUÇÃO 16

1.1 ENQUADRAMENTO . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16

1.2 MOTIVAÇÕES . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17

1.2.1 LOGÍSTICA E PETRÓLEO . . . . . . . . . . . . . . . . . . . . . . 17

1.2.2 GERENCIAMENTO DA CADEIA DE SUPRIMENTOS . . . . . 18

1.2.3 CUSTOS DA LOGÍSTICA BRASILEIRA . . . . . . . . . . . . . . 18

1.2.4 BREVE HISTÓRICO DA INDÚSTRIA BRASILEIRA DE PE-

TRÓLEO (CRONOLOGIA) . . . . . . . . . . . . . . . . . . . . . . 20

1.2.5 COMPLEXIDADE DO PROBLEMA ESTUDADO . . . . . . . . 20

1.3 OBJETIVOS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21

1.4 ORGANIZAÇÃO DO TRABALHO . . . . . . . . . . . . . . . . . . . . . . 22

2 ESTUDO DO PROBLEMA DO PLANEJAMENTO DE MOVIMENTAÇÕES DE

LOTES ATRAVÉS DE UMA REDE LOGÍSTICA MONOPRODUTO E MONO-

MODAL 23

2.1 REVISÃO DE LITERATURA . . . . . . . . . . . . . . . . . . . . . . . . . 24

2.2 FORMULAÇÕES PARA O PROBLEMA DO PLANEJAMENTO DE MO-

VIMENTAÇÕES DE LOTES ATRAVÉS DE UMA REDE LOGÍSTICA 25

2.2.1 DADOS DE ENTRADA DO PROBLEMA . . . . . . . . . . . . . 26

2.2.2 FORMULAÇÃO NATURAL . . . . . . . . . . . . . . . . . . . . . 27

2.2.3 FORMULAÇÃO BÁSICA . . . . . . . . . . . . . . . . . . . . . . . 28

2.2.4 KNAPSACK CASCADING . . . . . . . . . . . . . . . . . . . . . . . . 30

2.2.5 CASCADING ACUMULADO NAS ROTAS E ARREDONDADO . 31

2.2.6 CASCADING ACUMULADO NOS LOCAIS E ARREDONDADO 32

2.2.7 FORMULAÇÃO PARA GERAÇÃO DE COLUNAS . . . . . . . 35

2.3 HEURÍSTICA BASEADA EM GERAÇÃO DE COLUNAS . . . . . . . . 37

2.3.1 PROGRAMAÇÃO DINÂMICA . . . . . . . . . . . . . . . . . . . . . 38



8

2.3.2 PROCEDIMENTO DA HEURÍSTICA BASEADA EM GERAÇÃO DE

COLUNAS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40

2.4 RESULTADOS COMPUTACIONAIS . . . . . . . . . . . . . . . . . . . . 42

2.4.1 RESULTADOS COMPUTACIONAIS DAS FORMULAÇÕES . . 42

2.4.2 RESULTADOS COMPUTACIONAIS DA HEURÍSTICA BASEADA

EM GERAÇÃO DE COLUNAS . . . . . . . . . . . . . . . . . . . . . 48

2.5 CONCLUSÕES DESTE CAPÍTULO . . . . . . . . . . . . . . . . . . . . . 50

3 PROBLEMA DAS MOVIMENTAÇÕES DE LOTES DE DERIVADOS DE PE-

TRÓLEO E DE BIOCOMBUSTÍVEIS PELA REDE LOGÍSTICA BRASILEIRA

DE PETRÓLEO - MALHA BRASIL 52

3.1 PRODUTOS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52

3.2 LOCAIS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53

3.3 MODAIS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56

3.4 CAPACIDADES DE ESTOQUE . . . . . . . . . . . . . . . . . . . . . . . . 60

4 ESTUDO DO PROBLEMA DAS MOVIMENTAÇÕES DE LOTES DE DERIVA-

DOS DE PETRÓLEO E DE BIOCOMBUSTÍVEIS PELA REDE LOGÍSTICA

MULTIPRODUTO E MULTIMODAL BRASILEIRA (MALHA BRASIL) 62

4.1 REVISÃO BIBLIOGRÁFICA . . . . . . . . . . . . . . . . . . . . . . . . . 64

4.2 MODELO MATEMÁTICO . . . . . . . . . . . . . . . . . . . . . . . . . . 66

4.3 BUSCA LOCAL POR PROGRAMAÇÃO INTEIRA MISTA (PIM) . . . 77

4.4 RESULTADOS COMPUTACIONAIS . . . . . . . . . . . . . . . . . . . . 79

4.4.1 CONSTRUÇÃO DA INSTÂNCIA BASE . . . . . . . . . . . . . . . . . . 79

4.4.2 EXPERIMENTOS COM A BUSCA LOCAL POR PIM . . . . . . . . . . . 80

4.4.3 VISUALIZAÇÃO DA SOLUÇÃO DE UMA INSTÂNCIA BASEADA NA INS-

TÂNCIA BASE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 84

4.5 CONCLUSÕES DO CAPÍTULO . . . . . . . . . . . . . . . . . . . . . . . 85

4.5.1 MELHORIAS DESEJÁVEIS . . . . . . . . . . . . . . . . . . . . . 86

5 CONCLUSÃO E TRABALHOS FUTUROS 96

A TABELAS COMPLETAS COM OS RESULTADOS COMPUTACIONAIS DE

TODAS AS FORMULAÇÕES DO ESTUDO DO CAPÍTULO 2 97



B ARQUIVO DE CONFIGURAÇÃO DO SOFTWARE 116



10

LISTA DE FIGURAS

1.1 Custos logísticos considerados . . . . . . . . . . . . . . . . . . . . . . . . . . 18

1.2 Custos logísticos em relação ao PIB . . . . . . . . . . . . . . . . . . . . . . . 19

1.3 Distribuição dos custos logísticos . . . . . . . . . . . . . . . . . . . . . . . . 19

2.1 Problema com um produto e um modal de transporte . . . . . . . . . . . . . . 23

2.2 Programação Dinâmica com dois tamanhos de lote . . . . . . . . . . . . . . . 39

2.3 (a) Representação de um conjunto de variáveis z correspondentes à mesma rota

e classe de navio. (b) Branching nas variáveis z. (c) Branching nas variáveis x. 47

3.1 Organização dos produtos em grupos de produtos . . . . . . . . . . . . . . . . 53

3.2 Localização das bacias, plataformas e terminais na cadeia logística da Petrobras

no Brasil . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 55

3.3 Localização das refinarias na cadeia logística da Petrobras no Brasil . . . . . . 56

3.4 Topologia aproximada da malha multimodal petrolífera brasileira . . . . . . . . 58

3.5 Bases, refinarias, ferrovias e dutos na cadeia logística da Petrobras no Brasil . . 59

3.6 Capacidades agregadas de estoque em cada local . . . . . . . . . . . . . . . . 61

4.1 Balanço acumulado dos dois períodos para cada grupo de produtos em cada local 85

4.2 Capacidade física máxima e estoque inicial por grupo de produtos e por local . 86

4.3 Envios no período 1 do produto 5 pertencente ao grupo DSL AUTOM MTE . . 87

4.4 Envios no período 2 do produto 5 pertencente ao grupo DSL AUTOM MTE . . 88

4.5 Envios no período 1 do produto 6 pertencente ao grupo DSL MARIT (nada foi

enviado no período 2) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 88

4.6 Envios no período 1 do produto 10 pertencente ao grupo DSL AUTOM BTE . . 89

4.7 Envios no período 2 do produto 10 pertencente ao grupo DSL AUTOM BTE . . 89

4.8 Envios no período 1 do produto 11 pertencente ao grupo DSL MARIT . . . . . 90

4.9 Envios no período 2 do produto 11 pertencente ao grupo DSL MARIT . . . . . 90

4.10 Envios no período 1 do produto 12 pertencente ao grupo DSL AUTOM ATE . . 91



4.11 Envios no período 2 do produto 12 pertencente ao grupo DSL AUTOM ATE . . 91

4.12 Estoques por local e grupo de produtos da solução da instância sem violação

física (parte 1/4) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 92

4.13 Estoques por local e grupo de produtos da solução da instância sem violação

física (parte 2/4) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 93

4.14 Estoques por local e grupo de produtos da solução da instância sem violação

física (parte 3/4) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 94

4.15 Estoques por local e grupo de produtos da solução da instância sem violação

física (parte 4/4) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95



12

LISTA DE TABELAS

2.1 Lidando com produção fracionária . . . . . . . . . . . . . . . . . . . . . . . . 40

2.2 Resultados médios e número de instâncias resolvidas para as formulações mate-

máticas e resultados de Rocha (2010) para as instâncias da classe média . . . . 44

2.3 Resultados médios e número de instâncias resolvidas para as formulações mate-

máticas e resultados de Rocha (2010) para as instâncias da classe difícil . . . . 44

2.4 Tamanho das formulações para uma instância da classe mais difícil . . . . . . . 46

2.5 Resultados médios e número de instâncias resolvidas para a formulação CALA

(comparando com CARA) e suas relaxações para a classe de instâncias mais

difíceis criadas . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 49

2.6 Resultados médios e quantidade de soluções viáveis encontradas para a heurís-

tica baseada em geração de colunas com e sem violação nos terminais usando a

CARA para a classe mais difícil de instâncias . . . . . . . . . . . . . . . . . . 50

2.7 Resultados médios e quantidade de instâncias resolvidas para as duas formula-

ções com variáveis acumuladas e a heurística baseada em geração de colunas,

para a classe mais difícil de instâncias . . . . . . . . . . . . . . . . . . . . . . 50

4.1 Resultados computacionais da Busca Local por PIM com instâncias modificadas

da literatura . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82

4.2 Resultados computacionais da Busca Local por PIM com instâncias aleatórias . 83

A.1 Solução ótima ou melhor solução encontrada para as instâncias artificiais utili-

zadas nos teste . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 98

A.2 Formulação básica para classe média e difícil de instâncias, resultados da raiz . 99

A.3 Formulação básica para classe média e difícil de instâncias, resultado final . . . 100

A.4 Knapsack Cascading com Arredondamento para classe média e difícil de ins-

tâncias, resultados da raiz . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 101

A.5 Knapsack Cascading com Arredondamento para classe média e difícil de ins-

tâncias, resultado final . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102



A.6 Formulação acumulada nas rotas e arredondado com lote binário para classe

média e difícil de instâncias, resultados da raiz . . . . . . . . . . . . . . . . . . 103

A.7 Formulação acumulada nas rotas e arredondado com lote binário para classe

média e difícil de instâncias, resultado final . . . . . . . . . . . . . . . . . . . 104

A.8 Formulação acumulada nas rotas e arredondado com lote contínuo para classe

média e difícil de instâncias, resultados da raiz . . . . . . . . . . . . . . . . . . 105

A.9 Formulação acumulada nas rotas e arredondado com lote contínuo para classe

média e difícil de instâncias, resultado final . . . . . . . . . . . . . . . . . . . 106

A.10 Formulação acumulada nas rotas e arredondado com lote contínuo com a classe

mais difícil de instâncias, raiz e resultado final . . . . . . . . . . . . . . . . . . 107

A.11 Formulação acumulada nos locais e arredondado com as classes média e difícil

de instâncias, resultado da raiz . . . . . . . . . . . . . . . . . . . . . . . . . . 108

A.12 Formulação acumulada nos locais e arredondado com as classes média e difícil

de instâncias, resultado final . . . . . . . . . . . . . . . . . . . . . . . . . . . 109

A.13 Formulação acumulada nos locais e arredondado com a classe mais difícil de

instâncias, raiz e resultado final . . . . . . . . . . . . . . . . . . . . . . . . . . 110

A.14 Formulação com Geração de Colunas, resultados da raiz para as classes média e

difícil de instâncias . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 111

A.15 Formulação com Geração de Colunas, resultados da raiz para as instâncias da

classe mais difícil . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 112

A.16 Formulação acumulada nas rotas e arredondado com custo de estouro de 999999,

com a classe mais difícil de instâncias, raiz e resultado final . . . . . . . . . . . 113

A.17 Formulação acumulada nos locais e arredondado com custo de estouro de 999999,

com a classe mais difícil de instâncias, raiz e resultado final . . . . . . . . . . . 114

A.18 Heurística baseada em Geração de Colunas, com as formulações acumuladas

nas rotas e locais, com estouro e sem estouro, gap UB . . . . . . . . . . . . . . 115



LISTA DE ABREVIAÇÕES

ANP Agência Nacional de Petróleo

bpd barris por dia

BLP Busca Local por PIM

CAL Cascading Acumulado nos Locais

CALA Cascading Acumulado nos Locais e Arredondado

CAR Cascading Acumulado nas Rotas

CARA Cascading Acumulado nas Rotas e Arredondado

CEEI Centro de Engenharia Elétrica e Informática

CPGEI Programa de Pós-Graduação em Engenharia Elétrica e Informática Industrial

CPLEX Software comercial de otimização

CPU Central Processing Unit

CSCMP Council of Supply Chain Management Professionals

E&amp;amp;P Exploração e Produção de petróleo e gás natural

FB Formulação Básica

FN Formulação Natural

FGC Formulação para Geração de Colunas

FPSO Floating production storage and offloading

GB Gigabyte

GC Geração de Colunas

GLP Gás Liquefeito de Petróleo

HGC Heurística baseada em Geração de Colunas

IBP Instituto Brasileiro de Petróleo, Gás e Biocombustíveis

ILOS Instituto de Logística e Supply Chain

KC Knapsack Cascading

KCA Knapsack Cascading Arredondado

LCO Light Cycle Oil - Óleo Leve de Reciclo



15

LOGIS Núcleo de Logística Integrada e Sistemas

LUBNOR Refinaria Lubrificantes e Derivados do Nordeste

MDC Máximo Divisor Comum

MIP Mixed Integer Programming

Petrobras Petróleo Brasileiro S.A.

PIB Produto Interno Bruto

PIM Programação Inteira Mista

PMR Problema Mestre Restrito

RECAP Refinaria de Capuava

REDUC Refinaria de Duque de Caxias

REFAP Refinaria Alberto Pasqualini

REGAP Refinaria Gabriel Passos

REMAN Refinaria Isaac Sabbá

REPAR Refinaria Presidente Getúlio Vargas

REPLAN Refinaria de Paulínia

REVAP Refinaria Henrique Lage

RLAM Refinaria Landulpho Alves

RPBC Refinaria Presidente Bernardes

RPCC Refinaria Potiguar Clara Camarão

SCM Supply Chain Management

UFCG Universidade Federal de Campina Grande

UFF Universidade Federal Fluminense

UTFPR Universidade Tecnológica Federal do Paraná



1 INTRODUÇÃO

1.1 ENQUADRAMENTO

Esta tese de doutorado apresenta um estudo de otimização que faz parte do desenvol-

vimento de um software para apoio à tomada de decisões sobre as movimentações de lotes de

derivados de petróleo e de biocombustíveis pela rede logística brasileira de petróleo (Malha

Brasil). Este estudo foi desenvolvido em parceria com a empresa Petrobras (Petróleo Brasileiro

S.A.) e com três universidades brasileiras. A intenção da Petrobras é prover seus funcionários

de um software capaz de guiá-los no planejamento logístico da empresa, bastando para isso que

os dados de entrada da rede logística sejam adicionados no banco de dados e o software gere as

movimentações necessárias para o período escolhido. Por ser um problema de extrema comple-

xidade, o software será utilizado para o planejamento de médio e pequeno prazos (níveis tático

e operacional, respectivamente).

A ferramenta computacional está sendo desenvolvida por três universidades brasileiras

- UFF, UTFPR e UFCG. Cada uma possui uma função específica no projeto, a saber: a UFF,

representada pelo Núcleo de Logística Integrada e Sistemas (LOGIS), foi escalada para a cons-

trução de um modelo matemático, podendo também elaborar técnicas de otimização que achar

conveniente, como heurísticas e planos de corte. A UTFPR, representada pelo Programa de

Pós-Graduação em Engenharia Elétrica e Informática Industrial (CPGEI), ficou escalada para

desenvolver um modelo baseado em agentes com a intenção de retornar uma solução factível

para o problema, solução esta que poderá ser utilizada pelo modelo matemático da UFF para

aprimorar o upper bound do algoritmo de Branch-and-Bound utilizado na resolução do modelo.

Por último, a UFCG, representada pelo Centro de Engenharia Elétrica e Informática (CEEI) foi

escalada para a criação do banco de dados que conterá os dados de entrada da cadeia logística

da Petrobras, a concepção da interface gráfica da ferramenta e a documentação e integração dos



17

modelos para formação da ferramenta.

O resto da introdução está dividido da seguinte forma: a seção 1.2 relata as motivações

para a realização deste trabalho. A seção 1.3 informa os objetivos almejados. Por fim, a seção

1.4 apresenta a organização dos capítulos e seções.

1.2 MOTIVAÇÕES

1.2.1 LOGÍSTICA E PETRÓLEO

De acordo com o Council of Supply Chain Management Professionals (CSCMP) norte-

americano: "Logística é o processo de planejar, implementar e controlar de maneira eficiente o

fluxo e a armazenagem de produtos, bem como os serviços e informações associados, cobrindo

desde o ponto de origem até o ponto de consumo, com o objetivo de atender aos requisitos do

consumidor."

O termo logística tem origem nas operações militares. Ao decidir avançar suas tropas

seguindo uma determinada estratégia militar, os generais precisavam ter, sob suas ordens, uma

equipe que providenciasse o deslocamento, na hora certa, de munição, víveres, equipamentos e

socorro médico para o campo de batalha. Com o passar do tempo, o termo foi gradualmente se

generalizando para cobrir atividades de negócios e serviços (Novaes, 2001).

A logística possui uma visão holística e integrada de todas as atividades que ela envolve.

Então, enquanto controle de estoque, transporte, gerenciamento dos armazéns e distribuição são

todos importantes componentes, logística lida com a integração destas e de outras atividades para

prover um serviço de qualidade para o sistema ou corporação. Minimizar o uso dos recursos,

principalmente tempo e dinheiro, são os objetivos mais comuns (Ghiani et al, 2004).

A complexidade da logística pode ser modelada, analisada, visualizada e otimizada por

softwares de simulação e programação matemática.

A distribuição de derivados de petróleo caracteriza-se por transportar produtos de baixo

valor agregado e mínimo risco de obsolescência, além da demanda ser estável. Deste modo,

adota-se uma política de antecipação à demanda, sendo o estoque de derivados provenientes

das refinarias, descentralizado em diversas bases primárias, que por sua vez atendem a bases

secundárias, de modo a atender aos postos mais distantes do país. Normalmente, o transporte

entre essas instalações é feito através de navios, dutos, caminhões e vagões tanque, a partir de

previsões de vendas (dos Santos Cardoso, 2004).



18

1.2.2 GERENCIAMENTO DA CADEIA DE SUPRIMENTOS

Gestão da Cadeia de Suprimentos (Supply Chain Management - SCM) é o gerencia-

mento de uma rede de negócios interconectados envolvidos na provisão de produtos e serviços

necessários para que o produto acabado chegue ao consumidor (Harland, 2005). Esta rede de

negócios é responsável por todo o transporte e estocagem das matérias-primas, considerando a

capacidade e o custo de estoque. O objetivo do SCM é a redução do estoque, mas garantindo que

nenhum produto vai faltar quando necessário (Gomes, 2004). O desenvolvimento de técnicas e

ferramentas para melhorar o gerenciamento de cadeias de suprimento contribui para melhorar

suas estratégias e práticas, levando a melhores decisões (Siegel e Shim, 1999).

O gerenciamento da cadeia de suprimentos inclui a logística, podendo ser visto como

uma evolução desta.

1.2.3 CUSTOS DA LOGÍSTICA BRASILEIRA

Os dados desta subseção foram retirados do website do Instituto de Logística e Supply

Chain (ILOS). Quatro custos foram considerados: transporte, armazenagem, administrativo e

estoque. A figura 1.1 detalha cada um destes custos e as figuras 1.2 e 1.3 mostram, respecti-

vamente, os custos logísticos em relação ao PIB para o Brasil e para os EUA, e a distribuição

destes custos entre transporte, armazenagem e estoque, comparando a situação das empresas em

2009 e em 2011.

Figura 1.1: Custos logísticos considerados



19

Figura 1.2: Custos logísticos em relação ao PIB

Figura 1.3: Distribuição dos custos logísticos

Analisando as figuras, vemos que o gasto com os custos logísticos em relação ao PIB nos

EUA estão mais baixos (7,7%) do que no Brasil (10,6%), mas a distribuição destes custos segue

proporções parecidas, ficando o transporte, em ambos os países, com a maior proporção (61%



20

nos EUA e 59% no Brasil). Também podemos ver que a distribuição dos custos logísticos para

as empresas quase não sofreu alterações entre 2009 e 2011, com o custo armazenagem tendo a

maior diferença percentual, passando de 23% em 2009 para 26% em 2011.

Os custos logísticos representam uma parte importante dos custos das empresas. Por-

tanto, estudar meios de diminuir estes custos é imprescindível para aumentar a produtividade

das empresas.

1.2.4 BREVE HISTÓRICO DA INDÚSTRIA BRASILEIRA DE PETRÓLEO (CRO-

NOLOGIA)

1892: Perfurado o primeiro poço, na cidade de Bofete (interior do estado de São Paulo), porém

o poço continha apenas água sulfurosa.

1938: Criado o Conselho Nacional de Petróleo.

1939: Descoberta a primeira jazida de petróleo explorável comercialmente, em Salvador, Bahia.

1948: Criado o Centro de Estudos e Defesa do Petróleo, coordenando a campanha "O petróleo

é nosso".

1949: Entra em operação o primeiro oleoduto brasileiro, na região do Recôncavo Baiano.

1950: Instalação da refinaria Landulfo Alves, em Mataripe, Bahia. O primeiro petroleiro é

lançado ao mar.

1953: Fundada a Petrobras, detentora do monopólio na extração e refino do petróleo no Brasil.

1954: Petrobras entra em operação.

1968: Primeira descoberta de petróleo no mar, no campo de Guaricema em Sergipe.

1975: São adotados os contratos de risco entre a Petrobras e empresas privadas.

1997: Fim do monopólio da Petrobrás na exploração do petróleo no Brasil.

2006: Alcançada a autossuficiência temporária em petróleo.

2008: Começa a primeira produção no pré-sal no campo de Jubarte (a Bacia de Campos, litoral

sul do estado do Espírito Santo).

2009: Começa a operar a plataforma P-51, a primeira construída 100% no Brasil.

Para mais informações sobre a história da indústria do petróleo no Brasil, ver Quintas e

Quintans (2010) e Penna et al (2004).

1.2.5 COMPLEXIDADE DO PROBLEMA ESTUDADO

O problema de movimentação de lotes através de uma rede logística é encontrado na

literatura com diversos nomes e diversas características diferentes. Em geral, este problema é



21

classificado como NP-Difícil (Milidiú e Pessoa, 2001; Milidiú et al, 2002; Liporace, 2005). A

dificuldade em resolver em tempo computacional aceitável problemas NP-Difíceis é uma das

motivações para a escolha deste problema para compor esta tese de doutorado.

1.3 OBJETIVOS

O principal objetivo deste trabalho é a realização da modelagem matemática a ser utili-

zada no desenvolvimento do software proposto pela Petrobras para apoio à tomada de decisões

nas movimentações de lotes de derivados de petróleo e de biocombustíveis pela rede logística

brasileira de petróleo (Malha Brasil). Este objetivo principal foi subdividido em dois objetivos.

O primeiro deles é a realização de um estudo teórico para o problema das movimentações de

lotes por uma rede logística. Neste estudo, não são levadas em consideração questões práticas

acerca da aplicabilidade das técnicas utilizadas no software em desenvolvimento. O segundo

objetivo é o algoritmo de programação matemática que será usado no software. Neste segundo

objetivo, são levadas em consideração apenas as técnicas de otimização com aplicação prática

reconhecida.

Para o primeiro objetivo da subdivisão, foi feita uma pesquisa bibliográfica sobre o tema

em busca de um problema parecido com o das movimentações de lotes de derivados de petróleo

e de biocombustíveis pela rede logística brasileira de petróleo (Malha Brasil). Um problema

monoproduto e monomodal com estrutura similar foi encontrado em Rocha (2010) e Rocha et al

(2011). O passo seguinte foi evoluir a modelagem em busca de um tempo computacional cada

vez menor. Seu uso também facilitou sobremaneira os testes de heurísticas e outras técnicas de

otimização.

O segundo objetivo da subdivisão foi construído desenvolvendo um modelo matemático

completo, multiproduto e multimodal, onde todos os requisitos do software proposto pela Pe-

trobras foram considerados. Neste modelo matemático, o mais importante é a manutenção do

abastecimento ao longo de toda a cadeia logística da Petrobras. Para isso, todos os locais, tanto

produtores quanto consumidores (ou os dois ao mesmo tempo), precisam ter seus estoques con-

trolados para evitar que haja falta de produtos, o que acarretaria desabastecimento na prática,

e evitar que haja excesso de produtos, o que acarretaria estouro dos estoques e necessidade de

contratar mais terminais. Outra função importante do modelo é minimizar o gasto com as mo-

vimentações necessárias para manter os estoques sob controle. De tudo o que foi desenvolvido

no estudo do primeiro objetivo, apenas as técnicas de otimização com boa aplicabilidade foram

consideradas neste segundo objetivo.



22

1.4 ORGANIZAÇÃO DO TRABALHO

Este trabalho está organizado da seguinte forma: o Capítulo 2 trata do estudo do pro-

blema de transporte monoproduto e monomodal, em que diversas formulações matemáticas são

testadas, e uma heurística baseada em geração de colunas é desenvolvida; o Capítulo 3 ex-

plica o problema de transferência da Malha Brasil; o Capítulo 4 trata do estudo do problema

de transporte multiproduto e multimodal, em que a formulação matemática que posteriormente

foi utilizada no software é descrita, assim como uma heurística de busca local por programação

inteira mista; por último, o Capítulo 5 lista as conclusões do trabalho.



23

2 ESTUDO DO PROBLEMA DO PLANEJAMENTO DE MOVIMENTAÇÕES DE

LOTES ATRAVÉS DE UMA REDE LOGÍSTICA MONOPRODUTO E MONOMODAL

O problema similar tratado aqui consiste em escalonar o transporte de óleo cru pelas

diversas rotas disponíveis entre as plataformas (pontos de produção marítimos) e os terminais

(pontos de demanda terrestres) para escoar a produção dos primeiros, provendo os produtos para

os segundos. Os estoques de todos os locais têm que ser respeitados, tanto no limite superior

quanto no inferior, não sendo permitida a falta ou sobra de produto. Todos os modais de trans-

porte são marítimos, e assume-se ilimitada a capacidade global da frota. Esta suposição não

foge à realidade, dado que a Petrobras pode alugar mais navios, caso seja necessário. A figura

2.1 ilustra o problema.

Figura 2.1: Problema com um produto e um modal de transporte

Em relação ao modelo matemático completo que será apresentado no Capítulo 4, este

modelo similar apresenta duas características que o simplificam: (i) somente um produto trafega

na rede. No modelo completo, a quantidade é ilimitada; (ii) apenas um modal, navio. No



24

modelo completo, rodovias, ferrovias e hidrovias são tratadas da mesma forma que o modal

navio é tratado no modelo similar. Porém, o modal dutoviário recebe tratamento diferenciado;

Por outro lado, o modelo similar não permite estouro de estoque, enquanto o modelo completo

permite.

O primeiro passo na análise teórica foi um estudo de modelagem matemática. Este estudo

começa com uma formulação intuitiva, onde um conjunto de variáveis contínuas representa

os estoques em cada período, e um conjunto de variáveis binárias representa os lotes sendo

enviados pelas rotas. Passa por formulações mais elaboradas, que requerem mais conhecimento

do problema, como é o caso das formulações em que os estoques só podem assumir valores

múltiplos do lote mínimo, ou quando os estoques são arredondados, não permitindo que os

mesmos possam ter valores que deixariam a solução inviável. Termina com uma transformação

total no modo de pensar a modelagem, que leva em conta o desempenho da mesma ao ser

executada pelo algoritmo de branch-and-bound do resolvedor utilizado.

As instâncias utilizadas para testar o desempenho das diversas formulações foram as

mesmas utilizadas por Rocha (2010). Os resultados mostram que houve um avanço importante

de desempenho à medida que as formulações foram sendo criadas e aperfeiçoadas, o que levou

à criação de novas e mais difíceis instâncias, baseadas nas existentes.

2.1 REVISÃO DE LITERATURA

O problema do transporte de óleo e derivados é tratado na literatura por diferentes abor-

dagens e características. Banaszewski et al (2010) tratam do planejamento de médio prazo da

transferência de produtos derivados de petróleo na rede multimodal da cadeia de suprimentos da

indústria petrolífera do Brasil utilizando modelos de sistemas multiagentes (Wooldridge, 2009)

baseados em leilões. No entanto, programação inteira é provavelmente o método mais utilizado.

Um survey em programação inteira mista é apresentado por Wolsey (1998). Para uma visão

geral de planejamento da produção usando programação inteira mista, veja Ghiani et al (2004).

Lee et al (1996) tratam do problema de gerenciamento de estoques de uma refinaria que

importa vários tipos de óleo cru que são entregues por diferentes navios. Moro e Pinto (2004)

também trataram do problema de gerenciamento de estoques de uma refinaria, mas com o óleo

cru sendo recebido por dutos, ao invés de navios. Rejowski Jr e Pinto (2004) estudaram um

problema com refinarias e dutos, mas neste caso o duto é usado para enviar os produtos da

refinaria para os consumidores. De la Cruz et al (2003) consideraram a distribuição de petróleo

e derivados através de uma rede de dutos. O problema foi abordado utilizando programação



25

multiobjetivo (Collette e Siarry, 2003) e heurística evolucionária (Rothlauf, 2011).

Lidando com redes marítimas, não necessariamente de transporte de óleo ou derivados,

Christiansen et al (2004) fizeram uma revisão do que já foi estudado sobre escalonamento e

roteamento de navios, focando na literatura publicada durante a década de 90. Christiansen

et al (2012) fizeram o mesmo tipo de revisão, mas começando pelo ano 2000. Podemos citar

características diferentes para o mesmo problema de transporte marítimo: condições de con-

gestionamento de portos, considerada por Lohatepanont e Kongsermsup (2012); Wang e Meng

(2012) desenvolveram um modelo de programação não-linear inteira mista e estocástico para

lidar com incertezas no tempo de trânsito e no carregamento e descarregamento nos portos;

Hennig et al (2012) consideraram o problema de escalonamento e roteamento de navios com

coletas e entregas fracionárias, ou seja, cada coleta e entrega pode ser dividida por vários na-

vios. Para resolver o problema, usaram geração de colunas (Desaulniers et al, 2005) onde cada

subproblema também é resolvido por geração de colunas. Muitos artigos resolveram problemas

práticos de escalonamento e roteamento de navios usando heurísticas, como Fagerholt e Ronen

(2013) e Yin et al (2012).

Rocha (2010) e Rocha et al (2011) usaram as restrições de mochila em cascata, geradas

pela conservação do fluxo em todos os locais, para otimizar o transporte de óleo e derivados

entre plataformas e terminais. Os resultados deste capítulo foram publicados em Aizemberg

et al (2014).

O restante deste capítulo está organizado da seguinte forma: a Seção 2.2 apresenta o

problema estudado e descreve detalhadamente todas as formulações desenvolvidas e testadas; a

Seção 2.3 detalha uma heurística baseada em geração de colunas; a Seção 2.4 mostra e compara

os resultados obtidos através de valores médios; por fim, a Seção 2.5 lista as conclusões e os

trabalhos futuros.

2.2 FORMULAÇÕES PARA O PROBLEMA DO PLANEJAMENTO DE MOVIMEN-

TAÇÕES DE LOTES ATRAVÉS DE UMA REDE LOGÍSTICA

Esta seção faz um estudo de modelagem por programação matemática para o problema

do planejamento de movimentações de lotes através de uma rede logística. Este estudo gerou

várias formulações que foram testadas e comparadas utilizando um conjunto de 50 instâncias

encontradas na literatura. Bons resultados foram obtidos, de forma que uma das formulações

foi capaz de resolver 47 destas instâncias em baixo tempo computacional. Com o objetivo de

melhor avaliar o potencial desta formulação, foram geradas 25 novas instâncias com maior grau



26

de dificuldade.

2.2.1 DADOS DE ENTRADA DO PROBLEMA

O problema de transporte de derivados de petróleo tratado neste trabalho pode ser des-

crito da seguinte forma: sejam P o conjunto de plataformas e T o conjunto de terminais. O

horizonte de tempo considerado para o planejamento é dado por D em dias. Um único pro-

duto deve ser transportado das plataformas para os terminais de modo que as demandas destes

últimos sejam satisfeitas. Os níveis de estoque em todos os elementos de P e T devem ser res-

peitados. O único tipo de modal utilizado é o marítimo. Os navios utilizados são classificados de

acordo com sua capacidade volumétrica em classes, e o conjunto formado por todas as classes

de navios é chamado de C. Assume-se que apenas navios com capacidade total preenchida são

utilizados. O objetivo é a minimização dos custos totais de transporte do produto. Além disso,

as formulações descritas nas próximas subseções seguem a seguinte notação adicional:

Índices:

• p: Plataforma, p ? P = {1, ..., |P|};

• t: Terminal, t ? T = {|P|+ 1, ..., |P|+ |T|};

• c: Classe de navio, c ? C = {1, ..., |C|};

• d: Dia, d = {1, ...,D}.

Subconjuntos:

• T(p) ? T : Terminais que podem receber navios de uma plataforma p ? P ;

• P(t) ? P : Plataformas que podem enviar navios para um terminal t ? T ;

• C(p) ? C: Classes de navios que podem aportar em uma plataforma p ? P .

Todos os navios são permitidos nos terminais.

Dados:

• ep,0: Estoque inicial de uma plataforma p ? P ;

• et,0: Estoque inicial de um terminal t ? T ;

• Pp,d ? 0: Produção de uma plataforma p ? P em um dia d;



27

• Ct,d ? 0: Consumo de um terminal t ? T em um dia d;

• CAPp,d: Capacidade máxima de estoque de uma plataforma p ? P em um dia d;

• CAPt,d: Capacidade máxima de estoque de um terminal t ? T em um dia d;

• Vc: Capacidade volumétrica de carga de um navio de classe c ? C;

• Fc: Custo de transporte por dia de um navio de classe c ? C;

• Dp,t: Tempo de trânsito entre uma plataforma p ? P e um terminal t ? T em dias.

Ademais, outras definições serão acrescentadas à medida que sejam necessárias para

cada formulação.

2.2.2 FORMULAÇÃO NATURAL

Este modelo foi baseado no apresentado por Rocha (2010). Para esta formulação, consideram-

se as variáveis de decisão da seguinte forma: zc,dp,t ? {0,1} indica se um navio de classe c ? C

foi alocado para transportar o produto da plataforma p ? P para o terminal t ? T saindo no

dia d, ep,d ? R+ e et,d ? R+ indicam o estoque na plataforma p ? P no dia d e o estoque no

terminal t ? T no dia d, respectivamente. Assuma zc,dp,t = 0,d ? 0. Isto posto, a formulação

natural (FN) está disposta a seguir:

(FN) z = Min
?
p?P

?
t?T(p)

?
c?C(p)

D?
d=1

2FcDp,tz
c,d
p,t (2.1)

sujeito a

ep,d = ep,d?1 + Pp,d ?
?
t?T(p)

?
c?C(p)

Vcz
c,d
p,t ?p ? P,d ?{1, ...,D} (2.2)

et,d = et,d?1 ?Ct,d +
?
p?P(t)

?
c?C(p)

Vcz
c,d?Dp,t
p,t ?t ? T,d ?{1, ...,D} (2.3)

0 ? ep,d ? CAPp,d ?p ? P,d ?{1, ...,D} (2.4)

0 ? et,d ? CAPt,d ?t ? T,d ?{1, ...,D} (2.5)

z
c,d
p,t ?{0,1} ?p ? P,t ? T(p),c ? C(p),d ?{1, ...,D}.

(2.6)



28

A função objetivo (2.1) minimiza o custo total de transporte. O custo é multiplicado por

2 porque os navios retornam à plataforma de onde saíram. As restrições (2.2) calculam o balanço

do estoque em cada plataforma, enquanto as restrições (2.3) calculam o balanço do estoque em

cada terminal. As restrições (2.4) e (2.5) garantem que o estoque a cada dia, em cada plataforma

e em cada terminal, não será nem menor que a capacidade mínima e nem maior que a capacidade

máxima de estoque.

Algumas das suposições do problema merecem discussão:

• apenas um navio de cada classe pode ser utilizado em cada rota por dia: esta suposição

não é realista e foi considerada apenas para seguir o artigo da literatura. Mas é fácil

desconsiderá-la, bastando mudar as variáveis binárias para inteiras, ou separando os navios

da mesma classe como se fossem diferentes, mantendo assim as variáveis binárias;

• quantidade ilimitada de navios em cada classe: esta suposição é realista, já que foi baseada

em um problema real onde a companhia aluga seus navios. Além disso, considera-se que

a quantidade de navios à disposição para aluguel é suficiente para transportar a produção;

• tempo de carga e descarga nulos: os tempos de carga e descarga podem ser adicionados

ao tempo de trânsito. Assim, o tempo de trânsito passa a depender do tamanho do navio,

mas a formulação não sofre alteração;

• tempos de transporte irreais: utilizar tempos reais não modifica o desempenho das instân-

cias.

2.2.3 FORMULAÇÃO BÁSICA

Para esta segunda formulação são consideradas algumas definições que serão listadas a

seguir. Defina Lp como o máximo divisor comum (MDC) das capacidades de armazenamento

de todas as classes de navios que podem atracar na plataforma p ? P . Seja kmin(p,d) o número

mínimo de lotes que precisam ser enviados até o dia d pela plataforma p para que a capacidade

não seja excedida. Esse número é dado por:

kmin(p,d) =

?
ACp,d ?CAPp,d

Lp

?
.

onde de é o arredondamento para cima e ACp,d é a quantidade do produto acumulada na plata-



29

forma p ? P do dia 0 até o dia d e é dada por:

ACp,d = ep,0 +
d?

?=1

Pp,?.

Seja também kmax(p,d) o número máximo de lotes que podem ser enviados até o dia d

pela plataforma p sem que o estoque desta fique negativo. Tal quantidade pode ser calculada

pela seguinte expressão:

kmax(p,d) =

?
ACp,d
Lp

?
,

onde bc é o arredondamento para baixo.

Com estas definições, a restrição (2.4) pode ser substituída por:

ACp,d ?kmax(p,d)Lp ? ep,d ? ACp,d ?kmin(p,d)Lp ?p ? P,d ?{1, ...,D}. (2.7)

Agora, defina Lt como o MDC das capacidades de armazenamento de todas as classes

de navios que podem atracar no terminal t ? T . Seja kmin(t,d) o número mínimo de lotes

que precisam ser recebidos pelo terminal t ? T até o dia d para que o estoque deste não fique

negativo. Tal quantidade é dada por:

kmin(t,d) =

?
?ACt,d
Lt

?
.

onde ACt,d é a quantidade do produto acumulada no terminal t ? T do dia 0 até o dia d e é dada

por:

ACt,d = et,0 ?
d?

?=1

Ct,?.

Seja kmax(t,d) o número máximo de lotes que podem ser recebidos pelo terminal t ? T

até o dia d sem que a capacidade de estoque deste seja excedida. Esse número é calculado pela

expressão que segue:

kmax(t,d) =

?
CAPt,d ?ACt,d

Lt

?
,

Isto posto, a restrição (2.5) pode ser substituída por:

ACt,d + kmin(t,d)Lt ? et,d ? ACt,d + kmax(t,d)Lt ?t ? T,d ?{1, ...,D}. (2.8)

Desta forma, a formulação básica (FB) será dada pela função objetivo (2.1) sujeita às



30

restrições (2.2), (2.3), (2.7), (2.8) e (2.6).

2.2.4 KNAPSACK CASCADING

Para esta formulação, adaptada de Rocha (2010), são consideradas algumas definições

anteriores, além das que seguem:

DAp,d = ACp,d ?CAPp,d

DAt,d = ACt,d ?CAPt,d

Assim, a formulação Knapsack Cascading (KC) é mostrada a seguir:

(KC) z = Min
?
p?P

?
t?T(p)

?
c?C(p)

D?
d=1

2FcDp,tz
c,d
p,t (2.9)

sujeito a

?
t?T(p)

d?
?=1

?
c?C(p)

Vcz
c,?
p,t ? ACp,d ?p ? P,d ?{1, ...,D} (2.10)

?
t?T(p)

d?
?=1

?
c?C(p)

Vcz
c,?
p,t ? DAp,d ?p ? P,d ?{1, ...,D} (2.11)

?
p?P(t)

d?
?=1

?
c?C(p)

Vcz
c,??Dp,t
p,t ??ACt,d ?t ? T,d ?{1, ...,D} (2.12)

?
p?P(t)

d?
?=1

?
c?C(p)

Vcz
c,??Dp,t
p,t ??DAt,d ?t ? T,d ?{1, ...,D} (2.13)

z
c,d
p,t ?{0,1} ?p ? P,t ? T(p),c ? C(p),d ?{1, ...,D}. (2.14)

A função objetivo (2.9) minimiza o custo total de transporte. As restrições (2.10) garan-

tem que as plataformas nunca enviarão mais do que foi produzido. Como efeito, o estoque em

cada plataforma nunca será menor que a capacidade mínima. As restrições (2.11) garantem que

o estoque em cada plataforma nunca ultrapassará a capacidade máxima. As restrições (2.12)

garantem que os terminais sempre receberão a quantidade demandada. Como efeito, o estoque

em cada terminal nunca será menor que a capacidade mínima. As restrições (2.13) garantem



31

que o estoque em cada terminal nunca ultrapassará a capacidade máxima. As restrições (2.14)

declaram as variáveis z como binárias.

A partir da formulação KC é possível obter uma nova formulação ao substituir as restri-

ções (2.10) e (2.11) pelas restrições (2.15) e (2.16) a seguir

?
t?T(p)

d?
?=1

?
c?C(p)

Vcz
c,?
p,t ? kmax(p,d)Lp ?p ? P,d ?{1, ...,D} (2.15)

?
t?T(p)

d?
?=1

?
c?C(p)

Vcz
c,?
p,t ? kmin(p,d)Lp ?p ? P,d ?{1, ...,D} (2.16)

e ao substituir as restrições (2.12) e (2.13) pelas restrições (2.17) e (2.18) a seguir

?
p?P(t)

d?
?=1

?
c?C(p)

Vcz
c,??Dp,t
p,t ? kmax(t,d)Lt ?t ? T,d ?{1, ...,D} (2.17)

?
p?P(t)

d?
?=1

?
c?C(p)

Vcz
c,??Dp,t
p,t ? kmin(t,d)Lt ?t ? T,d ?{1, ...,D}. (2.18)

A formulação resultante destas substituições é chamada de Knapsack Cascading Arre-

dondado (KCA).

2.2.5 CASCADING ACUMULADO NAS ROTAS E ARREDONDADO

Nesta formulação, as variáveis de decisão são definidas como segue: xc,dp,t é uma variável

inteira que representa a quantidade de navios de classe c ? C(p) que saem da plataforma p ? P

para o terminal t ? T(p) do início do horizonte de tempo até o dia d. Assuma que xc,0p,t = 0.

Também são consideradas as variáveis zc,dp,t já definidas anteriormente. A formulação Cascading

Acumulado nas Rotas e Arredondado (CARA) está disposta a seguir.



32

(CARA) z = Min
?
p?P

?
t?T(p)

?
c?C(p)

2FcDp,tx
c,D
p,t (2.19)

sujeito a

x
c,d
p,t = x

c,d?1
p,t + z

c,d
p,t ?p ? P,t ? T(p),c ? C(p),d ?{1, ...,D} (2.20)?

t?T(p)

?
c?C(p)

Vcx
c,d
p,t ? kmax(p,d)Lp ?p ? P,d ?{1, ...,D} (2.21)

?
t?T(p)

?
c?C(p)

Vcx
c,d
p,t ? kmin(p,d)Lp ?p ? P,d ?{1, ...,D} (2.22)

?
p?P(t)

?
c?C(p)

Vcx
c,d?Dp,t
p,t ? kmax(t,d)Lt ?t ? T,d ?{1, ...,D} (2.23)

?
p?P(t)

?
c?C(p)

Vcx
c,d?Dp,t
p,t ? kmin(t,d)Lt ?t ? T,d ?{1, ...,D} (2.24)

x
c,d
p,t ? Z+ ?p ? P,t ? T(p),c ? C(p),d ?{1, ...,D} (2.25)

z
c,d
p,t ? [0,1] ?p ? P,t ? T(p),c ? C(p),d ?{1, ...,D}. (2.26)

A função objetivo (2.19) minimiza o custo total de transporte. As restrições (2.20) trans-

formam x em variáveis acumuladas, e limitam em uma unidade a quantidade máxima de lotes

enviados a cada dia, por cada rota, e para cada tamanho de lote. As restrições (2.21) e (2.22)

garantem que o estoque em cada plataforma, a cada dia, não será menor que a capacidade mí-

nima e não ultrapassará a capacidade máxima. As restrições (2.23) e (2.24) garantem que o

estoque em cada terminal, a cada dia, não ultrapassará a capacidade máxima e não será menor

que a capacidade mínima. Por fim, as restrições (2.25) declaram as variáveis x como inteiras

não-negativas e as restrições (2.26) declaram as variáveis z como contínuas entre zero e um.

Note que as restrições (2.20) garantem a integralidade das variáveis z, apesar de serem definidas

como contínuas entre zero e um.

2.2.6 CASCADING ACUMULADO NOS LOCAIS E ARREDONDADO

Nesta formulação, as variáveis de decisão são definidas como segue: xc,dp é uma variável

inteira que representa a quantidade de navios de classe c ? C(p) que saem da plataforma p ?

P do início do horizonte de tempo até o dia d. xc,dt é uma variável inteira que representa a

quantidade de navios de classe c ? C(p) que chegam ao terminal t ? T do início do horizonte



33

de tempo até o dia d. Assuma que xc,0p = x
c,0
t = 0. Também são consideradas as variáveis

z
c,d
p,t já definidas anteriormente. A formulação Cascading Acumulado nos Locais e Arredondado

(CALA) está disposta a seguir.

(CALA) z = Min
?
p?P

?
t?T(p)

?
c?C(p)

D?
d=1

2FcDp,tz
c,d
p,t (2.27)

sujeito a

xc,dp = x
c,d?1
p +

?
t?T(p)

z
c,d
p,t ?p ? P,c ? C(p),d ?{1, ...,D} (2.28)

x
c,d
t = x

c,d?1
t +

?
p?P(t)

z
c,d?Dp,t
p,t ?t ? T,c ? C(t),d ?{1, ...,D} (2.29)

?
c?C(p)

Vcx
c,d
p ? kmax(p,d)Lp ?p ? P,d ?{1, ...,D} (2.30)

?
c?C(p)

Vcx
c,d
p ? kmin(p,d)Lp ?p ? P,d ?{1, ...,D} (2.31)

?
c?C(t)

Vcx
c,d?Dp,t
t ? kmin(t,d)Lt ?t ? T,d ?{1, ...,D} (2.32)

?
c?C(t)

Vcx
c,d?Dp,t
t ? kmax(t,d)Lt ?t ? T,d ?{1, ...,D} (2.33)

xc,dp ? Z+ ?p ? P,c ? C(p),d ?{1, ...,D} (2.34)

x
c,d
t ? Z+ ?t ? T,c ? C(t),d ?{1, ...,D} (2.35)

z
c,d
p,t ? [0,1] ?p ? P,t ? T(p),c ? C(p),d ?{1, ...,D}. (2.36)

As restrições (2.28) e (2.29) transformam x em variáveis acumuladas, e limitam em uma unidade

a quantidade máxima de lotes enviados a cada dia, por cada rota, para cada tamanho de lote. As

outras restrições são similares às da formulação CARA.

Proposição 2.1. Na CALA, a integralidade das variáveis z é garantida para qualquer solução

básica em que as variáveis x sejam inteiras.

Demonstração. Note que, se todas as variáveis x forem fixadas com valores inteiros, as restri-

ções (2.28) e (2.29) definem uma instância do problema clássico de transporte (Taha, 2007) (as

restrições que sobram contém somente variáveis x). Como a matriz do Problema de Transporte

é unimodular (ver Bazaraa et al (2011)), a solução básica será inteira.



34

Proposição 2.2. FB, KCA, CARA e CALA possuem a mesma relaxação linear.

Demonstração. A proposição será provada em dois passos. Primeiro, será mostrado que KCA

é obtida de FB sem mudar o conjunto de soluções das variáveis z na sua relaxação linear.

Segundo, será mostrado que CARA e CALA são obtidas de KCA sem mudar o conjunto de

soluções das variáveis z na sua relaxação linear. Agora, considere a FB. Dadas as restrições

(2.2) e expandindo ep,d?1, tem-se:

ep,d = ACp,d ?
?
t?T(p)

d?
?=1

?
c?C(p)

Vcz
c,?
p,t ?p ? P,d ?{1, ...,D}

De (2.7),

ACp,d ?kmax(p,d)Lp ? ACp,d ?
?
t?T(p)

d?
?=1

?
c?C(p)

Vcz
c,?
p,t ? ACp,d ?kmin(p,d)Lp

?p ? P,d ?{1, ...,D}

que é equivalente a (2.15) e (2.16). O mesmo procedimento pode ser usado para provar

que (2.3) e (2.8) têm o mesmo conjunto de soluções das variáveis z na relaxação linear que

(2.17) e (2.18). Então, KCA tem o mesmo conjunto de soluções das variáveis z na relaxação

linear que FB. Agora, considere a KCA. Defina as variáveis x como a seguir:

x
c,d
p,t =

d?
?=1

z
c,?
p,t

e troque o lado direito da equação anterior por xc,dp,t na KCA. Incluindo as restrições

(2.20), obtém-se a formulação CARA, provando que possui o mesmo conjunto de soluções das

variáveis z na relaxação linear que KCA. Considere de novo a KCA. Defina as variáveis x como

a seguir:

xc,dp =
d?

?=1

?
t?T(p)

z
c,?
p,t



35

x
c,d
t =

d?
?=1

?
p?P(t)

z
c,?
p,t

e troque o lado direito das equações anteriores por xc,dp e x
c,d
t na KCA. Incluindo as res-

trições (2.28) e (2.29), obtém-se a formulação CALA, provando que possui o mesmo conjunto

de soluções das variáveis z na relaxação linear que KCA.

A mesma prova pode ser utilizada para FN , KC, CAR e CAL, onde CAR e CAL

são, respectivamente, a formulação cascading acumulado nas rotas e nos locais, ambas sem

arredondamento, levando à seguinte proposição:

Proposição 2.3. FN , KC, CAR e CAL possuem a mesma relaxação linear.

Nota: a motivação para os testes com os modelos sem arredondamento é avaliar o peso

que o arredondamento tem na melhoria dos resultados.

2.2.7 FORMULAÇÃO PARA GERAÇÃO DE COLUNAS

São dois os objetivos da implementação de uma formulação baseada em geração de co-

lunas: obter limites inferiores para o problema e desenvolver uma heurística baseada em geração

de colunas. A formulação para geração de colunas (Desaulniers et al, 2005) foi baseada tanto na

CARA quanto na CALA. Por serem formulações muito parecidas, será mostrada aqui apenas a

formulação baseada na CARA. Porém, os testes da Tabela A.18 incluem as duas formulações.

A formulação para geração de colunas utiliza a seguinte notação. Seja s um conjunto

de variáveis, s ? Sp, onde Sp é o conjunto das soluções válidas para uma plataforma p ? P .

Sejam também V t,dp,s o volume enviado no dia d, da plataforma p para o terminal t, considerando

o conjunto de variáveis s. Seja Cp,s o custo do conjunto de variáveis s utilizado pela plataforma

p. A variável (coluna) ?p,s é binária e indica se o conjunto de variáveis s está sendo usado pela

plataforma p. A formulação para geração de colunas (FGC) é da seguinte forma:



36

(FGC) z = Min
?
p?P

?
s?Sp

Cp,s?p,s (2.37)

sujeito a

?
s?Sp

?p,s = 1 ?p ? P (2.38)

?
p?P

?
s?Sp

d?
?=1

V t,??Dp,tp,s ?p,s ? kmin(t,d)Lt ?t ? T,d ?{1, ...,D} (2.39)

?
p?P

?
s?Sp

d?
?=1

V t,??Dp,tp,s ?p,s ? kmax(t,d)Lt ?t ? T,d ?{1, ...,D} (2.40)

?p,s ?{0,1} ?p ? P,s ? Sp. (2.41)

A função objetivo (2.37) minimiza o custo total de transporte. As restrições (2.38) ga-

rantem que exatamente uma variável ? será escolhida para cada plataforma. As restrições (2.39)

garantem que o estoque em cada terminal nunca será menor que a capacidade mínima. As restri-

ções (2.40) garantem que o estoque em cada terminal nunca ultrapassará a capacidade máxima.

Por fim, as restrições (2.41) declaram as variáveis ? como binárias.

SUBPROBLEMA DE PRICING:

Como o número de variáveis da formulação FGC é muito grande, apenas um subconjunto

destas é considerado inicialmente para a resolução da relaxação linear. Este problema com

uma parte das variáveis é chamado de Problema Mestre Restrito (PMR). A cada iteração do

procedimento de geração de colunas, o PMR é resolvido e suas variáveis duais são utilizadas

como entrada para o subproblema de pricing para gerar novas colunas ?. Uma nova coluna ? é

adicionada ao PMR se seu custo reduzido, dado pelo valor da função objetivo do subproblema

de pricing, for negativo. Caso nenhuma variável de custo reduzido negativo seja encontrada, a

solução corrente do PMR é ótima para o Problema Mestre Completo.

Sejam ?p o vetor das variáveis duais associadas às restrições (2.38), ?t,d o vetor das

variáveis duais das restrições (2.39), e ?t,d o vetor das variáveis duais associadas às restrições

(2.40). A variável binária zc,dp,t indica se a plataforma p envia para o terminal t um navio de

classe c no dia d. Desta forma, para cada plataforma p ? P é definido um subproblema de



37

pricing como segue.

(SP) z = Min
?
t?T(p)

?
c?C(p)

D?
d=1

(2FcDp,t ?Vc(?t,d+Dp,t + ?t,d+Dp,t))z
c,d
p,t ??p (2.42)

Sujeito a

?
t?T(p)

d?
?=1

?
c?C(p)

z
c,?
p,t Vc ? kmax(p,d)Lp ?d ?{1, ...,D} (2.43)

?
t?T(p)

d?
?=1

?
c?C(p)

z
c,?
p,t Vc ? kmin(p,d)Lp ?d ?{1, ...,D} (2.44)

z
c,d
p,t ?{0,1} ?t ? T(p),c ? C(p),d ?{1, ...,D}. (2.45)

A função do subproblema de pricing é gerar uma coluna ? para o PMR com o menor

custo reduzido, que é representado pela função objetivo (2.42). As restrições (2.43) garantem

que o estoque em cada plataforma nunca será menor que a capacidade mínima. As restrições

(2.44) garantem que o estoque em cada plataforma nunca ultrapassará a capacidade máxima. As

restrições (2.45) declaram as variáveis z como binárias. Apesar de ter sido apresentado como

um problema de Programação Inteira, o subproblema de pricing pode ser melhor resolvido por

programação dinâmica (Bellman e Dreyfus, 1966).

2.3 HEURÍSTICA BASEADA EM GERAÇÃO DE COLUNAS

Esta Seção apresenta uma heurística baseada em geração de colunas (GC). A formulação

utilizada se encontra na subseção 2.2.7. Para resolver de forma mais rápida os subproblemas, foi

desenvolvido um algoritmo por programação dinâmica. Por último, um pseudocódigo descreve

o procedimento da heurística.

Heurísticas baseadas em geração de colunas são encontradas na literatura para lidar com

diversos problemas: escalonamento de vários ítens (Bahl, 1983), roteamento de veículos (Mour-

gaya e Vanderbeck, 2007), corte de estoque (Furini et al, 2012), posicionamento de sensores

(Yavuz et al, 2010), atribuição generalizada (Moccia et al, 2009), dentre outros. No geral, as

abordagens seguem um padrão: primeiro a relaxação linear é resolvida por geração de colunas.

Depois, uma solução viável é construída para o problema original usando as colunas obtidas.

Por exemplo, em Choi e Tcha (2007), os autores usaram uma heurística baseada em geração de

colunas no problema do roteamento de frota de veículos heterogênea consistindo em três passos:



38

(i) resolver a relaxação linear; (ii) adicionar restrições de integralidade às variáveis do problema

mestre restrito final; (iii) resolver o MIP resultante. Em Joncour et al (2010), os autores fizeram

uma revisão de classes genéricas de heurísticas baseadas em geração de colunas.

2.3.1 PROGRAMAÇÃO DINÂMICA

Assuma que os elementos do conjunto C estão numerados de forma arbitrária de 1 a |C|.

Defina a tabela de custos da programação dinâmica para cada plataforma p com Custop(d,c,e)

sendo o menor custo reduzido parcial do dia d até o fim do horizonte de tempo, considerando

somente as classes de navio c, ..., |C| no dia d (e todas as classes de navio para os dias seguintes),

e nível de estoque e no início do dia d. Seja Custop(d,c,e) = 0 para d = D + 1. A recursão da

programação dinâmica é:

Custop(d,c,e) =

????????
???????

min
??P1,p,c,d,e

{
Custop

(
d,c + 1,e + Pp,d ?

?
t?T

Vc?t

)
+
?
t?T

C
c,d
p,t ?t

}
,c = 1

min
??P2,p,c,d,e

{
Custop

(
d,c + 1,e?

?
t?T

Vc?t

)
+
?
t?T

C
c,d
p,t ?t

}
,1 &amp;lt;c &amp;lt;|C|

min
??P3,p,c,d,e

{
Custop

(
d + 1,1,e?

?
t?T

Vc?t

)
+
?
t?T

C
c,d
p,t ?t

}
,c = |C|,

onde:

P1,p,c,d,e = {? ?{0,1}|T||0 ? e + Pp,d ?
?

t?T Vc?t}

P2,p,c,d,e = {? ?{0,1}|T ||0 ? e?
?

t?T Vc?t}

P3,p,c,d,e = {? ?{0,1}|T||0 ? e?
?

t?T Vc?t ? CAPp}

e Cc,dp,t = 2FcDp,t ? Vc(?t,d+Dp,t + ?t,d+Dp,t). O custo reduzido ótimo para cada plataforma p é

dado por Custop(1,1,ep,0).

O algoritmo por programação dinâmica apresentado é pseudopolinomial. Sua comple-

xidade computacional depende da capacidade máxima de estoque nas plataformas. Para as ins-

tâncias da classe mais difícil, sua performance é muito superior ao MIP. A Figura 2.2 mostra

um exemplo com dois lotes (C = {1,2}). A produção diária é sempre inteira. O exemplo pos-

sui dois terminais, ambos com rota para todas as plataformas. Cada tamanho de lote pode ser

enviado apenas uma vez por dia para cada terminal. A capacidade de estoque das plataformas

é CAPp = 4 unidades. A produção diária é Pp,d = 2 unidades, d ? {1,2,3}, e é adicionada

entre o primeiro e o segundo tamanho de lote. O estoque inicial é 2 unidades. O primeiro lote

tem tamanho V1 = 1 unidades e custa 1,5. O segundo lote tem tamanho V2 = 2 unidades e



39

Figura 2.2: Programação Dinâmica com dois tamanhos de lote

custa 2. Ambos podem ser enviados para todos os terminais, com o mesmo custo. No caso em

que existam dois ou mais terminais para enviar um mesmo lote, cada um com custo diferente, o

algoritmo sempre escolhe o terminal mais barato disponível. Isto pode acontecer porque o custo

de enviar um lote depende do tempo de trânsito. Então, terminais mais distantes encarecem o

custo de envio.

Na Figura 2.2, os custos para cada nível de estoque, dia e tamanho de lote estão repre-

sentados pelos círculos. No dia d = 1 e c = 1, existe um estoque inicial de 2 unidades e o custo

mínimo é Custop(1,1,2) = 4, que é o custo ótimo. De d = 1 e c = 1 para d = 1 e c = 2,

existem três possibilidades: (i) enviar um lote (?t = 1, para algum t), resultando em um estoque

de 3 unidades e custo 3 + 1,5; (ii) enviar dois lotes (?t = 1, ?t ? T ), resultando em um estoque

de 2 unidades e custo 2 + 3; (iii) não enviar nenhum lote (?t = 0, ?t ? T ), resultando em um

estoque de 4 unidades e custo 4. A terceira opção é escolhida. De d = 1 e c = 2 para d = 2 e

c = 2, nenhum lote é enviado. Então, um lote é enviado de d = 2 e c = 2 para d = 3 e c = 1, e

de d = 3 e c = 2, levando a um estoque de 4 unidades ao fim do horizonte de tempo.

A grande vantagem da programação dinâmica é o fato de que a economia de escala nos

lotes, presente nas instâncias utilizadas, não aumenta o tempo de execução. Já no MIP, o impacto

no tempo de execução é considerável. Isto acontece porque a economia de escala afeta apenas

os custos reduzidos, não afetando o número de cálculos executados pela programação dinâmica.

Caso haja pelo menos uma produção fracionária, será preciso executar um pré-processamento,

explicado a seguir. As produções diárias são acumuladas, e se o valor acumulado for fracionário,

a capacidade de estoque da plataforma é diminuída em uma unidade para ter espaço para arma-



40

zenar a parte fracionária. A produção diária ajustada é a parte inteira da produção acumulada,

ainda não adicionada ao estoque. A Tabela 2.1 mostra um exemplo com produção fracionária

onde a capacidade de estoque da plataforma é 6 unidades. A primeira coluna mostra a produção

diária original, que é fracionária e igual a 2,75 para todos os dias. A segunda coluna mostra a

produção acumulada. Note que existe apenas um valor inteiro.A terceira coluna mostra a ca-

pacidade original, 6 unidades. A quarta coluna mostra a capacidade ajustada, a qual é igual

à capacidade original quando a produção acumulada é inteira, ou igual à capacidade original

menos um, quando a a capacidade acumulada é fracionária. A quinta coluna mostra a produção

ajustada, a qual é igual à parte inteira da produção acumulada ainda não adicionada ao estoque

da plataforma.

Tabela 2.1: Lidando com produção fracionária

Produção Produção Capacidade Capacidade Produção
Original Acumulada Original Ajustada Ajustada

2,75 2,75 6 5 2
2,75 5,5 6 5 3
2,75 8,25 6 5 3
2,75 11 6 6 3
2,75 13,75 6 5 2

2.3.2 PROCEDIMENTO DA HEURÍSTICA BASEADA EM GERAÇÃO DE COLUNAS

O principal objetivo do procedimento da heurística é encontrar uma solução viável em

um tempo menor do que o procedimento heurístico existente no solver comercial. Como, para

algumas instâncias, as formulações CARA e CALA têm dificuldade em encontrar alguma solu-

ção viável no início do algoritmo de branch-and-bound, foi implementada esta heurística cons-

trutiva usando geração de colunas para escolher somente variáveis z com boas chances de fazer

parte da solução ótima. Esta redução no número de variáveis do modelo permite ao algoritmo

de branch-and-bound achar rapidamente uma solução viável, ou provar que nenhuma solução

viável pode ser encontrada com estas variáveis.

O procedimento da heurística é mostrado no Algoritmo 1 (usando a formulação CALA).

Primeiro, a relaxação linear da FGC é resolvida (linha 1). Depois, o custo reduzido de todas

as colunas presentes no PMR final é calculado usando os valores das variáveis duais da última

iteração do algoritmo de geração de colunas (linha 2). As colunas são ordenadas em ordem

crescente de custo reduzido (linha 3) (Nesta etapa, todas as colunas possuem custo reduzido

não-negativo). Os parâmetros min e max são inicializados na linha 4. Na linha 5, o parâmetro



41

k é inicializado. Este parâmetro indica que as k primeiras colunas do PMR final serão conver-

tidas em variáveis da formulação CALA. A cada iteração do loop principal (linhas 6 – 16), a

formulação CALA é gerada apenas com as variáveis z correspondentes às k colunas de menor

custo reduzido no PMR final (linha 7). A formulação CALA roda por até 5 segundos (linha 8).

Se uma nova solução viável é obtida (linha 9), ela é guardada caso seja a melhor encontrada até

o momento. Caso o algoritmo de branch-and-bound não encontre nenhuma solução viável nos

5 segundos disponíveis (linha 12), o loop principal termina. Caso contrário, k é aumentado em

10 unidades (linha 15).

Pode acontecer de alguma plataforma não possuir nenhuma variável z na formulação

CALA reduzida. Neste caso, o branch-and-bound provará rapidamente a inviabilidade do MIP

e uma quantidade maior para k será testada. Com k maior do que a quantidade de colunas com

custo reduzido zero no PMR, todas as plataformas terão ao menos uma coluna convertida em

variáveis z.

O tempo de execução usado na linha 8 foi baseado em experimentos preliminares, onde

foi observado que a maioria das melhores soluções viáveis encontradas pelo algoritmo foram

obtidas ao resolver o MIP em menos de 5 segundos. Este limite de tempo parece levar a uma

boa relação entre qualidade da solução e tempo de execução.

Algoritmo 1 Heurística baseada em geração de colunas
1: Resolver a relaxação linear da FGC
2: Calcular o custo reduzido das colunas usando as variáveis duais da última iteração
3: Ordenar as colunas de acordo com seus custos reduzidos
4: min ? 30, max ? 150
5: k ? min
6: enquanto k ? max faça
7: Converter k colunas de FGC com os mais baixos custos reduzidos em vars de CALA
8: Rodar CALA por até 5 segundos
9: se solução viável encontrada então

10: Guarde a solução se for a melhor até o momento
11: fim se
12: se nenhuma solução encontrada então
13: Sair do Loop
14: fim se
15: k ? k + 10
16: fim enquanto



42

2.4 RESULTADOS COMPUTACIONAIS

O Apêndice A mostra as tabelas completas com os resultados computacionais de todos

os testes deste capítulo. As soluções ótimas ou melhores encontradas de todas as instâncias

utilizadas se encontram na Tabela A.1.

2.4.1 RESULTADOS COMPUTACIONAIS DAS FORMULAÇÕES

Esta subseção contém os resultados obtidos por cada formulação nas instâncias de Ro-

cha (2010) e em uma nova classe de instâncias mais difíceis geradas neste trabalho. Todos os

testes, incluindo o algoritmo de melhor desempenho de Rocha (2010), HullRel, foram rodados

em um computador com processador Intel Core2 Quad CPU Q8300 2.50GHz, memória de 2

GB, na plataforma Windows Seven, com o resolvedor Cplex 12.1. As instâncias possuem as

seguintes características gerais: um único produto (óleo cru), um único modal (navio), 9 locais

de produção, 2 locais de consumo e um horizonte de tempo de 30 dias. Outras características,

relacionadas às classes de instâncias são:

• um único tamanho de lote (fácil);

• um tamanho de lote por rota (médio);

• dois tamanhos de lote por rota (difícil);

• cinco tamanhos de lote por rota e todas as plataformas podem enviar para todos os termi-

nais (novas instâncias, mais difíceis).

Cada classe possui 25 instâncias. Não serão reportados os resultados obtidos para a pri-

meira classe (fácil), dado que estas instâncias podem ser facilmente resolvidas pela formulação

FN utilizando um resolvedor comercial. Os resultados para as classes média e difícil serão

mostrados separadamente dos resultados da nova classe de instâncias. Para cada formulação, as

tabelas contém os resultados médios obtidos. Dentre estes resultados, encontram-se dois tipos

de diferença relativa percentual (gap), dados por:

gapLB = 100×
UBm ?LBf

UBm
, (2.46)

gapUB = 100×
UBf ?UBm

UBm
, (2.47)



43

onde UBm é a melhor solução viável conhecida, LBf é o melhor lower bound para uma dada

formulação, e UBf é a melhor solução viável para uma dada formulação.

Os resultados para as instâncias das classes média e difícil são mostrados nas Tabelas

2.2 e 2.3. Os resultados das formulações FN e KC não são mostrados pelo fato de que a

formulação FB domina a primeira e a formulação KCA domina a segunda. Nestas tabelas,

a coluna Formulação mostra a formulação testada. A coluna Tempo (s) mostra o tempo de

execução médio em segundos para cada classe de instâncias. Salienta-se que, em todos os testes

realizados, o tempo máximo de execução permitido para cada instância é de 720 segundos. A

coluna gapLB raizpl (%) mostra o gapLB médio na raiz antes dos cortes do CPLEX, calculado

utilizando o gapLB de cada instância dado por (2.46) considerando LBf como o limite inferior

do nó raiz antes dos cortes do CPLEX. A coluna gapLB raiz (%) mostra o gapLB médio na

raiz após os cortes do CPLEX, também calculado utilizando o gapLB de cada instância dado

por (2.46) considerando LBf como o limite inferior do nó raiz após os cortes do CPLEX. A

coluna gapLB final (%) contém a média dos gapLB ao final da execução de cada instância e

também é calculado utilizando os valores de (2.46) obtidos para cada instância, com LBf sendo

o limite inferior ao final da execução de cada instância. A coluna gapUB (%) mostra o gapUB

médio obtido ao final das execuções calculado utilizando os valores obtidos por (2.47) para cada

instância. A coluna No de nós contém o número médio de nós resolvidos no algoritmo de

branch-and-bound. Por fim, a coluna Instâncias resolvidas mostra o número de instâncias de

cada classe que foram resolvidas até a otimalidade.

Os resultados do gapLB raizpl incluem o pré-processamento do CPLEX. Caso não fosse

utilizado, FN , KC, CAR e CAL (ver Proposição 2.3) teriam a mesma relaxação no nó raiz do

algoritmo de branch-and-bound, e o mesmo aconteceria com FB, KCA, CARA e CALA (ver

Proposição 2.2). Para as classes média e difícil de instâncias, os valores médios da relaxação

por programação linear das formulações arredondadas são 0,34 e 2,58, respectivamente, e para

as formulações sem arredondamento são 0,61 e 2,62. Sem o pré-processamento do CPLEX,

FGC possui o melhor gapLB raizpl para todas as classes de instâncias. Para as classes difícil e

muito difícil de instâncias, FGC obteve o melhor gapLB médio no nó raiz mesmo com o uso do

pré-processamento e das rotinas de corte do CPLEX nas outras formulações.

Nas Tabelas 2.2 e 2.3 é possível observar que as formulações FN e FB tiveram o pior

desempenho em comparação com as demais. O gapUB delas não é mostrado porque elas encon-

traram poucas soluções viáveis, por isso utilizar valor médio não é apropriado. A FB provou o

ótimo de apenas duas instâncias, ambas da classe de nível médio. Este fato influencia no tempo



44

Tabela 2.2: Resultados médios e número de instâncias resolvidas para as formulações matemá-
ticas e resultados de Rocha (2010) para as instâncias da classe média

Tempo gapLB gapLB gapLB gapUB Instâncias
Formulação (s) raizpl (%) raiz (%) final (%) (%) No de nós resolvidas
FN 720,00 1,41 1,19 0,83 – 2595996 0
FB 685,47 0,36 0,30 0,24 – 3944016 2
KC 405,50 0,35 0,25 0,13 0,00 569080 10
KCA 422,47 0,35 0,25 0,13 0,00 672843 10
CAR 30,65 0,34 0,19 0,00 0,00 172880 24
CARA 30,61 0,33 0,18 0,00 0,00 146637 24
CAL 1,32 0,34 0,23 0,00 0,00 3584 Todas
CALA 1,28 0,34 0,23 0,00 0,00 3405 Todas
FGC – 0,35 – – – – –
Rocha (2010) 351,53 – – – 0,04 – 13
Para ver os resultados completos das formulações arredondadas, ver as Tabelas A.2, A.3,

A.4, A.5, A.8, A.9, A.11, A.12 e A.14.

Para comparar o uso de variáveis de lote binárias e contínuas, ver A.6 com A.8 e A.7 com A.9

Tabela 2.3: Resultados médios e número de instâncias resolvidas para as formulações matemá-
ticas e resultados de Rocha (2010) para as instâncias da classe difícil

Tempo gapLB gapLB gapLB gapUB Instâncias
Formulação (s) raizpl (%) raiz (%) final (%) (%) No de nós resolvidas
FN 720,00 3,14 2,74 1,98 – 1294071 0
FB 720,00 2,98 2,62 1,95 – 1326605 0
KC 687,51 2,84 1,96 1,13 0,27 157950 2
KCA 662,75 2,84 1,96 1,13 0,27 133742 2
CAR 103,93 2,38 1,47 0,79 0,03 55632 22
CARA 102,94 2,38 1,47 0,79 0,03 53669 22
CAL 101,97 2,13 1,30 0,79 0,00 40006 22
CALA 98,21 2,12 1,30 0,77 0,00 32761 22
FGC – 1,19 – – – – –
Rocha (2010) 691,40 – – – 1,24 – 1
Para ver os resultados completos das formulações arredondadas, ver as Tabelas A.2, A.3,

A.4, A.5, A.8, A.9, A.11, A.12 e A.14.

Para comparar o uso de variáveis de lote binárias e contínuas, ver A.6 com A.8 e A.7 com A.9

médio de execução nesta mesma classe de instâncias, sendo próximo do tempo máximo permi-

tido para cada instância. Para as instâncias da classe difícil, o tempo médio de execução é igual

ao tempo máximo permitido de execução pelo fato de que esta formulação não foi capaz de com-

provar a otimalidade em nenhuma instância. A FN não provou o ótimo de nenhuma instância,

por isso o tempo médio de execução é exatamente 720 segundos para as duas classes de instân-

cias. Por outro lado, como estas duas formulações possuem menos coeficientes não zero, uma

quantidade significativamente maior de nós é resolvida pelo algoritmo de branch-and-bound.



45

Comparando KC com KCA, CAR com CARA e CAL com CALA, as performances

são similares. Podemos concluir que a formulação FN é dominada pela FB mas o efeito do

arredondamento do estoque em KC, CAR e CAL não é perceptível, mesmo quando o MDC dos

tamanhos de lote é maior que 1.

Em relação a FB, a formulação KCA obteve um desempenho bem melhor, sendo capaz

de resolver 12 das 50 instâncias, sendo 10 instâncias de dificuldade média e 2 instâncias difíceis.

Isto se dá porque na KCA, o CPLEX reconhece as restrições (2.10)-(2.13) como restrições de

mochila (para (2.11) e (2.12), todas as variáveis binárias são substituídas por seus complementos

gerando restrições de mochila). Assim, o CPLEX pode aplicar cortes específicos (por exemplo,

cover cuts). Este efeito pode ser percebido ao comparar os resultados das relaxações da raiz para

FB e KCA nas Tabelas 2.2 e 2.3.

Como somente a relaxação linear da FGC foi rodada, apenas a coluna gapLBraizpl foi

preenchida. Quanto aos dados conseguidos de Rocha(2010), estes foram extraídos do algoritmo

que o autor forneceu.

As formulações CARA e CALA, pelos resultados relatados, foram as que obtiveram os

melhores desempenhos, bem superiores ao da literatura (Rocha, 2010). A formulação CARA

foi testada de duas formas: com as variáveis z como binárias (ver Tabelas A.6 e A.7) e com estas

variáveis como contínuas entre zero e um (ver Tabelas A.8 e A.9). Com as variáveis contínuas,

esperava-se diminuir a quantidade de variáveis elegíveis ao branch. Porém, os testes mostraram

que o CPLEX percebe que as variáveis são inteiras e as utiliza no branch. Mesmo assim, com-

parando ambas as formas, é possível ver que a formulação com as variáveis contínuas apresenta

uma leve melhora em relação ao gapLB raiz médio para as classes de instâncias média e difícil,

provavelmente devido ao pré-processamento diferente para as duas formulações. Assim, embora

a diferença entre as duas suposições para as variáveis z não seja expressiva, todos os testes, tanto

para CARA quanto para CALA, foram feitos com as variáveis contínuas entre zero e um.

Com a formulação acumulada nas rotas, foram resolvidas 24 instâncias médias e 22 difí-

ceis, com tempo médio de execução significativamente baixo. Com a formulação acumulada nos

locais, foram resolvidas todas as instâncias médias e 22 difíceis. Dentre estas duas formulações,

acumular nos locais se mostrou mais eficiente por haver mais rotas que locais nas instâncias

utilizadas. Caso a quantidade de locais fosse maior que a de rotas, acumular nas rotas seria mais

eficiente.

O sucesso das formulações CARA e CALA pode ser explicado pelas três razões a se-

guir: (i) o número de coeficientes não zero nestas duas formulações é muito menor do que na



46

KCA (e comparável ao da formulação FB) porque cada variável x nas restrições (2.21)-(2.24)

e (2.30)-(2.33) substitui a soma de várias variáveis z; (ii) como na formulação KCA, o CPLEX

reconhece as restrições (2.21)-(2.24) e (2.30)-(2.33) como restrições de mochila; (iii) as variá-

veis x são mais apropriadas para branching. Para explicar o item (i), observe que o número

de coeficientes não-zero da FN , FB, CARA e CALA é O(|P||T||C|D), enquanto para KC e

KCA é O(|P||T||C|D2). A Tabela 2.4 compara o tamanho de todas as formulações para uma

instância da classe mais difícil. Para explicar o item (iii), veja a Figura 2.3, baseada na CARA.

A Figura 2.3.(a) representa as variáveis z associadas a uma rota para todo o horizonte de tempo:

os arcos representam as variáveis, a primeira coluna de nós representa a plataforma de origem e

a segunda coluna de nós representa o terminal de destino. Agora, assuma que z15 possui valor

fracionário na solução relaxada da formulação KCA. Se z15 for selecionada como variável de

branching e forçada a assumir o valor um, a solução relaxada provavelmente mudará significati-

vamente. Entretanto, quando z15 for forçada a ser zero, é provável que a relaxação dê o mesmo

limite inferior caso haja folga suficiente nos estoques de p1 e t1 para enviar a mesma quantidade

do produto um dia depois, i.e., definir z16 com o mesmo valor que z15 tinha no branching an-

terior. Esta observação é retratada na Figura 2.3.(b). Esta característica, quando replicada em

várias partes da solução, gera uma simetria indesejável que impede que o branch-and-bound ter-

mine, mesmo em instâncias em que o gap da raiz é pequeno. Como mostrado na Figura 2.3.(c),

o uso das variáveis x quebra esta simetria.

Tabela 2.4: Tamanho das formulações para uma instância da classe mais difícil

FN FB KC KCA CARA CALA
Quant. de variáveis 3030 3030 2700 2700 5400 4350
Quant. de restrições 330 330 660 660 33601 23103

Quant. de coefs não-zero 6060 6060 167400 167400 189002 120004

(1) 80% das restrições estão na restrição (2.20)

(2) 43% destes coeficientes estão na restrição (2.20)

(3) 70% das restrições estão nas restrições (2.28) e (2.29)

(4) 70% destes coeficientes estão nas restrições (2.28) e (2.29)

Os resultados obtidos de todas as formulações para a classe de instâncias mais difíceis

são mostrados na Tabela 2.5. Além das formulações originais CARA e CALA, foi testada

também uma versão modificada delas. A modificação consiste em permitir violação dos limites

mínimo e máximo nos estoques dos locais consumidores, mas mantendo o custo de violação

alto o suficiente para não alterar a solução ótima das instâncias. Para esta modificação, foram

incluídos dois novos conjuntos de variáveis:



47

Figura 2.3: (a) Representação de um conjunto de variáveis z correspondentes à mesma rota e
classe de navio. (b) Branching nas variáveis z. (c) Branching nas variáveis x.

• violmaxt,d : violação do limite máximo de estoque no terminal t e dia d

• violmint,d : violação do limite mínimo de estoque no terminal t e dia d

Seja Cviol o custo de violação de estoque. Para não mudar o valor da solução ótima, será

usado um valor alto o suficiente. A nova função objetivo será:

Min
?
p?P

?
t?T(p)

?
c?C(p)

2FcDp,tx
c,D
p,t +

?
t?T

D?
d=1

Cviol(viol
min
t,d + viol

max
t,d ) (2.48)

As novas variáveis violmaxt,d serão incluídas nas restrições (2.23) e viol
min
t,d nas restrições

(2.24) (análogo para CALA):

?
p?P(t)

?
c?C(p)

Vcx
c,d?Dp,t
p,t ?viol

max
t,d ? kmax(t,d)Lt ?t ? T,d ?{1, ...,D} (2.49)

?
p?P(t)

?
c?C(p)

Vcx
c,d?Dp,t
p,t + viol

min
t,d ? kmin(t,d)Lt ?t ? T,d ?{1, ...,D} (2.50)



48

Para a classe mais difícil de instâncias, o MDC é sempre 1. Arredondar os estoques

apenas retira a parte fracionária da produção ou demanda acumulada. Por isso, os testes foram

feitos somente com as formulações com estoques arredondados. Para encontrar a solução ótima

ou quase ótima das instâncias desta classe (para ser usada como UBb), as instâncias foram exe-

cutadas por muitas horas, usando como solução viável inicial a melhor solução encontrada nos

testes anteriores. Os resultados mostram que a formulação CARA resolveu apenas 3 das novas

instâncias, resultado bem inferior ao da CALA, que resolveu 7 instâncias. Com a permissão de

estouro com custo suficientemente alto, houve uma melhora de desempenho na obtenção de so-

luções viáveis das duas formulações, duas instâncias a mais foram resolvidas pela CARA e mais

uma instância foi resolvida pela CALA. Esta melhora ocorreu porque, quando a violação de es-

toques é permitida, o número de soluções viáveis aumenta muito, melhorando o desempenho

dos procedimentos heurísticos do CPLEX tanto na construção quanto na melhora das soluções

viáveis. O gapUB da CALA com estouro está alto porque ela encontrou solução viável para 21

instâncias, contra 16 da formulação sem estouro. Isto significa que soluções viáveis foram en-

contradas para instâncias mais difíceis, o que gerou gaps mais altos para elas. Somente a KCA

encontrou solução viável para todas as instâncias, o que contribuiu para seu alto gapUB médio.

Outro motivo que deixa o gapUB das CARA e CALA melhor é que quando estas formulações

encontram uma solução viável, costumam melhorar esta solução de forma mais rápida do que a

KCA.

A FGC obteve o melhor valor médio da relaxação da raiz, mesmo quando os procedi-

mentos de pré-processamento e cortes do CPLEX são utilizados nas outras formulações. Sem

os cortes do CPLEX, o valor médio da relaxação linear de todas as formulações é 7,94.

2.4.2 RESULTADOS COMPUTACIONAIS DA HEURÍSTICA BASEADA EM GERAÇÃO

DE COLUNAS

A heurística baseada em geração de colunas foi usada nas instâncias mais difíceis. Pri-

meiramente, foi observado que, para instâncias sem solução viável após o CPLEX rodar pelos

12 minutos disponíveis com a formulação CARA ou CALA, a heurística tem dificuldade em

achar alguma solução viável. Entretanto, nos casos em que o CPLEX encontra solução viável

nos 12 minutos, a heurística costuma achar boas solução viáveis rapidamente. Testes foram

feitos apenas com a heurística, com o intuito de testar seu tempo de execução e qualidade das

soluções viáveis encontradas, e utilizando a heurística para gerar uma solução viável inicial de

qualidade para o algoritmo de branch-and-bound.



49

Tabela 2.5: Resultados médios e número de instâncias resolvidas para a formulação CALA
(comparando com CARA) e suas relaxações para a classe de instâncias mais difíceis criadas

Tempo gapLB gapLB gapLB gapUB Instâncias
Formulação (s) raizpl (%) raiz (%) final (%) (%) No de nós resolvidas
FB 720,00 8,49 7,50 6,37 – 562356 0
RKC 720,00 8,26 6,53 5,34 10,9 107204 0
CARA 637,64 7,81 5,88 5,16 6,20 131274 3
CARAest 1 597,30 7,81 5,58 5,02 1,74 136310 5
CALA 550,15 7,63 5,77 4,87 0,76 5935057 7
CALAest 2 531,40 7,63 5,58 4,84 6,27 211518 8
FGC – 4,74 – – – – –
Para ver os resultados completos das formulações CARA, CARAest, CALA, CALAest e FGC,

ver Tabelas A.10, A.16, A.13, A.17 e A.15
1: Formulação CARA com possibilidade de estouro de estoque nos pontos de oferta, com custo 999999.
2: Formulação CALA com possibilidade de estouro de estoque nos pontos de oferta, com custo 999999.

Os resultados obtidos para a heurística baseada em geração de colunas são mostrados

na Tabela 2.6, utilizando a CARA. A coluna Viáveis encontradas mostra a quantidade de

instâncias com solução viável encontrada pela heurística e a coluna gapUB (%) mostra o gapUB

médio destas soluções. Comparando a heurística com e sem violação de estoques, é possível ver

uma boa melhora quando a violação é permitida. Isso ocorre porque a quantidade de soluções

viáveis aumenta. O gapUB médio para os dois casos mostra que, como esperado, a heurística

encontra soluções viáveis de qualidade. Para as instâncias que a heurística encontra solução

viável, o gapUB da CARAviol é 0,69. Esta formulação encontrou solução viável para 6 das

9 instâncias que a heurística falhou em encontrar solução viável. No entanto, o tempo médio

para obter solução viável nestes casos é 245,9 segundos. O tempo de execução médio das duas

variantes da heurística é baixo, com um mínimo de 7 segundos e um máximo de 16,78 segundos.

Pode-se pensar que, como a formulação knapsack cascading encontra solução viável para

todas as instâncias, a heurística deveria ser usada com esta formulação. Nossos testes mostraram

que as formulações de lotes acumulados possuem uma performance superior. Isto ocorre porque

a heurística diminui o conjunto de soluções, ficando mais fácil encontrar uma solução viável.

Quando as formulações acumuladas encontram solução viável, normalmente a solução é melhor

do que da RKC.

Os resultados obtidos pela heurística, comparados com as duas melhores formulações,

são mostrados na Tabela 2.7. Comparando a formulação CALA com e sem a heurística, verifica-

se uma boa melhora quando a heurística é utilizada, provando o ótimo de 10 das 25 instâncias,

contra 7 sem a heurística. O gapUB médio mostra que, como esperado, a heurística levou a



50

Tabela 2.6: Resultados médios e quantidade de soluções viáveis encontradas para a heurística
baseada em geração de colunas com e sem violação nos terminais usando a CARA para a classe
mais difícil de instâncias

Tempo gapUB Viáveis
Formulação (s) (%) encontradas

HGC com violação 11.5 0.12 16
HGC sem violação 13.2 0.40 14

Tabela 2.7: Resultados médios e quantidade de instâncias resolvidas para as duas formulações
com variáveis acumuladas e a heurística baseada em geração de colunas, para a classe mais
difícil de instâncias

Tempo gapLB gapLB gapUB No. de Instâncias
Formulação (s) raiz (%) final(%) (%) nós resolvidas
CARA 637,64 5,88 5,16 6,20 131274 3
CALA 550,15 5,77 4,87 0,76 5935057 7
CALA?HGC 498,62 5,81 4,76 0,13 130949 10
Para ver a quantidade de colunas geradas e a solução viável encontrada com a heurística

baseada em geração de colunas, usando as formulações CARA e CALA, sem e com

permissão de estouro (custo 999999 por unidade de estouro), ver Tabela A.18.

melhores soluções viáveis. O tempo médio da CALA? HGC inclui o tempo de execução da

heurística.

2.5 CONCLUSÕES DESTE CAPÍTULO

Este capítulo desenvolveu um estudo de modelagem para o problema de Transporte de

Petróleo. Três classes de instâncias retiradas da literatura foram usadas nos testes. Com o

excelente desempenho obtido, uma nova classe foi criada, com instâncias de maior grau de

dificuldade.

Foram implementadas e testadas sete formulações: Formulação Natural (FN), Formu-

lação Básica (FB), Knapsack Cascading (KC), Knapsack Cascading Arredondado (KCA), Cas-

cading Acumulado nas Rotas e Arredondado (CARA), Cascading Acumulado nos Locais e

Arredondado (CALA) e Formulação para Geração de Colunas (FGC). As primeiras seis for-

mulações foram testadas com o algoritmo de branch-and-cut do CPLEX, sendo a formulação

CALA a que obteve os melhores resultados. Caso o número de rotas fosse menor que o de

locais nas instâncias consideradas, a formulação (CARA) seria mais indicada. Sem os cortes

do CPLEX, a FGC obteve os melhores limites inferiores, o que motivou o desenvolvimento de

uma heurística baseada em geração de colunas.



51

Comparando os resultados obtidos por Rocha (2010) com os deste trabalho, foi alcançada

uma excelente melhora. Tal melhora foi conseguida através de um melhor entendimento do

problema, incorporado na formulação matemática, reduzindo assim o esforço computacional.

Arredondar os estoques melhorou o desempenho apenas da formulação FN , não sendo

percebida melhora nas formulações KCA, CARA e CALA.

Para as formulações CARA e CALA, foi desenvolvida uma heurística baseada em gera-

ção de colunas. Dado o excelente desempenho destas formulações com as classes média e difícil

de instâncias, a heurística foi utilizada apenas para a classe mais difícil. Foram mostrados a de-

composição de Dantzig-Wolfe e um algoritmo por programação dinâmica (pseudopolinomial)

para resolver os subproblemas. A heurística gerou boas soluções viáveis em baixo tempo com-

putacional. A formulação CALA foi testada com e sem a heurística, melhorando a performance

da formulação quando a heurística é utilizada.

A classe mais difícil de instâncias serviu para avaliar a habilidade das melhores for-

mulações em encontrar boas soluções viáveis quando o ótimo não pode ser comprovado. Foi

mostrado que é possível melhorar a qualidade das soluções viáveis encontradas pelas formula-

ções CARA e CALA, e pela heurística baseada em geração de colunas, ao permitir violação de

estoque, o que aumenta o conjunto de soluções viáveis.



3 PROBLEMA DAS MOVIMENTAÇÕES DE LOTES DE DERIVADOS DE

PETRÓLEO E DE BIOCOMBUSTÍVEIS PELA REDE LOGÍSTICA BRASILEIRA DE

PETRÓLEO - MALHA BRASIL

De acordo com Dóra et al (2009), o problema de transferência da Malha Brasil consiste

em utilizar os diversos modais e transportes disponíveis para escoar a produção de derivados das

refinarias e produtores externos ao Abastecimento (E&amp;amp;P ou terceiro), abastecer as demandas do

mercado interno nacional e dos consumidores internos da companhia (E&amp;amp;P e térmicas), exportar

os produtos excedentes e importar os produtos em falta. No modelo tratado nesta tese, a gra-

nularidade corresponde ao nível tático de planejamento, onde o tempo é discretizado em meses.

O horizonte de programação é de três meses (o mês atual mais dois meses futuros). A solução

deve buscar um compromisso entre minimizar o custo de transporte e minimizar as violações

das capacidades de armazenamento nos locais.

3.1 PRODUTOS

Os principais produtos que trafegam na Malha Brasil são:

• Álcool

• Gasolina

• Diesel

• Gás Liquefeito de Petróleo (GLP)

• Nafta petroquímica

• Querosene



53

• Óleo combustível

• Bunker (óleo combustível para navio)

As classes acima podem ser desmembradas em diversas subclasses, formando uma ár-

vore de classificação de produtos. Por exemplo, o GLP pode ser desmembrado em butano e

propano. Além dessas classes, destacam-se outras de menor volume, porém com grande impor-

tância. Essas classes são chamadas de especiais. Nesta classe, se encontram os lubrificantes, os

asfaltos, as parafinas e o coque.

Diferente da estrutura de árvore, o modelo de otimização desenvolvido nesta tese repre-

senta os produtos de forma simplificada, através de grupos de produtos. Grupo de produtos é

um conjunto de produtos com características químicas similares que utilizam o mesmo tipo de

tanque de armazenamento. A figura 3.1 mostra como é feita a organização dos produtos em

grupos de produtos.

Figura 3.1: Organização dos produtos em grupos de produtos

O modelo matemático permitirá o uso de degradação de produtos nos locais. A degra-

dação ocorre quando um produto mais nobre (produto A) é misturado com outro menos nobre

(produto B). Então, dizemos que o produto A foi degradado para o produto B. A mistura resul-

tante será vendida como produto B. Na prática, mesmo que não haja mistura, caso o produto A

seja vendido como se fosse B, já é considerado degradação. Embora a degradação gere prejuízo,

já que produtos mais nobres custam mais, ela pode ser vantajosa quando o produto B está em

falta, e há excesso do produto A. O custo de degradação é a diferença de preço entre os produtos

A e B.

3.2 LOCAIS

Os locais podem ser classificados como:

• Refinarias



54

• Outros produtores (E&amp;amp;P e terceiros)

• Pontos de entrega (consumo)

• Fornecimento interno (Abastecimento entregando para E&amp;amp;P ou térmicas)

• Terminais aquaviários (da Petrobras/Transpetro ou de terceiros)

• Terminais terrestres (da Petrobras/Transpetro ou de terceiros)

Os terminais terrestres e aquaviários são chamados de bases. Existem pontos de entregas

especiais (fornecimento interno) que correspondem às indústrias térmicas operadas pela Petro-

bras e aos locais de E&amp;amp;P (exploração e produção). Esses últimos necessitam de óleo diesel

(principalmente) e outros produtos acabados para operar. Existem pontos de oferta especiais

(outros produtores) que correspondem aos locais de E&amp;amp;P que produzem acabados específicos

(principalmente querosene e diesel) e terceiros externos à companhia que fornecem produtos

intermediários ou acabados (em geral petroquímicas privadas). As quantidades produzidas e/ou

demandadas de cada produto em cada local são dadas para cada mês.

A figura 3.2 mostra a localização das bacias, plataformas e terminais. A figura 3.3 mostra

a localização das refinarias (fonte das figuras 3.2 e 3.3: adaptadas do site da Petrobras) .

A seguir, uma lista com as refinarias da Petrobras no Brasil e suas respectivas produções,

em barris por dia (bpd):

• Região Norte

– REMAN (Manaus, Amazonas). Produção de 46.000 bpd.

• Região Nordeste

– RLAM (São Francisco do Conde, Bahia). Produção de 323.000 bpd.

– RPCC (Guamaré, Rio Grande do Norte). Produção de 30.000 bpd.

• Região Sudeste

– REGAP (Betim, Minas Gerais). Produção de 151.000 bpd.

– REPLAN (Paulínia, São Paulo). Produção de 365.000 bpd.

– REVAP (São José dos Campos, São Paulo). Produção de 251.000 bpd.

– RPBC (Cubatão, São Paulo). Produção de 170.000 bpd.



55

Figura 3.2: Localização das bacias, plataformas e terminais na cadeia logística da Petrobras no
Brasil

– RECAP (Mauá, São Paulo). Produção de 53.000 bpd.

– REDUC (Duque de Caxias, Rio de Janeiro). Produção de 242.000 bpd.

• Região Sul

– REPAR (Araucária, Paraná). Produção de 189.000 bpd.

– REFAP (Canoas, Rio Grande do Sul). Produção de 189.000 bpd.

No modelo de otimização apresentado nesta tese, caso a instância seja de nível tático,

cada local representa uma região do Brasil, normalmente um estado. Estados com estrutura mais

complexa, como São Paulo, podem ser modelados como dois ou mais locais. Em instâncias



56

Figura 3.3: Localização das refinarias na cadeia logística da Petrobras no Brasil

de nível operacional, cada local representa um dos pontos listados acima, como refinarias e

terminais terrestres.

3.3 MODAIS

Os modais existentes são:

• Marítimo (cabotagem ou longo curso)

• Hidroviário (balsas)

• Dutoviário

• Rodoviário (caminhões)



57

• Ferroviário

A malha marítima petrolífera brasileira possui 60 embarcações com capacidade de 3,9

milhões de TPB (Porte bruto das embarcações de comércio), tendo transportado em 2012 46,9

milhões de toneladas de petróleo e derivados, um aumento de 76% em relação ao ano anterior

(Transpetro, 2012). Este modal possui alto volume de transporte, contribuindo para o baixo custo

por unidade de volume. Outra vantagem é o fácil acesso aos locais produtores e consumidores,

dado que boa parte da produção de petróleo cru brasileira se localiza off-shore, e os principais

pontos consumidores e refinarias se localizam na extensa costa marítima brasileira. A grande

capilaridade dos rios ainda permite que este modal chegue a regiões remotas com acesso fluvial,

utilizando embarcações de baixo calado denominadas balsas e barcaças. A navegação pela costa

é chamada de cabotagem e a navegação fluvial é chamada de interior.

A malha dutoviária petrolífera brasileira é composta por aproximadamente 14370 km de

dutos (7178 km de oleodutos e 7192 km de gasodutos) com capacidade média para movimentar

670 milhões de m3 de petróleo e derivados por ano. A maior concentração deste tipo de modal

se encontra na região sudeste devido à presença de um maior número de bases nesta região

(Transpetro, 2012). O transporte de cargas neste modal ocorre no interior de uma linha de

tubos ou dutos e o movimento dos produtos se dá por pressão ou arraste destes por meio de um

elemento transportador. Os elementos que constituem uma dutovia são: os terminais, com os

equipamentos de propulsão do produto; os tubos e as juntas de união destes (Ferreira, 2000). É

considerado o mais consistente e frequente de todos os modais. Isso ocorre porque a variância

no tempo de transporte é mínima (maior consistência) e as dutovias funcionam 24 horas por dia

(freqüência). É o modal de maior custo fixo e menor custo variável, sendo considerado o mais

econômico e mais ecológico (Vaz et al, 2000). Os dutos são chamados de oleodutos quando

transportam petróleo e derivados e de gasodutos quando transportam gases, normalmente em

forma líquida.

Como os dutos da Rede de Escuros são bidirecionais, existe a possibilidade de reversão

de sentido de escoamento do produto. A operação de reversão consiste em preencher todo o

duto com óleo leve de reciclo (LCO), de forma a empurrar todo o produto dentro do duto para

o local de destino. Logo após, o sentido do escoamento é alterado e os produtos passam a ser

bombeados no sentido reverso, e todo o óleo leve de reciclo que estava no duto retorna. Os dutos

podem apresentar vazão diferente para cada sentido. O número de reversões nos dutos da rede

brasileira é pequeno (Alves, 2007).



58

A malha rodoviária transportou em 2012 cerca de 1,2 milhões de m3 de produtos cla-

ros e 1 milhão de toneladas de produtos escuros e granéis sólidos, perfazendo 2,2 milhões de

m3/t, o que reflete um crescimento de 47% em relação ao ano anterior. Para executar esta ope-

ração logística, foram realizadas aproximadamente 58 mil viagens por todas as regiões do país

e transportados 30 tipos de produtos, dentre os quais se destacam o óleo combustível, biodiesel,

gasolina e nafta (Transpetro, 2012).

A malha ferroviária, comparada com os outros modais de transporte, é pouco utilizada

pela indústria de petróleo brasileira.

A figura 3.4 mostra a topologia aproximada da malha multimodal petrolífera brasileira

(fonte: Banaszewski (2012)) e a figura 3.5 mostra as bases e refinarias, juntamente com a malha

ferroviária e dutoviária (Fontes: ANP, Transpetro e Ferrovias, retirada do site do ILOS).

Figura 3.4: Topologia aproximada da malha multimodal petrolífera brasileira

No modelo de otimização proposto, para a movimentação dos lotes, todos os modais

apresentam as seguintes características gerais:

• A movimentação deve seguir rotas cadastradas conectando pares de locais;

• As rotas são compostas por arcos, que conectam pares de locais por um dos modais que

podem transportar um ou mais produtos e ordenados de forma sequencial. Um arco é obri-



59

Figura 3.5: Bases, refinarias, ferrovias e dutos na cadeia logística da Petrobras no Brasil

gatoriamente de um único modal. As rotas podem ser multimodais se forem compostas

por arcos de diferentes tipos de modal;

• Cada arco tem uma capacidade de movimentação. A capacidade de uma rota é limitada

pela capacidade do seu arco de menor capacidade. Rotas que utilizam o mesmo arco

devem compartilhar a sua capacidade, em uma base de fração de tempo de um período

de mês utilizada por cada arco. Assume-se que todos os modais, exceto o dutoviário, têm

capacidade ilimitada, pois a Petrobras pode alugar veículos de terceiros;

• Cada arco tem um custo de transporte associado, por grupamento de produto. Nos casos

em que houver disponibilidade de dados, este custo será especificado para cada produto;

Os principais modais em termos de volume são os dutos e navios. Para estes dois modais,

a quantidade existente em trânsito ao final de cada período é significativa e deve ser considerada

no modelo. Para estes modais, existem outras particularidades que devem ser consideradas.



60

O modelo aceita dutos reversos, mas esta operação será modelada como se fosse automá-

tica, sem atraso ou redução na capacidade do duto e sem a necessidade de envio de um produto

para empurrar o produto dentro do duto para seu local de destino. A quantidade transportada

deve observar os limites de vazão de cada sentido.

Para os navios, devemos considerar que as quantidades movimentadas devem respeitar

um lote mínimo por produto e rota. O modelo matemático atual aceita mais de um lote por

rota e produto, e permite que sejam enviados múltiplos de cada tamanho de lote. Uma forma

de simplificar o modelo é considerar somente o lote mínimo de cada rota. O número total de

navios utilizados não é limitado pelo modelo, pois a frota já é dimensionada de acordo com

a demanda, e ainda existe um grande número de navios adicionais que podem ser alugados.

Detalhes operacionais dos navios nos portos, como os procedimentos de carga e descarga e a

espera por um berço de atracação no porto não serão considerados.

3.4 CAPACIDADES DE ESTOQUE

Os produtos da malha são armazenados em tanques. Os tanques são caracterizados pela

forma do costado e teto. Em relação à forma do costado, os tanques podem ser classificados

em cilíndricos ou esféricos. Os tanques cilíndricos são utilizados para o armazenamento de pe-

tróleo ou derivados e os esféricos para o armazenamento de gases. Quanto ao teto, os tanques

são classificados em tanques de teto fixo ou de teto flutuante. Em tanques de teto fixo, o teto

está diretamente ligado à parte superior de seu costado e em tanques de teto flutuante, o teto

flutua sobre o produto armazenado a fim de evitar a formação de espaços de vapor. Particular-

mente, em tanques que funcionam pelo sistema de teto flutuante, se faz necessário manter um

volume mínimo de produto no tanque para evitar que o teto encoste o chão e seja danificado

(Banaszewski, 2012).

No modelo matemático, cada local dispõe de capacidades de armazenamento máxima e

mínima, por grupo de produtos. Em cada local, essas capacidades são desmembradas em dois

níveis de violação: o nível físico e o nível operacional, sendo o nível operacional mais restrito,

correspondendo a uma penalidade menor que o nível físico. Com isso, temos os seguintes tipos

de capacidades para cada local (ver figura 3.6):

• Capacidade física mínima agregada

• Capacidade física máxima agregada



61

• Capacidade operacional mínima agregada

• Capacidade operacional máxima agregada

Figura 3.6: Capacidades agregadas de estoque em cada local

Para o Brasil todo, é utilizada uma faixa de estoque denominada Estoque Meta, também

por grupo de produtos. Diferentemente dos limites locais de estoque, onde a preocupação é com

a falta ou excesso dos produtos em cada local, esta meta nacional de estoque procura manter o

estoque brasileiro em um patamar de segurança, mantendo uma quantidade excedente dentro do

país.



62

4 ESTUDO DO PROBLEMA DAS MOVIMENTAÇÕES DE LOTES DE DERIVADOS

DE PETRÓLEO E DE BIOCOMBUSTÍVEIS PELA REDE LOGÍSTICA

MULTIPRODUTO E MULTIMODAL BRASILEIRA (MALHA BRASIL)

Neste capítulo, será estudada a atividade de planejamento da rede logística da Petrobras.

A Petrobras possui muitas plataformas e refinarias que ofertam óleo cru e refinado. É possível

ver o problema geral como dois problemas separados:

• Transporte de óleo cru das plataformas (a maioria é offshore) para refinarias.

• Transporte de óleo refinado das refinarias para os consumidores.

O modelo matemático apresentado aqui pode ser usado nos dois problemas separada-

mente. Outras características comuns aos dois problemas são listadas a seguir. A companhia

pode comprar óleo de produtores externos, se necessário. O excesso pode ser vendido para ou-

tras companhias. Os modais de transporte disponíveis são dutoviário, marítimo, rodoviário e

ferroviário. Cada trajeto possível utilizando um único modal representa um arco da rede. As

rotas são formadas por um ou mais arcos, dependendo da quantidade de modais de transporte

usados por ela. Cada rota possui tamanhos de lote específicos.

A produção e demanda de cada local são dados por mês. Assume-se que a produção e

demanda são uniformemente distribuídos ao longo do mês, por isso o valor mensal é dividido

pela quantidade de dias do mês para ter o balanço diário. A solução busca minimizar o custo de

transporte e minimizar as violações de estoque. Para minimizar as violações, é necessário evitar

falta de produtos em estoque, assim como estouro das capacidades máximas de estoque, em

todos os locais da rede. Os estoques possuem limites físicos e operacionais. Os limites operaci-

onais são mais apertados do que os limites físicos, mas os custos de violação são mais baixos.

É desejável manter os estoques dentro dos limites operacionais. Caso não seja possível, paga-se



63

uma penalidade. Os limites físicos são críticos. Por isso os custos por violação são considera-

velmente mais altos. Existem também limites mínimos e máximos de estoque considerando a

malha inteira, gerando a Faixa Meta de estoque para o Brasil. Podemos ver a minimização dos

custos de transporte como um objetivo secundário porque as violações de estoque podem levar

a altas penalidades (atrasos na entrega) e uma imagem ruim da companhia.

Grupo de produtos é um conjunto de produtos similares que usam o mesmo tipo de tan-

que. As capacidades de estoque são dadas por grupo de produtos. Produtos enviados antes do

início do horizonte de tempo e que ainda não chegaram ao local de destino entram no modelo

matemático como dados de entrada, e são chamados de estoque em trânsito. Note a importância

do uso de estoques em trânsito para a qualidade da solução. Além de aproximar a instância da

realidade, já que os produtos estão sempre trafegando pela rede, seu uso evita a necessidade

de uma grande quantidade de estoque inicial nos locais consumidores, o que não é desejável.

No caso de uma rede de transporte tão extensa como a brasileira, o uso de estoque em trân-

sito faz grande diferença, pois existem rotas com tempo de trânsito de vários dias, e os locais

consumidores não podem ficar tanto tempo sem receber produtos.

Envios programados antes do início do horizonte de tempo, e que terão início durante o

horizonte de tempo, são chamados de transportes comprometidos. Esta funcionalidade é útil no

caso de a empresa ter vendido ou comprado algum produto antes do início do período de pla-

nejamento do modelo, e precisa considerar que este produto tem que estar disponível no local

de origem na data programada do envio, e que o local de destino precisa ter espaço no estoque

para recebê-lo na data programada de recebimento. A diferença entre transporte comprometido

e estoque em trânsito é que o segundo iniciou o transporte antes do início do horizonte de plane-

jamento. Como consequência, apenas no transporte comprometido é necessário que o produto

esteja disponível no local de origem do transporte.

Os locais da malha poderão utilizar a degradação de produtos. A degradação ocorre

quando um produto mais nobre é misturado com outro menos nobre, aumentando a quantidade

do produto menos nobre. Na prática, basta um produto mais nobre ser vendido como um produto

menos nobre para ser considerado degradação. Isso significa que não é preciso ter um produto

menos nobre no local para degradar um mais nobre. O custo de degradação é a diferença de

preço entre os produtos.

Alguns locais permitem sobre-estadia, isto é, um período de tempo em que o navio per-

manece no porto após o período usual de carga e descarga. Na maioria das vezes, a sobre-estadia

ocorre por causa de congestionamento dos portos devido à demanda por carga e descarga acima



64

da prevista. Como o modelo estudado é determinístico, tal causa não é considerada e a sobre-

estadia só ocorrerá se for programada. A sobre-estadia programada é útil quando a capacidade

de estoque de algum local é menor do que a capacidade do navio. O excesso de carga permanece

no navio, descarregando aos poucos. O custo diário de sobre-estadia está associado ao aluguel

do porto e do navio.

A operação de transbordo é uma operação feita em alto mar, retirando a carga de um

navio e carregando-a em outro navio. Quando a companhia importa algum produto, a operação

de transbordo é mais frequente pois o tamanho do lote de importação é maior que os demais.

Como a quantidade importada é grande, normalmente mais do que um navio recebe cada lote da

carga importada.

Segue abaixo, um resumo das características do problema que são pouco comuns em

problemas de transporte:

• Grupo de produtos: Produtos com características parecidas e que utilizam mesmo tipo de

tancagem.

• Degradação: Produtos mais nobres podem ser degradados para produtos menos nobres.

• Sobre-estadia: Navios que ficam ancorados descarregando aos poucos quando o estoque

do local não comporta toda a carga.

• Transbordo: Na importação, um navio grande descarrega em navios menores que distri-

buem a carga pela rede.

• Estoque em Trânsito: Envios que iniciaram antes do início do horizonte de tempo e ainda

não chegaram ao destino.

• Transporte Comprometido: Transporte agendado antes do início do horizonte de tempo,

para iniciar durante o horizonte de tempo.

4.1 REVISÃO BIBLIOGRÁFICA

Embora a rede estudada aqui utilize predominantemente o modal marítimo, o capítulo

2 já apresentou uma revisão bibliográfica com redes marítimas. Nesta Seção, serão abordadas

referências a estudos de redes dutoviárias e multimodais contidas na rede logística da Petrobras.

A rede logística da Petrobras tem sido estudada há muito tempo, com o objetivo de

otimizar suas diversas etapas. A maior parte destes estudos considera uma pequena parte desta



65

imensa rede. Magatão et al (2004) e Boschetto et al (2010) estudaram a rede de claros da

região sudeste brasileira. Magatão et al (2004) propôs uma estratégia de decomposição para

lidar com a complexidade dos dutos em um cenário real. Boschetto et al (2010) implementaram

algumas restrições operacionais diferentes, como o uso de rotas preferenciais para evitar perdas

por contaminação, horas demandadas de bombeamento nos horários de pico, restrições locais

e operações com tanque de armazenamento. Alves (2007) tratou do problema de transporte de

derivados pesados de petróleo em uma rede dutoviária localizada no estado de São Paulo. O

horizonte de programação foi de 7 e 14 dias, discretizados em períodos de 4 horas. Por causa

da complexidade do problema estudado, o autor adotou um modelo simplificado, resolvido com

uma heurística baseada em algoritmo genético (Rothlauf, 2011). Lopes et al (2010) também

estudou a rede de dutos da Petrobras, implementando um framework híbrido baseado em uma

estratégia de decomposição de duas fases: (i) a fase de planejamento decide o volume necessário

a ser transferido entre os depósitos e quais rotas serão usadas para que o volume calculado

seja entregue; (ii) a fase de escalonamento gera e sequencia as operações de bombeamento,

observando todas as restrições operacionais. de Souza (2010) utilizou três algoritmos heurísticos

diferentes para otimizar a rede de dutos da Petrobras: o primeiro se baseia da otimização por

nuvens de partículas e os dois últimos se baseiam no algoritmo non-dominated sorting genetic

algorithm II (Brownlee, 2011). Milidiú et al (2001) também otimizaram a rede de óleodutos,

utilizando a heurística Greedy randomized adaptive search procedure. Talvez o estudo mais

antigo usando programação matemática para otimizar a rede de dutos da Petrobras se encontre

em Camponogara (1995). O autor dividiu o problema já simplificado em três: (i) geração das

operações de transporte; (ii) escolha da rota entre a base produtora e a consumidora de cada

operação de transporte; (iii) programação das operações (escalonamento).

Já o presente trabalho procura modelar a rede como um todo, considerando todo o Brasil

e suas ligações com o exterior. Para tal, é preciso desconsiderar certos detalhes operacionais

no uso de portos, no manejo de dutos, dentre outros. O modelo matemático tem como objetivo

evitar que os locais tenham sua capacidade de estoque violada, ou seja, que haja excesso ou

falta de qualquer tipo de produto. Como saída do modelo, temos o dia de saída de cada lote, a

rota utilizada e o tamanho do lote a ser enviado. Banaszewski (2012) também estuda o mesmo

modelo da rede logística da Petrobras, mas utiliza uma abordagem baseada em multiagentes

para resolvê-lo. Esta mesma abordagem foi utilizada por Brito (2008) e Brito e Tacla (2009)

para tratar parte da cadeia logística da Petrobras.



66

4.2 MODELO MATEMÁTICO

A versão atual do algoritmo utiliza a formulação cascading acumulado nas rotas, por isso

a formulação apresentada aqui é baseada nesta formulação.

Hipóteses:

1. Os períodos são divididos em períodos pequenos (dias ou subperíodos) e grandes (meses

ou períodos). As demandas são fornecidas por período e são distribuídas uniformemente

pelos sub-períodos. As capacidades das tancagens são verificadas no final de cada sub-

período. As capacidades dos modais de transporte são limitadas também por subperíodo

mas sofrem uma verificação adicional ao final de cada período, quanto ao montante total

transportado.

2. Os tamanhos de lote de todos os modais devem assumir apenas valores pré-determinados.

Escolhas de Modelagem

• Dutos: não será levado em consideração detalhes como o de encher o duto com um pro-

duto para empurrar o outro para seu destino. O planejamento deve limitar a capacidade

do duto por subperíodo de forma aproximada apenas e por período de forma mais precisa,

considerando o montante total.

• Reversão de dutos: a reversão será permitida desde que dois lotes não trafeguem em

sentidos contrários no mesmo subperíodo.

• Navios: navios terão abordagem por bateladas, possivelmente com ganho de escala. Por

exemplo, pode haver um custo para movimentar 10.000m3 e outro menor do que o dobro

para movimentar 20.000m3, e assim por diante.

• Outros modais: a priori não haverá restrições.

Conjuntos:

• N,A,P,H,R,F,D: Conjunto de locais, conjunto de arcos, conjunto de produtos, con-

junto de locais onde pode haver sobre-estadia (H ? N), conjunto de rotas, conjunto de

locais onde pode haver transbordo (F ? N) e conjunto de dutos. Neste modelo, para

simplificar a notação matemática, cada duto reversível corresponde a dois arcos, cada um

com um sentido para o fluxo.



67

• Gi: Conjunto de grupos de produtos associado aos estoques do local i (cada grupo de

produtos g ? Gi é um subconjunto de P ).

• Ar: Conjunto de arcos que pertencem à rota r.

Índices:

• a: arco.

• g: grupo de produtos.

• k: tamanho do lote.

• o: produto.

• p: produto.

• r: rota.

• s: sub-período.

• t: período.

Constantes:

• ?ra: Tempo necessário para que um lote de qualquer tamanho enviado pela rota r ? R

chegue ao início de um arco de duto a ? Ar.

• a?(d): Arco que corresponde ao duto d ? D no sentido reverso.

• a+(d): Arco que corresponde ao duto d ? D no sentido direto.

• Bpis: Balanço do volume do produto p produzido e consumido (volume produzido menos

volume consumido) no local i ao longo de cada sub-período s. Para calcular o balanço por

grupo de produtos, basta somar o balanço dos produtos que fazem parte do grupo.

• Cprk: Custo de transporte de um lote do k-ésimo tamanho do produto p através da rota r.

• CAPat: Volume máximo transportado pelo arco de duto a durante o período t, dado pelo

produto entre a vazão e a duração do período.

• Cdpo: Custo de degradação do produto p para o produto o. É ? quando a degradação não

é permitida ou quando p = o.



68

• Csgit: Custo diário de sobre-estadia do grupo de produtos g, no local i, no período t.

• Epi: Volume do produto p estocado no local i no início do período de tempo 1. Para

calcular o estoque inicial por grupo de produtos, basta somar o estoque inicial dos produtos

que fazem parte do grupo.

• g(p): Grupo de produtos a que pertence o produto p.

• LFmingit , LFmaxgit , LOmingit , LOmaxgit : Limites físicos de estoque, mínimo e máximo, e limites

operacionais de estoque, mínimo e máximo, do grupo de produtos g no local i, no período

t.

• LMmingt , LMmaxgt : Limites de estoque, mínimo e máximo, para a meta Brasil, do grupo de

produtos g, no período t. A diferença entre eles é o acréscimo \ decréscimo de uma faixa

de tolerância em relação à meta Brasil.

• NLpr: Número de tamanhos de lote do produto p que podem atravessar a rota r. Para

calcular NLpr, é preciso saber se há modal navio na rota. Se houver, NL conterá os lotes

do modal navio que forem maiores que o lote mínimo da rota. Caso haja apenas modal

duto, NL será igual a 1 (o lote mínimo da rota).

• orig(r),dest(r): origem e destino do transporte através da rota r. As origens e destinos

podem ser um local pertencente a N, ou então um local exterior, denotado por ext. Os

locais de origem/destino das rotas devem ser pontos com balanço não-negativo/negativo

no período correspondente ou locais de transbordo.

• Plft, Plot: Penalidade por violação dos limites físicos e operacionais, por período.

• Plmt: Penalidade por violação do estoque meta para o Brasil inteiro, por período. Para

calcular o estoque do Brasil todo, é preciso somar o estoque de todos os locais com todo

o estoque em trânsito.

• QLpr(k): Volume de um lote do k-ésimo tamanho do produto p que pode atravessar a rota

r.

• St:Último subperíodo do período de tempo t (S0 = 0).

• SPt: Número de subperíodos do período t.

• T : Número de períodos de tempo.



69

• t(s): Período de tempo ao qual pertence o sub-período s. Se s ? 0, então t(s) = 0.

• ttr: Tempo de trânsito da rota r.

• tta: Tempo de trânsito do arco de duto a.

• Uak: Limite superior para a quantidade máxima de lotes de tamanho k que podem ser

enviados por subperíodo pelo arco de duto a. É calculada dividindo-se a vazão do duto

por sub-período pelo tamanho do lote e arredondando para cima.

• V Sgit: Volume máximo do grupo de produtos g a ser mantido em sobre-estadia no local i,

no período t.

• XCpis: Volume do produto p que entrou (XC &gt; 0) ou saiu (XC &amp;lt;0) do local i, no

subperíodo s, devido ao transporte comprometido e ao estoque em trânsito.

• XCps: Volume total do produto p que entrou (XC &gt; 0) ou saiu (XC &amp;lt;0) da malha, no

subperíodo s, devido ao transporte comprometido e ao estoque em trânsito.

• XMat: Movimentação comprometida no período t para o arco de duto a.

• XMask: Número de lotes do k-ésimo tamanho trafegado no arco de duto a no subperíodo

s devido aos transportes comprometidos e estoques em trânsito.

• XTp: Volume do estoque em trânsito na rede no início do horizonte de tempo do produto

p. Neste caso, só são contabilizados lotes em trânsito entre dois locais pertencentes à rede.

Variáveis:

Variáveis de Transporte:

• zxprsk: Variável inteira que representa o número de lotes do k-ésimo tamanho do produto

p transportado através da rota r a partir do sub-período de tempo s. Quando mais de um

lote do mesmo produto é enviado no mesmo sub-período, pela mesma rota, esses lotes são

substituídos por um único lote cujo volume é a soma dos volumes dos lotes anteriores.

Essa agregação é limitada pelo tamanho máximo de um lote.

• xxprsk: Variável inteira que representa a quantidade acumulada de lotes do k-ésimo tama-

nho do produto p transportado através da rota r do início do horizonte até o subperíodo de

tempo s. Assuma que xxprsk = 0,?s ? 0.

Variáveis de Degradação:



70

• vdpois: Variável contínua que expressa o volume total do produto p degradado para o

produto o no local i durante o sub-período de tempo s.

• vdapois: Variável contínua que expressa o volume acumulado do produto p degradado

para o produto o no local i do início do horizonte até o sub-período de tempo s. Assuma

vdapoi0 = 0,?p,o,i.

Variáveis de Nível de Estoque:

• ypis: Volume do produto p estocado no local i no final do sub-período de tempo s (des-

considera estoque inicial e balanço de produção).

• ygis: Volume total dos produtos do grupo de produtos g estocados no local i no final do

subperíodo de tempo s.

• yps: Volume total do produto p estocado e em trânsito na Malha Brasil, no final do subpe-

ríodo de tempo s.

• ygs: Volume total dos produtos do grupo de produtos g estocados e em trânsito na Malha

Brasil, no final do subperíodo de tempo s.

Variáveis de Uso dos Arcos:

• xpat: Volume do produto p transportado através do arco a ao longo do período de tempo t.

• xas: Porcentagem da capacidade total do arco a enviada no subperíodo s (considerando o

limite Uak do número de lotes enviados por sub-período).

• wds: Variável binária que assume o valor 1 quando o duto d só pode ser utilizado no

sentido direto, no sub-período de tempo s, e 0 quando d só pode ser utilizado no sentido

reverso. Isso impede que um duto seja utilizado ao mesmo tempo nos sentidos direto e

reverso.

Variáveis de Violação de Estoque:

• vfmingis e vfmaxgis : Variáveis contínuas que expressam o quanto foi violado o limite físico

(mínimo e máximo) de estoque do grupo de produtos g no local i no final do sub-período

de tempo s.

• vfpis: Variável contínua que expressa em módulo a quantidade de estoque negativo do

produtos p no local i no final do sub-período de tempo s. É uma violação de limite físico

de estoque.



71

• vftranpis : Variável contínua que verifica se a sincronização de operações de transbordo foi

violada pelo produto p no local i no final do sub-período de tempo s. É uma violação de

limite físico de estoque.

• vomingis e vomaxgis : Variáveis contínuas que expressam o quanto foi violado o limite opera-

cional (mínimo e máximo) do grupo de produtos g no local i no final do sub-período de

tempo s.

• vsgis: Variável contínua que expressa o volume do grupo de produtos g em sobre-estadia

no local i, no final do sub-período de tempo s.

• vmgs: Variável contínua que expressa o quanto foi violado o estoque meta para o Brasil

inteiro (mínimo ou máximo) do grupo de produtos g no final do sub-período de tempo s.

Na implementação no computador do modelo matemático, as variáveis xpat, xas, ypis,

ygis, yps e ygs são removidas do modelo, substituindo suas ocorrências pelo lado direto das

igualdades expressas em (4.17), (4.14), (4.4), (4.5), (4.10) e (4.11), respectivamente, gerando

restrições de mochila em cascata.

Formulação:

z = Min
?
r?R

?
p?P

NLpr?
k=1

CprkxxprST k +
?
p?P

?
o?P

Cdpo 6=?

?
i?N

CdpovdapoiST +
?
g?G

ST?
s=1

(Plmt(s)vmgs)

+
?
i?N

?
g?Gi

ST?
s=1

(
Plft(s)(vf

min
gis + vf

max
gis ) + Plot(s)(vo

min
gis + vo

max
gis )

)
+
?
p?P

?
i?N

ST?
s=1

(vfpis + vf
tran
pis ) +

?
i?N

?
g?Gi

ST?
s=1

Csgit(s)vsgis

(4.1)



72

sujeito a

xxprsk = xxpr,s?1,k + zxprsk ?p ? P,?r ? R,s = 1, ...,ST ,

k = 1, ...,NLpr (4.2)

vdapois = vdapoi,s?1 + vdpois ?p ? P,?o ? P|Cdpo 6= ?,

?i ? N,s = 1, ...,ST (4.3)

ypis =
s?
q=1

(Bpiq + XCpiq)?
?
o?P

Cdpo 6=?

vdapois+

+
?
o?P

Cdop 6=?

vdaopis +
?

r|dest(r)=i

NLpr?
k=1

QLpr(k)xxpr,s?ttr,k+

?
?

r|orig(r)=i

NLpr?
k=1

QLpr(k)xxprsk + Epi ?p ? P,?i ? N,s = 1, ...,ST

(4.4)

ygis =
?
p?g

ypis ?i ? N,?g ? Gi,s = 1, ...,ST

(4.5)

vfmingis + vo
min
gis ? LO

min
git(s) ?ygis ?i ? N,?g ? Gi,s = 1, ...,ST

(4.6)

vfmaxgis + vo
max
gis + vsgis + LO

max
git(s) ? ygis ?i ? H,?g ? Gi,s = 1, ...,ST

(4.7)

vfmaxgis + vo
max
gis + LO

max
git(s) ? ygis ?i ? N\H,?g ? Gi,s = 1, ...,ST

(4.8)

ypis ??vfpis ?i ? N,?p ? P,s = 1, ...,ST
(4.9)



73

yps =
?
i?N

(Epi +
s?
q=1

Bpiq ?
?
o?P

Cdpo 6=?

vdapois+

+
?
o?P

Cdop 6=?

vdaopis) +
s?
q=1

XCpq + XTp+

+
?

r|orig(r)=ext

NLpr?
k=1

QLpr(k)xxpr,s?ttr,k+

?
?

r|dest(r)=ext

NLpr?
k=1

QLpr(k)xxprsk ?p ? P,s = 1, ...,ST (4.10)

ygs =
?
p?g

yps ?g ? Gi,s = 1, ...,ST (4.11)

vmgs ? ygs ?LMmaxgt(s) ?g ? Gi,s = 1, ...,ST (4.12)

vmgs ? LMmingt(s) ?ygs ?g ? Gi,s = 1, ...,ST (4.13)

xas =
?
p?P

?
r|a?Ar

NLpr?
k=1

zxpr,s??ra,k
Uak

?a ? A,s = 1, ...,ST (4.14)

xa+(d)s ? wds‘ ?d ? D,s = 1, ...,ST ,s‘ ? [s, ...,s + tta]

(4.15)

xa?(d)s ? (1?wds‘) ?d ? D,s = 1, ...,ST ,s‘ ? [s, ...,s + tta]

(4.16)

xpat =
?
r|a?Ar

NLpr?
k=1

St?
s=1

QLpr(k)zxprsk ?p ? P,?a ? A,t = 1, ...,T

(4.17)?
p?P

(
xpa?(d)t + XMa?(d)t

CAPa?(d)t
+
xpa+(d)t + XMa+(d)t

CAPa+(d)t

)
? 1 ?d ? D,t = 1, ...,T (4.18)



74

?
r|dest(r)=i

NLpr?
k=1

QLpr(k)zxpr,s?ttr,k?

?
r|orig(r)=i

NLpr?
k=1

QLpr(k)xxprsk ? vftranpis ?i ? F|Bpis ? 0,?p ? P,s = 1, ...,ST

(4.19)

?
r|dest(r)=i

NLpr?
k=1

QLpr(k)zxpr,s?ttr,k?

?
r|orig(r)=i

NLpr?
k=1

QLpr(k)xxprsk ??vftranpis ?i ? F|Bpis &amp;lt;0,?p ? P,s = 1, ...,ST

(4.20)

zxprsk ? 0 ?p ? P,?r ? R,s = 1, ...,ST ,

k = 1, ...,NLpr (4.21)

xxprsk ? Z+ ?p ? P,?r ? R,s = 1, ...,ST ,

k = 1, ...,NLpr (4.22)

vfmingis ,vf
max
gis ? 0 ?i ? N,?g ? Gi,s = 1, ...,ST

(4.23)

vfpis ? 0 ?i ? N,?p ? P,s = 1, ...,ST
(4.24)

vftranpis ? 0 ?i ? F,?p ? P,s = 1, ...,ST
(4.25)

vomingis ,vo
max
gis ? 0 ?i ? N,?g ? Gi,s = 1, ...,ST

(4.26)

vmgs ? 0 ?g ? G,s = 1, ...,ST (4.27)

vsgis ? 0 ?i ? N,?g ? Gi,s = 1, ...,ST
(4.28)

vdpois ? 0 ?p ? P,?o ? P|Cdpo 6= ?,

?i ? N,s = 1, ...,ST (4.29)

vdapois ? 0 ?p ? P,?o ? P|Cdpo 6= ?,

?i ? N,s = 1, ...,ST . (4.30)



75

vomaxgis ? LF
max
git(s) ?LO

max
git(s) ?i ? N,?g ? Gi,s = 1, ...,ST

(4.31)

vomingis ? LO
min
git(s) ?LF

min
git(s) ?i ? N,?g ? Gi,s = 1, ...,ST

(4.32)

vsgis ? V Sgit(s) ?i ? H,?g ? Gi,s = 1, ...,ST
(4.33)

(4.1) A função objetivo soma os custos de transporte através dos arcos às penalidades aplicadas

sobre as violações do estoque meta Brasil, dos limites de estoque físico e operacional e sobre o

uso de sobre-estadia.

(4.2) As restrições definem as variáveis xx como somas acumuladas das variáveis zx.

(4.3) As restrições definem as variáveis vda como somas acumuladas das variáveis vd.

(4.4) As restrições garantem que o balanço do transporte de cada produto em cada local no final

de cada sub-período de tempo corresponde ao somatório dos balanços de produção e demanda

até o sub-período corrente, mais o balanço dos transportes comprometidos até o sub-período

corrente, menos o volume do produto p degradado para cada produto o até o sub-período cor-

rente, mais o volume de cada produto o degradado para o produto p até o sub-período corrente,

mais os fluxos de entrada e saída, mais o estoque inicial.

(4.5) As restrições garantem que o volume total de cada grupo de produtos estocado em cada

local, em cada sub-período de tempo, será igual ao somatório dos volumes dos produtos que

compõem o grupo.

(4.6) As restrições verificam se houve violação tanto do limite operacional mínimo quanto do

limite físico mínimo, para cada local, por grupo de produtos e no final de cada sub-período.

(4.7) As restrições verificam se houve violação tanto do limite operacional máximo quanto do

limite físico máximo, e se a sobre-estadia está sendo usada, para cada local com possibilidade

de sobre-estadia, por grupo de produtos e no final de cada sub-período.

(4.8) As restrições verificam se houve violação tanto do limite operacional máximo quanto do

limite físico máximo, para cada local sem possibilidade de sobre-estadia, por grupo de produtos

e no final de cada sub-período.

(4.9) As restrições penalizam os estoques negativos, por local, produto e sub-período. Elas são

necessárias porque apenas com a (4.6), se, por exemplo, um local tiver -10 do produto 1 e +20

do produto 2, e os produtos 1 e 2 pertencerem ao mesmo grupo, a violação do produto 1 não

será considerada, já que o estoque é agregado por grupo de produtos.



76

(4.10) As restrições garantem que o volume total dentro da Malha Brasil, de cada produto e no

final de cada sub-período de tempo, corresponde ao estoque inicial mais o somatório dos balan-

ços de produção e demanda, para todos os locais, menos o volume do produto p degradado para

cada produto o, para todos os locais, mais o volume de cada produto o degradado para o produto

p, para todos os locais, mais os balanços dos transportes comprometidos vindo e indo para o

exterior, mais o estoque em trânsito na rede no início do horizonte de tempo, mais o balanço dos

fluxos que entram e saem da rede até o sub-período corrente.

(4.11) As restrições garantem que o volume total dentro da Malha Brasil, de cada grupo de pro-

dutos e no final de cada sub-período de tempo, será igual ao somatório dos volumes dos produtos

que compõem o grupo.

(4.12) As restrições verificam se o limite máximo do estoque meta Brasil foi violado por grupo

de produtos no final de cada sub-período.

(4.13) As restrições verificam se o limite mínimo do estoque meta Brasil foi violado por grupo

de produtos no final de cada sub-período.

(4.14) As restrições calculam o percentual da capacidade total do arco a utilizado no sub-período

de tempo s. Além disso, juntamente com as restrições (4.15) e (4.16), garantem que este per-

centual não passará de 100%.

(4.15) e (4.16) As restrições garantem que se um duto reversível é usado em um sentido, não

poderá ser usado ao mesmo tempo no sentido reverso.

(4.17) As restrições garantem que o volume movimentado em cada arco será igual ao somatório

dos volumes movimentados por todas as rotas que usam o arco, por produto e por período.

(4.18) As restrições garantem que o volume total movimentado em cada arco, por período, seja

menor ou igual à capacidade máxima do arco menos a movimentação comprometida, e que não

seja um valor negativo. Estas restrições são necessárias porque as restrições (4.16) consideram

limites superiores para o número de lotes que podem ser enviados por sub-período que são arre-

dondados para cima.

(4.19) e (4.20) Restrições de sincronização de operações de transbordo. A primeira procura ga-

rantir que tudo o que foi recebido por cada local produtor e de transbordo tem que ser enviado no

mesmo dia. A segunda procura garantir que tudo o que foi enviado por um local consumidor e

de transbordo foi recebido no mesmo dia. Caso não seja viável, as variáveis de folga vf mantém

a viabilidade das restrições, acarretando uma penalidade alta na função objetivo.

(4.21) Variáveis contínuas não-negativas.

(4.22) Variáveis inteiras não-negativas.



77

(4.23) a (4.30) Variáveis contínuas não-negativas.

(4.31) a (4.33) Limite superior das variáveis.

O modelo matemático gera um escalonamento ótimo de transporte onde cada envio é

definido por uma tupla (p, r, s, v) indicando que o volume v (correspondente a um ou mais lotes)

do produto p deverá ser transportado pela rota r, saindo no dia s. Este escalonamento ótimo

deve minimizar as penalidades por violação e os custos de transporte.

4.3 BUSCA LOCAL POR PROGRAMAÇÃO INTEIRA MISTA (PIM)

Para melhorar a solução obtida pelo otimizador através do modelo anterior, foi aplicada

uma Busca Local por PIM (BLP). O procedimento da BLP é muito parecido com uma busca

local clássica, mas a procura por novas soluções viáveis é feita por um método exato (PIM), já

que este método possui a capacidade de provar a otimalidade da vizinhança proposta. Esta vizi-

nhança é obtida através da seleção de um conjunto reduzido de variáveis do modelo matemático

original, fixando em zero as variáveis inteiras zxprsk, com três exceções:

1. As variáveis zxprsk com valor maior que zero na solução atual não são fixadas.

2. As variáveis zxprsk, tais que pelo menos uma variável “vizinha” zxprs,k?1, zxprs,k+1,

zxpr,s?1,k ou zxpr,s+1,k tenha valor maior que zero na solução atual, também não são fixa-

das.

3. As variáveis zxprsk que representam lotes de tamanho mínimo (k = 1) transportados por

quaisquer rotas em determinados subperíodos não são fixadas. Para escolher os subperío-

dos, o horizonte de tempo é dividido em trechos (a quantidade de trechos é escolhida por

um parâmetro) e toma-se o primeiro subperíodo de cada trecho.

A lógica por trás do algoritmo é reduzir o número de variáveis do modelo, acelerando

o tempo de resolução da relaxação, o que permite pesquisar um número muito maior de nós da

árvore de branch-and-bound em menos tempo. Apesar do espaço de busca ser mais restrito, a

obtenção de uma melhor solução é mais provável uma vez que a busca é mais eficiente. Um

pseudocódigo para o algoritmo é apresentado em 2:

Heurísticas baseadas em MIP são conhecidas na literatura como MIP-based Heuristics.

Para uma visão geral sobre o tema, ver Maniezzo et al (2009). Em Merce e Fontan (2003), os au-

tores estudaram heurísticas baseadas em MIP para problemas de dimensionamento de lotes. Para

gerar sub-MIPs, os autores dividiram o horizonte de tempo em sub-horizontes, gerando MIPs



78

Algoritmo 2 Busca Local por PIM
1: Executa o modelo
2: se não atingiu a solução ótima, mas tem uma viável então
3: repita
4: Guarda a solução atual e tira todas as fixações de variáveis
5: para cada variável zxprsk faça
6: Fixar = verdadeiro
7: se k = 1 e s = início de trecho então
8: Fixar = falso
9: fim se

10: se Fixar = verdadeiro então
11: Pega valor da variável na solução atual
12: se valor &gt; 0 então
13: Fixar = falso
14: fim se
15: fim se
16: se Fixar = verdadeiro então
17: Procurar na vizinhança da variável zxprsk
18: se alguma variável vizinha tiver valor &gt; 0 então
19: Fixar = falso
20: fim se
21: fim se
22: se Fixar = verdadeiro então
23: Fixa a variável zxprsk em zero
24: fim se
25: fim para
26: Calcula nova solução (Rodar Otimizador)
27: até que nova solução não é melhor que solução atual
28: fim se



79

menores e mais fáceis de resolver. Em Absi e Kedad-Sidhoum (2007), os autores implemen-

taram o mesmo tipo de heurística ao estudar uma variação do problema de dimensionamento

de lotes, em que vários itens, tempos de setup e custos de armazenamento são considerados.

Outros artigos que desenvolveram heurísticas baseadas em MIP para problemas de dimensiona-

mento de lotes são James e Almada-Lobo (2011) e Mohammadi et al (2010). Em Fasano (2008),

os autores estudaram problemas de empacotamento de 3 dimensões, e criaram uma heurística

de busca local baseada em MIP que fixa algumas variáveis para reduzir o tamanho do MIP. Em

Klemmt et al (2009), os autores compararam diversos tipos de heurísticas baseadas em MIP para

problemas de escalonamento.

4.4 RESULTADOS COMPUTACIONAIS

Esta seção apresenta os resultados computacionais do modelo multiproduto e multimo-

dal. Para realizar os testes, utilizou-se uma instância com dados reais da Petrobras referente ao

transporte de vários tipos de diesel. Essa instância será chamada de instância base. A partir dela,

foram geradas 10 variações aleatórias para diversificar os testes. Também são relatados resul-

tados referentes à instâncias monomodal e monoproduto modificadas da literatura, descritas no

Capítulo 2. Por último, a solução de uma instância baseada na instância base é visualizada em

detalhes.

4.4.1 CONSTRUÇÃO DA INSTÂNCIA BASE

A instância base é uma instância com vários produtos, grupos de produtos e modais de

transporte construída a partir de dados da Petrobras. Para isso, várias correções foram feitas,

com o intuito de eliminar todas as violações físicas de estoque. Mesmo com as modificações,

as violações físicas persistiam nos primeiros dias do horizonte de tempo, donde se concluiu

que havia um problema com os estoques em trânsito. Foram feitas diversas tentativas de gerar

manualmente estes estoques para zerar todas as violações de limites físicos de estoque, sem

sucesso. Para conseguir esse conjunto de estoques em trânsito, foi necessário adaptar o próprio

otimizador PLIM para gerá-los. Para isso, o modelo foi alterado de modo que apenas o custo

de violação física fosse considerado e que envios antes do início do horizonte de tempo fossem

permitidos, desde que chegassem depois do início do horizonte. Com isso, todos os envios com

data de partida anteriores ao início do horizonte de tempo que apareceram na solução do modelo

alterado foram adicionados à instância corrigida como estoque em trânsito. Nos experimentos



80

relatados com as instâncias modificadas, foi utilizado o modelo matemático original.

As características da instância base são:

• Número de modais: 5 (navio, duto, barcaça, rodovia e ferrovia)

• Número de degradações: 5, todas entre produtos de mesmo grupo

• estoque em trânsito: 38 lotes, com um volume total de 577 unidades de volume, chegando

entre os dias 1 e 20 do primeiro período.

• sobre-estadia: os 10 locais com capacidade de estoque abaixo do lote mínimo de uma das

rotas de acesso ou saída possuem esta funcionalidade. A sobre-estadia é por grupo de

produtos.

• Número de Locais: 15

– Número de Locais com demanda: 8

– Número de Locais com oferta: 1

– Número de Locais com oferta e demanda: 6

– Número de Locais de transbordo: 4

• Número de Períodos: 2, um com 29 dias e o outro com 31

• Número de Produtos: 12

• Número de Grupo de Produtos: 5, um com 5 produtos, um com 3 produtos, um com 2

produtos e dois com 1 produto

• Número de Rotas de importação: 5, sendo 4 com chegada em locais de transbordo

• Número de Rotas internas: 180

4.4.2 EXPERIMENTOS COM A BUSCA LOCAL POR PIM

O algoritmo de otimização foi comparado com e sem a Busca Local por PIM (BLP).

Todos os testes com a BLP foram rodados em um computador com processador Intel Core2

Quad CPU Q8300 2.50GHz, memória de 4 GB, na plataforma Windows Seven, com o resolvedor

Cplex 12.5.1. Primeiramente, foram utilizadas instâncias modificadas de Rocha et al (2011). As

características das instâncias são:



81

• Período: 30 dias;

• Produto: óleo cru;

• Grupo de produtos: óleo cru;

• Modal: navio;

• Locais produtores: 9;

• Locais consumidores: 2;

• Tamanhos de lote: 5, com ganho de escala;

• Rotas: cada local produtor possui rota direta com todos os locais consumidores;

Na tabela 4.1, quando a busca local por PIM é usada, o algoritmo roda por 720 segundos

na otimização inicial, mais 40 segundos para cada vez que a busca local é executada. O tempo

de execução do algoritmo sem a busca local é o tempo inicial de 720 segundos, mais a soma de

todo o tempo de execução da BLP. Note que nenhuma das instâncias viola estoque.

A coluna Instância mostra a instância usada. Antes da BLP mostra o valor da função

objetivo antes de rodar a BLP. Depois da BLP mostra o valor da função objetivo depois que a

BLP rodou. No vezes BLP rodou mostra quantas vezes a BLP rodou. Tempo (seg) mostra o

tempo total de otimização. Sem BLP mostra o valor final da função objetivo sem BLP, mas

usando o mesmo tempo de execução. Diferença (abs) e Diferença (percentual) mostram,

respectivamente, a diferença absoluta e percentual do valor da função objetivo com e sem BLP.

O modelo com a busca local por PIM é mais eficiente, sendo igual ou superior em todas

as instâncias. A diferença percentual media é de 11,34%. A maior diferença percentual foi

da instância 104, 54,79%. A instância 108 rodou a BLP por mais tempo, 14 vezes, com uma

diferença percentual de 45,0%. A instância 114 não usou a BLP porque o modelo encontrou a

solução ótima antes dos 720 segundos terminarem. O algoritmo termina quando a melhora da

BLP é inferior a 0,5%.

Além das instâncias da literatura, a instância base da Petrobras foi usada para gerar 10

instâncias, multiplicando os balanços e estoques iniciais por um valor aleatório entre 0,5 e 1,5,

um valor diferente para cada local e grupo de produtos. Nos casos em que o estoque inicial

ultrapassou a capacidade física máxima de estoque, este valor foi igualado ao estoque inicial.

Novos estoques em trânsito foram gerados para cada nova instância aleatória, do mesmo modo

descrito na Subseção 4.4.1. O resultado do experimento é mostrado na Tabela 4.2.



82

Tabela 4.1: Resultados computacionais da Busca Local por PIM com instâncias modificadas da
literatura

Antes Depois No vezes Tempo Sem Diferença Diferença
Instância da BLP da BLP BLP rodou (seg) BLP (abs) (percentual)

101 36302 36302 1 765 36302 0 0,00
102 44264 44264 1 733 44264 0 0,00
103 89182 79436 5 925 79690 254 0,32
104 179868 77530 4 884 171493 93963 54,79
105 364390 112541 4 885 194975 82434 42,28
106 405577 123573 6 965 243745 120172 49,30
107 58666 58464 1 764 58666 202 0,35
108 244317 162436 14 1286 236036 73600 45,00
109 163220 156048 5 924 163220 7172 4,60
110 237238 192232 3 844 237238 45006 23,40
111 68486 65716 2 805 67798 2082 3,07
112 63552 54986 5 924 62594 7608 12,15
113 53320 53320 1 764 53320 0 0,00
114 38974 38974 0 425 38974 0 0,00
115 67404 61606 5 925 65390 3784 5,79
116 88064 82556 5 925 87834 5278 6,01
117 115392 114874 1 764 114908 34 0,03
118 107310 106842 1 765 107310 468 0,44
119 83808 77918 3 844 83808 5890 7,56
120 60580 54990 9 1085 60020 5030 8,38
121 58642 58642 1 765 58642 0 0,00
122 39018 39016 1 765 39018 2 0,01
123 54976 46144 9 1085 53504 7360 13,76
124 58800 58800 1 765 58800 0 0,00
125 104044 96224 5 924 102740 6516 6,34

Média 115416 82137 3,72 860 100811 18674 11,34



83

Tabela 4.2: Resultados computacionais da Busca Local por PIM com instâncias aleatórias

Com ou Tempo BLP Custo Custo de Custo de Custo Pré Gap
Inst. Sem BLP (seg) rodou Total Transporte Viol. Física BLP (%)

1 Com BLP 1060 2 55038 42529 0 59745 4,08
Sem BLP 1060 - 100412 47307 29859 - 47,42

2 Com BLP 1060 2 85154 48354 16059 134908 2,92
Sem BLP 1060 - 134908 51005 61672 - 38,72

3 Com BLP 1060 2 63717 38870 0 67975 3,38
Sem BLP 1060 - 67975 42958 0 - 9,43

4 Com BLP 1090 3 101953 47446 22515 115117 6,92
Sem BLP 1090 - 241656 44902 156198 - 60,73

5 Com BLP 1090 3 82701 44893 26280 89099 6,79
Sem BLP 1090 - 89099 47767 28288 - 13,48

6 Com BLP 1330 11 107564 41392 25992 314421 14,20
Sem BLP 1330 - 352148 43700 269458 - 73,79

7 Com BLP 1060 2 65151 46365 299 73518 4,74
Sem BLP 1060 - 66252 46252 44 - 6,32

8 Com BLP 1090 3 50828 36904 2375 58879 5,92
Sem BLP 1090 - 58879 38001 7401 - 18,78

9 Com BLP 1060 2 85214 52314 17749 92575 5,14
Sem BLP 1060 - 92575 52493 23852 - 12,68

10 Com BLP 1090 3 107328 58651 6323 722387 15,85
Sem BLM 1090 - 722387 56392 615710 - 87,50

Média Com BLM 1099 3,3 80465 45772 11759 172862 6,99
Sem BLM 1099 - 192629 47078 119248 - 36,89



84

Quando a BLP foi utilizada, o tempo de otimização dado para o modelo MIP foi de 1000

segundos, mais 30 segundo para cada vez que a BLP foi rodada. O tempo de otimização dado

ao modelo sem a BLP foi a soma dos tempos dados no caso anterior, 1000 + 30 x (número de

vezes que BLP rodou). O tempo inicial de 1000 segundos garante que a raiz do algoritmo de

branch-and-bound terminará antes de começar a BLP.

A coluna Tempo (seg) da Tabela 4.2 mostra o tempo de otimização total. A coluna BLP

rodou mostra o número de vezes que a BLP rodou. A coluna Custo Total mostra o valor final

da função objetivo. Custo de Transporte mostra o custo de transporte e Custo Viol. Física

mostra o custo de violação física. A coluna Custo Pré BLP mostra o valor da função objetivo

antes da BLP rodar (passados 1000 segundos) e a Gap (%) mostra o gap final.

O modelo em conjunto com a BLP demonstrou ser melhor, com gap médio de 6,99%,

contra 36,89% sem a BLP. Para calcular o gap com a BLP, foi utilizado o melhor limite inferior

do modelo sem a BLP, juntamente com a melhor solução encontrada na última BLP rodada.

4.4.3 VISUALIZAÇÃO DA SOLUÇÃO DE UMA INSTÂNCIA BASEADA NA INSTÂNCIA BASE

Esta subseção apresenta uma visualização da solução aleatória número 3 (ver Tabela 4.2),

sem violações físicas. A visualização da instância base não será mostrada aqui para preservar

os dados da Petrobras. Primeiramente, as Figuras 4.1 e 4.2 dão uma visão geral da instância.

A Figura 4.1 mostra o balanço acumulado nos dois períodos em cada local, para cada grupo de

produto, como na legenda à esquerda da figura. Na Figura, podemos ver uma demanda grande de

todos os grupos de produtos espalhada pelo Brasil. O local com maior produção, considerando

todos os produtos, é SP.

A Figura 4.2 mostra a capacidade física máxima e o estoque inicial de cada local, para

cada grupo de produtos.

As Figuras 4.3 até 4.11 mostram os envios dos produtos mais movimentados na solução.

As setas pretas representam os estoques em trânsito e as vermelhas os envios da solução. Os

transportes comprometidos, ausentes na instância, são setas verdes. Os estoques em trânsito não

possuem local de origem porque sua origem é indiferente para a solução, importando somente

o local de destino. O ponto fora do mapa do Brasil representa o exterior, e as setas que partem

deste ponto para os locais no mapa podem representar uma operação de transbordo ou uma rota

de importação direta. Ao lado de cada seta aparece o valor do envio.

Outra forma de mostrar a solução obtida é através do visualizador de soluções, desenvol-

vido pela equipe da UTFPR. Os gráficos dos estoques agregados (em vermelho) são mostrados



85

Figura 4.1: Balanço acumulado dos dois períodos para cada grupo de produtos em cada local

por local e por grupo de produto. A legenda que aparece em todas as figuras mostra a cor de

cada faixa de estoque nos gráficos. As faixas física e operacional sempre aparecem nos gráficos.

A faixa de sobre-estadia aparece apenas quando o local permite esta funcionalidade.

Os gráficos das Figuras 4.12 até 4.15 mostram que os estoques ficam a maior parte do

tempo dentro da faixa operacional, com exceção dos locais com baixa capacidade de estoque,

que utilizam a sobre-estadia durante boa parte do horizonte de tempo.

4.5 CONCLUSÕES DO CAPÍTULO

O modelo matemático apresentou bom desempenho, tanto com as instâncias geradas a

partir da instância enviada pela Petrobras (e modificada para não ter violação física de estoque),

quanto com as instâncias modificadas da literatura.

A dificuldade em obter um conjunto de estoques em trânsito que viabilizasse as instâncias

foi contornada pela modificação temporária do modelo matemático para permitir envios antes

do início do horizonte de tempo, envios estes que são posteriormente adicionados à instância

original como estoques em trânsito. O passo seguinte é executar a instância com o modelo

matemático original.



86

Figura 4.2: Capacidade física máxima e estoque inicial por grupo de produtos e por local

A busca local por PIM geralmente encontra soluções melhores em poucos segundos.

Quanto pior a solução inicial da busca local, melhor costuma ser a solução final encontrada por

ela.

A visualização da solução por mapas permitiu uma visão geral dos envios, enquanto a

visualização dos estoques por gráficos permitiu a análise do comportamento dos estoques e das

violações operacionais e de sobre-estadia.

4.5.1 MELHORIAS DESEJÁVEIS

Para aproximar ainda mais o modelo para a realidade, as seguintes melhorias são desejá-

veis:

• O modelo atual permite que, ao transportar produtos entre determinada origem e destino,

mais do que uma rota seja utilizada. Isto pode acarretar um alto custo de carga e descarga,

mas é possível caso a rota principal esteja sobrecarregada. Pode ser desejável incluir

custos de carga e descarga.

• O modelo atual permite transporte entre apenas uma origem e apenas um destino (também



87

Figura 4.3: Envios no período 1 do produto 5 pertencente ao grupo DSL AUTOM MTE

chamado de Long-Haul Freight Transportation). Pode ser desejável permitir, por exem-

plo, que um navio passe por mais de uma origem para coletar produtos, e pare em mais de

um destino para descarregar (também chamado de Short-Haul Freight Transportation).



88

Figura 4.4: Envios no período 2 do produto 5 pertencente ao grupo DSL AUTOM MTE

Figura 4.5: Envios no período 1 do produto 6 pertencente ao grupo DSL MARIT (nada foi
enviado no período 2)



89

Figura 4.6: Envios no período 1 do produto 10 pertencente ao grupo DSL AUTOM BTE

Figura 4.7: Envios no período 2 do produto 10 pertencente ao grupo DSL AUTOM BTE



90

Figura 4.8: Envios no período 1 do produto 11 pertencente ao grupo DSL MARIT

Figura 4.9: Envios no período 2 do produto 11 pertencente ao grupo DSL MARIT



91

Figura 4.10: Envios no período 1 do produto 12 pertencente ao grupo DSL AUTOM ATE

Figura 4.11: Envios no período 2 do produto 12 pertencente ao grupo DSL AUTOM ATE



92

Figura 4.12: Estoques por local e grupo de produtos da solução da instância sem violação física
(parte 1/4)



93

Figura 4.13: Estoques por local e grupo de produtos da solução da instância sem violação física
(parte 2/4)



94

Figura 4.14: Estoques por local e grupo de produtos da solução da instância sem violação física
(parte 3/4)



95

Figura 4.15: Estoques por local e grupo de produtos da solução da instância sem violação física
(parte 4/4)



96

5 CONCLUSÃO E TRABALHOS FUTUROS

O presente trabalho desenvolveu um estudo sobre o problema de transporte em cadeias

logísticas da indústria de petróleo.

Do estudo do problema de transporte monoproduto e monomodal, foram desenvolvidas

diversas formulações e uma heurística baseada em geração de colunas. No estudo de formula-

ções, nota-se um importante avanço no desempenho das duas melhores formulações em relação

às outras, sendo ambas mais eficientes do que a melhor formulação da literatura. A heurística

baseada em geração de colunas obteve soluções de qualidade em várias das instâncias testadas,

com um tempo computacional bem pequeno, em torno de 10 segundos.

Do estudo do problema de transporte multiproduto e multimodal, foi desenvolvida uma

formulação que combina as variáveis de lotes acumulados com novas restrições encontradas no

problema real de transporte na indústria de petróleo. Além desta formulação, uma heurística de

busca local por PIM foi criada, obtendo bons resultados na melhora da solução viável retornada

pela formulação.

Como trabalhos futuros, a formulação de lotes acumulados será testada em outros pro-

blemas com estrutura parecida com o que foi estudado aqui. Além disso, há um estudo em

desenvolvimento de uma formulação com variáveis semi-contínuas de envio de lote, onde é

possível enviar qualquer quantidade acima do lote mínimo.



97

A TABELAS COMPLETAS COM OS RESULTADOS COMPUTACIONAIS DE

TODAS AS FORMULAÇÕES DO ESTUDO DO CAPÍTULO 2

• A Tabela A.1 mostra as soluções ótimas ou as melhores encontradas para as instâncias das

classes média, difícil e mais difíceis;

• As Tabelas A.2 e A.3 mostram o resultado da raiz e final para a formulação Básica com as

instâncias das classes média e difícil;

• As Tabelas A.4 e A.5 mostram o resultado da raiz e final para a formulação Knapsack

Cascading com Arredondamento com as instâncias das classes média e difícil;

• As Tabelas A.6 e A.7 mostram o resultado da raiz e final para a formulação Acumulada

nas Rotas e Arredondado com lotes Binários com as instâncias das classes média e difícil;

• As Tabelas A.8 e A.9 mostram o resultado da raiz e final para a formulação Acumulada nas

Rotas e Arredondado com lotes contínuos com as instâncias das classes média e difícil. A

Tabela A.10 mostra o resultado da raiz e final para as instâncias mais difíceis;

• As Tabelas A.11 e A.12 mostram o resultado da raiz e final para a formulação Acumulada

nos Locais e Arredondado com as instâncias das classes média e difícil. A Tabela A.13

mostra o resultado da raiz e final para as instâncias mais difíceis;

• As Tabelas A.14 e A.15 mostram o resultado da raiz para a formulação com Geração de

Colunas com as instâncias das classes média, difícil e a mais difícil;

• A Tabela A.16 mostra o resultado da raiz e final para a formulação Acumulada nas rotas

com permissão de estouro nos terminais, com custo suficientemente alto, com as instâncias

da classe mais difícil;



98

• A Tabela A.17 mostra o resultado da raiz e final para a formulação Acumulada nos locais

com permissão de estouro nos terminais, com custo suficientemente alto, com as instâncias

da classe mais difícil;

• A Tabela A.18 mostra as soluções viáveis encontradas pela heurística baseada em geração

de colunas, para a formulação acumulada nas rotas com estouro e sem estouro, e para a

formulação acumulada nos locais, com estouro e sem estouro. O custo de estouro utilizado

foi 999999, para que a solução ótima não tenha estouro;

Tabela A.1: Solução ótima ou melhor solução encontrada para as instâncias artificiais utilizadas
nos teste

Melhor Ótima Melhor Ótima Melhor Ótima
Inst. Solução Comprov. Inst. Solução comprov. Inst. Solução Comprov.
26 55314 Sim 51 50486 Sim 101 34184 Sim
27 83540 Sim 52 67124 Sim 102 44264 Sim
28 148668 Sim 53 123706 Sim 103 78462 Sim
29 98132 Sim 54 82540 Sim 104 66354 Não
30 133718 Sim 55 97604 Sim 105 89594 Não
31 117384 Sim 56 99018 Não 106 99018 Não
32 121042 Sim 57 89020 Sim 107 57654 Sim
33 298420 Sim 58 204076 Sim 108 158940 Não
34 220736 Sim 59 187780 Sim 109 135528 Não
35 275380 Sim 60 200124 Sim 110 141712 Sim
36 120168 Sim 61 93856 Sim 111 62570 Sim
37 86296 Sim 62 65852 Sim 112 50172 Não
38 118084 Sim 63 75744 Sim 113 52456 Sim
39 67810 Sim 64 53124 Sim 114 38974 Sim
40 110058 Sim 65 79748 Sim 115 57108 Sim
41 135022 Sim 66 114764 Sim 116 76804 Sim
42 198060 Sim 67 174572 Sim 117 106562 Sim
43 186144 Sim 68 170230 Sim 118 103082 Sim
44 135900 Sim 69 100880 Sim 119 66658 Sim
45 107044 Sim 70 72732 Sim 120 51752 Não
46 121298 Sim 71 98966 Sim 121 58642 Sim
47 79292 Sim 72 54724 Sim 122 38728 Sim
48 107976 Sim 73 65228 Sim 123 44264 Não
49 144458 Sim 74 81532 Sim 124 58262 Sim
50 102472 Sim 75 139506 Sim 125 88240 Sim



99

Tabela A.2: Formulação básica para classe média e difícil de instâncias, resultados da raiz

Inst. LB Gap (%) LB sem cortes Inst. LB Gap (%) LB sem cortes
26 55094,8 0,4 55094,8 51 49412,64 2,13 49412,64
27 ERROa 52 65990,83 1,69 65990,83
28 148668 0 148668 53 122226,61 1,2 121857,3
29 97997,33 0,14 97968,58 54 81512,93 1,24 81080,27
30 133617,1 0,08 133589,82 55 96186,83 1,8 95891,41
31 116884 0,43 116841,87 56 76803,08 22,44 75942,18
32 120793,6 0,21 120766,8 57 87794,2 1,38 87508,72
33 293580,1 1,62 293246,87 58 196558,97 3,68 195839,81
34 220066,3 0,3 220066,3 59 183382,18 2,34 182283,88
35 274892,8 0,18 274892,8 60 194822,17 2,65 193514,16
36 119829,75 0,28 119778,25 61 92480,41 1,47 91971,31
37 86156 0,16 86156 62 64605,22 1,89 64170,86
38 117979,47 0,09 117979,47 63 74603,33 1,51 74353,28
39 67728,74 0,12 67728,74 64 52447,14 1,27 52170,04
40 109534,23 0,48 109497,05 65 78500,74 1,56 77933,93
41 134641,73 0,28 134641,73 66 113371,88 1,21 112551,67
42 197642,4 0,21 197642,4 67 172795 1,02 172795
43 185738,67 0,22 185355,35 68 167928,78 1,35 167326,91
44 135260 0,47 135088,65 69 99371,88 1,65 99338,68
45 106755,53 0,27 106755,53 70 69738,85 4,12 69160,44
46 121003,48 0,24 121003,48 71 98341,12 0,63 97871,03
47 78826,55 0,59 78594,17 72 53742,55 1,79 53456,62
48 107892,92 0,08 107885,56 73 63575,48 2,53 63307,13
49 143931,2 0,36 143592,4 74 80643,89 1,09 80247,06
50 102285,45 0,18 102285,45 75 138669,63 0,6 138235,16

Média 0,30 2,57

aNão resolveu a relaxação linear nos 720 segundos



100

Tabela A.3: Formulação básica para classe média e difícil de instâncias, resultado final

Tempo LB Gap UB Gap
Inst. (s) Final LB(%) Final UB(%) Nós
26 720 55094,8 0,4 55314 0 516859
27 ERROa

28 0,03 148668 0 148668 0 0
29 720 97997,33 0,14 98132 0 1045658
30 720 133664,4 0,04 133718 0 3695281
31 720 117008 0,32 117384 0 5285621
32 720 120793,6 0,21 121042 0 5081341
33 OOMb 294127,2 1,44 3953362
34 OOMb 220066,3 0,3 220736 0 5435627
35 OOMb 275000 0,14 275380 0 6475970
36 OOMb 119834,02 0,28 120286 0,1 3862717
37 720 86156 0,16 86296 0 5695362
38 720 118015,47 0,06 118084 0 4257219
39 167,5 67810 0 67810 0 2060594
40 OOMb 109678 0,35 110248 0,17 3612033
41 720 134641,73 0,28 135022 0 1202140
42 720 197642,4 0,21 198060 0 4957940
43 720 185949,8 0,1 186144 0 5273635
44 720 135670,42 0,17 135900 0 4609814
45 720 106832,67 0,2 107044 0 4704751
46 OOMb 121044,89 0,21 121298 0 3872521
47 720 79117,5 0,22 79292 0 6020562
48 720 107892,92 0,08 107976 0 5494364
49 720 144003,2 0,31 144458 0 3199077
50 OOMb 102285,45 0,18 102472 0 4343930
51 720 49731,68 1,49 50486 0 623080
52 720 66807,9 0,47 67178 0,08 1245587
53 720 122949,05 0,61 123706 0 1002282
54 720 81568,77 1,18 2258253
55 720 96327,44 1,66 1055547
56 720 78793,67 20,42 77757
57 720 88563,7 0,51 89020 0 1455040
58 720 200278,8 1,86 1384924
59 720 186901 0,47 187944 0,09 1402323
60 720 195778,34 2,17 1930313
61 720 92831,97 1,09 2224389
62 720 64811,96 1,58 1031741
63 720 74949,85 1,05 2368680
64 720 52878,55 0,46 53124 0 1278974
65 720 78882,61 1,09 82000 2,82 846058
66 720 113947,64 0,71 115156 0,34 835503
67 720 173234,4 0,77 1652576
68 720 168854,47 0,81 170230 0 329124
69 720 100029,09 1 101042 0 1160257
70 720 71284,88 1,99 73030 0,41 399737
71 OOMb 98433,4 0,54 99028 0,06 2350349
72 720 54054,43 1,22 54854 0,24 835228
73 720 63614,78 2,47 1728435
74 720 80650,7 1,08 2231569
75 720 138976,31 0,38 139682 0,13 1660532

Média 706,19 1,08 0,12 2612748

aNão resolveu a relaxação linear nos 720 segundos
bOut of memory



101

Tabela A.4: Knapsack Cascading com Arredondamento para classe média e difícil de instâncias,
resultados da raiz

Inst. LB Gap (%) LB sem cortes Inst. LB Gap (%) LB sem cortes
26 55094,8 0,4 55094,8 51 49930,77 1,1 49682,04
27 ERROa 52 66911,36 0,31 65990,83
28 148668 0 148668 53 122995,57 0,57 122008,43
29 97981,6 0,15 97968,58 54 81888,89 0,79 81080,27
30 133631,23 0,06 133589,82 55 96671,5 1,31 95891,41
31 116944 0,37 116841,87 56 77895,51 21,33 75974,23
32 120866,29 0,15 120766,8 57 88867,75 0,17 87805,17
33 294701,2 1,25 293246,87 58 199857,44 2,07 195839,81
34 220384,69 0,16 220066,3 59 183127,09 2,48 180249,89
35 274955,67 0,15 274892,8 60 196697,68 1,71 193690,31
36 119870,14 0,25 119778,25 61 93143,81 0,76 91971,31
37 86296 0 86156 62 64884,56 1,47 64232,65
38 118045,87 0,03 117979,47 63 75106,44 0,84 74353,28
39 67728,74 0,12 67728,74 64 52785,82 0,64 52272,12
40 109511,75 0,5 109497,05 65 78987,92 0,95 78021,66
41 134641,73 0,28 134641,73 66 114018,25 0,65 112818,3
42 197642,4 0,21 197642,4 67 173767,73 0,46 172795
43 185642,45 0,27 185355,35 68 164486,78 3,37 161771,31
44 135306,35 0,44 135088,65 69 99929,76 1,1 99338,68
45 106951,83 0,09 106755,53 70 70738,81 2,74 69079,86
46 121057,95 0,2 121003,48 71 98552,62 0,42 97871,03
47 78907,87 0,48 78594,17 72 54295,98 0,78 53745,66
48 107964 0,01 107885,56 73 64096 1,74 63307,13
49 143721,63 0,51 143592,4 74 80901,45 0,77 80247,06
50 102459 0,01 102285,45 75 138982,84 0,38 138270,92

Média 0,25 1,95

aNão resolveu a relaxação linear nos 720 segundos



102

Tabela A.5: Knapsack Cascading com Arredondamento para classe média e difícil de instâncias,
resultado final

Tempo LB Gap UB Gap
Inst. (s) Final LB(%) Final UB(%) Nós
26 720 55172,18 0,26 55.314 0 6963486
27 ERROa

28 0,03 148668 0 148668 0 0
29 1,16 98132 0 98132 0 573
30 0,91 133718 0 133718 0 539
31 720 117351,36 0,03 117384 0 319458
32 720 120866,29 0,15 121042 0 0
33 720 295279,2 1,05 298420 0 105591
34 720 220629,86 0,05 220736 0 322271
35 720 274955,67 0,15 275380 0 0
36 720 119880,37 0,24 120286 0,1 401944
37 0,08 86296 0 86296 0 0
38 0,65 118084 0 118084 0 575
39 0,47 67810 0 67810 0 0
40 720 109678 0,35 110058 0 184720
41 720 134997,73 0,02 135022 0 172074
42 720 197965,91 0,05 198060 0 390069
43 720 186014 0,07 186144 0 373036
44 720 135433,12 0,34 135900 0 356788
45 0,86 107044 0 107044 0 0
46 720 121111,66 0,15 121298 0 4542959
47 54,15 79292 0 79292 0 600909
48 0,13 107976 0 107976 0 0
49 720 144154,8 0,21 144458 0 1412700
50 0,75 102472 0 102472 0 530
51 720 50419,52 0,13 50486 0 83198
52 44,76 67124 0 67124 0 12184
53 720 123616 0,07 123706 0 330330
54 720 82241,37 0,36 SEM 222515
55 720 97088,65 0,88 SEM 136362
56 720 78763,42 20,46 SEM 30084
57 720 88867,75 0,17 89020 0 0
58 720 202952,43 0,55 SEM 178220
59 720 187076,4 0,37 187944 0,09 181889
60 720 198612,2 0,76 SEM 88540
61 720 93496,39 0,38 SEM 129557
62 720 65414,92 0,66 SEM 135889
63 720 75514,22 0,3 SEM 140483
64 720 52973,01 0,28 53124 0 207036
65 720 79572,04 0,22 82000 2,82 84179
66 720 114543,19 0,19 115156 0,34 84110
67 6,6 174572 0 174572 0 1311
68 720 170089,05 0,08 170230 0 190110
69 720 100862,5 0,17 101042 0 259267
70 720 72483,5 0,34 73030 0,41 177923
71 720 98805,75 0,16 99028 0,06 163239
72 720 54482,05 0,44 54854 0,24 225588
73 720 64830,91 0,61 SEM 112844
74 720 81212,49 0,39 SEM 87132
75 720 139192,67 0,22 139682 0,13 93239

Média 546 0,64 0,11 398029,6

aNão resolveu a relaxação linear nos 720 segundos



103

Tabela A.6: Formulação acumulada nas rotas e arredondado com lote binário para classe média
e difícil de instâncias, resultados da raiz

Inst. LB Gap (%) LB sem cortes Inst. LB Gap (%) LB sem cortes
26 55291,33 0,04 55094,8 51 50129,95 0,71 49730,04
27 83540 0 83540 52 66999,5 0,18 66251,77
28 148668 0 148668 53 123060,84 0,52 122008,43
29 97994,23 0,14 97968,58 54 82168,02 0,45 81478,12
30 133631,23 0,06 133589,82 55 96877,72 1,09 96298,69
31 117024,34 0,31 116841,87 56 78727,87 20,49 77090,63
32 120893,09 0,12 120766,8 57 88889,15 0,15 87748,96
33 294613,62 1,28 293246,87 58 201642,45 1,19 196810,37
34 220452,5 0,13 220066,3 59 185079,66 1,44 178693,41
35 275034,55 0,13 274892,8 60 197524,89 1,3 194321,82
36 119894,56 0,23 119778,25 61 93482,69 0,4 92921,23
37 86296 0 86156 62 65321,03 0,81 64490,17
38 118064 0,02 117979,47 63 75380,09 0,48 74786,4
39 67810 0 67728,74 64 52916,64 0,39 52641,34
40 109633,35 0,39 109497,05 65 79538,85 0,26 78615,41
41 134641,73 0,28 134641,73 66 114158,59 0,53 113655,31
42 197925,6 0,07 197642,4 67 174433,08 0,08 172889,29
43 185671,41 0,25 185355,35 68 164944,45 3,1 162581,41
44 135337,28 0,41 135088,65 69 100878,67 0,16 99403,45
45 106999,3 0,04 106755,53 70 71754,93 1,34 70030,52
46 121107,2 0,16 121003,48 71 98649,86 0,32 98340,65
47 78999,16 0,37 78714,17 72 54360,16 0,66 53851,36
48 107964 0,01 107885,56 73 65040,38 0,29 63707,49
49 143771,23 0,48 143592,4 74 81189,32 0,42 80436,41
50 102472 0 102285,45 75 139051,15 0,33 138593,94

Média 0,1968 1,4832



104

Tabela A.7: Formulação acumulada nas rotas e arredondado com lote binário para classe média
e difícil de instâncias, resultado final

Tempo LB Gap UB Gap
Inst. (s) Final LB(%) Final UB(%) Nós
26 0,16 55314 0 55314 0 302
27 0,02 83540 0 83540 0 0
28 0,05 148668 0 148668 0 0
29 3,98 98132 0 98132 0 4609
30 0,67 133718 0 133718 0 549
31 0,5 117384 0 117384 0 536
32 1,48 121042 0 121042 0 0
33 54,79 298420 0 298420 0 188016
34 0,14 220736 0 220736 0 0
35 0,13 275380 0 275380 0 18
36 1,19 120168 0 120168 0 2836
37 0,16 86296 0 86296 0 0
38 0,16 118084 0 118084 0 20
39 0,03 67810 0 67810 0 0
40 7,69 110058 0 110058 0 18716
41 0,86 135022 0 135022 0 536
42 720 197948 0,06 198060 0 2861590
43 0,28 186144 0 186144 0 319
44 0,25 135900 0 135900 0 602
45 0,2 107044 0 107044 0 0
46 0,67 121298 0 121298 0 690
47 0,13 79292 0 79292 0 173
48 0,22 107976 0 107976 0 52
49 0,19 144458 0 144458 0 353
50 0,08 102472 0 102472 0 0
51 2,25 50486 0 50486 0 1975
52 0,3 67124 0 67124 0 259
53 2,06 123706 0 123706 0 1295
54 5,33 82540 0 82540 0 2742
55 720 97366,71 0,6 97950 0,1698 474280
56 720 79661,92 19,55 SEM 207071
57 1,3 89020 0 89020 0 0
58 113,15 204076 0 204076 0 95155
59 2,93 187780 0 187780 0 600
60 3,32 200124 0 200124 0 1387
61 7,13 93856 0 93856 0 4169
62 720 65813,33 0,06 65852 0 723752
63 6,83 75744 0 75744 0 5165
64 1,09 53124 0 53124 0 824
65 8,08 79748 0 79748 0 4998
66 28,27 114764 0 114764 0 25352
67 0,98 174572 0 174572 0 506
68 305,34 170230 0 170230 0 408714
69 0,84 101042 0 101042 0 0
70 6,08 72732 0 72732 0 2442
71 7,46 98966 0 98966 0 8026
72 0,22 54724 0 54724 0 41
73 2,14 65228 0 65228 0 949
74 14,15 81532 0 81532 0 7300
75 99,11 139506 0 139506 0 97579

Média 71,45 0,41 0 103090



105

Tabela A.8: Formulação acumulada nas rotas e arredondado com lote contínuo para classe média
e difícil de instâncias, resultados da raiz

Inst. LB Gap (%) LB sem cortes Inst. LB Gap (%) LB sem cortes
26 55291,33 0,04 55094,8 51 50129,95 0,71 49730,04
27 83540 0 83540 52 67008,6 0,17 66251,77
28 148668 0 148668 53 123170,03 0,43 122008,43
29 97994,23 0,14 97968,58 54 82132,14 0,49 81478,12
30 133646,92 0,05 133589,82 55 96874,12 1,1 96298,69
31 117024,34 0,31 116841,87 56 78973,85 20,24 77090,63
32 120793,6 0,21 120766,8 57 88889,47 0,15 87748,96
33 295758,42 0,89 293246,87 58 201195,79 1,41 196810,37
34 220452,5 0,13 220066,3 59 184322,39 1,84 178693,41
35 275054,29 0,12 274892,8 60 197560,25 1,28 194321,82
36 119946,07 0,18 119778,25 61 93442,56 0,44 92921,23
37 86156 0,16 86156 62 65291,62 0,85 64490,17
38 118064 0,02 117979,47 63 75379,91 0,48 74786,4
39 67810 0 67728,74 64 52934,15 0,36 52641,34
40 109622,57 0,4 109497,05 65 79538,85 0,26 78615,41
41 134641,73 0,28 134641,73 66 114203,03 0,49 113655,31
42 197925,6 0,07 197642,4 67 174430,46 0,08 172889,29
43 185741,28 0,22 185355,35 68 165643,46 2,69 162581,41
44 135337,28 0,41 135088,65 69 100878,67 0,16 99403,45
45 106999,3 0,04 106755,53 70 71772,21 1,32 70030,52
46 121083,6 0,18 121003,48 71 98661,2 0,31 98340,65
47 79075,02 0,27 78714,17 72 54430,42 0,54 53851,36
48 107903,37 0,07 107885,56 73 65040,38 0,29 63707,49
49 143797,41 0,46 143592,4 74 81189,32 0,42 80436,41
50 102472 0 102285,45 75 139051,15 0,33 138593,94

Média 0,18 1,47



106

Tabela A.9: Formulação acumulada nas rotas e arredondado com lote contínuo para classe média
e difícil de instâncias, resultado final

Tempo LB Gap UB Gap
Inst. (s) Final LB(%) Final UB(%) Nós
26 0,17 55314 0 55314 0 330
27 0 83540 0 83540 0 0
28 0,01 148668 0 148668 0 0
29 0,48 98132 0 98132 0 518
30 0,47 133718 0 133718 0 520
31 0,37 117384 0 117384 0 523
32 0,33 121042 0 121042 0 505
33 32,45 298420 0 298420 0 87333
34 0,12 220736 0 220736 0 0
35 0,12 275380 0 275380 0 0
36 0,64 120168 0 120168 0 1321
37 0,45 86296 0 86296 0 517
38 0,11 118084 0 118084 0 0
39 0,05 67810 0 67810 0 0
40 7,25 110058 0 110058 0 22897
41 0,59 135022 0 135022 0 540
42 720 197994,58 0,03 198060 0 3548787
43 0,33 186144 0 186144 0 484
44 0,16 135900 0 135900 0 239
45 0,14 107044 0 107044 0 0
46 0,22 121298 0 121298 0 480
47 0,08 79292 0 79292 0 51
48 0,08 107976 0 107976 0 1
49 0,64 144458 0 144458 0 790
50 0,11 102472 0 102472 0 82
51 1,73 50486 0 50486 0 1468
52 0,27 67124 0 67124 0 288
53 1,65 123706 0 123706 0 614
54 2,71 82540 0 82540 0 2390
55 720 97310,08 0,65 98490 0,72 379548
56 720 80300,06 18,9 SEM 264178
57 1,12 89020 0 89020 0 565
58 105,43 204076 0 204076 0 66003
59 2,43 187780 0 187780 0 905
60 3,18 200124 0 200124 0 1453
61 6,05 93856 0 93856 0 3958
62 720 65736,42 0,18 65852 0 439737
63 6,44 75744 0 75744 0 4840
64 0,87 53124 0 53124 0 694
65 8,45 79748 0 79748 0 5789
66 6,6 114764 0 114764 0 3995
67 1,17 174572 0 174572 0 552
68 2,81 170230 0 170230 0 1173
69 0,47 101042 0 101042 0 0
70 6,52 72732 0 72732 0 2832
71 9,34 98966 0 98966 0 8791
72 0,22 54724 0 54724 0 83
73 1,82 65228 0 65228 0 929
74 4,38 81532 0 81532 0 3484
75 239,93 139506 0 139506 0 147706

Média 66,78 0,39 0 100157



107

Tabela A.10: Formulação acumulada nas rotas e arredondado com lote contínuo com a classe
mais difícil de instâncias, raiz e resultado final

Raiz Resultado Final
Gap Tempo Gap Gap No

Inst. LB (%) (s) LB Final LB(%) UB Final UB(%) de nós
101 31934,4 6,58 720 32704,48 4,33 34376 0,56 224270
102 43720,28 1,23 720 44212,57 0,12 44264 0,00 179561
103 76468,55 2,54 720 77074,13 1,77 78724 0,33 281585
104 53697,72 19,07 720 54031,26 18,57 89028 34,17 152485
105 72040,16 19,59 720 72610,01 18,96 SEM SEM 82705
106 60040,06 39,36 720 60685,41 38,71 SEM SEM 96319
107 57036,48 1,07 158,11 57654 0,00 57654 0,00 25802
108 134302,61 15,50 720 135183,63 14,95 SEM SEM 162172
109 123989,13 8,51 720 124560,71 8,09 SEM SEM 204779
110 139999,11 1,21 720 140831,78 0,62 144496 1,96 131449
111 61743,35 1,32 720 62092,53 0,76 62588 0,03 144919
112 45975,46 8,36 720 46254,41 7,81 74446 48,38 134922
113 52180,31 0,53 94,16 52456 0,00 52456 0,00 40689
114 38811,58 0,42 3,43 38974 0,00 38974 0,00 604
115 55848,45 2,21 720 56252,43 1,50 57956 1,48 134228
116 75268,02 2,34 720 75771,95 1,69 77672 0,78 85842
117 106347,06 0,20 720 106390 0,16 107476 0,86 65726
118 101533,97 1,50 720 102424,86 0,64 108118 4,89 194349
119 65725,74 1,40 720 66396,62 0,39 66658 0,00 154697
120 50223,48 2,95 720 50702,24 2,03 68014 31,42 116313
121 58151,4 0,84 720 58630,88 0,02 58642 0,00 210356
122 38208,1 1,34 720 38554 0,45 38728 0,00 138188
123 41371,5 6,53 720 41590,62 6,04 45870 3,63 100104
124 57304,68 1,64 720 57719,27 0,93 58544 0,48 126185
125 87222,34 1,15 720 87550,36 0,78 89070 0,94 93622

Média 5,90 643,83 5,17 5,01 131274



108

Tabela A.11: Formulação acumulada nos locais e arredondado com as classes média e difícil de
instâncias, resultado da raiz

Inst. LB Gap (%) LB sem cortes Inst. LB Gap (%) LB sem cortes
26 55314,00 0,00 55094,80 51 50129,95 0,71 49730,04
27 83540,00 0,00 83451,00 52 66999,51 0,19 66251,77
28 148668,00 0,00 148668,00 53 123526,86 0,14 122587,83
29 97981,60 0,15 97968,58 54 82115,42 0,51 81505,32
30 133602,90 0,09 133589,82 55 96985,00 0,63 96531,98
31 116884,00 0,43 116841,87 56 78522,70 20,70 77566,31
32 120866,29 0,15 120766,80 57 88878,99 0,16 88167,52
33 293517,34 1,64 293246,87 58 202745,06 0,65 200337,36
34 220384,69 0,16 220066,30 59 187010,22 0,41 185336,39
35 274953,33 0,15 274892,80 60 197620,90 1,25 194321,82
36 119869,60 0,25 119778,25 61 93427,38 0,46 92980,86
37 86296,00 0,00 86156,00 62 65363,56 0,74 64704,39
38 117979,47 0,09 117979,47 63 75383,51 0,48 74891,78
39 67810,00 0,00 67728,74 64 52918,40 0,39 52641,34
40 109542,36 0,47 109497,05 65 79327,37 0,53 78772,47
41 134974,00 0,04 134641,73 66 114150,19 0,53 113673,47
42 197642,40 0,21 197642,40 67 174509,00 0,04 173221,06
43 185724,68 0,23 185355,35 68 169595,12 0,37 168431,41
44 135223,63 0,50 135088,65 69 100878,67 0,00 99403,45
45 106879,87 0,15 106755,53 70 71876,69 1,18 70644,75
46 121106,87 0,16 121003,48 71 98609,72 0,36 98345,50
47 79024,00 0,34 78714,17 72 54484,35 0,44 54100,13
48 107903,37 0,07 107885,56 73 64939,67 0,44 64003,43
49 143744,70 0,49 143592,40 74 81084,87 0,55 80739,56
50 102316,58 0,15 102285,45 75 139035,00 0,34 138696,26

Média 0,24 1,29



109

Tabela A.12: Formulação acumulada nos locais e arredondado com as classes média e difícil de
instâncias, resultado final

Tempo LB Gap UB Gap
Inst. (s) Final LB(%) Final UB(%) Nós
26 0,11 55314 0,00 55314 0,00 43
27 0 83540 0,00 83540 0,00 0
28 0,02 148668 0,00 148668 0,00 0
29 0,44 98132 0,00 98132 0,00 559
30 0,77 133718 0,00 133718 0,00 647
31 1,03 117384 0,00 117384 0,00 1443
32 0,8 121042 0,00 121042 0,00 675
33 17,11 298420 0,00 298420 0,00 64511
34 0,2 220736 0,00 220736 0,00 511
35 0,47 275380 0,00 275380 0,00 590
36 0,77 120168 0,00 120168 0,00 744
37 0,05 86296 0,00 86296 0,00 0
38 0,42 118084 0,00 118084 0,00 550
39 0,02 67810 0,00 67810 0,00 0
40 2,97 110058 0,00 110058 0,00 3837
41 0,88 135022 0,00 135022 0,00 1215
42 4,75 198060 0,00 198060 0,00 5634
43 0,69 186144 0,00 186144 0,00 571
44 0,2 135900 0,00 135900 0,00 454
45 0,45 107044 0,00 107044 0,00 578
46 0,73 121298 0,00 121298 0,00 675
47 0,09 79292 0,00 79292 0,00 71
48 0,31 107976 0,00 107976 0,00 569
49 0,73 144458 0,00 144458 0,00 685
50 0,55 102472 0,00 102472 0,00 562
51 2,98 50486 0,00 50486 0,00 1314
52 0,8 67124 0,00 67124 0,00 500
53 1,92 123706 0,00 123706 0,00 568
54 8,08 82540 0,00 82540 0,00 7408
55 720 97393,70 0,22 97624 0,02 206045
56 720 80323,29 18,88 SEM SEM 315555
57 1,92 89020 0,00 89020 0,00 735
58 74,83 204076 0,00 204076 0,00 23156
59 3,09 187780 0,00 187780 0,00 1864
60 6,37 200124 0,00 200124 0,00 4744
61 23,26 93856 0,00 93856 0,00 12669
62 720 65786,53 0,10 65886 0,05 150524
63 5,05 75744 0,00 75744 0,00 3101
64 2 53124 0,00 53124 0,00 1854
65 6,34 79748 0,00 79748 0,00 2345
66 11,72 114764 0,00 114764 0,00 5112
67 0,73 174572 0,00 174572 0,00 498
68 2,64 170230 0,00 170230 0,00 1317
69 2,34 100880 0,00 100880 0,00 807
70 3,94 72732 0,00 72732 0,00 1735
71 17,11 98966 0,00 98966 0,00 5098
72 1,47 54724 0,00 54724 0,00 552
73 3,61 65228 0,00 65228 0,00 2706
74 3,7 81532 0,00 81532 0,00 1150
75 135,2 139506 0,00 139506 0,00 85592

Média 50,27 0,38 0,00



110

Tabela A.13: Formulação acumulada nos locais e arredondado com a classe mais difícil de
instâncias, raiz e resultado final

Raiz Resultado Final
Gap Tempo Gap Gap No

Inst. LB (%) (s) LB Final LB(%) UB Final UB(%) de nós
101 32184,978 5,85 231,8 34184 0,00 34184 0,00 863193
102 43956,587 0,69 6,07 44264 0,00 44264 0,00 19663
103 76804,86 2,11 439,19 78462 0,00 78462 0,00 3363391
104 53730,427 19,02 720 54057,2 18,53 SEM SEM 10045839
105 72132,857 19,49 720 72677,862 18,88 SEM SEM 9799720
106 60163,619 39,24 720 60880,92 38,52 SEM SEM 7949621
107 57049,397 1,05 43,88 57654 0,00 57654 0,00 414955
108 134370,37 15,46 720 135529,51 14,73 SEM SEM 8060758
109 124166,14 8,38 720 124937,73 7,81 SEM SEM 10131488
110 140032,27 1,19 720 140851,01 0,61 SEM SEM 9001712
111 61770,345 1,28 720 62296,459 0,44 62964 0,63 7799784
112 45970,907 8,37 720 46307,26 7,70 SEM SEM 9869508
113 52205,435 0,48 9,62 52456 0,00 52456 0,00 28816
114 38886,333 0,22 1,5 38974 0,00 38974 0,00 3426
115 55857,802 2,19 720 56229,85 1,54 61208 7,18 9828020
116 75478,929 2,07 720 76039,526 1,34 77124 0,06 8694876
117 106387 0,16 720 106390 0,16 108790 2,09 7887518
118 101710,46 1,33 720 102267,22 0,79 103102 0,02 2531627
119 65766,622 1,34 720 66045,795 0,92 67308 0,98 5260091
120 50169,65 3,06 720 50762,082 1,91 SEM SEM 8768865
121 58101,141 0,92 61,75 58642 0,00 58642 0,00 510279
122 38130,462 1,54 720 38491,39 0,61 38738 0,03 2082555
123 41360,237 6,56 720 41640,02 5,93 SEM SEM 10523505
124 57404,921 1,47 720 57607,611 1,12 58626 0,62 5551968
125 87252,132 1,12 720 87720,557 0,59 88404 0,19 9385241

Média 5,78 550,15 4,89 0,63



111

Tabela A.14: Formulação com Geração de Colunas, resultados da raiz para as classes média e
difícil de instâncias

Inst. Gap (%) LB sem cortes Inst. Gap (%) LB sem cortes
26 0,4 55094,8 51 0,61 50180
27 0,11 83451 52 0,17 67007,6
28 0 148668 53 0,07 123616
29 0,17 97968,58 54 0,17 82399,05
30 0,1 133589,82 55 0,75 97045,74
31 0,46 116841,87 56 19,67 79544,13
32 0,23 120766,8 57 0,2 88889,15
33 1,73 293246,87 58 0,39 203281,1
34 0,3 220066,3 59 0,45 186941,49
35 0,18 274892,8 60 0,66 198809,16
36 0,32 119778,25 61 0,43 93455
37 0,16 86156 62 0,72 65378,2
38 0,09 117979,47 63 0,7 75215,52
39 0,12 67728,74 64 0,46 52877,22
40 0,51 109497,05 65 0,45 79385,17
41 0,34 134567,68 66 0,29 114427
42 0,21 197642,4 67 0 174572
43 0,42 185355,35 68 0,32 169679,97
44 0,6 135088,65 69 0,18 100860,8
45 0,27 106755,53 70 0,49 72377,1
46 0,24 121003,48 71 0,27 98697,57
47 0,88 78594,17 72 0,91 54223,89
48 0,08 107885,56 73 0,56 64865,47
49 0,6 143592,4 74 0,58 81056,56
50 0,18 102285,45 75 0,28 139115,42

Média 0,35 1,19



112

Tabela A.15: Formulação com Geração de Colunas, resultados da raiz para as instâncias da
classe mais difícil

Inst. Gap (%) LB sem cortes
101 0,07 34159,82
102 0,30 44132
103 0,00 78462
104 17,37 54825,13
105 17,36 74041,6
106 35,20 64167,66
107 0,24 57513,9
108 13,55 137408
109 7,69 125100,5
110 0,78 140606,2
111 1,08 61891,4
112 7,31 46505,57
113 0,59 52146,83
114 0,48 38787,72
115 1,84 56055,8
116 0,93 76093,32
117 0,17 106377,3
118 0,71 102351,8
119 0,86 66084,2
120 2,00 50716,94
121 0,64 58264,79
122 1,48 38153,19
123 5,51 41825,73
124 1,50 57389,07
125 0,86 87480,38

Média 4,74



113

Tabela A.16: Formulação acumulada nas rotas e arredondado com custo de estouro de 999999,
com a classe mais difícil de instâncias, raiz e resultado final

Raiz Resultado Final
Gap Tempo Gap Gap No

Inst. LB (%) (s) LB Final LB(%) UB Final UB(%) de nós
101 32126,23 6,02 720 33064,25 3,28 34376 0,56 301140
102 43824,37 0,99 164,3 44264 0,00 44264 0,00 72040
103 76874,24 2,02 720 77183,66 1,63 78558 0,12 269112
104 53885 18,79 720 54044,22 18,55 66766 0,62 199853
105 72206,08 19,41 720 72575,59 19,00 estouro 199475
106 60319,15 39,08 720 60711,79 38,69 estouro 194302
107 57244,72 0,71 169,58 57654 0,00 57654 0,00 37823
108 135025,7 15,05 720 135850,7 14,53 162456 2,21 182994
109 124260,2 8,31 720 124754,3 7,95 141948 4,74 172699
110 140301,4 1,00 720 140990,8 0,51 144116 1,70 137255
111 62153,91 0,66 720 62244,07 0,52 62984 0,66 120451
112 46108,83 8,10 720 46238,46 7,84 55436 10,49 109754
113 52286,3 0,32 21,95 52456 0,00 52456 0,00 2869
114 38974 0,00 1,52 38974 0,00 38974 0,00 0
115 55997,74 1,94 720 56329,62 1,36 58168 1,86 125802
116 75437,83 1,78 720 75994,63 1,05 78904 2,73 132395
117 106375,3 0,18 720 106377,3 0,17 108154 1,49 109139
118 102004,7 1,05 720 102760,1 0,31 103132 0,05 151485
119 65887,32 1,16 720 66449,36 0,31 66658 0,00 118034
120 50343,53 2,72 720 50782,08 1,87 52486 1,42 137046
121 58291,56 0,60 174,84 58642 0,00 58642 0,00 67425
122 38317,51 1,06 720 38555,12 0,45 38748 0,05 137429
123 41540,18 6,15 720 41744,65 5,69 48820 10,29 111636
124 57434,82 1,42 720 57690,46 0,98 58650 0,67 156713
125 87326,7 1,04 720 87545,65 0,79 88580 0,39 160874

Média 5,58 597,3 5,02 1,74 136310



114

Tabela A.17: Formulação acumulada nos locais e arredondado com custo de estouro de 999999,
com a classe mais difícil de instâncias, raiz e resultado final

Raiz Resultado Final
Gap Tempo Gap Gap No

Inst. LB (%) (s) LB Final LB(%) UB Final UB(%) de nós
101 32194,57 5,82 720 33927,81 0,75 34376 0,56 494835
102 43915,93 0,79 14,52 44245,12 0,04 44264 0,00 3495
103 76955 1,92 115,47 78452 0,01 78462 0,00 62471
104 53781,42 18,95 720 53937,48 18,71 estouro estouro 294769
105 72393,72 19,20 720 72546,99 19,03 estouro estouro 195408
106 60513,07 38,89 720 60808,09 38,59 estouro estouro 235903
107 57176,19 0,83 81,3 57654 0,00 57654 0,00 25845
108 134883,9 15,14 720 135483,1 14,76 estouro estouro 302732
109 124236,1 8,33 720 124966,1 7,79 152884 12,81 357435
110 140573,7 0,80 720 140808 0,64 145620 2,76 332449
111 61889,27 1,09 580,31 62562,36 0,01 62570 0,00 194005
112 46139,91 8,04 720 46284,31 7,75 51238 2,12 218985
113 52258,59 0,38 12,94 52449,23 0,01 52456 0,00 2124
114 38929,83 0,11 1,59 38954,96 0,05 38974 0,00 136
115 55915,77 2,09 720 56110,15 1,75 78328 37,16 264202
116 75680,49 1,46 720 75942,68 1,12 104152 35,61 259430
117 106377 0,17 720 106377,3 0,17 106778 0,20 363284
118 102020,7 1,03 720 102749,1 0,32 103460 0,37 388177
119 65849,98 1,21 720 66163,63 0,74 66846 0,28 240957
120 50372,18 2,67 720 50814,58 1,81 56504 9,18 283769
121 58256,58 0,66 15,31 58605,64 0,06 58642 0,00 3012
122 38236,58 1,27 224,27 38723,33 0,01 38728 0,00 66943
123 41488,22 6,27 720 41714,3 5,76 57452 29,79 236298
124 57415,83 1,45 720 58053,97 0,36 58286 0,04 268062
125 87332,86 1,03 720 87684,22 0,63 88896 0,74 193218

Média 5,58 531,4 4,84 6,27 211518



115

Tabela A.18: Heurística baseada em Geração de Colunas, com as formulações acumuladas nas
rotas e locais, com estouro e sem estouro, gap UB

Gap UB (%) Acumulado nos Locais Acumulado nas Rotas
Instância Colunas Estouro Sem estouro Estouro Sem estouro

101 101 0,56 0,56 0,56 0,56
102 95 0,00 0,00 0,00 0,00
103 99 0,00 0,00 0,00 0,00
104 479 estouro SEM estouro SEM
105 590 estouro SEM estouro SEM
106 546 estouro SEM estouro SEM
107 184 0,08 0,08 0,08 0,08
108 284 estouro SEM estouro SEM
109 352 estouro SEM estouro SEM
110 269 0,00 0,00 0,09 0,95
111 340 0,67 0,67 0,67 0,68
112 402 estouro SEM estouro SEM
113 276 0,00 0,00 0,00 0,06
114 148 0,00 0,00 0,00 0,00
115 380 0,10 0,17 0,10 SEM
116 320 0,00 0,00 0,00 1,31
117 199 0,03 0,03 0,03 0,82
118 290 0,02 0,02 0,02 0,02
119 250 estouro SEM estouro SEM
120 234 estouro SEM estouro SEM
121 198 0,00 0,00 0,00 0,00
122 251 0,00 0,00 0,00 0,00
123 390 estouro SEM estouro SEM
124 381 0,14 0,14 0,14 SEM
125 315 0,22 0,22 0,22 1,18

Média 294,92 0,11 0,12 0,12 0,40



116

B ARQUIVO DE CONFIGURAÇÃO DO SOFTWARE

Segue abaixo a lista de parâmetros presentes no arquivo de configuração e seus respecti-

vos significados:

PERC_LOTE_MAX_EQUIV_LOTE_MIN: Percentagem do lote máximo equivalente ao valor

do lote mínimo. Só é usado quando o valor do lote mínimo é igual à zero, para substituí-lo.

NUMERO_DIAS_SUB_PERIODO: Numero de dias de cada subperíodo.

LIMITE_TEMPO_OTIMIZACAO_INICIAL_SEG: Tempo de otimização (em segundos) usado

para gerar uma solução inicial para o modelo.

LIMITE_TEMPO_OTIMIZACAO_LOCAL_SEG: Tempo de otimização (em segundos) usado

para executar cada Busca Local por PIM. Só usado caso a solução inicial não seja ótima.

LIMITE_TEMPO_OTIMIZACAO_TOTAL_SEG: Tempo total de otimização (em segundos).

LIMITE_TEMPO_OTIMIZACAO_FINAL: Tempo de execução do otimizador com as variáveis

de violação física fixadas. (em segundos).

CUSTO_VIOLACAO_META_BRASIL: Custo default por violar a meta Brasil.

RAZAO_ENTRE_TAMANHOS_LOTE: Caso a rota não tenha lotes, estes são calculados mul-

tiplicando este parâmetro pelo lote mínimo até atingir o tamanho máximo de lotes por rota ou

até atingir o lote máximo da rota.

GRANULARIDADE_TAMANHOS_LOTE: Força os lotes a serem múltiplos deste valor.

CUSTO_FIXO_ADICIONAL_LOTE_ROTA: Custo fixo adicional ao lote da rota para evitar

que a rota tenha custo zero de envio de lote.

NUMERO_DIVISOES_PERIODO_OTIMIZADOR: Diz a quantidade de divisões que terá o

horizonte na Busca Local por PIM.

VAZAO_MUDA_POR_PERIODO: Diz se a vazão muda por período. Colocar s/n.

EXECUTAR_SIMULADOR: Diz se o simulador do modelo será executado. Colocar s/n.



117

NUMERO_MAXIMO_LOTES: Número máximo de lotes por rota.

LOTE_MINIMO_EXTERIOR: Valor do lote mínimo nas rotas com ligação com o exterior.

LOTE_MAXIMO_MINIMO: Menor valor aceito para o lote máximo. Caso algum lote máximo

seja menor que este valor, será substituído pelo mesmo.

MELHORA_MINIMA_LOCAL_BRANCH: Se a nova solução não for melhor que a solução

anterior multiplicada por este parâmetro, a Busca Local por MIP para.

CUSTO_DEFAULT_IMPORTA_EXPORTA: Caso o custo de importação/exportação de alguma

rota seja zero, será substituído por este valor.

LIMITE_FISICO_MAXIMO_DEFAULT: Caso o limite físico máximo de algum local seja zero,

será substituído por este valor.

LIMITE_OPERAC_MAXIMO_DEFAULT: Caso o limite operacional máximo de algum local

seja zero, será substituído por este valor.

CUSTO_FORA_FISICO_DEFAULT: Caso o limite operacional máximo de algum local seja

zero, será substituído por este valor.

CUSTO_FORA_OPERACIONAL_DEFAULT: Usado quando o custo em questão não é forne-

cido pelo xml.

CUSTO_CONCENTRACAO_ABASTECIMENTO: Usado quando a capacidade física máxima

for igual a zero.

GERAR_ARQUIVOS_DE_LOG: Arquivos com os logs do otimizador. Colocar s/n.

GERAR_ARQUIVOS_LP: Arquivos com os modelos matemáticos rodados pelo otimizador.

Colocar s/n.

GERAR_VISUALIZACAO: Gera os arquivos usados na visualização da solução pelo Excel.

Colocar s/n.

VALOR_CUSTO_DEGRADACAO_ALTO: Valor para o custo de degradação alto.

VALOR_CUSTO_DEGRADACAO_MEDIO: Valor para o custo de degradação médio.

VALOR_CUSTO_DEGRADACAO_BAIXO: Valor para o custo de degradação baixo.

OTIMIZA_SOLUCAO_PARTIDA: Opção para otimizar a solução de partida. Colocar s/n.

LOTES_BINARIOS: Opção para permitir lotes binários. Colocar s/n.

AUMENTO_LOTE_DEFAULT: Percentual de aumento de capacidade default (em cima do

maior lote mínimo das rotas que chegam e saem do local).

DIA_LIMITE_VIOLACAO_FISICA: Dia limite para permitir violação (depois desse dia, vio-

lação não é mais permitida).

Dentre todos os parâmetros, somente os parâmetros abaixo são alteráveis pelo usuário:



118

NUMERO_DIAS_SUB_PERIODO

LIMITE_TEMPO_OTIMIZACAO_INICIAL_SEG

LIMITE_TEMPO_OTIMIZACAO_LOCAL_SEG

LIMITE_TEMPO_OTIMIZACAO_TOTAL_SEG

LIMITE_TEMPO_OTIMIZACAO_FINAL

RAZAO_ENTRE_TAMANHOS_LOTE

GRANULARIDADE_TAMANHOS_LOTE

NUMERO_MAXIMO_LOTES

MELHORA_MINIMA_LOCAL_BRANCH

GERAR_ARQUIVOS_DE_LOG

GERAR_ARQUIVOS_LP

GERAR_VISUALIZACAO

VALOR_CUSTO_DEGRADACAO_ALTO

VALOR_CUSTO_DEGRADACAO_MEDIO

VALOR_CUSTO_DEGRADACAO_BAIXO

OTIMIZA_SOLUCAO_PARTIDA

DIA_LIMITE_VIOLACAO_FISICA



119

REFERÊNCIAS BIBLIOGRÁFICAS

ABSI, N.; KEDAD-SIDHOUM, S. Mip-based heuristics for multi-item capacitated lot-sizing

problem with setup times and shortage costs. RAIRO - Operations Research, v. 41, p. 171–

192. ISSN 1290-3868. doi: 10.1051/ro:2007014. URL http://www.rairo-ro.org/

action/article_S0399055907000145, 2007.

AIZEMBERG, L.; KRAMER, H. H.; PESSOA, A. A.; UCHOA, E. Formulations for

a problem of petroleum transportation. European Journal of Operational Research,

v. 237, n. 1, p. 82 – 90. ISSN 0377-2217. doi: http://dx.doi.org/10.1016/j.ejor.

2014.01.036. URL http://www.sciencedirect.com/science/article/pii/

S0377221714000575, 2014.

ALVES, V. R. F. M. Programação de transferência de derivados de petróleo em rede dutoviária

usando algoritmo genético. PhD thesis, Universidade Federal do Rio de Janeiro, 2007.

BAHL, H. C. Column generation based heuristic algorithm for multi-item scheduling. IIE

Transactions, v. 15, n. 2, p. 136–141. doi: 10.1080/05695558308974624, 1983.

BANASZEWSKI, R. F. Mecanismos baseados em leilões multiagentes para aplicação no pro-

blema de planejamento de transferências de produtos no segmento downstream do sistema

logístico brasileiro de petróleo. PhD thesis, Universidade Tecnológia Federal do Paraná,

2012.

BANASZEWSKI, R.; TACLA, C.; PEREIRA, F.; ARRUDA, L.; ENEMBRECK, F. Planning

transport of crude oil derivatives with simultaneous auctions. Systems Man and Cybernetics

(SMC), 2010 IEEE International Conference on, p. 2820–2827. doi: 10.1109/ICSMC.2010.

5641906, 2010.

BAZARAA, M.; JARVIS, J.; SHERALI, H. Linear Programming and Network Flows. Wi-

ley. ISBN 9780471703761. URL http://books.google.com.br/books?id=

FykSXKGEeZQC, 2011.

http://www.rairo-ro.org/action/article_S0399055907000145
http://www.rairo-ro.org/action/article_S0399055907000145
http://www.sciencedirect.com/science/article/pii/S0377221714000575
http://www.sciencedirect.com/science/article/pii/S0377221714000575
http://books.google.com.br/books?id=FykSXKGEeZQC
http://books.google.com.br/books?id=FykSXKGEeZQC


120

BELLMAN, R. E.; DREYFUS, S. E. Applied dynamic programming, volume 7962. Princeton

University Press, 1966.

BOSCHETTO, S. N.; MAGATÃO, L.; BRONDANI, W. M.; NEVES-JR, F.; ARRUDA, L. V. R.;

BARBOSA-PÓVOA, A. P. F. D.; RELVAS, S. An operational scheduling model to product

distribution through a pipeline network. Industrial &amp;amp; Engineering Chemistry Research, v.

49, n. 12, p. 5661–5682. doi: 10.1021/ie900685v. URL http://pubs.acs.org/doi/

abs/10.1021/ie900685v, 2010.

BRITO, R. C. Um simulador multiagente para auxiliar decisões logísticas de alocação de petró-

leo em portos, 2008.

BRITO, R. C.; TACLA, C. A. Um sistema multiagente auto-interessado para auxiliar nas de-

cisões logísticas de alocação de petróleo em portos. III Workshop Escola de Sistemas de

Agentes para Ambientes Colaborativos, Caxias do Sul, Brasil, 2009.

BROWNLEE, J. Clever Algorithms: Nature-Inspired Programming Recipes. LULU

Press. ISBN 9781446785065. URL http://books.google.com.br/books?id=

SESWXQphCUkC, 2011.

CAMPONOGARA, E. A-Teams para um problema de transporte de derivados de petróleo. PhD

thesis, Universidade Estadual de Campinas, 1995.

CHOI, E.; TCHA, D. W. A column generation approach to the heterogeneous fleet vehicle

routing problem. Computers &amp;amp; Operations Research, v. 34, n. 7, p. 2080 – 2095, 2007.

CHRISTIANSEN, M.; FAGERHOLT, K.; NYGREEN, B.; RONEN, D. Ship routing and sche-

duling in the new millennium. European Journal of Operational Research, v. , 2012.

CHRISTIANSEN, M.; FAGERHOLT, K.; RONEN, D. Ship routing and scheduling: Status and

perspectives. Transportation Science, v. 38, n. 1, p. 1–18, 2004.

COLLETTE, Y.; SIARRY, P. Multiobjective Optimization: Principles and Case Studies. Deci-

sion Engineering. Springer. ISBN 9783540401827. URL http://books.google.com.

br/books?id=XNYF4hltoF0C, 2003.

DE LA CRUZ, J.; DE ANDRES-TORO, B.; HERRÁN, A.; PORTA, E. B.; BLANCO, P. F.

Multiobjective optimization of the transport in oil pipelines networks. Emerging Technologies

http://pubs.acs.org/doi/abs/10.1021/ie900685v
http://pubs.acs.org/doi/abs/10.1021/ie900685v
http://books.google.com.br/books?id=SESWXQphCUkC
http://books.google.com.br/books?id=SESWXQphCUkC
http://books.google.com.br/books?id=XNYF4hltoF0C
http://books.google.com.br/books?id=XNYF4hltoF0C


121

and Factory Automation, 2003. Proceedings. ETFA’03. IEEE Conference, volume 1, p. 566–

573. IEEE, 2003.

DE SOUZA, T. C. N. Algoritmo Evolucionário para a Distribuição de Produtos de Petróleo

por Redes de Polidutos. PhD thesis, Universidade Federal do Rio Grande do Norte, 2010.

DESAULNIERS, G.; DESROSIERS, J.; SOLOMON, M. M. Column generation, volume 5.

Springer, 2005.

DÓRA, P.; LOPES, R.; CID, E. Mas-scm: Protótipo de ambiente integrado para soluções

logísticas com uso de multiagentes - levantamento de requisitos. Relatório técnico, CENPES-

Petrobras, 2009.

DOS SANTOS CARDOSO, L. Logística do petróleo: transporte e armazenamento. Inter-

ciência. ISBN 9788571931015. URL http://books.google.com.br/books?id=

YRSyAAAACAAJ, 2004.

FAGERHOLT, K.; RONEN, D. Bulk ship routing and scheduling: solving practical problems

may provide better results. Maritime Policy &amp;amp; Management, v. 40, n. 1, p. 48–64, 2013.

FASANO, G. Mip-based heuristic for non-standard 3d-packing problems. 4OR, v. 6, n. 3, p.

291–310. ISSN 1619-4500. doi: 10.1007/s10288-007-0049-1. URL http://dx.doi.

org/10.1007/s10288-007-0049-1, 2008.

FERREIRA, M. Downstream transporte. Relatório técnico, Universidade Federal do Ceará,

2000.

FURINI, F.; MALAGUTI, E.; DURAIN, R. M.; PERSIANI, A.; TOTH, P. A column generation

heuristic for the two-dimensional two-staged guillotine cutting stock problem with multiple

stock size. European Journal of Operational Research, v. 218, n. 1, p. 251 – 260. ISSN

0377-2217. doi: 10.1016/j.ejor.2011.10.018, 2012.

GHIANI, G.; LAPORTE, G.; MUSMANNO, R. Introduction to Logistics Systems

Planning and Control. Wiley Interscience Series in Systems and Optimization. Wi-

ley. ISBN 9780470091654. URL http://books.google.com.br/books?id=

bVUO1BaIHu8C, 2004.

GOMES, C. Gestão da cadeia de suprimentos integrada à tecnologia da informação. Cengage

Learning Editores, 2004.

http://books.google.com.br/books?id=YRSyAAAACAAJ
http://books.google.com.br/books?id=YRSyAAAACAAJ
http://dx.doi.org/10.1007/s10288-007-0049-1
http://dx.doi.org/10.1007/s10288-007-0049-1
http://books.google.com.br/books?id=bVUO1BaIHu8C
http://books.google.com.br/books?id=bVUO1BaIHu8C


122

HARLAND, C. Supply chain management: relationships, chains and networks. British Journal

of management, v. 7, n. 1, p. 63–80, 2005.

HENNIG, F.; NYGREEN, B.; LÜBBECKE, M. E. Nested column generation applied to the

crude oil tanker routing and scheduling problem with split pickup and split delivery. Naval

Research Logistics (NRL), v. 59, n. 3-4, p. 298–310, 2012.

JAMES, R. J.; ALMADA-LOBO, B. Single and parallel machine capacitated lotsizing and sche-

duling: New iterative mip-based neighborhood search heuristics. Computers &amp;amp; Operations

Research, v. 38, n. 12, p. 1816–1825, 2011.

JONCOUR, C.; MICHEL, S.; SADYKOV, R.; SVERDLOV, D.; VANDERBECK, F. Column

generation based primal heuristics. Electronic Notes in Discrete Mathematics, v. 36, n. 0, p.

695 – 702. ISSN 1571-0653. doi: 10.1016/j.endm.2010.05.088, 2010.

KLEMMT, A.; WEIGERT, G.; ALMEDER, C.; MONCH, L. A comparison of mip-based

decomposition techniques and vns approaches for batch scheduling problems. Simulation

Conference (WSC), Proceedings of the 2009 Winter, p. 1686–1694. IEEE, 2009.

LEE, H.; PINTO, J. M.; GROSSMANN, I. E.; PARK, S. Mixed-integer linear programming

model for refinery short-term scheduling of crude oil unloading with inventory management.

Industrial &amp;amp; Engineering Chemistry Research, v. 35, n. 5, p. 1630–1641, 1996.

LIPORACE, F. S. Planejadores para transporte em polidutos. PhD thesis, PUC-RJ, 2005.

LOHATEPANONT, M.; KONGSERMSUP, V. Model and algorithm for bulk cargo ship routing

and scheduling under port congestion condition. Transportation Research Board 91st Annual

Meeting, 2012.

LOPES, T. M. T.; CIRÉ, A. A.; DE SOUZA, C. C.; MOURA, A. V. A hybrid model for a

multiproduct pipeline planning and scheduling problem. Constraints, v. 15, n. 2, p. 151–189,

2010.

MAGATÃO, L.; ARRUDA, L.; NEVES JR, F. A mixed integer programming approach for

scheduling commodities in a pipeline. Computers &amp;amp; Chemical Engineering, v. 28, n. 1U?2, p.

171–185. ISSN 0098-1354. doi: 10.1016/S0098-1354(03)00165-0. URL http://www.

sciencedirect.com/science/article/pii/S0098135403001650, 2004.

http://www.sciencedirect.com/science/article/pii/S0098135403001650
http://www.sciencedirect.com/science/article/pii/S0098135403001650


123

MANIEZZO, V.; STÜTZLE, T.; VOSS, S. Matheuristics: Hybridizing Metaheu-

ristics and Mathematical Programming. Annals of Information Systems. Springer-

Verlag. ISBN 9781441913067. URL http://books.google.com.br/books?id=

3uN95LwxRlAC, 2009.

MENDES, A. B. Programação de frota de apoio a operações "offshore"sujeita à requisição

de múltiplas embarcações para uma mesma tarefa. PhD thesis, Universidade de São Paulo,

2007.

MERCE, C.; FONTAN, G. Mip-based heuristics for capacitated lotsizing problems. Internati-

onal Journal of Production Economics, v. 85, n. 1, p. 97 – 111. ISSN 0925-5273. doi: http:

//dx.doi.org/10.1016/S0925-5273(03)00090-2. URL http://www.sciencedirect.

com/science/article/pii/S0925527303000902. Planning and Control of Pro-

ductive Systems, 2003.

MILIDIÚ, R.; PESSOA, A.; LABER, E. Pipeline transportation of petroleum products with no

due dates. LATIN 2002: Theoretical Informatics, v. , p. 1–10, 2002.

MILIDIÚ, R. L.; PESSOA, A. A. Complexidade de problemas de planejamento de distribui-

ção em oleodutos. Relatório técnico, Departamento de Informática, Pontifícia Universidade

Católica do Rio de Janeiro, 2001.

MILIDIÚ, R. L.; PESSOA, A. A.; BRACONI, V.; LABER, E. S.; REY, P. A. Um algoritmo

grasp para o problema de transporte de derivados de petróleo em oleodutos. Proceedings do

XXXIII Simpósio Brasileiro de Pesquisa Operacional, 2001.

MOCCIA, L.; CORDEAU, J. F.; MONACO, M. F.; SAMMARRA, M. A column generation

heuristic for a dynamic generalized assignment problem. Computers &amp;amp; Operations Research,

v. 36, n. 9, p. 2670 – 2681. ISSN 0305-0548. doi: 10.1016/j.cor.2008.11.022, 2009.

MOHAMMADI, M.; FATEMI GHOMI, S.; KARIMI, B.; TORABI, S. Mip-based heuristics

for lotsizing in capacitated pure flow shop with sequence-dependent setups. International

Journal of Production Research, v. 48, n. 10, p. 2957–2973, 2010.

MORO, L. F.; PINTO, J. M. Mixed-integer programming approach for short-term crude oil

scheduling. Industrial &amp;amp; engineering chemistry research, v. 43, n. 1, p. 85–94, 2004.

http://books.google.com.br/books?id=3uN95LwxRlAC
http://books.google.com.br/books?id=3uN95LwxRlAC
http://www.sciencedirect.com/science/article/pii/S0925527303000902
http://www.sciencedirect.com/science/article/pii/S0925527303000902


124

MOURGAYA, M.; VANDERBECK, F. Column generation based heuristic for tactical planning

in multi-period vehicle routing. European Journal of Operational Research, v. 183, n. 3, p.

1028 – 1041. ISSN 0377-2217. doi: 10.1016/j.ejor.2006.02.030, 2007.

NOVAES, A. Logística e gerenciamento da cadeia de distribuição: estratégia, operação e

avaliação. Ed. Campus. ISBN 9788535208191. URL http://books.google.com.

br/books?id=rfacAAAACAAJ, 2001.

PENNA, L. A.; FILHO, N. S.; SOUSA, C. A. D. Petróleo no Brasil. E-Papers. ISBN 85-7650-

006-X, 2004.

QUINTAS, H.; QUINTANS, L. C. P. A história do petróleo no Brasil e no mundo. Coleção

Direito do petróleo. IBP. ISBN 9788599960875. URL http://books.google.com.

br/books?id=jC8XSgAACAAJ, 2010.

REJOWSKI JR, R.; PINTO, J. M. Efficient milp formulations and valid cuts for multiproduct

pipeline scheduling. Computers &amp;amp; chemical engineering, v. 28, n. 8, p. 1511–1528, 2004.

ROCHA, R. Petroleum Supply Planning: Models, Reformulations and Algorithms. PhD thesis,

Departamento de Informática, Pontifícia Universidade Católica do Rio de Janeiro, 2010.

ROCHA, R.; GROSSMANN, I.; POGGI DE ARAGÃO, M. Cascading knapsack inequalities:

reformulation of a crude oil distribution problem. Annals of Operations Research, v. , p. 1–18,

2011.

ROTHLAUF, F. Design of Modern Heuristics: Principles and Application. Natural compu-

ting. Springer Berlin Heidelberg. ISBN 9783540729624. URL http://books.google.

com.br/books?id=rqEI_u6PEToC, 2011.

SIEGEL, J.; SHIM, J. Operations Management, Hauppauge, New York: Barron’s Educational

Series. Inc, 1999.

TAHA, H. A. Operations Research: An Introduction. Prentice Hall Internatio-

nal. ISBN 9780131889231. URL http://books.google.com.br/books?id=2_

WJSgAACAAJ, 2007.

TRANSPETRO. Transpetro - relatório anual. Relatório técnico, Transpetro, 2012.

http://books.google.com.br/books?id=rfacAAAACAAJ
http://books.google.com.br/books?id=rfacAAAACAAJ
http://books.google.com.br/books?id=jC8XSgAACAAJ
http://books.google.com.br/books?id=jC8XSgAACAAJ
http://books.google.com.br/books?id=rqEI_u6PEToC
http://books.google.com.br/books?id=rqEI_u6PEToC
http://books.google.com.br/books?id=2_WJSgAACAAJ
http://books.google.com.br/books?id=2_WJSgAACAAJ


125

VAZ, A. V.; OLIVEIRA, K. N.; DAMASCENO, P. E. G. O modal dutoviário: Análise da impor-

tância e considerações sobre suas principais características. Relatório técnico, Universidade

Federal do Ceará, 2000.

WANG, S.; MENG, Q. Liner ship route schedule design with sea contingency time and port

time uncertainty. Transportation Research Part B: Methodological, v. 46, n. 5, p. 615–633,

2012.

WOLSEY, L. Integer Programming. A Wiley-Interscience publication. Wiley.

ISBN 9780471283669. URL http://books.google.com.br/books?id=

x7RvQgAACAAJ, 1998.

WOOLDRIDGE, M. An Introduction to MultiAgent Systems. Wiley. ISBN 9780470519462.

URL http://books.google.com.br/books?id=X3ZQ7yeDn2IC, 2009.

YAVUZ, B.; ARAS, N.; KUBAN, I.; ERSOY, C. A column generation based heuristic for

sensor placement, activity scheduling and data routing in wireless sensor networks. European

Journal of Operational Research, v. 207, n. 2, p. 1014 – 1026. ISSN 0377-2217. doi: 10.

1016/j.ejor.2010.05.020, 2010.

YIN, S.; NISHI, T.; IZUNO, T. A heuristic approach for international crude oil transportation

scheduling problems. Journal of Advanced Mechanical Design, Systems, and Manufacturing,

v. 6, n. 5, p. 687–702, 2012.

http://books.google.com.br/books?id=x7RvQgAACAAJ
http://books.google.com.br/books?id=x7RvQgAACAAJ
http://books.google.com.br/books?id=X3ZQ7yeDn2IC

	INTRODUÇÃO
	ENQUADRAMENTO
	MOTIVAÇÕES
	LOGÍSTICA E PETRÓLEO
	GERENCIAMENTO DA CADEIA DE SUPRIMENTOS
	CUSTOS DA LOGÍSTICA BRASILEIRA
	BREVE HISTÓRICO DA INDÚSTRIA BRASILEIRA DE PETRÓLEO (CRONOLOGIA)
	COMPLEXIDADE DO PROBLEMA ESTUDADO

	OBJETIVOS
	ORGANIZAÇÃO DO TRABALHO

	ESTUDO DO PROBLEMA DO PLANEJAMENTO DE MOVIMENTAÇÕES DE LOTES ATRAVÉS DE UMA REDE LOGÍSTICA MONOPRODUTO E MONOMODAL
	REVISÃO DE LITERATURA
	FORMULAÇÕES PARA O PROBLEMA DO PLANEJAMENTO DE MOVIMENTAÇÕES DE LOTES ATRAVÉS DE UMA REDE LOGÍSTICA 
	DADOS DE ENTRADA DO PROBLEMA
	FORMULAÇÃO NATURAL
	FORMULAÇÃO BÁSICA
	KNAPSACK CASCADING
	CASCADING ACUMULADO NAS ROTAS E ARREDONDADO
	CASCADING ACUMULADO NOS LOCAIS E ARREDONDADO
	FORMULAÇÃO PARA GERAÇÃO DE COLUNAS 

	HEURÍSTICA BASEADA EM GERAÇÃO DE COLUNAS
	PROGRAMAÇÃO DINÂMICA
	PROCEDIMENTO DA HEURÍSTICA BASEADA EM GERAÇÃO DE COLUNAS  

	RESULTADOS COMPUTACIONAIS
	RESULTADOS COMPUTACIONAIS DAS FORMULAÇÕES
	RESULTADOS COMPUTACIONAIS DA HEURÍSTICA BASEADA EM GERAÇÃO DE COLUNAS

	CONCLUSÕES DESTE CAPÍTULO

	PROBLEMA DAS MOVIMENTAÇÕES DE LOTES DE DERIVADOS DE PETRÓLEO E DE BIOCOMBUSTÍVEIS PELA REDE LOGÍSTICA BRASILEIRA DE PETRÓLEO - MALHA BRASIL
	PRODUTOS
	LOCAIS
	MODAIS
	CAPACIDADES DE ESTOQUE

	ESTUDO DO PROBLEMA DAS MOVIMENTAÇÕES DE LOTES DE DERIVADOS DE PETRÓLEO E DE BIOCOMBUSTÍVEIS PELA REDE LOGÍSTICA MULTIPRODUTO E MULTIMODAL BRASILEIRA (MALHA BRASIL) 
	REVISÃO BIBLIOGRÁFICA
	MODELO MATEMÁTICO
	BUSCA LOCAL POR PROGRAMAÇÃO INTEIRA MISTA (PIM)
	RESULTADOS COMPUTACIONAIS
	Construção da instância base
	Experimentos com a busca local por PIM
	Visualização da solução de uma instância baseada na instância base

	CONCLUSÕES DO CAPÍTULO
	MELHORIAS DESEJÁVEIS


	CONCLUSÃO E TRABALHOS FUTUROS 
	TABELAS COMPLETAS COM OS RESULTADOS COMPUTACIONAIS DE TODAS AS FORMULAÇÕES DO ESTUDO DO CAPÍTULO 2 
	ARQUIVO DE CONFIGURAÇÃO DO SOFTWARE

</field>
	</doc>
</add>