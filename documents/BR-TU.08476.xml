<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.08476</field>
		<field name="filename">13313_Diss_Glenan.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">
 

GLENAN ASSIS DO LAGO 
 
 
 
 
 
 
 
 
 
 
 
 
 

Eletrônica Embarcada para Ensaios de Posicionamento 
Dinâmico em Tanque de Provas 

 
 
 
 
 
 
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

São Paulo, 2008 



GLENAN ASSIS DO LAGO 
 
 
 
 
 
 
 
 
 
 
 
 
 

Eletrônica Embarcada para Ensaios de Posicionamento 
Dinâmico em Tanque de Provas 

 
 
 
 
 
 
 
 

Dissertação apresentada à Escola Politécnica 
da Universidade de São Paulo para obtenção 
do Título de Mestre em Engenharia Naval. 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

São Paulo, 2008 



GLENAN ASSIS DO LAGO 
 
 
 
 
 
 
 
 
 
 
 
 
 

Eletrônica Embarcada para Ensaios de Posicionamento 
Dinâmico em Tanque de Provas 

 
 
 
 
 
 
 
 

Dissertação apresentada à Escola Politécnica 
da Universidade de São Paulo para obtenção 
do Título de Mestre em Engenharia Naval. 
 
 
Área de Concentração: 
Engenharia Naval e Oceânica 
 
Orientador: 
Prof. Dr. Helio Mitio Morishita 
 
 
 
 
 
 
 

São Paulo, 2008 



 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

Este trabalho é dedicado à minha mãe,  

Iara R. Assis Lago e ao meu pai, Paulo L. 

Lago que, se estivesse aqui, certamente teria 

me apoiado em todos os passos dados. 



Agradecimentos 
 

Ao meu orientador, Professor Doutor Helio Mitio Morishita, pelo fundamental apoio 

e tempo despendido na condução deste trabalho. 

À Escola Politécnica da Universidade de São Paulo, pela oportunidade deste 

curso de mestrado e pelos recursos humanos e físicos disponibilizados. 

À Ana Paula Brambila, pela compreensão e incentivo no decorrer deste trabalho. 

Ao mestrando Lázaro Moratelli Jr, pelo constante apoio técnico e pelas valiosas 

horas despendidas nos ensaios em laboratório.  

Ao Professor Doutor Eduardo Aoun Tannuri, pelas importantes dicas nos ensaios 

experimentais. 

A Diego Garcia Lopes e aos demais alunos do Departamento de Engenharia 

Naval e Oceânica da USP que de alguma forma contribuíram para o andamento 

das atividades deste trabalho. 

À Petrobrás, pelo incentivo técnico e pelo apoio financeiro para a confecção de 

todo o material utilizado nos estudos. 



Sumário 

 
Lista de Figuras.................................................................................................................... 7 
Lista de Tabelas ................................................................................................................... 8 
Resumo ................................................................................................................................ 9 
Abstract .............................................................................................................................. 10 
1. Introdução .................................................................................................................. 11 

1.1. Considerações gerais ......................................................................................... 11 
1.2. Descrição de um SPD ........................................................................................ 15 
1.3. Revisão Bibliográfica .......................................................................................... 19 
1.4. Objetivos............................................................................................................. 22 

2. Modelagem Matemática ............................................................................................. 23 
2.1. Modelagem do veículo ....................................................................................... 23 

2.1.1. Movimentos de baixa freqüência ................................................................ 23 
2.1.2. Movimentos de alta freqüência ................................................................... 24 
2.1.3. Modelo completo ........................................................................................ 25 
2.1.4. Modelo para filtro de Kalman ...................................................................... 25 
2.1.5. Modelo completo e o sistema de medição ................................................. 27 
2.1.6. Modelo completo discretizado .................................................................... 29 

2.2. Filtro de Kalman ................................................................................................. 29 
2.2.1. Teoria.......................................................................................................... 29 

2.3. Controle .............................................................................................................. 32 
2.4. Alocação de empuxos ........................................................................................ 34 

3. Aparato experimental ................................................................................................. 36 
3.1. Aparato eletrônico .............................................................................................. 38 

3.1.1. Comunicação embarcada ........................................................................... 39 
3.1.2. Módulos de rádio ........................................................................................ 40 
3.1.3. Módulos de motor DC e de passo .............................................................. 41 
3.1.4. Módulo central ............................................................................................ 42 

3.2. Sistema de aquisição da posição do modelo no tanque de provas ................... 44 
3.3. Console central................................................................................................... 48 
3.4. Modelo em escala .............................................................................................. 53 

3.4.1. Aparato mecânico....................................................................................... 54 
3.4.2. Propulsores (motores elétricos).................................................................. 55 

4. Ensaios....................................................................................................................... 57 
4.1. Motores dos propulsores .................................................................................... 57 
4.2. Ensaios de empuxos .......................................................................................... 61 
4.3. Ensaios com o modelo ....................................................................................... 63 

4.3.1. Estabilização do Filtro de Kalman .............................................................. 64 
4.3.2. Ensaios com modelo vazio ......................................................................... 65 

4.3.2.1. Ensaio 1: águas paradas, posição fixa ............................................... 67 
4.3.2.2. Ensaio 2: águas paradas, posição variável ........................................ 71 

4.3.3. Ensaios com modelo cheio......................................................................... 73 
4.3.3.1. Ensaio 3: águas paradas, posição fixa ............................................... 74 
4.3.3.2. Ensaio 4: águas paradas, posição variável ........................................ 75 
4.3.3.3. Ensaio 5: incidência de vento ............................................................. 77 
4.3.3.4. Ensaio 7: incidência de onda .............................................................. 81 

5. Conclusões e sugestões ............................................................................................ 86 
6. Referências Bibliográficas .......................................................................................... 88 



7 

Lista de Figuras 

 
Figura 1.1 - Primeiras instalações para exploração marítima .................................................................................................. 12 
Figura 1.2 - Operação de alívio. Navio aliviador conecta-se próximo ao FPSO [1] ................................................................. 13 
Figura 1.3 - Diagrama de blocos de um SPD ........................................................................................................................... 15 
Figura 1.4 - Graus de liberdade num navio [13] ....................................................................................................................... 16 
Figura 1.5 - Propulsores num navio com SPD ......................................................................................................................... 17 
Figura 2.1 - Sistemas de coordenadas ..................................................................................................................................... 23 
Figura 2.2 - Diagrama do bloco de estimação e controle ......................................................................................................... 32 
Figura 2.3 - Realimentação para cada movimento................................................................................................................... 33 
Figura 2.4 - Modelo com 3 propulsores: 1 principal e 2 em túnel ............................................................................................. 35 
Figura 3.1 – Topologia utilizada nos experimentos de Hamamatsu [3] .................................................................................... 36 
Figura 3.2 - Topologia utilizada nos experimentos deste trabalho. .......................................................................................... 37 
Figura 3.3 - Arquitetura embarcada .......................................................................................................................................... 39 
Figura 3.4 - Módulos de comunicação sem fio ......................................................................................................................... 40 
Figura 3.5 - Módulo transceptor Radiotronix ............................................................................................................................ 41 
Figura 3.6 - Módulo acionador de motores (DC e passo)......................................................................................................... 42 
Figura 3.7 - Diagrama de blocos interno do módulo central ..................................................................................................... 42 
Figura 3.8 - Esquema de alimentações no módulo de acionamento de motores .................................................................... 44 
Figura 3.9 – Imagem da tela mostrando a localização dos pontos luminosos no modelo ....................................................... 45 
Figura 3.10 - Varredura do algoritmo de localização ................................................................................................................ 46 
Figura 3.11 - Evidências da distorção conhecida como “barril” provocada pela lente da câmera. .......................................... 46 
Figura 3.12 – Fluxograma dos dados em Visual Basic ............................................................................................................ 48 
Figura 3.13 - Tela principal do programa em Visual Basic. ...................................................................................................... 49 
Figura 3.14 - Fluxograma das funções em Matlab / Simulink................................................................................................... 50 
Figura 3.15 - Estrutura  do sistema com filtro de Kalman e bloco de controle. ........................................................................ 51 
Figura 3.16 - Módulo de leitura da referência e posição real do modelo. ................................................................................ 51 
Figura 3.17 - Bloco de controle e alocação de empuxos. ........................................................................................................ 52 
Figura 3.18 - Bloco de escrita das rotações dos motores para o Visual Basic. ....................................................................... 52 
Figura 3.19 - Bloco do filtro de Kalman implementado............................................................................................................. 53 
Figura 3.20 - Algumas vistas do casco do modelo ................................................................................................................... 54 
Figura 3.21 - Desenho mecânico de um propulsor em túnel [4] ............................................................................................... 55 
Figura 3.22 - Conjunto do propulsor em túnel montado ........................................................................................................... 56 
Figura 4.1 - Arquitetura de cada propulsor de um SPD (real ou experimental) ....................................................................... 58 
Figura 4.2 - Controles superior e inferior (localizado)............................................................................................................... 58 
Figura 4.3 - Diagrama de malha fechada para o controle de motor DC ................................................................................... 59 
Figura 4.4 - Ensaio de implementação do controlador de rotação de um motor DC ............................................................... 61 
Figura 4.5 - Bloco de alocação de empuxos com destaque para os movimentos do propulsor principal ................................ 63 
Figura 4.6 - Inicialização do posicionamento dinâmico ............................................................................................................ 64 
Figura 4.7 - Estabilização do filtro de Kalman .......................................................................................................................... 65 
Figura 4.8 - Valores (X,Y, ?) medidos (azul), referência (verde) e estimados (vermelho) ...................................................... 68 
Figura 4.9 - Erros (X,Y, ?) obtidos num ensaio de posicionamento ........................................................................................ 69 
Figura 4.10 - Rotações nos propulsores após alocação de empuxos ...................................................................................... 70 
Figura 4.11 - Comparativo entre a solicitação de rotação do controlador e a curva fitrada. .................................................... 70 
Figura 4.12 - Valores (X,Y, ?) medidos (azul), referência (verde) e estimados (vermelho) .................................................... 71 
Figura 4.13 - Trecho em detalhe do movimento em X. A oscilação observada é amortecida ................................................. 72 
Figura 4.14 - Empuxos resultantes em X, Y e Yaw .................................................................................................................. 72 
Figura 4.15 - Rotações nos propulsores após alocação de empuxos ...................................................................................... 73 
Figura 4.16 - Valores (X,Y, ?) medidos (azul), referência (verde) e estimados (vermelho) .................................................... 75 
Figura 4.17 - Valores (X,Y, ?) medidos (azul), referência (verde) e estimados (vermelho) .................................................... 76 
Figura 4.18 - Empuxos resultantes em X, Y e Yaw .................................................................................................................. 76 
Figura 4.19 - Rotações nos propulsores após alocação de empuxos ...................................................................................... 77 
Figura 4.20 - Incidência de vento a 45º .................................................................................................................................... 78 
Figura 4.21 - Incidência de vento a 90º .................................................................................................................................... 78 
Figura 4.22 - Valores (X,Y, ?) medidos (azul), referência (verde) e estimados (vermelho) .................................................... 79 
Figura 4.23 - Desvios em ? para os dois casos de incidência de vento .................................................................................. 80 
Figura 4.24 - Empuxos resultantes em X, Y e Yaw .................................................................................................................. 81 
Figura 4.25 - Rotações nos propulsores após alocação de empuxos ...................................................................................... 81 
Figura 4.26 - Ensaio com ondas. Posição inicial do modelo e sentido do deslocamento da referência .................................. 82 
Figura 4.27 - Valores (X,Y, ?) medidos (azul), referência (verde) e estimados (vermelho) .................................................... 83 
Figura 4.28 - Empuxos resultantes em X, Y e Yaw .................................................................................................................. 84 
Figura 4.29 - Rotações nos propulsores após alocação de empuxos ...................................................................................... 85 

 



8 

Lista de Tabelas 

 
Tabela 3.1 - Itens do projeto eletrônico .................................................................................................................................... 38 
Tabela 3.2 - Dimensões do navio típico e do modelo em estudo ............................................................................................. 53 
Tabela 3.3 - Posições dos motores no modelo. ....................................................................................................................... 54 
Tabela 4.1 - Resultados dos ensaios com propulsores............................................................................................................ 62 

 



9 

Resumo 
 

No Brasil a exploração do petróleo está crescendo cada vez mais principalmente 

com as atividades offshore devido às constantes descobertas de novas jazidas em 

alto mar. Isto cria a necessidade de embarcações que garantam operações mais 

seguras o que pode ser obtido com aquelas dotadas de sistemas de 

posicionamento dinâmico. 

O projeto de um sistema de posicionamento dinâmico não é simples sob o ponto 

de vista de controle já que é um sistema não-linear multivariável sobreatuado; e 

não é barato devido aos elevados custos de implementação. Portanto, para se 

projetar adequadamente este tipo de sistema é imprescindível a elaboração de 

meios para ensaiar toda a estrutura real em desenvolvimento num tanque de 

provas utilizando modelos em escala. 

Neste trabalho é mostrado o projeto, construção e testes da eletrônica embarcada 

de um aparato experimental para ensaios de veículos oceânicos em tanque de 

provas, cujo projeto baseou-se em aspectos técnicos importantes para seu bom 

funcionamento como a descentralização dos processamentos necessários, a 

comunicação sem fio robusta com um console central responsável pelo 

processamento de todos os algoritmos do controlador superior e a preocupação 

com a compatibilidade eletromagnética do sistema. 

O console central consiste de uma interface de comunicação com o usuário e dos 

blocos de controle que são o filtro de Kalman, o controlador e o alocador de 

empuxos. 

Nos ensaios o desempenho da eletrônica é averiguado experimentalmente e os 

excelentes resultados obtidos mostram que o modelo responde de acordo com os 

comandos do controlador, principalmente com relação aos controles localizados 

para cada motor de propulsor contribuindo assim para o bom comportamento do 

conjunto. 



10 

Abstract 
 

In Brazil the explotation of oil is increasing mainly with the offshore activities due to 

the new found deposits. This situation requires more safety vessels which can be 

achieved using dynamic positioning systems.  

As a dynamic positioning system is a multivarible non linear and overactuated 

system, its design is not simple;  and it is also not cheap due to high 

implementation costs. Therefore,  the development of experimental environments 

to adequately study and design this type of system is essential.  

This work shows the embeded electronic project and assembly of an experimental 

setup in order to test floating vessel models. The project was developed based on 

important technical aspects to guarantee a good performance like processing 

decentralization, robust wireless communication with a central console responsible 

by the all control algorithms and the concern with eletromagnetic compatibility of 

the system. 

The central console is composed by a human interface, control and Kalman filter 

structures and a thruster alocation algorithm.  

The performance of the electronic structure is verified experimentally during the 

tests and the excelent results show that the model works in accordance to the 

controller commands, mainly related to local thruster control which contributes to 

the good system behavior.  



11 

1. Introdução 
 

1.1. Considerações gerais 

Esforços para avanços tecnológicos no âmbito de recursos energéticos têm sido 

cada vez maiores como aproveitamento de energias renováveis, aumento na 

variedade e quantidade de biocombustíveis e até mesmo recursos híbridos, ou 

seja, a possibilidade de utilização de dois ou mais combustíveis num mesmo ponto 

de consumo. 

Dentre todos os recursos energéticos disponíveis, o petróleo ainda é a principal 

fonte energética que move indústrias, automóveis e um grande mercado de 

derivados do dia a dia e ainda terá vida longa já que a substituição do petróleo por 

outras fontes alternativas mais limpas não é uma ação imediata e demanda 

grandes negociações políticas e avanços tecnológicos muito maiores dos que 

estão sendo investidos ultimamente.  

No Brasil as principais fontes de petróleo se localizam em alto mar e recentemente 

novas jazidas foram descobertas pela Petrobrás em águas profundas onde a sua 

exploração se torna mais difícil e os custos se elevam bastante. Com base nisso a 

tecnologia vem tentando acompanhar essas necessidades e novas alternativas 

surgem ao longo do tempo. 

 A exploração do petróleo no mar teve seu início no final do século XIX na 

Califórinia e Mar Cáspio em estruturas instaladas na costa marítima e que 

conseguiam explorar no máximo 6 metros de profundidade (Figura 1.1). [1]  



12 

 

Figura 1.1 - Primeiras instalações para exploração marítima 

Um próximo passo na exploração de petróleo e gás natural foi o desenvolvimento 

de plataformas tipo jaqueta que são estruturas ainda utilizadas compostas por 

uma torre de sustentação presa ao fundo do mar com tubulações que levam o 

petróleo à superfície sendo este tipo de estrutura viável técnica e economicamente 

somente para profundidades de até 500m. Com as limitações de exploração 

encontradas até este momento, foram necessários os desenvolvimentos de outras 

estruturas como os sistemas de amarração utilizados em navios de perfuração e 

plataformas submersíveis. Na década de 90 surgiram os FPSO (Floating, 

Production, Storage and Offloading Systems), que são navios petroleiros 

amarrados. Eles exploram, armazenam e processam o petróleo e são largamente 

utilizados até hoje.  

Para os FPSO’s são necessárias operações de alívio para transportar o petróleo 

da plataforma para uma unidade de armazenamento em terra, no entanto, 

cuidados devem ser tomados com relação aos movimentos dos navios aliviadores 

nas proximidades das plataformas para evitar colisões pela deriva da embarcação 

ou por agentes ambientais agindo sobre o navio já que durante a operação o 

aliviador fica conectado muito próximo ao FPSO por dutos para a passagem do 

material (Figura 1.2). 



13 

 

Figura 1.2 - Operação de alívio. Navio aliviador conecta-se próximo ao FPSO [1] 

Os cuidados com os movimentos do navio aliviador próximo a um FPSO resumem 

em ajustar constantemente sua posição mantendo a distância de segurança 

desejada para evitar colisões. A melhor maneira de ajustar constantemente a 

posição do navio durante uma operação de alívio é através de um sistema de 

posicionamento dinâmico com mínima interferência humana. 

Os primeiros estudos de implementação de um sistema de controle e 

posicionamento automáticos da embarcação em alto mar foram iniciados em 1961 

com o “Eureka”, primeiro navio cuja posição era controlada automaticamente 

através de controladores analógicos bastante simples utilizando como referência 

um sistema de amarração. No final da década de 70 o conceito do SPD, ou 

Sistema de Posicionamento Dinâmico (Dynamic Positioning, ou somente DP, em 

inglês) estava bem estabelecido e de lá para cá vários seguimentos da indústria 

offshore passaram a utilizar estes sistemas [2]. A utilização de SPDs cresceu 

significativamente ao serem empregados nas operações de alívio para exploração 

de petróleo. 



14 

A construção de um navio equipado com um sistema de posicionamento dinâmico 

tem custo bastante elevado dada a complexidade da estrutura envolvida. A 

necessidade de ajustar todos os parâmetros do controle automático do SPD com a 

embarcação em alto mar para que se obtenha a melhor resposta às diversas 

situações ambientais é fundamental para que todas as operações ocorram de 

forma segura, no entanto, também há um custo bastante elevado e dificilmente é 

possível ensaiar o comportamento do SPD frente aos diversos cenários 

encontrados em alto mar. Dessa forma, torna-se necessário criar ambientes de 

simulação para o sistema projetado, seja um ambiente de simulação 

computacional ou um ambiente experimental com modelos em escala. O fato de 

estudar o comportamento de um navio real através de simulações computacionais 

ou ensaios experimentais faz com que os custos de preparo de uma embarcação 

sejam menores e os ajustes se tornem mais seguros, já que todos os parâmetros 

do SPD podem ser projetados em laboratório. 

Um ambiente de simulação computacional contém modelos do navio em estudo e, 

de uma forma geral, permite rápidos resultados em quaisquer situações, no 

entanto, esses modelos obtidos na teoria podem conter distorções da realidade 

podendo levar a resultados equivocados, prejudicando os resultados finais. Já um 

ambiente de ensaios experimentais contém um modelo em escala da embarcação 

e instrumentos para fazer com que se movimente num tanque de provas e 

responda aos comandos de um SPD. Aliando-se os resultados de uma simulação 

computacional com os ensaios em tanque de provas, é possível fazer iterações 

entre as simulações e os ensaios para ajustar os modelos teóricos envolvidos e 

melhor definir parâmetros de controle para um SPD real. 

O domínio de uma tecnologia nacional para a realização de ensaios com sistemas 

de posicionamento dinâmico é preocupação dos pesquisadores nacionais, e 

atualmente está sendo realizado um esforço conjunto entre a Universidade de São 

Paulo, Universidade Federal do Rio de Janeiro e a Petrobrás para realizar 

experimentos nos tanques de provas existentes no Brasil. 



15 

1.2. Descrição de um SPD 

Sistema de posicionamento dinâmico pode ser descrito como um sistema capaz 

de manter o posicionamento de uma embarcação em alto mar utilizando para isso 

somente os motores e atuadores integrados ao barco, sem que seja necessário o 

auxílio de algum tipo de amarração, como âncoras. [2]. 

A manutenção de um comportamento em alto mar pode ser vista como a não 

alteração de uma posição desejada fixa ou de uma certa distância a partir de uma 

referência, por exemplo, o movimento relativo a uma plataforma. 

A Figura 1.3 mostra um diagrama de blocos de um SPD com filtro de Kalman em 

que o sistema basicamente lê a posição e aproamento da embarcação, realiza a 

estimação dos estados do navio, compara com uma referência e realiza a 

correção atuando nos motores disponíveis, ou seja, o controle de um SPD é um 

sistema de malha fechada. 

 

Figura 1.3 - Diagrama de blocos de um SPD 

Além do controle da posição e aproamento, alguns sistemas também fazem o 

controle de trajetória e até mesmo o posicionamento da embarcação baseado nas 

condições ambientais em que a embarcação é automaticamente alinhada de 

forma a minimizar os esforços ambientais sobre ela e minimizar o consumo de 

combustível. 



16 

Uma embarcação (ou qualquer outro corpo) pode realizar movimentos em seis 

graus de liberdade, sendo três de rotação e três de translação. A Figura 1.4 

mostra esses movimentos num navio.  

 

Figura 1.4 - Graus de liberdade num navio [13] 

Para o seu posicionamento é suficiente controlar apenas movimentos realizados 

no plano horizontal, ou seja, o avanço (surge) e a deriva (sway), os quais 

caracterizam a posição do navio, e o aproamento (yaw). Os demais movimentos 

não influenciam e não são controlados durante uma operação. Os três 

movimentos de interesse são medidos e comparados com uma situação desejada, 

ou seja, a referência (set-point). O sistema de posicionamento trabalha no sentido 

de minimizar o erro da comparação efetuada. 

Um sistema de posicionamento dinâmico é constituído por um conjunto de sub-

sistemas integrados que executam cada um uma tarefa distinta num SPD. 

Sub-sistema de energia: é responsável por gerar, a partir de alternadores 

acoplados aos motores diesel, energia elétrica para toda a embarcação e, por 

conseguinte, para o sistema de posicionamento dinâmico.  

Sub-sistema de atuação: os propulsores da embarcação fazem parte desse sub 

sistema. São responsáveis por fazer a embarcação se movimentar fora de uma 



17 

operação de posicionamento dinâmico utilizando normalmente os motores 

principais e o leme e por funcionarem como elementos atuadores finais numa 

operação de posicionamento em conjunto com os motores configurados em túnel, 

os quais são instalados transversalmente no casco bem como os azimutais, que 

têm a vantagem de girar 360º e assim direcionar o empuxo gerado (Figura 1.5) . O 

número de atuadores num barco depende do seu tamanho, potência e 

redundância requeridas nas operações.  

 

Figura 1.5 - Propulsores num navio com SPD 
 

Sub-sistema de sensoriamento: é responsável por localizar a embarcação no 

plano horizontal e informar esta posição ao SPD para que os cálculos de possíveis 

correções possam ser feitos. O número de sensores e tipos de sensores 

instalados depende da precisão desejada na operação de posicionamento e na 

redundância requerida para a aplicação.  

Algumas informações de condições ambientais são utilizadas pelo SPD a fim de 

realizar o controle por pré-alimentação (ou feedforward) através de sensores 

instalados por toda a embarcação. Esse tipo de controle compensa as 

perturbações de baixa freqüência como, por exemplo, as perturbações causadas 

pelo vento. Já a consideração das forças provenientes de ondas e correntezas 

tem seu estudo intensificado apenas recentemente. A inclusão dessas medidas na 

malha de pré-alimentação melhoraria bastante a performance do SPD, já que tais 



18 

correções são feitas apenas quando a perturbação é medida pelo deslocamento 

da embarcação [1].  

Sub-sistema de controle superior: é composto pela interface direta com os 

operadores através de computadores, consoles e telas de informação e por 

sistemas de aquisição e comunicação para realizar a interface com os diversos 

sensores instalados na embarcação. É responsável por executar todos os 

algoritmos que recebem as posições dos sensores e calculam as correções a 

serem feitas baseadas numa referência (ou set-point). Esses algoritmos podem 

ser desde os clássicos PIDs com movimentos desacoplados (um controlador para 

cada movimento: sway, surge e yaw) até os controladores baseados em modelos, 

os quais consideram as modelagens da embarcação e das forças ambientais. 

Este sub-sistema é também responsável por realizar a alocação de empuxos. O 

resultado de um algoritmo de controle de SPD é um conjunto de forças e torques 

necessários para a execução da correção necessária, no entanto, este conjunto 

de forças e momentos precisa ser transferido para cada atuador da embarcação. 

Este é o processo de alocação de empuxos (ou TAL – Thruster Allocation Logic). 

Sub-sistema de controle inferior: este sub-sistema é encontrado em cada atuador 

da embarcação (propulsores, azimutais e leme) e é responsável por garantir a 

rotação ou posição informadas pelo algoritmo de alocação de empuxos integrado 

ao sub-sistema de controle superior. Cada atuador tem seu próprio modo de 

controle (PID, robusto etc) e seu próprio conjunto de sensores. 

O desenvolvimento dos mais modernos sistemas de posicionamento dinâmico é 

geralmente precedido de ensaios com modelos em escala reduzida em tanques 

de prova com a finalidade de se estudar as características dos propulsores e 

atuadores, dos algoritmos de controle e obter informações com relação a margens 

de segurança e, com isso, aperfeiçoar o projeto e deixá-lo mais robusto. Os 

resultados experimentais obtidos em ambientes de estudo de SPD podem ser 

extrapolados para aplicações reais auxiliando dessa forma o desenvolvimento de 



19 

novas tecnologias e o aprimoramento das existentes nesse importante ramo de 

exploração de petróleo em águas profundas. 

 

1.3. Revisão Bibliográfica 

Um sistema de posicionamento dinâmico integra conhecimentos de diversas áreas 

da engenharia, como naval, mecânica, matemática, elétrica e eletrônica, no 

entanto, neste trabalho será dada ênfase no desenvolvimento de um aparato 

experimental capaz de auxiliar nos estudos de controle de um SPD e realização 

de experimentos em laboratório. 

Os controladores utilizados nesses sistemas evoluíram bastante ao longo de sua 

história, a saber: 

Controladores de primeira geração: baseados no filtro cunha para eliminar os 

movimentos de alta freqüência da embarcação e utilizavam-se de leis de controle 

clássico.  

Controladores de segunda geração: utilizam filtro de Kalman embora a lei de 

controle seja a clássica. A utilização do filtro de Kalman foi proposta inicialmente 

por Balchen et al. [19] e desde então diversas propostas têm sido publicadas para 

a lei de controle. Ainda são largamente utilizados em muitos sistemas comerciais e 

são baseados em controladores PID multivariáveis com relaimentação das 

variáveis de estado do modelo da embarcação. 

Demais controladores: controladores ótimo tipo H? foram tão importantes para os 

avanços dos SPDs quanto o filtro de Kalman [2], no entanto filtro de Kalman ainda 

é muito mais utilizado. H? robusto foi desenvolvido para atender a casos de 

sistemas incertos e, de forma mais robusta, contemplar os erros de modelagem 

inerentes a qualquer modelagem teórica. Controladores Fuzzy foram também 

estudados para SPDs e, apesar de permitir que o projeto de controle seja mais 

rapidamente elaborado que nos demais tipos de controladores, podem apresentar 



20 

problemas para algum cenário não previsto no mapeamento de casos da lógica 

fuzzy. 

Outro tópico que merece igual nível de profundidade nos estudos e que no entanto 

não recebe grande destaque na literatura é a alocação de empuxos. Há que se 

pensar também em algoritmos para a alocação do empuxo entre os propulsores 

de uma embarcação visando otimizar a utilização dos mesmos, redução de 

consumo de combustível e eficiência nos movimentos já que um navio com SPD é 

em geral sobreatuado, ou seja, o controlador fornece componentes de força em 

surge, sway e momento em yaw e o navio não tem apenas um motor para cada 

movimento, mas pode ter vários motores inclusive azimutais operando em 

conjunto.  

Os controladores atuais baseados em filtro de Kalman, embora operem 

satisfatoriamente na maioria das situações, exigem um ajuste grande de 

parâmetros e o seu desempenho é degradado quando as condições ambientais se 

tornam severas. Em vista disto tem havido diversas propostas para garantir um 

bom desempenho do sistema em diversos estados de mar, por exemplo, o 

controle baseado em observadores não lineares [20]. Este controlador é baseado 

na teoria da passividade onde, segundo seus autores, é reduzido o número de 

parâmetros a serem estimados. Já um controle baseado em backstepping foi 

proposto por Fossen [21] e Mesquita [22]. 

Estudos de desempenho de um SPD com controladores deslizantes e robustos 

baseado na norma ?H são apresentados em Tannuri [1] e [11]. 

Os trabalhos de caráter experimental são encontrados em Santos [14] e Lago e 

Veras [7] onde os autores desenvolveram um ambiente para o estudo de sistemas 

de posicionamento dinâmico em tanque de provas. Para isso foram desenvolvidos 

dois sistemas de localização da embarcação no tanque: o primeiro baseado em 

sensores de ultra-som e o segundo baseado em visão artificial. Um modelo 

simples em escala foi confeccionado e uma eletrônica em caráter experimental foi 

desenvolvida para o acionamento dos motores de potência.  



21 

Em Hamamatsu [3] foi realizado controle não linear em tempo real para o controle 

de trajetórias de embarcações. Mostra também um algoritmo ótimo para a 

alocação de empuxos dos atuadores e o tratamento do problema de alocação de 

empuxos em caso de falha de um atuador. O estudo é simulado 

computacionalmente e ensaiado com modelos em tanque de provas.  

O sistema de visão artificial desenvolvido por Lago e Veras [7] e utilizado como 

importante ferramenta em ensaios reais foi bastante aperfeiçoado no decorrer do 

presente trabalho como, por exemplo, a inclusão de equações de correção da 

distorção da imagem e melhorias no rastreamento da embarcação no tanque de 

provas. Outros trabalhos correlatos [8] e [9] foram desenvolvidos no mesmo 

período. 

No trabalho de Lago et al. [5], resultados de simulações computacionais foram 

comparados com ensaios experimentais num tanque de provas utilizando para 

isso um modelo em escala reduzida contendo apenas dois motores configurados 

em túnel e um motor principal. Mesmo utilizando um modelo com configurações 

bastante simples, os resultados ensaiados ficaram bastante próximos daqueles 

simulados no tanque numérico da USP (ambiente dedicado para a simulação de 

estruturas navais da Universidade de São Paulo). 

Em outro trabalho de Lago et al. [6] os autores fazem uma análise de algoritmos 

de filtragem baseado em filtro de Kalman. Simulações são realizadas no tanque 

numérico da USP e três métodos de detecção da freqüência de onda são 

estudados e comparados: o primeiro e o segundo são métodos que utilizam a 

técnica RPEM (Recursive Prediction Error Method) juntamente com o filtro de 

Kalman; já o terceiro método, proposto pelos autores, considera uma freqüência 

de onda para cada movimento da embarcação, resultando em três variáveis 

adicionais para a estimação do filtro de Kalman. 

 



22 

1.4. Objetivos 

Atualmente o Departamento de Engenharia Naval e Oceânica da USP, além de 

investigar novas abordagens de controle, está construindo um modelo em escala 

reduzida para a realização de ensaios de posicionamento dinâmico. Esse modelo 

tem uma estrutura mecânica confeccionada pelo próprio Departamento e uma 

estrutura eletrônica, composta por módulos de potência para o acionamento dos 

diversos atuadores presentes na embarcação, módulos de comunicação via rádio 

e por fim, um módulo central responsável por gerenciar o funcionamento do 

modelo. 

Os objetivos deste trabalho são: 

• O desenvolvimento e implementação de toda a eletrônica que será 

embarcada no modelo; 

• Implementação de controles localizados em cada propulsor do modelo; 

• Integração da eletrônica com os componentes eletromecânicos 

embarcados; 

• Ensaios com o modelo reduzido em tanque de provas empregando o 

material desenvolvido para verificação do funcionamento de toda a 

estrutura. 

 



23 

2. Modelagem Matemática 
 

2.1. Modelagem do veículo 

Este capítulo contém as modelagens necessárias para o entendimento do 

movimento de um corpo rígido em meio fluido no plano horizontal e o 

direcionamento da abordagem para a organização dos experimentos propostos. O 

movimento no plano horizontal tem parcelas de baixa freqüência provocadas por 

agentes ambientais (corrente, vento e onda) e de alta freqüência provocadas pelas 

forças de primeira ordem das ondas. Os sistemas de posicionamento dinâmico 

controlam somente os movimentos de baixa freqüência, já que para controlar as 

perturbações de alta freqüência seria necessário um montante de energia muito 

alto, além de provocar respostas bruscas dos atuadores do navio. 

2.1.1. Movimentos de baixa freqüência 

Os movimentos de uma embarcação são tradicionalmente escritos em dois 

sistemas de coordenadas distintos (Figura 2.1): o primeiro é um sistema fixo à 

Terra, OXYZ, e o outro é fixo ao navio [12].  

 

Figura 2.1 - Sistemas de coordenadas 

A origem do sistema G1 é na intersecção da secção média do navio com o plano 

longitudinal de simetria do mesmo. As equações resultantes, em relação ao 

sistema de coordenadas solidário à embarcação, são: 



24 

( ) ( )
( ) ( )
( ) TotalLLLLLLZ

totalLLLLLL

TotalLLLLL

FxBxBxxMxMxMI
FxBxBxxMmxMxMm

FxBxMxxMmxMm

62266666126226666

26262226111626222

1111
2
6266222111

=+++++
=++++++

=+?+?+

        

        

      

  2.1 

onde Iz é o momento de inércia com relação ao eixo vertical; m é a massa da 

embarcação, Bij são coeficientes de amortecimento, Mij são termos de massa 

adicional e a força total dada por iMiTiEiTotal FFFF ++=  onde F1E, F2E, F6E  são as 

forças ambientais (corrente, vento e onda) de surge, sway e yaw; TTT FFF 621 ,,  as 

forças e o momento gerados pelo sistema de propulsão e MMM FFF 621 ,,  as forças e 

momento gerados por linhas de amarração caso existam. As variáveis 1x  e 2x  são 

as velocidades de baixa freqüência de surge e sway e 6x  a velocidade angular do 

movimento de yaw. 

Já a posição e o aproamento da embarcação com relação ao sistema fixo à Terra 

são obtidos da seguinte relação, onde L é o índice que indica movimentos de 

baixa freqüência. 

?
?
?

?

?

?
?
?

?

?
=

??
?
?

?

?

??
?
?

?

?

6

2

1

)(
x
x
x

TY
X

L

L

L

L

 

 

 

 

 

 

?
?

; 
?
?
?

?

?

?
?
?

?

? ?
=

100
0)cos()sin(
0)sin()cos(

)( LL
LL

LT ??
??

?         2.2 

2.1.2. Movimentos de alta freqüência 

Os movimento de alta freqüência são decorrentes das forças de onda de primeira 

ordem, e são modelados segundo os Operadores de Amplitude de Resposta 

(RAOs), que representam as funções de transferência entre o movimento e a onda 

incidente [1]. A abordagem baseia-se na linearidade da resposta dos movimentos 

de alta freqüência e no desacoplamento com relação aos movimentos de baixa 

freqüência.  

As ondas do mar são descritas pelo espectro de potência da elevação da 

superfície livre ( )?S . O espectro de potência iiP  do movimento de alta freqüência 

iHx  do navio é, portanto dado por: 



25 

)(),(2)( 2 ????? SRAOP iii =            2.3 

onde ?  é o ângulo de incidência da onda.  

Através da realização temporal do espectro 2.3 é possível determinar um modelo 

linear para os movimentos de alta freqüência da embarcação. 

 

2.1.3. Modelo completo 

O modelo linear completo da embarcação reúne os modelos de baixa freqüência e 

alta freqüência anteriormente discutidos. Neste caso, tem-se: 

?
?
?

?

?

?
?
?

?

?
+

?
?
?

?

?

?
?
?

?

?
=

?
?
?

?

?

?
?
?

?

?

H

H

H

L

L

L

Y
X

Y
X

Y
X

???
         2.4 

2.1.4. Modelo para filtro de Kalman 

Para fins de controle utilizando o filtro de Kalman é conveniente expressar a 

dinâmica da unidade flutuante de modo alternativo para os movimentos de baixas 

e altas freqüências. 

Para movimentos em baixas freqüências vale a expressão 

LLELELTLLLL EFAFBxAx ?+++=          2.5 

sendo 

?
?

?
?
?

?
?

= ? DM
T

A
x

Lx
L 1

33

33

0
)(0 ?

 ;  

?
?

?
?
?

?
===

?1
330

M
EBA xLLEL

   



26 

?
?
?

?

?

?
?
?

?

?

++
++

+
=

6626

6622

11

0
0

00

MIMMx
MMxMm

Mm
M

ZG

G  ;  

?
?
?

?

?

?
?
?

?

?
=

6626

2622

11

0
0

00

BB
BB

B
D   

O vetor de estados, neste caso, fica ( )TLLL xxxYX 621    ?=Lx . 2.6 

FT é um vetor composto pelas forças e momentos dos propulsores, FE é outro 

vetor formado por forças externas de baixa freqüência e pelo momento associado 

(incluindo forças ambientais e de eventuais amarrações existentes). M é a matriz 

de massas (incluindo massas adicionais) e D é uma matriz de amortecimentos. Já 

L?  é um vetor contendo ruído branco Gaussiano de média zero com covariância 

QL ( ),0(~ LL Q? N ). 

As forças FE são forças ambientais cujo comportamento tem variação lenta e 

desconhecida, e podem ser modeladas por: 

FLE ?F =           2.7 

onde FL?  é um vetor contendo ruído branco Gaussiano de média zero e matriz de 

covariância dada por QFL ( FL?  ),0(~ FLQN ). 

Para o equacionamento dos movimentos em altas freqüências considere iHx  a 

saída de um sistema linear com função de transferência )(sh  e excitação )(sH?  

(ruído branco gaussiano com potência espectral unitária )1)(( =??? HHP ). Saelid et 

al. [23] propuseram a seguinte função de transferência: 

2
00

2
0

2
2

)(
???

??? ?
++

=
ss

s
sh             2.8 



27 

sendo ?  um fator de amortecimento e 0?  a freqüência de pico do espectro )(?iiP . 

Reescrevendo o modelo em variáveis de estado (e para o índice H representando 

movimento de alta freqüência), têm-se: 

iHxiHiH

iHx

i

i

xx

x

?????

?

+??=

=
2
002 

 

, para os três graus de liberdade i = 1, 2 ou 6       2.9 

Observa-se que as freqüências de pico para os três graus de liberdade são iguais, 

pressupondo-se que são próximas à freqüência de pico da onda. 

Para o vetor de estado dado por THHHxxxH xxxx )( 621621 ???= , o modelo 

completo de alta freqüência fica: 

HHHHH ExAx ?+=                          2.10 

para 

??
?

?
??
?

?
??

=
33033

2
0

3333

2
0

xx

xx
H II

I
A

???
 ;  

??
?

?
??
?

?
=

33

330

x

x
H I

E  

e vetor H?  composto por ruídos brancos gaussianos de média zero e matriz de 

covariância )),0(~( HHH QNQ ? . 

 

2.1.5. Modelo completo e o sistema de medição 

Num sistema de posicionamento dinâmico o sistema de medição realiza a 

localização da embarcação no ambiente medindo três componentes somadas: 

• Movimento de baixa freqüência; 



28 

• Movimento de alta freqüência; 

• Ruídos inerentes ao sistema de medição. 

Dessa forma, reescrevendo o modelo completo obtido, tem-se: 

vHxz
E?BFxxAx T

+=
++= )( 

        2.11 

ou seja, o sinal medido (z) por um sistema de localização da embarcação 

fornecerá: 

?
?
?

?

?

?
?
?

?

?

++
++
++

=

??? v
vYY
vXX

HL

YHL

XHL

z         2.12 

onde v [ ]TYX vvv ?=  é um vetor contendo ruído branco de média zero R 
( ),0(~ Rv N ) que representa um erro adicional do sistema de localização. 

As matrizes A, B, E e H são dadas pela associação óbvia das equações 2.5, 2.7, 

2.10 e 2.12. 

?
?
?

?

?

?
?
?

?

?
=

EL

H

L

F
x
x

x ;  

?
?
?

?

?

?
?
?

?

?

=
336363

366666

366666

000
00

0

xxx

xx
H

x

x
EL

xx
L

A
AA

A ;  

?
?
?

?

?

?
?
?

?

?

=
33

36

36

0
0

x

x

x
LB

B ;  



29 

?
?
?

?

?

?
?
?

?

?

=
333333

363636

363636

00
00
00

xxx

xx
H

x

xxx
L

I
E

E
E ;  

( )3333333333 000 xxxxx IIH = . 

 

2.1.6. Modelo completo discretizado 

Como mencionado anteriormente, a abordagem da modelagem visa chegar numa 

forma mais adequada para aplicação em experimentos em laboratório, ou seja, de 

modo que possa ser executado num ambiente computacional. Dessa forma, o 

modelo composto pelos movimentos de alta freqüência e baixa freqüência e pelo 

sistema de referência deve estar na forma discreta, para posterior aplicação no 

Filtro de Kalman. 

Uma forma simples de discretizar o modelo é considerar a seguinte aproximação 

por “backward difference” 
t

kxkx
kx

?
??

?
]1[][

][ , sendo t?  o intervalo de 

amostragem. Obtém-se, por conseguinte, o modelo completo discretizado: 

]1[]1[]1[))((),,(
][][][

])1[],1[],1[(][

??+??+?+?=???
+=

???=

ktEktFBkxItxAf
kvkHxkz

kkFkxfkx

T

T

?

?
          2.13 

 

2.2. Filtro de Kalman 
 

2.2.1. Teoria 

O filtro de Kalman fora introduzido em sistemas de posicionamento dinâmico na 

segunda geração de controladores e permitiu avanços significativos nesta área. É 

responsável por estimar os estados do modelo da embarcação e fornecer tais 

estimativas para que o controlador possa calcular os erros de posição e 



30 

aproamento e gerar as forças para cada direção. Essa estimação é capaz de 

distinguir os movimentos de baixa e alta freqüência, além dos esforços ambientais 

incidentes sobre a embarcação. Deve-se ressaltar que o filtro de Kalman deve ser 

projetado levando-se em conta o modelo da embarcação e sistema de medição 

incluindo os ruídos de medição. 

Há dois estágios no algoritmo do Filtro de Kalman: predição e correção. O primeiro 

estima quais são os próximos valores das variáveis de estado do modelo, e o 

segundo leva em conta a medida do sistema de referência e corrige os ganhos 

internos do preditor para que possa realizar predições subseqüentes mais 

acuradas. Essa capacidade de corrigir seus ganhos internos de forma a melhorar 

as predições é uma grande vantagem do Filtro de Kalman, pois os erros de 

modelagem e até mesmo do sistema de referência acabam sendo minimizados 

nessas operações. 

Para a construção do filtro de Kalman, considerar: 

 x  a estimativa a priori, 

x?  a estimativa a posteriori, 

X  a matriz de covariância do erro de estimação a priori, 

X?  a matriz de covariância do erro de estimação a posteriori, 

K  a matriz de ganhos de Kalman, 

e incorporando o modelo discretizado da equação 2.13, o equacionamento do filtro 

de Kalman discreto fica [1]: 

Predição: 

TT

T

QkXkX

kFkxfkx

??+??=+

=+

][?]1[

)0],[],[?(]1[
                       2.14 



31 

com 
][? kxxx

f
=?

?
=? ;  

tE?=? ; 

?
?
?

?

?

?
?
?

?

?

=

ELF

H

L

Q
Q

Q
Q

00
00
00

 

Correção: 

][)][(][?
])[][]([][][?
)][(][][ 1

kXHkKIkX

kxHkzkKkxkx
RHkXHHkXkK TT

?=

?+=
+= ?

       2.15 

O termo ])[][( kxHkz ?  recebe o nome de inovação e representa o erro entre a 

medida e a previsão feita no intervalo anterior. 

Uma forma de melhor visualizar as influências dos termos nas equações do Filtro 

de Kalman é trabalhar com dois extremos. Considera-se o caso em que o modelo 

apresenta bastante fidelidade com a realidade e um sistema de medição bastante 

ruim. Esta situação equivale, portanto, a considerar uma norma da matriz de 

covariância Q pequena e uma norma da matriz R elevada. Analisando tais efeitos 

nas equações de correção, verifica-se que a norma da matriz de ganhos K será 

pequena e, conseqüentemente, o vetor de estados corrigido se aproxima do valor 

previsto na iteração anterior. Com isso, o filtro passa a desprezar as medidas ruins 

do sistema de referência dando mais peso para os valores previstos pelo seu 

modelo interno. 

A outra situação é quando o modelo não é bom, com muitas imprecisões e o 

sistema de referência fornece medidas bastante acuradas. Isto equivale a dizer 

que a norma de Q é elevada e a norma de R é pequena. Neste caso, o filtro de 

Kalman teria as estimações de estados baseadas fortemente nas medições do 

sistema de referência, desprezando, portanto, as previsões do modelo interno. 



32 

Em casos intermediários, o filtro de Kalman tende a corrigir seus vetores de 

ganhos de forma a encontrar um melhor peso para as medidas do sistema de 

referência e para as previsões do modelo interno. 

 

2.3. Controle 

Esta seção irá descrever como serão implementadas as malhas de realimentação 

para o controle do SPD 

O objetivo é corrigir a posição da embarcação utilizando-se da estrutura interna 

mostrada na Figura 2.2. 

 

Figura 2.2 - Diagrama do bloco de estimação e controle 

Para obter a força de comando para os atuadores, o controlador compara as 

posições estimadas pelo filtro de Kalman para cada grau de liberdade com a 

referência desejada gerando um sinal de erro ao qual posteriormente são 

aplicados os ganhos proporcional e derivativo (PD) e somadas as forças 

ambientais estimadas pelo Filtro de Kalman. Como resultado obtém-se as forças 

de comando também para cada direção de movimento. 

A lei de controle considerada nos ensaios deste trabalho é dada por: 

eRDPRP FKKTKF +?+?=
? )?()?)((1 ?????      2.16 



33 

onde: 

F  é a força de comando resultante; 

PK  e DK  são respectivamente ganhos proporcional e derivativo; 

)(1 ??T  é a matriz de transformação do sistema de referência fixo para o solidário à 

embarcação; 

R?  e ??  são respectivamente as posições de referência e estimada; 

R? e ??   são respectivamente as velocidades de referência e estimada; 

eF  é a estimativa das forças ambientais. 

O bloco do controlador PD pode ter seus parâmetros estimados através de 

técnicas de controle clássico, como por exemplo, alocação de pólos. 

Desconsiderando o amortecimento e o acoplamento entre os movimentos da 

embarcação no plano, pode-se escrever: 

iELiTiLii FFxMM +=+   )( , para i = 1, 2 ou 6     2.17 

Para os três movimentos (i) da embarcação, tem-se o diagrama de blocos da 

Figura 2.3: 

 

Figura 2.3 - Realimentação para cada movimento 

Resolvendo-se, por álgebra elementar de blocos, obtém-se a seguinte função de 

transferência em malha fechada: 



34 

iiii

ii

idesejado

ireal

PsDsMM
PsD

sX
sX

+++
+

=
2)()(

)(
      2.18 

Para alocar os pólos de forma conveniente, pode-se escolhê-los da forma 

jnn ??? ±? , permitindo escrever: 

?? n
ii

i

MM
D

2=
+

; 2n
ii

i

MM
P

?=
+

       2.19 

O ajuste da freqüência natural n?  e do fator de amortecimento ?  pode então ser 

feito. Geralmente esses valores são escolhidos de forma a ter 03,001,0 ?? n?  e 

0,17,0 ?? ?  e podem ainda sofrer alguns ajustes quando o sistema for instalado 

na embarcação, baseado em provas em alto mar. 

 

2.4. Alocação de empuxos 

A lógica de alocação de empuxos é responsável por entregar para cada atuador 

da embarcação o empuxo ou momento necessários para que a força resultante, 

solicitada pelo controlador, seja obtida. Uma característica interessante é que as 

lógicas de alocação de empuxos geralmente são feitas no sentido de minimizar o 

consumo de combustível da embarcação. 

Neste trabalho será implementada a lógica conhecida por “matriz da pseudo - 

inversa”, que minimiza a somatória quadrática dos empuxos a serem entregues 

para cada atuador. 

A alocação resultante é dada por 

T
TT FAAAT 1)( ?= ,                 2.20 

onde TTTTT FFFF )( 621=  representa as forças e momentos resultantes do 

controlador do SPD. Já a matriz A é definida como: 



35 

??
?
?

?

?

??
?
?

?

?

+?+???

=

++++

+

+

PnnPnnPnnPnnPnPPnP

nn

nn

proppropproppropazimazimazimazimazimazim

propazim

propazim

xsxcxsxcxxxx
ss
cc

,1,2)1(,11)1(,21,11,1,21,2

1

1

.......
.1.10.0
.0.01.1

A

 2.21 

sendo )cos( iPic ?=  e )sen( iPis ?= . iP?  é o ângulo azimute quando um propulsor 

tipo azimutal se encontra em operação e xi é a posição do propulsor em relação à 

secção média da embarcação. 

Da equação 2.20 a parcela TT AAA 1)( ?  é a pseudo – inversa que é um modo 

matemático para se realizar a inversa de uma matriz não quadrada, já que num 

SPD a saída do controlador fornece uma força em Surge, outra em Sway e um 

momento em Yaw, e a embarcação geralmente tem mais de três atuadores. 

O modelo a ser ensaiado (Figura 2.4) tem três atuadores: dois propulsores 

configurados em túnel (forças F2 e F3) e um propulsor principal (força F1). 

 

Figura 2.4 - Modelo com 3 propulsores: 1 principal e 2 em túnel 

Sendo Fx, Fy as forças surge e sway e Fz igual ao momento de yaw, a seguinte 

relação se aplica: 

?
?
?

?

?

?
?
?

?

?

?
?
?

?

?

?
?
?

?

?
?=

?
?
?

?

?

?
?
?

?

?

z

y

x

F
F
F

F
F
F

15.00
15.00

001

3

2

1

        2.22 



36 

3. Aparato experimental 

Como já mencionado, um sistema de posicionamento dinâmico é bastante 

complexo dado a modelagem nada trivial de uma embarcação, os recursos de 

estimação de estados do modelo realizada pelo filtro de Kalman e o complexo 

tratamento da alocação de empuxos quando se têm muitos atuadores. Somando 

esses fatores à implementação de um SPD numa embarcação real (adaptação de 

atuadores quando o navio não os tiver) e a inerente necessidade de diversos 

ajustes dos parâmetros dos controladores, torna-se de grande valia o prévio 

estudo do comportamento de um SPD em ambientes de simulação computacional 

e de ensaios com modelos em escala reduzida. 

Nesse sentido, um aparato experimental foi preparado para a realização de 

ensaios no tanque de provas do Departamento de Engenharia Naval e Oceânica 

da USP e é bastante semelhante ao aparato desenvolvido para os ensaios em [3]. 

A Figura 3.1 mostra o aparato experimental utilizado nos ensaios e pode-se dizer 

que o que foi desenvolvido neste trabalho é parecido, mas com algumas 

alterações de topologia, como por exemplo, a utilização de links de rádio no lugar 

de rede wireless; de câmera no lugar do conjunto de feixe lazer e prisma e de 

módulos microcontrolados no lugar de um computador embarcado. 

 

Figura 3.1 – Topologia utilizada nos experimentos de Hamamatsu [3] 



37 

O aparato experimental desenvolvido neste trabalho consiste basicamente nos 

módulos mostrados na Figura 3.2. 

 

Figura 3.2 - Topologia utilizada nos experimentos deste trabalho. 

• Câmera (sistema de aquisição da posição): consiste numa câmera de vídeo 

sobre o tanque e um algoritmo de localização executado no console central; 

• Console central: responsável por executar os algoritmos de localização do 

modelo, algoritmos de controle e por comunicar com a embarcação via 

rádio freqüência; 

• RF (Módulos de rádio): realizam a comunicação sem fios entre o console 

central e os módulos embarcados; 

• Módulo central: consiste no módulo principal embarcado e é responsável 

por gerenciar a comunicação com o console em terra e com os demais 

módulos embarcados; 

• Módulos de controle localizados: são responsáveis por realizar um controle 

de rotação ou posição localizado em cada atuador instalado. 

Os itens subseqüentes descrevem em detalhes os módulos desenvolvidos e 

mostra também todo o aparato mecânico preparado (casco, propulsores). 



38 

 

3.1. Aparato eletrônico 

É responsável por controlar todos os atuadores da embarcação como controle de 

rotação dos motores principal e túnel, e controle da posição do leme e motor 

azimutal. Realiza também a comunicação necessária via rádio com o console 

central. 

O projeto eletrônico poderia ter sido concebido de diversas formas, no entanto, 

durante seu desenvolvimento os principais itens a seguir passaram a compor a 

arquitetura do sistema: 

Tabela 3.1 - Itens do projeto eletrônico 

Item do projeto eletrônico Justificativa para compor a arquitetura 

Módulos de controle de motores 

localizados 

Descentraliza o processamento embarcado, pois há 

um microcontrolador para comandar cada motor de 

propulsor 

Rede de comunicação embarcada 

Padrão RS485. Garante a comunicação entre os 

microcontroladores de todos os módulos do modelo 

minimizando a interferência de ruídos 

eletromagnéticos externos 

Módulo embarcado central 

Processa a comunicação com o console central em 

terra e com todos os demais módulos embarcados 

gerenciando possíveis falhas do sistema como 

falhas em propulsores e falta de comunicação 

externa 

Um conceito implícito e bastante importante que foi considerado no projeto foi 

elaborar uma arquitetura com pouca emissão de ruídos eletromagnéticos e 

bastante imunidade a este tipo de interferência. Este conceito é muito importante 



39 

para garantir o bom funcionamento do aparato eletrônico em qualquer ambiente 

sem que sofra interferências ou interfira em outros equipamentos. 

Como resultado, a arquitetura do sistema embarcado ficou bastante simples, 

porém eficiente e robusta já que conta com um sistema de comunicação entre 

módulos via rede RS485 e com itens de segurança como desligamento de 

motores caso haja falta de comunicação com o console em terra. 

A Figura 3.3 mostra os módulos que compõem a arquitetura embarcada. 

 

Figura 3.3 - Arquitetura embarcada 
 

3.1.1. Comunicação embarcada 

A configuração de rede padrão RS485 é utilizada. Este tipo de comunicação é 

largamente utilizado no meio industrial por garantir robustez na comunicação entre 

dois ou mais pontos por distâncias que podem chegar a centenas de metros. Esta 

robustez se dá pela comunicação por um par de fios em modo diferencial, ou seja, 

os demais pontos que estão recebendo os dados de um transmissor, conseguem 

lê-los via diferença de tensão entre esses dois fios da rede. Se uma perturbação 

externa atinge a rede e as tensões desses fios é afetada, os ruídos aparecem 



40 

igualmente nesses fios e os receptores continuam lendo os dados enviados pois 

sempre o fazem pela diferença entre os fios fazendo com que a perturbação não 

seja sentida. 

Outro fator importante na escolha dessa rede de comunicação é o fato de que, se 

somente um módulo fosse usado para acionar os diversos motores do modelo, 

alguns fios com aproximadamente 2m de comprimento seriam usados nas 

interconexões criando assim um sistema com forte emissão de ruído eletro-

magnético no ambiente em que está. A explicação para isso são as correntes 

relativamente altas e sujeitas à freqüências resultantes do controle de velocidade 

dos motores resultando em antenas emissoras de ruídos podendo, com isso, 

interferir negativamente em outros equipamentos próximos aos locais de ensaios. 

3.1.2. Módulos de rádio  

São responsáveis por realizar a comunicação via rádio entre o console central em 

terra e o sistema embarcado no modelo. Foram desenvolvidos no sentido de 

conseguir comunicação confiável, transparente e que permita ensaios com 

distâncias de até 400m em visada direta. A Figura 3.4 mostra um módulo de rádio 

fechado e outro aberto para visualização da eletrônica interna. 

 

Figura 3.4 - Módulos de comunicação sem fio 

Os módulos de rádio têm as seguintes características: etapa conversora de níveis 

e módulo transceptor de rádio. A etapa conversora realiza a conversão entre os 

níveis de tensão de uma rede RS232 (utilizada para interfacear com o módulo 

central) e os níveis de tensão TTL, que são lidos e enviados pelo módulo 



41 

transceptor. Este módulo transceptor é um produto da empresa Radiotronix [18] 

(Figura 3.5) e agrega diversas funções importantes para o bom funcionamento do 

link de rádio. Tais funções se resumem em: 

 

Figura 3.5 - Módulo transceptor Radiotronix 

• Espalhamento espectral: evita a interferência de outros equipamentos 

operando na mesma faixa de freqüências; 

• CRC: cada pacote de dados enviado recebe ao seu final mais um bloco 

contendo um resultado matemático que é verificado no módulo receptor. 

Esta verificação, quando o resultado é válido, garante que o pacote de 

dados foi entregue corretamente sem perda ou alteração de informação; 

• Canais de operação: os módulos transceptores podem ser configurados em 

até 32 canais diferentes. Este recurso é importante se outros sistemas 

estiverem operando nas proximidades. 

3.1.3. Módulos de motor DC e de passo 

Esses módulos foram desenvolvidos de forma a poder controlar tanto motores de 

corrente contínua quanto motores de passo (Figura 3.6). Eles são formados por 

duas pontes H que podem ser configuradas da seguinte forma: 

• Uma ponte H: controla um motor de corrente contínua com controle de 

velocidade via variação da largura do pulso (PWM) aplicado no motor. 

• Duas pontes H: controla um motor de passo independentemente do seu 

tipo: unipolar ou bipolar. 



42 

 

Figura 3.6 - Módulo acionador de motores (DC e passo) 
 

3.1.4. Módulo central 

Este módulo é responsável por gerenciar todas as tarefas da eletrônica 

embarcada. A Figura 3.7 mostra sua arquitetura interna. 

 

Figura 3.7 - Diagrama de blocos interno do módulo central 



43 

Um microcontrolador principal executa toda a comunicação via interface sem fio 

com o console em terra como a forma de acionamento de todos os atuadores e 

envio de status. É responsável também pela coleta e gravação de dados em 

memória não volátil (EEPROM), leitura de eventuais entradas digitais e de 

sensores com saída analógica que por ventura venham a ser instalados no 

modelo. 

Outro microcontrolador, secundário, é responsável exclusivamente por gerenciar a 

comunicação do módulo central com todos os módulos de acionamento dos 

atuadores. Faz a varredura de todos esses módulos e detecta falhas ou paradas 

de comunicação. A dedicação exclusiva desse microcontrolador é importante por 

não executar outras funções embarcadas e garantir o correto funcionamento dos 

demais módulos a ele conectados. 

Uma fonte chaveada distribui alimentação para os componentes do módulo central 

e também para a interface de rádio e os módulos de controle de atuadores. A 

isolação de caminhos de corrente elétrica no sistema como um todo é importante 

para evitar ao máximo problemas com ruídos e quedas de tensão nos 

barramentos sensíveis, ou seja, barramentos que alimentam outros 

microcontroladores, sensores, memórias etc. A Figura 3.8 mostra como essa 

separação foi feita. 



44 

 

Figura 3.8 - Esquema de alimentações no módulo de acionamento de motores 

Nota-se que as alimentações de potência e de eletrônica sensível vêm por 

caminhos diferentes e que a junção dos terras (referências de tensão) dos dois 

blocos é feita somente num ponto, próximo ao conector de potência. Isso evita, 

por exemplo, que ruídos provocados pela modulação em largura de pulso (PWM) 

do controle de velocidade dos motores interfira no funcionamento do 

microcontrolador presente nesta placa. 

 

3.2. Sistema de aquisição da posição do modelo no tanque de 
provas 

Este sistema de aquisição consiste numa câmera de vídeo instalada no eixo 

longitudinal sobre o tanque (como na Figura 3.2 acima) cujo campo de visão 

abrange 5m x 5m do tanque de provas o que representa uma área suficiente para 

os ensaios de posicionamento dinâmico já que o controle de posição é feito em 

torno de um ponto fixo não necessitando de grandes áreas disponíveis; e serve 

também para ensaios de acompanhamento de trajetória para curtas distâncias do 

tanque. Este sistema de aquisição fora desenvolvido em [7] e teve continuidade e 

alguns aperfeiçoamentos em [8] e [9].  



45 

As imagens da câmera analógica colorida (KODO KC-512NTX) são enviadas com 

resolução de 330 linhas para uma placa de aquisição de vídeo instalada no 

console em terra. Uma biblioteca de aquisição de imagens realiza a captura 

quadro a quadro dos sinais gerados e disponibiliza, a cada quadro amostrado, 

uma matriz contendo a cor RGB (componentes Red, Green e Blue de uma 

determinada cor) de cada ponto (pixel) do quadro adquirido. 

Para a localização da embarcação no tanque, vários algoritmos de processamento 

de imagem poderiam ser desenvolvidos para este fim, no entanto, optou-se por 

utilizar um algoritmo simples, porém eficiente e que não tomasse demasiado 

processamento do console central, a saber: 

Na embarcação em estudo são instalados dois LEDs (Light Emiter Diode – diodos 

emissores de luz) de cores distintas como vermelho e azul sendo um na proa e 

outro na popa. Quando um quadro da câmera é adquirido e a matriz de cor de 

cada ponto da imagem capturada, o algoritmo faz o rastreamento da figura em 

busca dos dois pontos coloridos e distintos. Ao encontrá-los (e não ocupam 

somente um ponto da imagem) o algoritmo localiza o centro desse ponto luminoso 

(Figura 3.9) e guarda seu valor. Como as cores são distintas e pré-determinadas, 

é possível saber qual deles é a popa e qual é a proa. 

 

Figura 3.9 – Imagem da tela mostrando a localização dos pontos luminosos no modelo 

Na amostragem seguinte, o algoritmo realiza a varredura apenas ao redor do 

ponto localizado na amostra anterior (Figura 3.10) e localiza com isso sua atual 

posição na amostra. Essa pequena varredura em torno do ponto anterior é 



46 

possível dado que a dinâmica da embarcação é lenta e o ponto não apresenta 

deslocamento considerável entre amostras. 

 

Figura 3.10 - Varredura do algoritmo de localização 

Na câmera utilizada foi instalada uma lente 2,5 mm cujo campo de visão obtido é 

relativamente grande (como dito anteriormente de 5 m X 5 m), no entanto, os 

quadros adquiridos apresentam uma distorção conhecida como tipo “barril” (Figura 

3.11) e necessita que seja corrigida para a correta leitura da posição do modelo no 

tanque de provas. 

 

Figura 3.11 - Evidências da distorção conhecida como “barril” provocada pela lente da câmera. 

As imagens adquiridas passam então por um algoritmo de correção da distorção 

provocada pela lente e são entregues continuamente para o algoritmo de 

posicionamento. 

O método de correção radial proposto por Gibbon [15] reconstrói a imagem via 

correção ponto a ponto da mesma através do raio entre o ponto que corresponde 

ao centro da câmera e o ponto a ser corrigido. A equação é dada por: 

)1( 2didiui krrr +=          3.1 



47 

onde rui é a distância corrigida (em pixels) entre o ponto central da imagem até o 

ponto em questão e rdi é a distância distorcida (em pixels) lida imediatamente após 

a aquisição imagem. A constante k deve ser determinada via prévia calibração que 

consiste em: 

• Posicionar a câmera sobre o tanque de dimensões conhecidas; 

• Medir a distância rui entre o centro da imagem e um ponto (na linha 

horizontal) interior aos limites do tanque.  

• Calcular qual deveria ser o valor correto de rdi através de 
t

rh
di m

ms
r

2
Re

= , 

onde Resh é a resolução (em pixels) de uma linha da câmera; mr é a 

medida real em metros do centro da imagem até o ponto escolhido e mt é a 

metade da largura do tanque (em metros). 

• Feito isso, basta encontrar k a partir dos resultados anteriores e da equação 

3.1. 

A imagem adquirida apresenta um erro entre a posição real da embarcação e a 

posição interpretada através dos finitos pontos da imagem. É imediato notar que a 

correção da distorção tipo “barril” leva a erros de valores diferentes ao longo do 

raio do quadro, já que os pontos precisam ser esticados ou encolhidos para a 

reconstrução do quadro correto. Nos ensaios realizados, o erro de medição no 

centro da imagem foi de 0,5 cm enquanto que nas bordas da imagem o erro obtido 

foi de aproximadamente 2,1 cm. Num primeiro momento este aumento no erro 

parece ser bastante prejudicial para o sistema de localização, no entanto, não há 

degradação da operação de posicionamento dinâmico. 

 



48 

3.3.  Console central 

É responsável por executar os algoritmos necessários para a localização e 

controle da posição da embarcação. Realiza também o algoritmo de alocação de 

empuxos e a transmissão via rádio para o modelo no tanque de provas. 

Os algoritmos de localização e controle da embarcação são implementados em 

dois programas: o de localização via visão artificial em Visual Basic, e o de 

filtragem e controle em Simulink / Matlab. 

 

Figura 3.12 – Fluxograma dos dados em Visual Basic 

A Figura 3.12 mostra um fluxograma dos dados dentro do programa feito em 

Visual Basic. A imagem adquirida pela câmera é enviada para o programa via uma 

biblioteca multimídia. Esta imagem passa pelo algoritmo de correção da mesma e 

detecção dos pontos relativos à proa e à popa dos quais é possível inferir qual o 



49 

centro de massa da embarcação e seu respectivo aproamento. Estas posições, 

juntamente com as referências definidas pelo usuário na tela do programa são 

colocadas num arquivo texto que será lido pelo Simulink a fim de executar as 

operações de filtragem e controle. A Figura 3.13 mostra a tela principal do 

programa em Visual Basic. 

 

Figura 3.13 - Tela principal do programa em Visual Basic. 

Ainda na tela principal o usuário pode alterar as referências a qualquer momento 

do ensaio (botão “Set Point”) bem como definir a posição atual da embarcação 

como sendo a referência (botão “SP pos. atual”). 

A Figura 3.14 mostra um fluxograma dos dados no ambiente do Simulink / Matlab. 

Os dados de posição do centro de gravidade e aproamento da embarcação são 

lidos via arquivo texto e passados para o módulo do Filtro de Kalman.  



50 

 

Figura 3.14 - Fluxograma das funções em Matlab / Simulink 

Neste módulo o algoritmo de filtragem é executado, as variáveis de estado 

estimadas e passadas para o módulo de controle, onde o algoritmo de controle PD 

é executado. Como resultado, obtém-se os empuxos necessários para corrigir a 

posição e aproamento da embarcação, no entanto, esses empuxos precisam ser 

alocados para cada propulsor da embarcação. Para tanto, o módulo de alocação 

de empuxos aplica o algoritmo de alocação e converte o empuxo em rotação, já 

que esta é a grandeza enviada para cada propulsor e que pode ser garantida via 

controle de rotação localizado (vide capítulo 4.1 do ensaio dos motores dos 

propulsores). As figuras a seguir (3.15, 3.16, 3.17, 3.18 e 3.19) mostram, em 

diagramas de blocos, maiores detalhes da implementação em Simulink. 



51 

 

Figura 3.15 - Estrutura  do sistema com filtro de Kalman e bloco de controle. 

A Figura 3.15 acima mostra a estrutura do sistema de filtragem / controle. No 

bloco de leitura a posição é enviada para o filtro de Kalman juntamente com as 

forças obtidas do módulo controlador. Neste módulo entram a referência e o vetor 

de estados estimado no filtro de Kalman para a execução do controle PD. 

 

Figura 3.16 - Módulo de leitura da referência e posição real do modelo. 

A Figura 3.16 acima mostra o módulo de leitura. São lidas a referência e a posição 

vindas do programa de visão artificial em Visual Basic. 

A Figura 3.17 mostra o bloco contendo o controlador mais à esquerda e a 

alocação de empuxos mais à direita. Os empuxos entram no bloco de alocação de 

empuxos em Newton e saem em RPM (rotações por minuto). 



52 

 

Figura 3.17 - Bloco de controle e alocação de empuxos. 

A Figura 3.18 mostra o bloco de escrita. A força e os empuxos obtidos do 

controlador são enviados para o programa de visão artificial em Visual Basic para 

que finalmente possam ser enviados para a embarcação via comunicação sem fio. 

 

Figura 3.18 - Bloco de escrita das rotações dos motores para o Visual Basic. 

A Figura 3.19 ilustra o bloco do filtro de Kalman implementado no console central 

em terra. Nota-se que há funções separadas para a realização da predição e da 

correção do filtro. 



53 

 

Figura 3.19 - Bloco do filtro de Kalman implementado. 

 

3.4. Modelo em escala 

O modelo em escala preparado para os ensaios de SPD representa um petroleiro 

da classe Suezmas típico em escala de 1:125. 

As dimensões do navio típico e do modelo em escala estão na Tabela 3.2.  

Tabela 3.2 - Dimensões do navio típico e do modelo em estudo 

Dimensões principais Navio típico Modelo (escala 1:125) 

Comprimento total (Loa) 272,75 m 2182 mm 

Comprimento entre perp. (Lpp) 258,00 m 2064 mm 

Boca 46,00 m 368 mm 

Pontal 24,40 m 195 mm 

Calado de projeto 16,20 m 130 mm 

Calado de escantilhão 17,50 m 140 mm 

Calado lastreado 8,13 m 65 mm 

Deslocamento carregado 175181 ton 89,7 Kg 

Deslocamento lastreado 54194 ton 27,7 Kg 

 



54 

3.4.1. Aparato mecânico 

Foi construído pelo Departamento de Engenharia Naval e Oceânico da USP e se 

resume nas partes mecânicas, atuadores como leme, motor principal e túnel bem 

como a superestrutura do mesmo. A Figura 3.20 ilustra o casco do modelo 

construído. 

 

Figura 3.20 - Algumas vistas do casco do modelo 
 

Ainda na Figura 3.20 observam-se os propulsores que serão instalados no 

modelo, e na Tabela 3.3 as suas posições são então determinadas em função da 

escala utilizada. 

 
Tabela 3.3 - Posições dos motores no modelo. 

Localização Diâmetro Empuxo 
Propulsor Navio 

(m) 
Modelo 
(mm) 

Navio 
(m) 

Modelo 
(mm) 

Navio 
(tonf) 

Modelo 
(gf) 

Túnel de popa 14,98 120 2,75 22 18,5/-18,5 9,5/-9,5 
Túnel de proa 258,27 2066 3,16 25 25/-25 12,8/-12,8 

Principal 4,80 38 8,15 65 123/-55 63,0/-28,2 



55 

 
3.4.2. Propulsores (motores elétricos) 

Os propulsores selecionados para ser utilizados no modelo são micromotores da 

marca Faulhaber os quais possuem um encoder acoplado ao eixo para a medida 

da sua rotação. Os que serão utilizados na configuração em túnel foram montados 

numa estrutura mecânica mostrada na Figura 3.21 que consiste no motor 

Faulhaber com encoder, um sistema de transmissão da rotação via correia e uma 

hélice instalada num tubo de alumínio.  

 
Figura 3.21 - Desenho mecânico de um propulsor em túnel [4] 

A Figura 3.22 mostra o conjunto montado e os locais de instalação na proa e na 

popa do modelo. 



56 

 
Figura 3.22 - Conjunto do propulsor em túnel montado 

 

O modelo finalizado até então permitirá a realização de ensaios de 

posicionamento dinâmico com dois motores configurados em túnel e um motor 

principal. O objetivo final da sua construção é a instalação de um motor azimutal, 

mas que não será objeto de ensaio deste trabalho. 



57 

4. Ensaios 

Neste capítulo será mostrado um ensaio realizado com o sistema de propulsão 

com a finalidade de implementar e testar o controle localizado para cada motor e 

também os resultados de ensaios de empuxo X rotação que foram feitos para o 

levantamento das características de cada propulsor. Serão mostrados também os 

ensaios com o sistema completo com o intuito de comprovar o funcionamento de 

todo o conjunto, principalmente da eletrônica embarcada projetada. A 

comprovação do correto funcionamento da eletrônica está associada com as 

respostas e o desempenho do modelo em operação no tanque de provas, ou seja, 

se os ensaios apresentarem bons resultados e coerência no comportamento, 

pode-se concluir que a eletrônica desenvolvida funcionou como projetado 

atendendo aos comandos do console central em terra. 

 
4.1. Motores dos propulsores 

O conjunto de atuadores projetados para funcionar num sistema de 

posicionamento dinâmico é geralmente diferente dos sistemas de propulsão 

comumente usados em embarcações sem este tipo de sistema. Eles devem 

possuir características, por exemplo, de rápida resposta aos comandos do 

computador central para garantir que o sistema consiga colocar os propulsores 

num estado desejado sem atrasos e, por conseguinte, sem instabilidades na 

malha de controle. 

Outra característica desses atuadores (de embarcações reais ou dos utilizados no 

modelo em questão) é a presença local de um sistema de controle a fim de 

garantir o correto funcionamento desses atuadores. Se o computador central exige 

rotação de 100 RPM num motor, este deve responder rapidamente com a rotação 

desejada; e isso só é garantido com a presença de controle local. A Figura 4.1 

ilustra esta arquitetura. 



58 

 

Figura 4.1 - Arquitetura de cada propulsor de um SPD (real ou experimental)  
 

O sistema de controle, mostrado na figura acima, recebe qual a referência de 

rotação e lê a rotação real do motor. Através de um controle, por exemplo PI, 

ajusta a rotação para a desejada. 

O sistema eletrônico que fará o acionamento dos atuadores do modelo também 

contará com um controle localizado para cada atuador (Figura 4.2). Para os 

motores de corrente contínua fora previsto um controlador PI, cujo projeto baseou-

se no modelo teórico de primeira ordem deste tipo de motor. 

 

Figura 4.2 - Controles superior e inferior (localizado) 

Um motor de corrente contínua pode ser aproximado pelo seguinte modelo linear 

[16]: 



59 

msT
K

sG
+

=
1

)( ,          4.1 

onde K é um ganho relacionando a entrada (tensão) e a saída (rotação) do motor 

em regime permanente e Tm é a constante de tempo do motor. 

O controlador PI pode ser representado por: 

??
?

?
??
?

? +
=??

?

?
??
?

?
+=

I

I
PI

I
PI sT

sT
K

sT
KsH

11
1)( ;      4.2 

O sistema de controle da rotação com a realimentação é mostrado no diagrama de 

blocos da Figura 4.3: 

 

Figura 4.3 - Diagrama de malha fechada para o controle de motor DC 

Os valores do controlador PI foram obtidos de forma a cancelar o pólo do modelo 

4.1, ou seja, considerando Im TT = , e o ganho ajustado a partir de ensaios de 

resposta ao degrau do motor. 

Os cálculos necessários para o controle PI serão realizados por um 

microcontrolador (sistema digital) que necessita, portanto, de equações de 

diferenças para que o sistema possa funcionar. Dessa forma, o controlador PI no 

domínio “s” precisa ser convertido para o domínio discreto “z” considerando-se um 

período de amostragem adequado. 

Uma transformação bastante conhecida é a de Tustin [17] e é dada por: 

)1(
)1(2

+
?

=
z
z

T
s ,           4.3 



60 

onde T é o período de amostragem. 

A função de transferência do controlador pode então ser transformada em: 

??
?

?
??
?

?
?
+

+==
)1(2
)1(1

1
)(
)(

)(
z
zT

T
K

zE
zC

zH
I

PI .       4.4 

Resolvendo esta equação, obtém-se: 

)()]1()1(2[)(2)(2 111 zEzTKzTKzzCTzCT PIIPIII
??? ++?=?     4.5 

A notação 1?z  representa um atraso no tempo de uma amostra. Assim, a equação 

de diferenças que o microcontrolador irá executar fica: 

112
2

2
2

?? +??
?

?
??
?

? ?
+??

?

?
??
?

? +
= kk

I

IPIPI
k

I

PIIPI
k ceT

TKTK
e

T
TKTK

c     4.6 

A Figura 4.4 mostra um ensaio do controle de rotação real onde a curva azul 

marinho é a referência (700 pulsos do encoder) e a curva rosa é a rotação 

adquirida através dos protótipos montados. Nota-se que o controlador busca 

rapidamente a referência e mantém a rotação bastante próxima do valor desejado 

em regime permanente. Verifica-se, portanto, que o controle PI projetado atende 

às necessidades do projeto. 



61 

Controle de rotação de um motor DC

0

100

200

300

400

500

600

700

800

0
0,3

15
0,6

3
0,9

45
1,2

6
1,5

75
1,8

9
2,2

05
2,5

2
2,8

35
3,1

5
3,4

65
3,7

8
4,0

95
4,4

1
4,7

25
5,0

4
5,3

55
5,6

7
5,9

85 6,3

Tempo (s)

R
ot

aç
ão

 (p
ul

so
s 

do
 e

nc
od

er
)

 
Figura 4.4 - Ensaio de implementação do controlador de rotação de um motor DC 

 
 

4.2. Ensaios de empuxos 
 

Uma importante etapa do processo de ajuste dos parâmetros do controlador é a 

consideração, na alocação de empuxos, dos parâmetros de empuxo de cada 

propulsor instalado. Para isso, foram realizados no laboratório do Departamento 

de Engenharia Naval e Oceânica ensaios para a correta determinação da relação 

empuxo X rotação para cada propulsor. 

Com base nesses ensaios os parâmetros da Tabela 4.1 foram obtidos e 

introduzidos na etapa de alocação de empuxos do modelo. 

 

 



62 

Tabela 4.1 - Resultados dos ensaios com propulsores. Variável u é o empuxo em gf. 

 Movimento preferencial Movimento contrário 

Propulsor principal 

(RPM) 
11505

60
u

 
17257

60
u

 

Prop. túnel proa 

(RPM) 
147764

60
u

 
183707

60
u

 

Prop. túnel popa 

(RPM) 
147764

60
u

 
183707

60
u

 

A variável u é o empuxo em gf e a constante de valor 60 é a conversão da rotação 

para RPM. 

A Figura 4.5 abaixo destaca o diagrama do bloco de alocação de empuxos. A 

força global do controlador é devidamente alocada para cada propulsor através 

das funções de alocação resultantes da resolução da equação (equação 2.22 da 

seção 2.4): 

?
?
?

?

?

?
?
?

?

?

?
?
?

?

?

?
?
?

?

?
?=

?
?
?

?

?

?
?
?

?

?

z

y

x

F
F
F

F
F
F

15,00
15,00

001

3

2

1

        4.7 

 onde Fx, Fy são respectivamente as forças de surge e sway e Fz é igual ao 

momento de yaw. F1 é a força do propulsor principal, F2 e F3 dos propulsores 

configurados em túnel. 



63 

 

Figura 4.5 - Bloco de alocação de empuxos com destaque para os movimentos do propulsor principal  
 

4.3. Ensaios com o modelo 
 

Neste trabalho alguns ensaios foram realizados com a finalidade de testar o 

sistema desenvolvido e implementado e comprovar o correto funcionamento de 

toda a eletrônica embarcada. Para isso, diversas situações são propostas: 

• Modelo vazio, águas paradas e posicionamento fixo. O objetivo é 

comprovar que o modelo é capaz de manter a posição desejada sem 

mudança de referência. 

• Modelo vazio, águas paradas e posições variáveis. O objetivo é comprovar 

que o modelo atende às mudanças de referência corretamente. 

• Modelo lastreado, águas paradas e posicionamento fixo. O objetivo é 

comprovar que o modelo, com lastro máximo e massa e momento de 



64 

inércia diferentes é capaz de manter a posição desejada sem mudança de 

referência. 

• Modelo lastreado, águas paradas e posições variáveis. O objetivo é 

comprovar que o modelo, com lastro máximo e massa e momento de 

inércia diferentes é capaz de atender às mudanças de referência 

corretamente. 

• Modelo lastreado, vento incidente. O objetivo é comprovar que o modelo, 

com lastro máximo e massa e momento de inércia diferentes é capaz de 

manter a posição desejada em alguns valores de referência mesmo com a 

incidência de vento. 

• Modelo lastreado, onda incidente. O objetivo é comprovar que o modelo, 
com lastro máximo e massa e momento de inércia diferentes é capaz de 

manter a posição desejada em alguns valores de referência mesmo com a 

incidência de onda. 

 

4.3.1. Estabilização do Filtro de Kalman 

No início de cada operação de posicionamento dinâmico deve-se aguardar a 

convergência dos valores do filtro de Kalman para só então iniciar a operação de 

controle (Figura 4.6). Neste período inicial a estimativa de estados varia 

bruscamente por alguns segundos até que finalmente convirja. 

 

Figura 4.6 - Inicialização do posicionamento dinâmico 

A Figura 4.7 ilustra um momento de estabilização do filtro de Kalman na 

inicialização da operação de posicionamento dinâmico. Nota-se que a estimativa 

da posição X da embarcação leva aproximadamente 9 segundos para estabilizar. 



65 

0 5 10 15 20
-1

0

1

2

3

4

5

6

Tempo (s)

P
os

iç
ão

 X
 (

m
)

X real

X ref

X Kalman

 

Figura 4.7 - Estabilização do filtro de Kalman 
 

4.3.2. Ensaios com modelo vazio 

Os primeiros ensaios foram realizados com o modelo com o mínimo de lastro para 

que fosse possível submergir todos os propulsores e permitir a correta atuação 

dos mesmos. 

As variáveis envolvidas na inicialização dos parâmetros de acordo com as 

características do ensaio em questão são dadas abaixo. 

Para o ensaio em vazio, os parâmetros de interesse são: 

Massa do modelo (m): 35 Kg 

Momento de inércia (I) em relação ao centro de massa: 6,52 Kg.m2 

Comprimento do modelo (L): 2,054 m 

Para as matrizes a seguir, foi utilizado um fator nos cálculos dos valores baseado 

na escala do modelo para a embarcação real. Este fator tem valor: L/282. 

Os dados utilizados para o modelo são: 



66 

Matriz de massas incluindo massas adicionais: 

?
?
?

?

?

?
?
?

?

?
=

8041,1900
09226,670
009730,36

M  

Matriz de amortecimentos: 

?
?
?

?

?

?
?
?

?

?
=

0025,000
09610,90
001811,0

D  

Para o filtro de Kalman, os dados são: 

Matriz de covariância para os erros de medida do sistema de localização: 

?
?
?

?

?

?
?
?

?

?
= ?

1500,000
05305,00
005305,0

0,1 4ER  

Matriz de covariância para os erros de modelagem: 

?
?
?
?
?
?
?
?
?
?
?
?
?
?

?

?

?
?
?
?
?
?
?
?
?
?
?
?
?
?

?

?

=

0000000000
00013,000000000
000205,00000000
0000041,0000000
00000233,000000
000000025,00000
0000000025,0000
00000000528,000
000000000020,00
0000000002986,0

Q  

Dados para o controle: 

Ganhos da parte proporcional: 



67 

?
?
?

?

?

?
?
?

?

?
=

8560,3600
08489,20
000722,2

CG  

Ganhos da parte derivativa: 

?
?
?

?

?

?
?
?

?

?
=

2106,1500
09077,180
007461,13

DG  

 

4.3.2.1. Ensaio 1: águas paradas, posição fixa 

Neste ensaio o modelo foi posicionado parado no tanque e o sistema ligado de 

forma a mantê-lo na posição inicial. Nenhuma mudança de referência e nenhum 

distúrbio foram aplicados. 

A Figura 4.8 mostra as posições X, Y e o ângulo de aproamento ? do modelo em 

comparação com a referência. As estimativas realizadas pelo filtro de Kalman, 

após o período inicial de estabilização, apresentaram excelente comportamento 

em comparação com as medidas realizadas o que pode ser observado na mesma 

figura; a linha azul representa a medida real enquanto que a verde é a referência e 

a vermelha é a estimativa do filtro de Kalman.  



68 

100 105 110 115 120 125 130

3.55

3.6

3.65

3.7

3.75

Tempo (s)

X
 (

m
)

105 110 115 120 125

-3.25

-3.2

-3.15

Tempo (s)

Y
 (

m
)

105 110 115 120 125

4

6

8

10

12

Tempo (s)

P
hi

 (
º)

 

Figura 4.8 - Valores (X,Y, ?) medidos (azul), referência (verde) e estimados (vermelho) 

O posicionamento dinâmico apresentou boa acuracidadde e os erros ficaram 

muito baixos como pode ser observado na Figura 4.9. Os erros em X e Y ficaram 

menores que 2 cm, e menor que 1º para o movimento em Yaw. Estas mesmas 

grandezas puderam ser observadas nos demais ensaios de posicionamento. 

Pode-se afirmar que os erros ficaram baixos já que estão dentro da faixa de erro 

do sistema de aquisição da posição via visão artificial como mostrado 

anteriormente. O erro de localização da embarcação no tanque de provas está 

entre 0,5 cm e 2,1 cm e é de se esperar que os erros do sistema de 

posicionamento diminuam com a diminuição do erro de localização do modelo. 



69 

100 105 110 115 120 125

-0.05

0

0.05

Tempo (s)

E
rr

o 
X

 (
m

)

100 105 110 115 120 125

-0.05

0

0.05

Tempo (s)

E
rr

o 
Y

 (
m

)

105 110 115 120 125 130

-1

-0.5

0

0.5

1

1.5

Tempo (s)

E
rr

o 
P

hi
 (

º)

 

Figura 4.9 - Erros (X,Y, ?) obtidos num ensaio de posicionamento 

A Figura 4.10 mostra os esforços solicitados pelo controlador (após a alocação de 

empuxos). Apesar de em alguns momentos haver bastante oscilação em torno do 

valor zero, as amplitudes são baixas o que não causa bruscas alterações de 

sentido e rotação nos atuadores. Para minimizar ainda mais esse efeito de 

pequenas oscilações, foi implementado em cada controlador local de cada 

propulsor um filtro de forma a suavizar a resposta do atuador quando a 

embarcação se encontra na referência desejada (Figura 4.11). Pela figura nota-se 

que enquanto o controlador exige bruscas mudanças de rotação (derivadas 

elevadas), o atuador tende a suavizar a resposta (derivadas mais baixas). 



70 

50 60 70 80 90 100 110
-1000

-500

0

500

1000

Tempo (s)

P
ro

p.
 P

rin
c.

 (
R

P
M

)

50 60 70 80 90 100 110
-4000

-2000

0

2000

4000

Tempo (s)

P
ro

p.
 P

op
a 

(R
P

M
)

50 60 70 80 90 100 110
-4000

-2000

0

2000

4000

Tempo (s)

P
ro

p.
 P

ro
a 

(R
P

M
)

 

Figura 4.10 - Rotações nos propulsores após alocação de empuxos 

-40

-20

0

20

40

60

80

0

10
0

20
0

30
0

40
0

50
0

60
0

70
0

80
0

90
0

10
00

11
00

12
00

13
00

14
00

15
00

16
00

17
00

18
00

Tempo (ms)

R
ot

aç
ão

 (R
P

M
)

Rotação solicitada
Rotação filtrada

 

Figura 4.11 - Comparativo entre a solicitação de rotação do controlador e a curva fitrada. 
 



71 

4.3.2.2. Ensaio 2: águas paradas, posição variável 

Neste ensaio o modelo foi inicialmente posicionado parado no tanque e o sistema 

ligado de forma a mantê-lo na posição inicial. Ao longo do ensaio várias mudanças 

de referência foram impostas.  

A Figura 4.12 mostra as posições X, Y e ? do modelo em comparação com a 

referência. As estimativas realizadas pelo filtro de Kalman (linha vermelha), após o 

período inicial de estabilização, também apresentou excelente comportamento em 

comparação com as medidas realizadas pelo sistema de visão (linha azul). Nota-

se que a estimativa do filtro de Kalman é mais suave que as ruidosas medidas 

reais já que todo esse ruido sobre a medida real é descrita e de certa forma 

prevista no estimador.  

Os tempos de resposta e acomodação para cada mudança de referência são 

relativamente baixos e a oscilação em torno da posição final é amortecida (quase 

criticamente amortecida) como pode ser observado na Figura 4.13 que representa 

um trecho em detalhes do movimento em X. 

0 200 400 600 800 1000 1200

1

2

3

4

Tempo (s)

X
 (

m
)

0 200 400 600 800 1000 1200

-3.5

-3

-2.5

Tempo (s)

Y
 (

m
)

0 200 400 600 800 1000 1200

-20

-10

0

10

20

Tempo (s)

P
hi

 (
º)

 

Figura 4.12 - Valores (X,Y, ?) medidos (azul), referência (verde) e estimados (vermelho) 



72 

620 640 660 680 700 720
1.8

1.9

2

2.1

2.2

2.3

2.4

2.5

Tempo (s)

P
os

iç
ão

 X
 (

m
)

X real

X ref

X Kalman

 

Figura 4.13 - Trecho em detalhe do movimento em X. A oscilação observada é amortecida 

A Figura 4.14 mostra os empuxos resultantes do controlador antes de passar pela 

alocação de empuxos do sistema, isto é, empuxos dados em X, Y e momento em 

Yaw. Nota-se que em cada alteração de referência ocorre a solicitação pertinente 

a cada movimento. 

0 200 400 600 800 1000 1200

-4

-2

0

2

4

Tempo (s)

E
m

pu
xo

 e
m

 X
 (

N
)

0 200 400 600 800 1000 1200

-2

-1

0

1

2

3

Tempo (s)

E
m

pu
xo

 e
m

 Y
 (

N
)

0 200 400 600 800 1000 1200
-1

-0.5

0

0.5

1

1.5

Tempo (s)

E
m

pu
xo

 e
m

 Y
aw

 (
N

)

 

Figura 4.14 - Empuxos resultantes em X, Y e Yaw 



73 

A Figura 4.15 mostra a rotação exigida em cada propulsor, após a aplicação da 

lógica de alocação de empuxos. Mesmo com a presença de uma forte oscilação 

em torno do valor zero, os picos de rotação em cada movimento, os quais são 

valores importantes para o controle da embarcação, podem ser observados na 

figura e, como anteriormente mencionado, há um tratamento das mudanças 

bruscas de rotação diminuindo assim esta oscilação em torno do zero. 

Neste sistema, a rotação aplicada em cada propulsor deve ser exata como 

calculado após o algoritmo de alocação de empuxos (Figura 4.15) para que se 

possa garantir a resposta final esperada em cada atuador. Como cada propulsor 

possui uma eletrônica dedicada com a capacidade de garantir tais rotações, a 

dinâmica do sistema controlado passa a apresentar bons resultados. 

0 200 400 600 800 1000 1200
-1000

-500

0

500

1000

P
ro

p.
 P

rin
c.

 (
R

P
M

)

Tempo (s)

0 200 400 600 800 1000 1200
-4000

-2000

0

2000

4000

P
ro

p.
 P

op
a 

(R
P

M
)

Tempo (s)

0 200 400 600 800 1000 1200
-4000

-2000

0

2000

4000

P
ro

p.
 P

ro
a 

(R
P

M
)

Tempo (s)

 

Figura 4.15 - Rotações nos propulsores após alocação de empuxos 

 

4.3.3. Ensaios com modelo cheio 

Os ensaios a seguir foram realizados com o modelo cheio. Para esses casos, os 

parâmetros utilizados no controle e no filtro de Kalman foram: 



74 

Massa do modelo (m): 80 Kg 

Momento de inércia (I) em relação ao centro de massa: 28,2 Kg.m2 

Os dados utilizados para o modelo são: 

Matriz de massas incluindo massas adicionais: 

?
?
?

?

?

?
?
?

?

?
=

4841,4100
09226,1120
009730,81

M  

Matriz de amortecimentos: 

?
?
?

?

?

?
?
?

?

?
=

0025,000
09610,90
001811,0

D  

Dados do filtro de Kalman: 

As matrizes de covariância para os erros de medida do sistema de localização e 

para os erros de modelagem não sofreram alterações. 

Dados para o controle: 

Os dados utilizados para o controle (ganhos proporcional e derivativo) não 

sofreram alterações. 

4.3.3.1. Ensaio 3: águas paradas, posição fixa 

Os ensaios com modelo lastreado sem distúrbios ambientais apresentaram 

resultados semelhantes aos ensaios com modelo vazio com estimativas do filtro 

de Kalman acompanhando muito bem as medidas reais do sistema de visão 

artificial e erros em X e Y da mesma ordem: 2 cm. Para o ângulo ?, o erro em 

geral ficou ligeiramente maior, 2º o que não deixa de ser um bom resultado. 

A Figura 4.16 mostra um ensaio somente de posição fixa. 



75 

950 960 970 980 990 1000 1010

2.96

2.98

3

3.02

3.04

Tempo (s)

X
 (

m
)

950 960 970 980 990 1000 1010

-2.72

-2.7

-2.68

-2.66

Tempo (s)

Y
 (

m
)

950 960 970 980 990 1000 1010
-5

0

5

Tempo (s)

P
hi

 (
º)

 

Figura 4.16 - Valores (X,Y, ?) medidos (azul), referência (verde) e estimados (vermelho) 
 

4.3.3.2. Ensaio 4: águas paradas, posição variável 

Neste ensaio, o modelo lastreado foi submetido a algumas mudanças de 

referência e apresentou comportamento também semelhante ao modelo vazio, 

com ligeiro aumento nas oscilações nos pontos próximos às acomodações de 

sinal (Figura 4.17). Esta diferença pode ser atribuída ao fato de que os ganhos do 

controlador não foram ajustados quando aplicados ao modelo cheio. 



76 

50 100 150 200 250 300 350 400 450

1

2

3

4

5

Tempo (s)

X
 (

m
)

50 100 150 200 250 300 350 400 450

-2

-1.5

-1

Tempo (s)

Y
 (

m
)

50 100 150 200 250 300 350 400 450
-100

-50

0

50

Tempo (s)

P
hi

 (
º)

 

Figura 4.17 - Valores (X,Y, ?) medidos (azul), referência (verde) e estimados (vermelho) 

A Figura 4.18 mostra as saídas do controlador para cada movimento. Notam-se as 

solicitações pelo controle em cada alteração de referência ou distúrbio aplicados. 

50 100 150 200 250 300 350 400 450

-2

0

2

4

Tempo (s)

E
m

pu
xo

 e
m

 X
 (

N
)

50 100 150 200 250 300 350 400 450
-5

0

5

Tempo (s)

E
m

pu
xo

 e
m

 Y
 (

N
)

50 100 150 200 250 300 350 400 450

-2

-1

0

1

Tempo (s)

E
m

pu
xo

 e
m

 Y
aw

 (
N

)

 

Figura 4.18 - Empuxos resultantes em X, Y e Yaw 



77 

A Figura 4.19 mostra as rotações em cada propulsor como resultado da alocação 

de empuxos. 

50 100 150 200 250 300 350 400 450
-1000

-500

0

500

1000

Tempo (s)

P
ro

p.
 P

rin
c.

 (
R

P
M

)

50 100 150 200 250 300 350 400 450
-4000

-2000

0

2000

4000

Tempo (s)

P
ro

p.
 P

op
a 

(R
P

M
)

50 100 150 200 250 300 350 400 450
-4000

-2000

0

2000

4000

Tempo (s)

P
ro

p.
 P

ro
a 

(R
P

M
)

 

Figura 4.19 - Rotações nos propulsores após alocação de empuxos 
 
 

4.3.3.3. Ensaio 5: incidência de vento 

O ensaio com incidência de vento foi conduzido de forma a manter uma posição 

fixa na maior parte do ensaio e aplicando um distúrbio ambiental sobre o casco do 

modelo. 

O ensaio representado na Figura 4.22 pode ser dividido em quatro momentos: 

1. De 100 s a 350 s: incidência de vento (a 45º) como mostrado na Figura 

4.20; 



78 

 

Figura 4.20 - Incidência de vento a 45º 

2. De 350 s a 500 s: desligamento do gerador de ventos na posição da Figura 

4.20; 

3. De 500 s a 800 s: nova incidência de vento (a 90º) como mostrado na 

Figura 4.21; 

 

Figura 4.21 - Incidência de vento a 90º 

4. De 800s a 1000 s: desligamento do gerador de ventos e mudança de 

referência em Y. 



79 

100 200 300 400 500 600 700 800 900

2

2.5

3

3.5

Tempo (s)

X
 (

m
)

100 200 300 400 500 600 700 800 900
-3.5

-3

-2.5

-2

-1.5

Tempo (s)

Y
 (

m
)

100 200 300 400 500 600 700 800 900
-60

-40

-20

0

20

40

Tempo (s)

P
hi

 (
º)

 

Figura 4.22 - Valores (X,Y, ?) medidos (azul), referência (verde) e estimados (vermelho) 

No primeiro caso o modelo apresentou um bom comportamento para as posições 

em X e Y mantendo a posição inicial com mínimo erro. No entanto, o ângulo ? 

apresentou um desvio de aproximadamente 17º em direção à fonte de 

perturbação (Figura 4.23) o que pode ser explicado pela imprecisão nos modelos 

de forças ambientais inseridos no sistema. Outro fator que explica esse desvio é a 

forma como o vento foi aplicado no modelo: em casos reais o vento ocorre em 

rajadas sobre uma embarcação, mas neste ensaio o mesmo foi aplicado de forma 

contínua. 

Apesar de não constar nesse ensaio, o gerador de vento foi deslocado para a 

posição oposta à inicial e o mesmo efeito ocorreu na outra direção. Novamente a 

posição X e Y não se distanciou da referência, mas o movimento de Yaw 

apresentou o mesmo desvio de aproximadamente 17º. 



80 

 

Figura 4.23 - Desvios em ? para os dois casos de incidência de vento 

No segundo caso o gerador de vento foi desligado e o modelo pôde voltar para a 

referência minimizando os erros em X, Y e ?. 

No terceiro caso o gerador de vento foi novamente ligado, no entanto, 

perpendicularmente ao modelo para comprovar o comportamento do primeiro 

caso. Como esperado, entre 500 s e 800 s, o modelo se distanciou da referência 

do movimento de Yaw também em aproximadamente 17º (Figura 4.23). 

No quarto caso o gerador foi desligado e uma mudança em Y foi imposta. O 

modelo pôde ser controlado, no entanto, apresentou uma maior oscilação na 

acomodação pelo fato da mudança de referência ter ocorrido quando o controle 

ainda estava corrigindo a posição angular. 

A Figura 4.24 mostra os empuxos resultantes do controlador. Nota-se que a maior 

parte do esforço se concentra no movimento de Yaw, no sentido de manter o 

desvio observado contra o fluxo de vento. O torque em Yaw, após a alocação de 

empuxos, se divide basicamente em esforços nos propulsores da proa e popa 

como mostra a Figura 4.25. 



81 

100 200 300 400 500 600 700 800 900
-1

-0.5

0

0.5

1

Tempo (s)

E
m

pu
xo

 e
m

 X
 (

N
)

100 200 300 400 500 600 700 800 900
-1

-0.5

0

0.5

1

Tempo (s)

E
m

pu
xo

 e
m

 Y
 (

N
)

100 200 300 400 500 600 700 800 900
-0.8

-0.6

-0.4

-0.2

0

0.2

0.4

Tempo (s)

E
m

pu
xo

 e
m

 Y
aw

 (
N

)

 

Figura 4.24 - Empuxos resultantes em X, Y e Yaw 

100 200 300 400 500 600 700 800 900
-1000

-500

0

500

1000

Tempo (s)

P
ro

p.
 P

rin
c.

 (
R

P
M

)

100 200 300 400 500 600 700 800 900
-2000

-1000

0

1000

2000

3000

Tempo (s)

P
ro

p.
 P

op
a 

(R
P

M
)

100 200 300 400 500 600 700 800 900

-2000

-1000

0

1000

Tempo (s)

P
ro

p.
 P

ro
a 

(R
P

M
)

 

Figura 4.25 - Rotações nos propulsores após alocação de empuxos 
 
 

4.3.3.4. Ensaio 7: incidência de onda 

Neste ensaio uma frente de ondas a 1 Hz foi aplicada como um segundo distúrbio 

ambiental sobre o modelo como mostrado na Figura 4.26. A seta azul indica o 



82 

sentido das mudanças de referência de forma a deixar a embarcação cada vez 

mais paralela às ondas incidentes.  

 

Figura 4.26 - Ensaio com ondas. Posição inicial do modelo e sentido do deslocamento da referência  

Para melhor entendimento, pode-se dividir os dados (Figura 4.27) em três 

momentos: 

1. De 1000 s a 1300 s: O modelo inicia o ensaio perpendicularmente às ondas 

e sofre alteração de referência em Yaw para -15º. 

2. De 1300 s a 1700 s: em 1300 s a intensidade das ondas é elevada e antes 

de 1600 s a referência em Yaw é alterada para -30º. 

3. De 1700 s a 1825 s: o gerador de ondas é desligado. 



83 

1100 1200 1300 1400 1500 1600 1700 1800
-1

0

1

2

3

4

Tempo (s)

X
 (

m
)

1100 1200 1300 1400 1500 1600 1700 1800
-4

-3

-2

-1

0

Tempo (s)

Y
 (

m
)

1100 1200 1300 1400 1500 1600 1700 1800
-60

-40

-20

0

20

40

Tempo (s)

P
hi

 (
º)

 

Figura 4.27 - Valores (X,Y, ?) medidos (azul), referência (verde) e estimados (vermelho) 

No primeiro caso o gerador de ondas é ligado perpendicularmente ao modelo, no 

entanto, nenhuma perturbação é sentida já que o movimento de Pitch não causou 

deslocamento na embarcação. Para aumentar a influência das ondas no 

movimento do modelo, a referência em Yaw foi alterada para -15º, mas o modelo 

pôde ser controlado muito bem apresentando somente um aumento no tempo de 

acomodação da posição angular. 

No segundo caso a freqüência da onda foi mantida em 1 Hz, porém sua amplitude 

foi aumentada. Em -15º o modelo pôde ser controlado muito bem mesmo com o 

aumento do movimento de Pitch e Roll e da variação das medidas no sistema de 

visão artificial. 

Após a alteração da referência para -30º a embarcação não pôde ser mantida 

neste valor entrando em deriva. Nota-se na Figura 4.29, da rotação nos 

propulsores, que os valores da proa e popa chegaram próximos da saturação de 

aproximadamente 1800 RPM não conseguindo, portanto, vencer os esforços da 

onda. Mesmo não mantendo a posição em Yaw, o modelo pôde ser mantido em X 

e Y com erro bastante baixo. 



84 

No terceiro momento o gerador de ondas é desligado para se observar o 

comportamento da embarcação. Como esperado, o modelo corrigiu a sua posição 

em Yaw para -30º 

A Figura 4.28 mostra os empuxos antes da alocação e a Figura 4.29 mostra a 

rotação em cada propulsor após passar pelo algoritmo de alocação. 

1100 1200 1300 1400 1500 1600 1700 1800
-1

-0.5

0

0.5

1

Tempo (s)

E
m

pu
xo

 e
m

 X
 (

N
)

1100 1200 1300 1400 1500 1600 1700 1800
-1

-0.5

0

0.5

1

Tempo (s)

E
m

pu
xo

 e
m

 Y
 (

N
)

1100 1200 1300 1400 1500 1600 1700 1800
-1

-0.5

0

0.5

Tempo (s)

E
m

pu
xo

 e
m

 Y
aw

 (
N

)

 

Figura 4.28 - Empuxos resultantes em X, Y e Yaw 



85 

1100 1200 1300 1400 1500 1600 1700 1800
-1000

-500

0

500

1000

Tempo (s)

P
ro

p.
 P

rin
c.

 (
R

P
M

)

1100 1200 1300 1400 1500 1600 1700 1800
-2000

-1000

0

1000

2000

3000

Tempo (s)

P
ro

p.
 P

op
a 

(R
P

M
)

1100 1200 1300 1400 1500 1600 1700 1800
-3000

-2000

-1000

0

1000

2000

Tempo (s)

P
ro

p.
 P

ro
a 

(R
P

M
)

 

Figura 4.29 - Rotações nos propulsores após alocação de empuxos 
 



86 

5. Conclusões e sugestões 

O principal objetivo deste trabalho foi o desenvolvimento de um aparato eletrônico 

para permitir a realização de ensaios experimentais de veículos oceânicos com 

sistema de posicionamento dinâmico em tanque de provas. 

O projeto foi totalmente idealizado no Departamento de Engenharia Naval e 

Oceânica da USP e pode-se afirmar que foi desenvolvida uma tecnologia 

brasileira para a construção da eletrônica embarcada para ensaios com sistema 

de posicionamento dinâmico em tanque de provas. Essa tecnologia pode ser 

entendida como sendo desde o conceito do projeto e utilização dos componentes 

eletrônicos bem como a implementação dos algoritmos computacionais utilizados 

nos módulos microprocessados. 

A precisão nos ensaios pôde ser verificada através dos excelentes resultados 

obtidos com relação ao desempenho do modelo, os quais só puderam ser 

alcançados através do correto controle localizado de cada propulsor sob os 

comandos do controlador superior, ou seja, cada controle localizado foi 

responsável por garantir em seu propulsor a rotação obtida na alocação de 

empuxos. 

Por ser complexo, um projeto de SPD precisa ser amplamente estudado, simulado 

e ensaiado em laboratório antes de ser implementado numa embarcação real 

reduzindo com isso o tempo de concepção e custos de implementação e ajustes. 

Este trabalho finalizou a etapa de preparação do aparato eletrônico embarcado 

necessário para garantir o funcionamento do modelo de acordo com os comandos 

do controlador superior e, como sugestão, os seguintes tópicos poderiam ser 

explorados na prática a partir deste trabalho: 

• Ensaios em tanque de provas para estudo de novas abordagens de teoria 

de controle para sistemas de posicionamento dinâmico; 

• Estudos práticos de novas técnicas de alocação de empuxos; 



87 

• Elaboração de sistemas de localização da embarcação em ambientes não 

estruturados. Neste trabalho o ambiente precisa ser estruturado, ou seja, 

um conjunto de equipamentos devem ser previamente instalado nas 

proximidades do tanque para que o sistema funcione, no entanto, um 

sistema que independa desse prévio preparo poderá ser investigado; 

• Aprimoramento da eletrônica embarcada como a utilização de 

microcontroladores dotados de mais recursos periféricos ou implementação 

de novas topologias de acionamento de potência para os motores dos 

propulsores; 

• Estudo de sistemas de sensoriamento embarcado para medida da 

influência de agentes ambientais, como o vento, ou para localização do 

modelo no tanque de provas. 



88 

6. Referências Bibliográficas 
 
[1] – Tannuri, E. A., “Desenvolvimento de metodologia de projeto de sistema de 
posicionamento dinâmico aplicado a operações em alto mar”. Tese de doutorado, 
Escola Politécnica da USP, São Paulo, 2001. 
 
[2] – Aranda, J., Armada, M. A., Cruz, J. M., “Automation for the maritme 
industries” - AUTOMAR. Madrid, 2004. 
 
[3] – Hamamatsu, M., “Non linear DP controller”. Kawasaki Heavy Industries LTDA, 
Japan, 2002. 
 
[4] – Morishita, H., M., “Capacitação nacional para a realização de ensaios e 
simulação de sistemas DP”. Relatório de projeto, USP / Petrobrás, 2007. 
 
[5] – Morishita, H.M., Tannuri, E.A., Lago, G.A., “Experimental set-up for 
experiments with dynamic positioning system”. MCM, Lisboa, 2002. 
 
[6] - Morishita, H.M., Tannuri, E.A., Lago, G.A., Veras, V.L.M., “Critical analysis of 
control and filtering algorithms used in real dynamic positioning systems”. 24nd 
International Conference on Offshore Mechanics and Arctic Engineering, June 12–
17, 2005, Halkidiki, Greece. 
 
[7] – Lago, G.A., Veras, V.L.M., “Projeto e construção de SPD de embarcações em 
tanque de provas”. Trabalho de conclusão de curso, 2004. 
 
[8] – Shimizu, D.M., Morikawa, F.A., “Aplicação de um sistema de posicionamento 
dinâmico em um modelo de unidade flutuante”. Trabalho de conclusão de curso, 
Escola Politécnica da USP, 2005. 
 
[9] – Kawamura, F.K., Lopes, N.F., “Projeto e implementação de sistema de 
posicionamento dinâmico para ensaios em veículos oceânicos”. Trabalho de 
conclusão de curso, 2006.  
 
[10] - Tannuri, E.A., Donha, D.C. ,Pesce, C.P., “Dynamic positioning of a turret 
moored FPSO using sliding mode control” 
 
[11] - - Tannuri, E.A., Donha, D.C., “H ?  ?Controller design for dynamic positioning 
of a turret moored FPSO” 
 
[12] – Morishita, H.M., Tannuri, E.A., “Experimental and numerical evaluation of a 
typical dynamic positioning system”. Applied ocean research, ELSEVIER, 2006. 
 
[13] – The International Marine Contractors Association. “Dynamic positioning”. 
IMCA, http://www.imca-int.com/divisions/marine/reference/intro.html. 
 



89 

[14] – Santos, A.O., “Desenvolvimento de instrumentação laboratorial e 
controladores ativos pid para sistemas de posicionamento dinâmico em tanque de 
provas”. Dissertação de mestrado, 2004. 
 
[15] - Gibbon, K.T.;Johnson C.T.; Bailey D.G.; A Real-time FPGA Implementation 
of a Barrel Distortion Correction Algorithm with Bilinear Interpolation, Image 
and Vision Computing NZ, p. 408-413, November 2003. 
 
[16] – Ogata, K., “Engenharia de controle moderno”. 3a edição, LTC, 2000. 
 
[17] – Aström, K.J., Wittenmark, B., “Computer controlled systems. Theory and 
design”. 3th edition, Prentice Hall, 1997. 
 
[18] – Transceptores de rádio Radiotronix. www.radiotronix.com. 
 
[19] - Balchen, J.G. et al. “A dynamic positioning system based on Kalman filtering 
and optimal control, Modeling, Identification and Control”. 1980. 
 
[20] - Fossen, T.I., Strand, J.P. “Passive nonlinear observer design using Lyapunov 
methods, experimental results with a supply vessel”. Automatica, 1999. 
 
[21] - Fossen, T.I, Grovlen, A., “Nonlinear Output Feedback Control of Dynamically 
Positioned Ships Using Vectorial Observer Backstepping”. IEEE Transactions on 
Control System Technology, 1998. 
 
[22] – Santos, E.M., “Um simulador de manobras em tempo real com sistema de 
posicionamento dinâmico para treinamento”. Tese de doutorado, 2005. 
 
[23] – Saelid, S., Jensen, N.A., Balchen, J.G. “Design and analysis of a dynamic 
positioning system based on Kalman filtering and optimal control”. IEEE 
Transactions on Automatic Control, 1983. 
 


</field>
	</doc>
</add>