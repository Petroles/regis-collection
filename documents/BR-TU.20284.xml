<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.20284</field>
		<field name="filename">3755_186797.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">
Universidade Federal de Santa Catarina 
Programa de Pós Graduação em Engenharia de Produção 

Utilização de Algorítimos Genéticos 
para Solução de Problema de Programação de Produção de uma 

Refinaria de Petróleo 

Dissertação de Mestrado 

Herval Pereira de Castro 

Florianópolis 

2001



Herval Pereira de Castro 

Utilização de Algorítimos Genéticos 
para Solução de Problema de Programação de Produção de uma

A 

Refinaria de Petróleo 

Esta dissertação foi julgada adequada e aprovada para obtenção do 
título de Mestre em Engenharia de Produção no Programa de Pós- 

' " ' 'd de Federal Graduação em Engenharia de Produçao da Universl a 
de Santa Catarina ç

_ 

Florianópolis, 20 de Novembro de 2001 

¿, 
Prof. Ricard ' anda `I areia, Ph. D. 

H dor e | Curso 

BA VI H V' ADORA 

/Alf, w - Prof. '~ qandr 0 ' r - ~ iguez, Dr. 
`. 

_' 

×\\

V

r 
ii «'4\\\ 

` 

I rientador 

\. _, .fz \ 
Prof. Aran Bey Tcholakian Morales, Dr. 

Prof. Vinicius Medina Kern, Dr.



AGRADECIMENTOS 

a Márcia, minha esposa, pela sua paciência e compreensão 

ao Prof. Alejandro Martins, pela confiança depositada 

ao Prof. Jordan Pauleski Juliani, co-orientador da dissertação, pelo apoio e 

incentivo nos momentos cruciais do trabalho 

ao colega Dilson Augusto Lopes Duarte, pela cessão do software RiskOptimizer 

a Petrobras 

ao Laboratório de Ensino a Distância da Universidade Federal de Santa Catarina



SUMÁRIO 
LISTA DE FIGURAS ..................................................... .. 

LISTA DE QUADROS .................................................. .. 

LISTA DE TABELAS .................................................... .. 

RESUMO ...................................................................... ..
~ 

1 INTRODUÇAO ........................................................... .. 
1.1 APRESENTAÇÃO ......................................................................... .. 
1.2 OBJETIVOS ................................................................................... .. 

1.2.1 Objetivo geral .............. .. 
1.2.2 Objetivos Específicos ................................................................ .. 

1.3 JUSTIFICATIVA ........................................................................... .. 

1.4 ESTRUTURA DO TRABALHO .................................................... .. 

2 O PROBLEMA DE SCHEDULING ............................ .. 
2.1 DEFINIÇÃO DE SCHEDULING .................................................. .. 

2.2 CARACTERÍSTICAS DA ATIVIDADE DE SCHEDULING ...... .. 
2.3 CO1vII›LExII›ADE DA ATIVIDADE DE SCHEDULING ........... .. 
2.4 MÉTODOS DE SOLUÇÃO PARA O SCHEDULING ................. .. 

2.4.1 Simulação ................................................................. 
2.4.2 Otimização ................... ............... ........ .. 
2.4.3 Inteligência Artificial ................................................................ .. 

2.5 CONSHIERAÇOES FINAIS .......................................................... .. 

3 ALGORÍTMOS GENÉT|cos ..................................... ._ 
3.1 CONCEITUAÇÃO ......................................................................... .. 
3.1.1 Aspectos Gerais ............................................................................ .. 

3.1.2 Etapas de fimcionamento e nomenclatura dos AGS .................... .. 
3.1.3 Operadores Genéticos ................................................................ .. 20 
3.1.4 Obtenção de novas geraçoes . . . . . . . . . . . . . . . . . . . . . . . . . .. 
3.1.5 Similaiidade entre strings .......................................................... .. 

3.2 APLICAÇÕES DOS AGS EM PROBLEMAS DE SCHEDULING 
3.2 CONSIDERAÇÕES FINAIS... ........................................................ ..



iv 

4 DESENVOLVIMENTO DE SOLUÇAO PARA O SISTEMA DE GLP DA 
REVAP ....................................................................................................... .. 28 
4.1 SISTEMA DE GLP DA REVAP ........................................................................................... ..28 

4.1.1 Descrição do sistema ............................................................................ .. .......28 
4.1.2 Razões apara escolha deste sistema para desenvolvimento da solução ............................... ..3l 
4.1.2 Objetivos do programador de produção para este sistema .................................................. ..3l 
4.1.3 Parque de armazenagem ................................................... .. . ................................ ..34 
4.1.4 Considerações sobreaexpedição....................... ........ .......................... ..36 
4.1.5 Considerações sobre a produção ....................................................................................... .. 36 

4.2 DESENVOLVIMENTO DA SOLUÇÃO .............................................................................. ..38 
4.2.1 Codificação .......................................... ................................ ..38 
4.2.2 Software utilizado ....................................... ........................................... ..40 
4.2.3 Variáveis de Entrada e Cromossomo . . . . . . . . . . . . . . . . . . . . . . . . . . . . ..42 
4.2.4 Cálculo da Flmção Objetivo ........................................................ ._ .......43 
4.2.5 Parâmetros utilizados para execução do otimizador ........................................................... ..44 
4.2.6 Resultados Obtidos .......................................................................................................... ..45 

5 coNcLusÕEs E RECOMENDAÇÕES ................................................. .. 52 

REFERÊNc|As B|B|.|oGRÁF|cAs .......................................................... _. 53 

ANExo ...................................................................................................... _. 56



LISTA DE FIGURAS 
Figura 2.1 - Contexto do schedulingx indisponibilidade de aplicativo 

Figura 3.1 - Ciclo de operações dos algoritmos genéticos ................. .. 

Figura 4.1 - Gráfico da evolução do estoque de GLP ....................... .. 

Figura 4.2 - Gráfico da evolução do estoque de Butano ................... .. 

Figura 4.3 - Gráfico da evolução do estoque de Propint ................... .. 

Figura 4. 4 - Grafico da evolução das vendas de GLP e Butano ........ ..



LISTA DE QUADROS 

Quadro 3.1 - Exemplo de Crossover ............................................... .. 

Quadro 3.2 - Exemplo de Mutação ................................................. .. 

Quadro 3.3 - Exemplos de Schema ................................................ .. 

Quadro 4.1 - Detalhamento dos intervalos de tempo T ................... ._ 

Quadro 4.2 - Variável de decisão por produto ................................. .. 

Quadro 4.3 - Tipos de genes para a solução proposta ................... .. 

Quadro 4.4 - Tipos de genes consolidados para a solução proposta 

Quadro 4.5 - Exemplo de Cromossomo para a solução proposta.....



vii 

LISTA DE TABELAS 
Tabela 4.1 - Variáveis de entrada para o problema 42 

Tabela 4.2 - Resultados das simulações sem penalização da função objetivo no caso de violação dos 
estoques mínimos de GLP e Butano 46 

Tabela 4.3 -Resultados das simulações com penalização da função objetivo no caso de violação dos 
estoques mínimos de GLP e Butano 4 7



viii 

RESUMO 

A programação de produção em refinarias de petróleo, embora sendo uma atividade 
fundamental para a conciliação da operação da planta com seus objetivos de 
produção, ainda não dispõe de uma solução matemática consolidada para que seja 
obtido o melhor desempenho econômico possível sem comprometer o nível de 
serviço oferecido aos clientes quanto aos aspectos de qualidade, quantidade e prazo 

de entrega dos produtos. 

Neste trabalho é estudado o problema da programação de produção em refinarias de 
petróleo (scheduling), considerando a possibilidade de utilização de Algoritmos 

Genéticos como base de um aplicativo para computador que pudesse resolver um 
problema de programação de produção de uma refinaria, uma vez que esta técnica é 
bastante adequada para a otimização de problemas não lineares que envolvem 

variáveis discretas e contínuas, como é o caso do problema de scheduling. 

Assim, desenvolveu-se um modelo de solução para o Sistema de Produção e 
Armazenamento do Gás Liqüefeito de Petróleo da Refinaria Henrique Lage, 
utilizando-se como plataforma um software comercial, cujo otimizador dispõe de 
diversos métodos. de solução baseados em Algoritmos Genéticos. 

A obtenção dos resultados finais considerou a maximização de uma função objetivo 
com a alocação de tarefas de mesmo comprimento em um número determinado de 
intervalos de tempo discretos, atendendo-se às restrições pré-definidas durante o 
processo de alocação.



1 INTRODUÇÃO 

1.1 APRESENTAÇÃO 

Nos últimos anos, muitas empresas têm procurado melhorar a performance da cadeia 
de suprimento em que estão inseridas, desde o pedido do cliente até a entrega do 
produto, considerando que este é um fator essencial para manter uma vantagem 
competitiva frente aos seus concorrentes. 

Na indústria do refino do petróleo, isto não é diferente, em função das margens cada 
vez mais reduzidas e da grande dificuldade em obter-se diferenciação nos produtos e 
serviços. Em um ambiente competitivo, companhias de petróleo lidam com variações 
significativas de parâmetros econômicos, oportunidades de utilização de cargas 

diversas e decisões diárias entre comprar ou produzir um determinado produto para 
atender a demanda de um cliente. 

Este dinamismo de infomaações afeta diretamente o desenvolvimento da atividade de 

programação de produção de uma refinaria (Scheduling, em inglês), em função do 
importante papel de conexão que a mesma exerce entre os objetivos do negócio e os 
sistemas de produção. 

A programação de produção é uma função que deve coordenar as operações de uma 
refinaria com seus objetivos de produção, de modo a otimizar o desempenho 
econômico do sistema de processamento e atender os compromissos com os clientes. 
Alterações nas demandas e especificações dos produtos, em datas de entrega, na 
qualidade e quantidade das matérias primas e na disponibilidade e desempenho das 
unidades de processo devem ser consideradas nas diretrizes de produção, que são 
geradas com freqüência quinzenal, semanal ou diária. 

Desta forma, a atividade de programação de produção deve ser desenvolvida da 
forma mais otimizada possível, integrada fortemente com o planejamento da 
produção em um contexto que envolve desde o suprimento de matéria prima até os



2 

sistemas de informação de demanda e marketing de produtos, passando pela 
operação da planta. 

Assim o desenvolvimento de modelos que levem a uma otimização da programação 
de produção de refinarias de petróleo é um campo muito promissor para uma melhor 
gestão do negócio com conseqüente obtenção de melhores resultados econômicos e 
satisfação dos clientes. 

1.2 OBJETIVOS 

1.2.1 Objetivo geral 

Desenvolver um modelo, baseado em algoritmos genéticos que possa indicar uma 
solução otimizada bastante aceitável da programação de produção do parque de 

esferas de GLP (Gás Liqüefeito de Petróleo) da Refinaria Henrique Lage da 
Petrobras. 

1.2.2 Objetivos Específicos 

O aplicativo computacional desenvolvido deve possuir as seguintes características: 
0 Determinar a quantidade diária e a composição do produto menos nobre a ser 

expedido, visando o máximo acúmulo do produto mais nobre no horizonte de 
tempo considerado, e respeitando as restrições flsicas das instalações disponíveis. 

0 Indicar para cada período do horizonte de tempo considerado as esferas 
envolvidas com o recebimento da produção dos diversos produtos, expedição de 
produto e o tipo de produto a ser produzido. 

0 Possibilidade de construir uma programação abrangente para um maior número de 
dias a frente, facilitando a avaliação das influências de operações futuras nas 

decisões tomadas para os primeiros dias, com conseqüente melhora destas 
decisões. 

0 Desenvolvimento e avaliação de programações alternativas, em função da maior 
rapidez com que as programações são geradas pelo sistema.



3 

0 Possibilidade de realizar diversos estudos “What If' rapidamente. 

0 Resolução mais rápida das situações causadas por eventos não previstos 

0 Capacidade de resposta mais rápida a alterações de mercado, com melhor 
aproveitamento de oportunidades comerciais 

0 Possibilidade de disponibilização da informação da programação da produção em 
um banco de dados, visando seu acesso por toda a refinaria. 

0 Preservação do conhecimento do programador de produção 

1.3 JUSTIFICATIVA 

Um ambiente competitivo, para o qual o mercado nacional de derivados de petróleo 
está sendo direcionado, é caracterizado por baixas margens das refinarias combinada 
com a alta volatilidade de preços. A lucratividade da refinaria deve ser obtida pelo 
gerenciamento ótimo dos recursos disponiveis segundo um planejamento 
previamente elaborado, cujo sucesso na execução está intimamente ligado com a 
função da programação da produção. 

Há muitos estudos que estimam os beneficios da solução do problema de 
programação da produção em 10 a 15 centavos de dólar por barril. A 
disponibilização de um aplicativo computacional que otimize a programação de 
produção facilitaria a obtenção deste ganho em função dos seguintes fatores: 

- Otimização dos ativos, obtendo-se as máximas taxas de utilização das 
unidades, uma vez que na maioria dos casos, uma maior quantidade de petróleo 
processado reduz o custo fixo unitário, enquanto que a maior utilização de unidades 
de conversão levam a um maior valor agregado do mix de produtos. 

- Redução do custo de investimento, através da redução dos níveis de estoques 
de produtos 

- Redução do tempo de resposta da companhia aos estímulos extemos. Em 
mercados competitivos, já se faz necessário a realização de ajustes semi-contínuos



4 

nos parâmetros e objetivos dos Planos de Produção, visando o atendimento das 

alterações constantes das condições de contorno. 

- Maior flexibilidade, permitindo aumentar o número de produtos oferecidos 
em função do aumento do rigor nas especificações e necessidades específicas dos 
clientes. 

1.4 ESTRUTURA DO TRABALHO 

Esta dissertação está estruturada em seis capítulos. 

No primeiro capítulo, que possui caráter introdutório, são apresentados os objetivos 
gerais e específicos, além da relevância do trabalho. 

No segundo capítulo, discorre-se sobre os principais aspectos envolvidos na 
atividade de programação da produção de uma refinaria de petróleo, ressaltando-se a 
complexidade do problema em termos de desenvolvimento de aplicativos 
computacionais 

No terceiro capítulo é apresentado uma introdução teórica sobre os Algoritmos 
Genéticos, visando subsidiar o desenvolvimento da solução proposta para a 

programação de produção de um sistema de uma refinaria de petróleo. 

O quarto capítulo apresenta o desenvolvimento de uma solução de um problema de 
programação de produção utilizando-se algoritmos genéticos. Primeiramente, 

detalha-se um problema real de programação de produção de uma refinaria, 
incluindo o tratamento matemático necessário para elaboração de uma proposta de 
solução. A seguir, é apresentado o desenvolvimento da solução, utilizando-se um 
software baseado em Algoritmos Genéticos, apresentando-se os resultados obtidos 

No último capítulo são apresentadas as conclusões do trabalho e as possibilidades de 
futuros estudos.



5 

2 O PROBLEMA DE SCHEDULING 

Neste capitulo, pretende-se conceituar mais detalhadamente o que é a atividade de 

programação de produção em uma refinaria de petróleo, visando uma compreensão 
do real tamanho do problema. 

Com isso, propicia-se uma identificação inicial das questões centrais a serem 
resolvidas na proposta de solução de um problema, apresentada nos capítulos 
seguintes. 

É oportuno citar que ao longo de todo o trabalho a expressão programação de 
produção é considerada como sinônimo dos termos em inglês “scheduling”, utilizado 
no ambiente industrial para representar a atividade e “schedule”, utilizado para 

representar o resultado da atividade. 

2.1 DEFINIÇÃO DE SCHEDULING 

O scheduling é a ligação diária entre o processo de manufatura e os clientes, cuja 
forma de realizar-se varia com as características do processo de produção e a 
natureza do mercado onde a empresa atua (Bodington e Shobrys, 1995). 

Uma definição mais formal, ainda baseando-se em Bodington e Shobiys, é a 
determinação, revisada quase que diariamente, do que cada estágio da produção 
deve fazer em um determinado horizonte de tempo, que pode variar entre um tumo 
de trabalho e algumas semanas, definindo (ou prevendo) todas as entradas e saídas 

de cada operação de produção. 

No desenvolvimento da atividade de scheduling, o tempo e as operações movem-se 
continuamente, do início para o fim do período considerado, com as revisões 
levando em conta o que está realmente acontecendo.



6 

O objetivo da atividade de scheduling é a implementação do que foi determinado 
pelo planning, sujeito à uma série de variações como alterações no suprimento de 
matéria-prima, instabilidades no processo de produção, mudanças dos requisitos dos 
clientes ou problemas com a distribuição dos produtos. Desta forma, os 
programadores de produção devem realizar correções no sentido de buscar os 
objetivos determinados pela atividade de planning. 

2.2 CARACTERÍSTICAS DA ATIVIDADE DE SCHEDULING 

A atividade de scheduling em uma refinaria e operações associadas é caracterizada 
pela necessidade de uma quantidade significativa de tomadas de decisão em uma 
base diária, lidando com situações que combinam operaçoes contínuas e por 
bateladas (Bodington e Shobrys, 1995). 

Embora muitas destas decisões, tais como a escolha do tanque que receberá um item 
de petróleo, pareçam triviais em um primeiro momento, podem gerar conseqüências 
importantes alguns dias depois. 

Além disso, há um range amplo de atividades diferentes que precisam ser 
programadas quase ao mesmo tempo e um grande número de influencias extemas 
que devem ser levadas em consideração para a tomada de decisões. 

Em uma refinaria, as atividades desenvolvidas pela programação de produção 
incluem: 

- o recebimento e mistura de petróleos: o programador deve definir a melhor 

seqüência de recebimento do petróleo disponível e a forma de processamento 
destas misturas, visando seu máximo aproveitamento. 

- modos de operação das unidades de processo: é de responsabilidade do 
programador de produção a definição do tipo de carga a ser processada e quais os 
produtos que devem ser produzidos em um determinado momento.



7 

- utilização da tancagem de componentes intermediários: o programador de 

produção deve avaliar a adequação dos estoques de matéria-prima para as 

unidades de processo, visando cumprir as diretrizes estabelecidas no Plano de 

Produção. 

- realização de misturas de produtos: em função das solicitações dos clientes e das 
caracteristicas dos componentes disponiveis, o programador de produção define 

como, quando e qual o tipo de produto a ser preparado. 

Embora algumas destas atividades têm impacto limitado nas demais, outras geram 
conseqüências para todas as áreas de decisão. 

Entre as interferências externas na atividade da programação da produção, existem 

aquelas originadas na própria refinaria, como por exemplo problemas operacionais 
nas unidades de processo e aquelas que ocorrem fora da refinaria, como alterações 
na chegada de matéria prima e entrega de produtos. 

Outra característica desta atividade é a diversidade na ordem de importância dos 

tipos de problemas de programação de produção para cada refinaria. Para refinarias 

que têm um suprimento com muita variação nos tipos de petrólcos recebidos, a 
programação da seqüência deste recebimento e a preparação das cargas das unidades 

é o problema mais crítico em termos de scheduling. Por outro lado, em refinarias que 
dispõe de diferentes tipos de modais de transporte para escoamento de sua produção, 

a programação das retiradas de produtos pode se tomar bastante complexa. Além 
disto, há os casos de esforço maior de programação dos modos de operação das 
unidades de processo em função de alterações freqüentes nos tipos de petrólcos 
processados nas unidades de destilação, grau de complexidade da refinaria ou de 

uma diversidade muito ampla dos tipos de produtos oferecidos. 

Normalmente, o programador de produção não tem muito tempo para tomar decisões 
e raramente, há a possibilidade de se avaliar mais detalhadamente as conseqüências 

de uma determinada decisão no futuro.



8 

2.3 COMPLEXIDADE DA ATIVIDADE DE SCHEDULING 

Do ponto de vista computacional, os problemas de programação de produção são 
normalmente difíceis de resolver e quando boas soluções sao encontradas elas trazem 

benefícios altamente tangíveis (Almeida, 2000). 

O problema de programação de produção, por ser um problema de otimização 
combinatorial (Chambers, Corcoran &amp;amp; Wainwright, 1995), está entre aqueles de mais

z 

dificil resolução pelos cientistas da computação. 

Para resolver o problema de programação de produção, deve-se realizar uma 
distribuição de decisões no tempo, de tal forma que no final do período planejado, o 

lucro previsto pelos aplicativos do Planejamento da Produção, baseados em 
Programação Linear, seja plenamente realizado (Hofferl, 1988). 

O principal fator de dificuldade para a afirmação de um método de solução definitivo 
para o problema de scheduling é a falta de uma técnica de programação matemática 
apropriada combinada com a complexidade do problema. Isto porque, o problema de 
scheduling tem elementos discretos na chegada de petróleo, armazenamento, mistura 
e expedição de produtos e elementos contínuos na operação das unidades de processo 

(Pelham, 1996). 

Segundo Pelham e Pharris, a atividade de programação da produção ainda aguarda 
por uma solução quanto ao atendimento desses critérios tomando árdua a tarefa de 
predizer como vai ser o desenvolvimento desta atividade daqui há cinco anos, pois o 
surgimento de um pacote de programação de produçao rigoroso e abrangente 
permanece além desse horizonte. 

A ñgura seguinte (Cutting, 1995), indica a atual falta de ferramentas para preencher 
o espaço existente entre as áreas de Planejamento de Produção, bem estabelecida 
através da utilização da tecnologia de Programação Linear e as operações da planta.



9 

Disponibilidades 
Preços e Demandas 

Plano de cargas e 
Mzzzmçâz z lífëduções 

&amp;amp; - " Otimas 
Restrições 

Operacionais
' 

Operação da Planta 

Figura 2.1 - Contexto do scheduling x indisponibilidade de aplicativo 

Desta forma, existe uma vulnerabilidade na cadeia de suprimento, pois toma-se 
bastante difícil obter-se uma desagregação consistente da informação gerada pelo 
planejamento para a programação de produção. Assim os objetivos de produção de 
curto prazo podem não ser consistentes com os de médio prazo, dependendo 
exclusivamente da ação do programador de produção. Por outro lado, não é possível 

traduzir adequadamente os objetivos de produção de curto prazo em condições 
operacionais para as unidades de processamento. 

Algumas das grandes empresas de petróleo estão desenvolvendo sistemas específicos 
de scheduling para utilização intema, baseadas em simulação (Magalhães et al., 
1998). Mas até recentemente não há disponibilidade de sistemas desenvolvidos 
comercialmente para utilização pela industria do refino em geral (Cutting). 

Em vista disso, a maioria dos programadores de produção de refinarias de petróleo 
utilizam métodos manuais auxiliados por planilhas, para realização de cálculos 
específicos. Tentativas de utilização de sistemas de scheduling desenvolvidos para 

outras industrias, onde os processos por bateladas predominam, não tiveram sucesso. 
Na falta de ferramentas adequadas para as refinarias, os programadores de produção 
tem as suas atividades limitadas à determinação de uma seqüência de operações 
factível, restando pouco ou nenhum tempo para a encontrar a seqüência ótima.



10 

Por outro lado, o investimento para criação de aplicações de tecnologia digital ao 

processo de programação de produção de refinarias de petróleo começou a ser 
significativo a partir da década de 90 (Moro, 1999). Em meados da década, Kane 
(1995) afirmava que a integração entre planejamento, programação e gerência da 

produção era ainda um desafio, que o autor estimava que só seria satisfatoriamente 
resolvido por volta do ano 2000. 

Ballintjin (1993) discutiu a falta de modelos rigorosos para programação de 

refinarias e comparou formulaçoes contínuas e mistas-inteiras, mostrando a baixa 
aplicabilidade dos modelos baseados apenas em variáveis contínuas. 

Ao longo da década podemos notar que as iniciativas de desenvolvimento de 
sistemas de programação de produção baseavam-se inicialmente em regras 
heurísticas, passando a seguir pelos sistemas especialistas mais elaborados, enquanto 

que atualmente concentram-se em programação matemática (Moro, 1999). 

2.4 MÉToDos DE soLUÇÃo PARA o SCHEDULING 

Muitos pesquisadores têm buscado novas técnicas nos campos da Inteligência 
Artificial e na Pesquisa Operacional para a solução de problemas de scheduling de 

refinarias, produzindo resultados aproximados para uma classe geral de problemas 
ou soluções exatas para problemas específicos (Almeida, 2000) 

Os métodos para solução de difíceis problemas combinatoriais podem ser divididos 
em dois tipos. O primeiro tipo inclui aqueles métodos que tentam encontrar 

Fazendo-se um levantamento dos tipos de ferramentas de computador mais 
freqüentemente utilizadas na tentativa de resolver os problemas de scheduling na 
industria, podemos fazer a seguinte classificação:



ll 

2.4.1 Simulação 

Simulação pode ser definida como sendo "o desenvolvimento de um modelo lógico 
que reproduz a realidade. a fim de avaliar o comportamento e o desempenho de 
sistemas sob as mais variadas condições" [PEGDEN e outros, 1990]. 

Simulação é a abordagem mais comum para resolução do problema de scheduling, 
em função da sua ênfase na consistência da solução encontrada, permitindo 
identificar as conseqüências de uma programação escolhida (Bodington e Shobrys, 
1995). 

Um algoritmo de simulação inicia no tempo zero, avançando no tempo conforme a 
seqüência de eventos, que produzem decisões conforme regras pré-definidas para 

encontrar uma programação factível (Hofferl, 1988). 

A atual disponibilidade de capacidade gráfica dos computadores permite uma forma 
eficiente de apresentação dos resultados obtidos com o simulador e uma 
interatividade razoável com o programador. Os gráficos de Gantt e as curvas de 
estoques de produtos ao longo do tempo são as maneiras clássicas de apresentação 

dos resultados obtidos. 

De uma forma geral, os algoritmos de simulação podem ajudar a determinar a 
seqüência de operações, mas normalmente não levam em conta os direcionadores 
econômicos. Caso não se utilize nenhuma outra forma de inteligência computacional, 
a solução do problema de scheduling através de simulação reduz-se a um processo de 
tentativa e erro (Bodington e Shobrys, 1995).



12 

2.4.2 Otimização 

Considerando o problema de scheduling como um problema matemático, a 
determinação da melhor solução possível, ou otimização, nem sempre é possível em 
função da complexidade do mesmo (Bodington e Shobrys, 1995). 

A Programação Linear é a técnica matemática mais comumente utilizada para a 
resolução de problemas de otimização do Planejamento de Produção. Contudo, os 

valores médios indicados pela solução obtida com a Programação Linear tem que ser 
alocados em um eixo de tempo contínuo, tomando necessário a resolução de 
problemas de sincronismo e disjunção (Hofferl, 1988). 

O programador deve decidir se um carregamento de petróleo que chega à refinaria 
em um determinado momento, deve alimentar a unidade de destilação imediatamente 
ou deve ser armazenado em um tanque, junto com outros petróleos para utilização 
posterior. Também o programador não poderá utilizar uma carga hoje se a mesma 
ainda não estiver disponível. Tais problemas não são solucionados através de 

Programação Linear simples, uma vez que a resposta desta técnica é um valor 
médio para um determinado período de tempo. A questão é que a Programação 
Linear considera os objetivos econômicos, mas por causa de sua natureza estática, 
não pode converter o lucro em uma realidade dinâmica (Hofferl, 1988). 

Desta forma o problema de scheduling é dinâmico e não pode ser resolvido por uma 
programação linear estática. Mesmo uma programação linear que trabalhe com 
períodos de tempo mais curtos não é uma maneira factível para resolução do 
problema. O problema de scheduling necessitaria de uma Programação Linear com 
períodos de tempo com comprimentos diferentes para cada batelada, os quais não são 
conhecidos previamente, tornando a solução não trivial (Hofferl, 1988). 

Em vista disso, para resolver o problema de scheduling, utiliza-se uma extensão da 
Programação Linear, denominada Programação Inteira Mista (MIP), que permite 

utilizar variáveis inteiras para decisão para poder lidar com questões de seqüência, 
quantidades mínimas de produtos e outros tipos de decisões sim/não. Mesmo assim,



13 

há três potenciais limitações na utilização desta técnica (Bodington e Shobrys, 

1995): 

a) Tempo de Solução 

b) Controle do processo de Solução 

c) Interpretação dos Resultados 

Os problemas MIP facilmente tomam-se muito grandes, aumentando 
significativamente o tempo necessário para encontrar uma solução, mesmo 
utilizando-se linguagens e computadores modemos. É usual interromper-se o 
processo de solução antes da sua convergência para o resultado ótimo, em função do 
grande tempo demandado, utilizando-se sistemas especialistas para finalizar o 
processo (Bodington e Shobrys, 1995). 

A habilidade para interpretar as soluções MIP deve estar bem desenvolvida, com um 
grande conhecimento das relações entre os dados de entrada e os resultados de saída, 

pois sendo uma técnica de otimização, as alterações propostas podem acontecer em 
grande número em curto espaço de tempo (Bodington e Shobrys, 1995). 

Por outro lado, os modelos de otimização trabalham com intervalos de tempo 
discretos, que se reduzidos, aumentam significativamente o tamanho do problema. 
Uma altemativa é encontrar-se uma solução preliminar com um modelo de 
otimização e posteriormente utilizar-se uma ferramenta baseada em simulação 
(Bodington e Shobrys, 1995). 

2.4.3 Inteligência Artificial 

A Inteligência Artificial é o campo de estudo na ciência da computação que persegue 
o objetivo de fazer um computador raciocinar de maneira semelhante aos humanos



14 

Com a popularização e o rápido avanço tecnológico dos computadores, essa tarefa 
tem se tomado cada vez mais palpável (Modro, 2000). 

Considerando as características da atividade de scheduling de uma refinaria de 
petróleo, verificamos que seu desenvolvimento depende muito do conhecimento e 

habilidades do programador de produção que a executa. Desta fonna, verifica-se que 

há um grande potencial na utilização de técnicas de inteligência artificial para a 
resolução de problemas de scheduling. 

Nos últimos anos, diversos trabalhos têm sido desenvolvidos, procurando utilizar 
técnicas de inteligência artificial (AI) em problemas de scheduling. Estes trabalhos 
procuram demonstrar que apesar da diversas altemativas disponíveis para execução 
do scheduling, é possivel identificar padrões, acrescentar parâmetros difusos à 

avaliação, aplicar modelos de tomada de decisão e acoplar sistemas especialistas ou 

algoritmos otimizadores, separadamente ou conjuntamente, a fim de se obter um 
sistema autônomo de determinação de scheduling (Loureiro, 1995). 

Sistemas especialistas, são sistemas artificiais usados para emular a expertise de 

especialistas na resolução de problemas (Shneider at al., 1996). São usualmente 

projetados baseados em uma esquema de representação de conhecimento particular, 
tipicamente baseada em regras, frames ou orientada a objetos (Goonatilake, 1995). 

A capacidade para diagnósticos de sistemas especialistas pode ser utilizada para 
identificar problemas de programação e acionar métodos de solução para problemas 

específicos. Esta prática pode ser associada com a intervenção manual do 
programador, facilitada por interfaces gráficas, análises de sensibilidade dos dados 

de scheduling e respostas do impacto econômico devido às mudanças de 

programação. 

A rigor, qualquer heurística matemática pode também ser implementada pela 
utilização de um sistema especialista, embora sua execução será mais rápida se 
escrita de um modo estruturado. Um dos riscos dos sistemas especialistas é que eles 
podem ser utilizados para a reinvenção da roda. Sua principal vantagem é que eles 
podem ser utilizados para incorporar conhecimento de aplicações especificas dentro 
do processo de solução, tais como paradas e partidas, programações recorrentes, etc.



15 

A determinação de soluções ótimas para problemas combinatoriais não muito 
grandes podem ser obtidas através de técnicas de pesquisas exaustivas inteligentes, 
tais como backtracking, branch and bound, enumeração implícita e programação 
dinâmica (Chambers, Corcoran &amp;amp; Wainwright, 1995) 

A Heurística, definida como a utilização de pesquisa inteligente para obtenção da 
solução de um problema, é um método bastante atrativo para os programadores de 
produção, ao emular o processo de pensamento dos mesmos. Além disso a 
Heurística tem a característica desejável de poder ser estruturada para fazer um 
número limitado de alterações de seqüência de programação a um mesmo tempo 
(Bodington, 1995). 

Heurística podem ser construídos a partir de algoritmos matemáticos, ou conjuntos 
de regras de sistemas especialistas, visando estabelecer uma pesquisa de solução 
inteligente. Como exemplo podemos citar a tentativa de encontrar a seqüência de 
operações de produção que reduz os custos de transição. Altemativamente, uma 
técnica de otimização pode ser aplicada para resolver um aspecto particular do 
scheduling, como o balanço de estoques ou capacidades ou a sincronização das 
atividades de produção ao longo dos estágios do processo produtivo (Bodington, 

1995). 

A utilização de algoritmos heurísticos, tais como algoritmos genéticos, é efetiva 
para a otimização de problemas combinatoriais, pois neste tipo de problema, uma 
boa solução dentro de um período de tempo aceitável é bastante desejável 
(Chambers, Corcoran &amp;amp; Wainwright, 1995). Considera-se que a solução encontrada 
por estas técnicas é considerada a melhor possível que pode ser obtida, tendo em 
vista que o ótimo verdadeiro é freqüentemente desconhecido e impossível de ser 

determinado. 

Por outro lado, problemas de otimização não lineares que envolvem variáveis 
discretas e contínuas podem ser resolvidos através de técnicas baseadas em 
Algoritmos Genéticos Multi-Objetivos. Este método de otimização, usualmente 
referenciado como técnica de Pareto, é largamente utilizado em problemas onde



16 

parâmetros múltiplos devem ser otimamente configurados simultaneamente 
(Efthimeros et al, 2000). 

A conceituação de algoritmos genéticos e a verificação do potencial desta técnica 
para a resolução de problemas de programação de produção será explorada no 

capítulo seguinte. 

2.5 coNs1DERAÇöEs FINAIS 

Neste capítulo procurou-se mostrar a programação de produção como uma função 
relacionada com a coordenação dos objetivos de produção e as atividades de modo a 
otimizar o desempenho econômico do sistema de processamento. Alterações nas 

demandas e especificações' dos produtos, em datas de entrega, na qualidade e 
quantidade das matérias primas e na disponibilidade e desempenho das unidades de 
processo devem ser consideradas nas diretrizes de produção, que são geradas com 
freqüência quinzenal, semanal ou diária. 

Ressaltou-se que a ausência de ferramentas computacionais adequadas no nível de 

programação da produção gera um impacto negativo no desempenho econômico de 
uma refinaria, em função da existência de um hiato na otimização da cadeia de 
suprimento. 

Tendo em vista as principais técnicas matemáticas que vêm sendo empregadas pela 
industria do petróleo na tentativa de resolução do problema de programação de 

produção, verifica-se que metodologias baseadas em inteligência artificial, tais como 
algoritmos genéticos, podem ser uma alternativa bastante promissora 

No capítulo seguinte, será apresentada a fundamentação teórica sobre algoritmos 
genéticos, visando subsidiar a aplicação desta técnica no desenvolvimento da solução 
proposta.



17 

3 ALGoRÍTMos GENÉTICOS 
O capítulo anterior abordou os aspectos envolvidos com a programação de produção 
de uma refinaria como um todo. Verificou-se que o problema é bastante complexo e 
extenso, dependendo muito das características da refinaria e da cadeia logistica que 

ela está inserida. Também foram feitas considerações sobre a aplicabilidade de 
técnicas de inteligência artificial, entre elas os algoritmos genéticos, para a 

otimização deste tipo de problema. 

O objetivo deste capítulo é apresentar a fundamentaçao teórica necessária para a 
utilização de algoritmos genéticos para a solução de um problema de programação de 
produção de uma refinaria de petróleo, relacionando exemplos de utilização desta 
técnica na resolução de problemas similares. 

3.1 CONCEITUAÇÃO 

3.1.1 Aspectos Gerais 

Algoritmos genéticos (AGS) são uma técnica de resolução de problemas com a 
interessante propriedade de buscar a solução de forma similar a natureza. (Deboeck, 

1994). São algoritmos de pesquisa baseados no mecanismo de genética e na seleção 
natural, utilizando operadores que emulam estes princípios para guiá-los até 
encontrarem a solução. [Go1dberg, 1989]. 

No mundo real, o processo de seleção natural controla a evolução dos organismos, de 
forma que aqueles mais adaptados ao meio-ambiente, têm vida mais longa e se 
reproduzem mais. Por outro lado, os organismos menos adaptados tendem a morrer 
precocemente ou procriar-se menos (Chambers, 1995). 

De acordo com a teoria da evolução, as principais características dos organismos que 
tomam possível sua sobrevivência no planeta são determinadas por reações químicas 
nos cromossomos feitos de DNA.



18 

No início dos anos 70, John Holland, um inovador no campo da ciência 
computacional, inspirou-se na teoria da evolução para criar um algoritmo para 
computador (Holland, 1975). O objetivo de Holland não era, simplesmente, 
desenvolver outro método qualquer de otimização, mas sim criar uma abordagem 
teórica, assim como procedimentos para desenvolvimento de programas genéricos e 
máquinas com capacidade ilimitada de adaptação a ambientes arbitrários. 

Desta forma, a pesquisa de Holland e sua equipe da University of Michigan teve 

como objetivo representar o mecanismo de evolução natural, projetando softwares 
baseados em cromossomos computadorizados, criando uma população artificial 
onde as gerações dos seus pseudo-organismos (soluções do problema) evoluem 

sucessivamente até atingir um objetivo proposto (solução ótima). 

A utilização de algoritmos genéticos traduz-se na aplicação de uma forma simples da 
evolução para ensinar os organismos a encontrar uma determinado objetivo. Se este 
objetivo é a fonnulação de um problema que se quer resolver, é possivel encontrar a 
solução do mesmo pela observação do comportamento e das características das 
sucessivas gerações de organismos (Chambers, 1995) . 

As características que distinguem os Algoritmos Genéticos das técnicas clássicas de 
otimização, são (Efthimeros,2000 ): 

a) AGs não necessitam de nenhum tipo de informação além da medição da 
qualidade de um determinado ponto dentro da área de otimização (espaço de 
busca). Consequentemente, esta técnica pode ser aplicada em sistemas a serem 
otimizados cujo modelo disponível seja do tipo caixa-preta. 

b) AGs trabalham com a codificação do conjunto de parâmetros, e não diretamente 
com os parâmetros; 

c) AGs pesquisam o ótimo a partir de um conjunto (população) de pontos e não a 
partir de um único ponto; 

d) AGs utilizam regras probabilísticas e não determinísticas;



19 

e) AGs são métodos robustos de otimização, pois seu desempenho não depende do 
problema de otimização; 

Í) AGs geram um conjunto de soluções próximas ao ótimo global, permitindo a 
seleção da solução mais apropriada para o problema em questão. 

3.1.2 Etapas de funcionamento e nomenclatura dos AGs 

A operação dos AGs consiste num ciclo que pode ser representado conforme a figura 
abaixo: 

Cromossomos 
sssssssssssssssss as 

É Fäness 
š

E 

` 

"*""*siaE5E555E5E5E5E55525555525%55552525525?5%5E5E5555555555zííííšzšeízëaE5š5š;šzízš§š;í;€;€;E=

4 

AQ1§šzš§š;í§š:5zšzšz5;š§šš§\ 
.éz5E5E525E52âE5E525E525E5ëâšsšsízizšâiêšâšsiâšâza. 

Wäääãššššššššäääy 
É äšäãšëäšäšäšäšäšä Cresâever 

'\'‹5'\1:§z1:1:2:I:2z25:1:1:1:1:¢:1:1:1š1:i:1:1:1§1§í:1:§§V 'QEIÉ1ÉIÉIÉIE1E151E152E251Eišfšišišišišišišizííí3111Ei11ÍIíI5Ifiíi111511151É-2í2ÍiÍ1151¡2¡1¡I5I¡I¡$2¡¢f1í2¡1¡;

Y 

.... 

Figura 3.1 - Ciclo de operações dos algoritmos genéticos 

Os estágios que compõe este ciclo são, portanto: criação da população inicial, 
constituída por indivíduos que representam possíveis soluções do problema; 

avaliação da aptidão de cada individuo da população com a função objetivo; seleção



20 

dos indivíduos para reproduçao conforme a aptidão dos mesmos; reprodução dos 
indivíduos selecionados utilizando-se operadores genéticos como o crossover e a 
mutação; parâmetros e critérios de parada e substituição de parte da população com 
uma nova geração de indivíduos (Goonatilake e Treleaven, 1995). 

A unidade básica dos AGs é o gene, que controla uma determinada propriedade de 
um individuo. O conjunto de genes forma o cromossomo, que representa, através de 
uma codificação apropriada, uma possível solução do problema para uma dada

~ 
funçao objetivo. 

Nos Algoritmos Genéticos, os cromossomos são tipicamente representados como 
uma string de bits. Contudo, esta representação também pode ser realizada através de 
números inteiros ou reais (Chambers, Corcoran &amp;amp; Wainwright, 1995). 

A população é o conjunto de cromossomos, ou indivíduos, envolvidos em um 
determinado momento do processo de busca da solução. O tamanho da população 
indica o- número de pontos do espaço de busca que estão sendo considerados em 
paralelo. 

A solução do problema apresenta-se de duas formas: o cromossomo com a 
inforrnação genética crua (genótipo) manipulada pelos AGs e o fenótipo que é a 
expressão do cromossomo em termos do modelo (Chambers, 1995). 

A avaliação da adequabilidade de cada indivíduo ao meio é realizada através da 
função de Fitness, que estabelece critérios para determinar que cromossomos são 
boas soluções para o fenótipo, dentro do espaço de otimização. Para cada 

cromossomo está associado uma função de Fitness. 

3.1.3 Operadores Genéticos 

Os Algoritmos Genéticos baseiam-se nos operadores genéticos para seleção, 
crossover, mutação e substituição da população. (Chambers, Corcoran &amp;amp; 
Wainwright, 1995) 

Os operadores de seleção utilizam os valores de fitness para escolher uma parte da 
população para serem os pais da nova geração, baseando-se no princípio que os



21 

individuos mais aptos têm maior probabilidade de serem escolhidos. A técnica de 
seleção mais utilizada em Algoritmos Genéticos é implementada por uma roleta onde 
cada indivíduo é representado por uma fatia proporcional a sua aptidão relativa 
(Almeida, 2000). 

Os operadores de substituição da população devem assegurar que os cromossomos 
menos aptos ou mais fracos sejam substituídos por outros com maiores valores de 
fitness. As técnicas de substituição mais utilizadas são a troca de toda a população, 
troca com elitismo, onde se copia o cromossomo mais apto da geração anterior para a 
geração posterior, troca parcial da população, substituindo-se os piores indivíduos e 

troca parcial da população sem que haja indivíduos duplicados. 

Os operadores genéticos para a reprodução imitam o processo de hereditariedade dos 
genes para criar novos descendentes a cada geração. Segundo Goldberg [1989], o 
mecanismo de funcionamento dos AGs podem ser considerados extremamente 
simples, não envolvendo nada além de cópias e permutações de parte dos 

cromossomos (na nomenclatura dos AGs, strings). AGs simples que produz bom 
resultados em vários problemas práticos são compostos de três operações 
fundamentais: 

a) reprodução, que é 0 processo em que strings individuais são copiadas de acordo 
com os valores das funções de fitness, isto é, as funções com maiores valores 
fitness possuem maior probabilidade de contribuir com um ou mais descendentes 
na próxima geração. Este operador é uma versão artificial da seleção natural de 
Darwin. A maneira mais simples de criar este operador é através de um sorteio 
onde a probabilidade de ocorrer um evento "x" é diretamente proporcional ao 
valor dos fitness; 

b) crossover é a operação em que os substríngs (genes) individuais são trocadas e 
novos indivíduos são gerados. Isto acontece após a reprodução dos elementos 

gerados, através de permutação de parte das strings de individuos escolhidos 

aleatoriamente. Há, portanto, a necessidade da determinação da posiçao onde 

serão partidas as strings selecionadas.



22 

Exemplo: ocorrência de crossover entre dois indivíduos de uma população na 
posição 4 das strings. Observa-se a representação da string em números binários (esta 
representação se dará em todo o trabalho). 

Quadro 3.1 - Exemplo de Crossover 

String antes do Crossover String após Crossover .'*“'“'*^"^°'^“'^- 
f 

.- 

f 

.- 

f 

.- 

f 

.- 

f 

.; 

; 

:- 

‹ 

~: 

c

S 

2 

IE :-

› 

15 

lí 

divíduol ãiiiioooo ã11111111
=
: 

divíduo 2 00001 1 1 l 000000005 

ãPosição escolhida = 4 

A taxa de crossover é a probabilidade de um indivíduo ser recombinado com outro. 

c) mutação é um processo de troca aleatória de um gene em um cromossomo, 
visando garantir que não haja perda de características importantes, isto é, a 

mutação proporciona o aparecimento ou reaparecimento de características não 

existente na população atual. 

Quadro 3.2 - Exemplo de Mutação 

string antes da mutação Estring após mutação 

ndivíduo n 111110000 fll0l 10000 

_ utação na posição 2 da string 

Desta forma, a mutação é um operador exploratório que tem por objetivo aumentar a 
diversidade na população. A taxa de mutação indica a probabilidade do conteúdo de 
cada posição/ gene do cromossomo ser alterado. 

3.1.4 Obtenção de novas gerações 

Para se obter a população da geração t + 1 (população inicial a cada ciclo), a partir da 
população da geração t, seguem-se os seguintes procedimentos:



23 

0 calcula-se a adequação do indivíduo ao meio ambiente (fitness), e os 

cromossomos com maior fitnesses terão maior possibilidade no processo 
evolutivo; 

0 seleciona-se, de forma aleatória, os cromossomos para o cruzamento; 

0 quando o cruzamento é realizado, determina-se, de forma aleatória, uma posição 
física do cromossomo como ponto de corte. Então, os dois cromossomos trocam 
suas partes cortadas (crossover), gerando assim dois descendentes; 

0 para os descendentes obtidos, pode-se aplicar a operação de mutação a cada
~ 

posiçao ñsica do cromossomo. 

O processo de busca da solução nonnalmente tem como critério de parada o número 
de gerações, ou seja, o total de ciclos de evolução de um algoritmo genético. Outro 
critério de parada que pode ser utilizado é a melhor solução do problema que não 

apresenta evolução após um número pré determinado de gerações. 

As taxas de aplicação do crossover e de mutação podem variar a cada ciclo, em 
função de uma melhor performance na busca da solução. A taxa de aplicação do 
crossover pode ser maior nas primeiras gerações, quando a população se apresenta 

dispersa no espaço de busca. Após várias gerações, os indivíduos tendem a 
apresentar características similares e neste momento pode ser interessante aumentar a 
taxa de mutação para trazer novo material genético para a fomração de melhores 

indivíduos (Almeida, 2001). 

A determinação destas taxas de aplicação é denominada de interpolação de 
parâmetros e pode ser linear ou adaptativa. Na interpolação linear, um parâmetro é 
variado entre um valor inicial e final, através de ajustes fixos, linearmente a cada 
conjunto de gerações. A interpolação adaptativa normahnente é empregada para 
ajuste da taxa de aplicação de operadores, considerando o desempenho destes 

operadores nos ciclos anteriores. Este desempenho é medido em função do sucesso 
destes operadores na criação de melhores indivíduos.



24 

3.1.5 Similaridade entre strings 

Outro conceito importante que pode ser utilizado para orientação da busca de solução 

é o Schema (Goldberg, 1989), termo utilizado para comparar a similaridade entre as 
strings, conforme as posições dos caracteres que a compõe. Em certos casos, é 
interessante a busca de indivíduos com alguma característica similar entre si, 
traduzido por um subconjunto de strings iguais em uma determinada posição. Como 
exemplo, utilizando o caracter * para representar a posição (ou posições) cujo valor 

não é importante para a pesquisa, formando uma schemata, podemos dizer: 

Quadro 3.3 - Exemplos de Schema 

. Schema Combinaçao possíveis de Strings 

*0000 ¶00000 e 10000 

000 00000 00001 10000 e 10001 

Desta forma, o conceito de schema oferece um poderoso e simples maneira de 
descrever similaridades bem definidas entre strings de comprimentos definidos. Deve 
ser enfatizado que o caracter * é um meta-símbolo, nunca explicitamente processado 
pelo algoritmo genético, sendo simplesmente uma notação que permite descrever 
todas as possíveis similaridades entre strings de um detenninado comprimento 
(Goldberg, 1989). 

3.2 APLICAÇÕES DOS AGS EM PROBLEMAS DE 
SCHEDULING 

Um dos grandes propósitos dos AGs é sua utilização para a seleção de parâmetros 
para otimizar a performance de sistemas operacionais reais, tais como a distribuição 
de gás através de uma rede de gasodutos, rede de semáforos de uma malha viária, 
rotas de entregas, alocação de fundos para desenvolvimentos de projetos, manuseio e 
mistura de materiais, bem como o scheduling de vários sistemas de produção 
(Chambers, 1995).



25 

Estes sistemas operacionais tipicamente dependem de parâmetros de decisão que 
devem ser escolhidos, pelo projetista ou pelo operador, respeitando-se as restrições 
envolvidas. A escolha apropriada ou não dos parâmetros de decisão conduzirão a 
uma melhor ou pior performance do sistema, a ser medida por um objetivo relevante 
ou função de fitness. A maioria dos trabalhos publicados utilizando-se Algoritmos 
Genéticos são voltados para a otimização ou melhora de sistemas operacionais 

(Chambers, 1995) 

Algoritmos Genéticos Multi-Objetivos podem resolver problemas de otimização não 
lineares que envolvem variáveis discretas e contínuas é largamente utilizado em 
problemas onde parâmetros múltiplos devem ser otimamente configurados 
simultaneamente (Efthimeros et al, 2000). 

Atualmente os AGs tem sido utilizados em vários tipos de aplicações no campo da 
engenharia. Alguns exemplos são: Otimização de sistemas de gasodutos 

[GOLDBERG, 1983], layout de circuitos VLSI [DAVI, 1985] e a otimização do peso 
do braço do trem de pouso de aeronaves [MINGA 1986]. 

As propriedades teoricamente justificadas dos algoritmos evolutivos, sugere a 
efetividade da utilização de algoritmos genéticos para a resolução dos problemas 

combinatoriais encontrados em problemas de scheduling (Sikora, 1996). 

Em problemas de engenharia industrial, onde as aplicações ainda são escassas, 
aparecem com destaque os trabalhos de Davis [l992], que trabalhou com a alocação 
de espaços em Bins, isto é, utilizou os AGs para calcular a melhor combinação de 
colocação de objetos em espaços limitados. 

Mais especificamente quanto ao scheduling, os trabalhos de Davis [l985], Syswerda 

[l991], Whitley e Starkweather [1989], Bagchi e outros [1991] se concentraram no 

problema de determinação da melhor alocação de recursos a tarefas, visando a 

diminuição do tempo de leadtime e a maximização da utilização dos recursos. 

O problema job shop clássico é um dos mais bem conhecidos problemas de 
scheduling de máquinas. Cleveland e Snúth [1984] concentraram em problemas 
relacionados a liberação de ordens de produção em plantas do tipo job-shop. 
Aplicaram o mesmo método usado em problemas da determinação de rotas para



26 

"caixeiros viajantes". Compararam os resultados com as regras SPT, EDD e LST e 
constataram a aplicabilidade deste método. Problemas de scheduling de máquinas 

aparecem em diversas áreas, tais como sistema de manufatura, planejamento da 
produção, logistica, etc. 

Winston (1999) apresenta a resolução de um problema de job shop com uma 
máquina única, utilizando o pacote comercial RiskOptimizer, baseado em 
Algorítimos Genéticos. Da mesma forma, exemplificou a utilização deste pacote para 
a solução de um problema de carregamento de uma fiota de caminhões. 

Preocupando-se com o problema da programação da produção, Husband, Mill e 
Warrington [l992], propuseram um método de solução através da evolução das 
ordens de produção geradas. Constataram por fim a evolução da performance das 
ordens geradas. 

Segundo Bauer, o artigo “A System for Learning Routes and Schedules with 
Genetic Algorithms” de 1989, escrito por P.S Gabbert, D. E. Brown, C. L. Huntley, 
B. P. Markowicz e D.E. Sappington, é uma boa mostra de como Algoritmos 
Genéticos podem ser utilizados para a exploração de rotas e solucionar problemas de 
scheduling em uma rede ferroviária de transporte. Neste caso, os Algorítimos 
Genéticos provaram ser especialmente úteis para análise de sensibilidade a partir da 
utilização de vários modelos complexos de custos. 

Syswerda e Palumucci (1991) desenvolveram um trabalho baseado em Algorítimos 
Genéticos para resolver o scheduling das tarefas que deveriam ser realizadas em um 
laboratório de testes do jato da marinha americana F-14, considerando as prioridades 

de pesquisa, tempos de execução e preparo dos ensaios, recursos necessários e 

restrições de sequenciamento. 

Bem recentemente, há exemplo de utilização de algoritmos genéticos para 
programação da produção de óleos combustíveis e asfaltos de uma refinaria de 
petróleo, visando otimizar os objetivos envolvidos nas etapas de produção, 

estocagem e distribuição. (Almeida, 2001). Neste trabalho, para agregar os diversos 

objetivos, foi utilizada a técnica de minimização de energia, desenvolvida por 

Jonathan (1999) especialmente para ser utilizada dentro de um algoritmo genético. A



27 

propriedade fundamental deste método é dinamicamente adaptar os pesos através de 
um processo evolucionário tal que as prioridades são constantemente alteradas para 
os objetivos menos satisfeitos pela população em geral. 

3.2 CONSIDERAÇÕES FINAIS 

Neste capítulo, após uma introdução teórica, foi apresentado as diversas 
possibilidades de utilização de Algorítimos Genéticos para a resolução de problemas 

de programação de produção. 

Ressaltou-se a adequabilidade desta técnica para a otimização de problemas não 

lineares que envolvem variáveis discretas e contínuas, como é o caso do problema de 
scheduling. 

No próximo capítulo será detalhado um problema real de programação de produção, 
envolvendo uma área especifica de uma refinaria de petróleo, para a qual será 
desenvolvido uma proposta de solução aplicando-se algoritmos genéticos.



28 

4 DESENVOLVIMENTO DE SOLUÇÃO PARA O 
SISTEMA DE GLP DA REVAP 

Nos capítulos anteriores, discorreu-se sobre o problema de programação de produção 
em refinarias de petróleo de uma forma geral, considerando-se o potencial dos 
algoritmos genéticos como técnica para a resolução de problemas deste tipo. 

Concluiu-se que para desenvolvimento de um aplicativo para computador baseado 
em algoritmos genéticos, toma-se necessário primeiramente a escolha de um sistema 
específico de programação de produção de uma refinaria, para então desenvolver-se 
uma solução para o mesmo com a técnica escolhida. 

Desta forma, neste capítulo, é detalhado um problema real de programação de uma 
refinaria de petróleo, no caso a área de Gás Liqüefeito de Petróleo da Refinaria 

Henrique Lage da PETROBRAS (REVAP). Posteriormente, é descrito o 
desenvolvimento da solução do problema proposto, utilizando-se para isso um pacote 
comercial baseado em Algoritmos Genéticos. 

4.1 SISTEMA DE GLP DA REVAP 

4.1.1 Descrição do sistema 

O gás liqüefeito de petróleo, conhecido como GLP, é basicamente uma mistura de 
hidrocarbonetos com 3 e 4 átomos de carbono e recebeu seu nome em função do 
fato de poder ser liqüefeito à temperatura ambiente por simples compressão. Esse 

produto pode ser usado como combustível doméstico para aquecimento de ambientes 
ou preparação de alimentos e é também uma fonte importante de intermediários 
petroquímicos, como o propeno e o iso-butano.



29 

O fato do GLP poder ser liqüefeito à temperatura ambiente e pressões moderadas 
permite o armazenamento de grandes quantidades do produto usando, na maioria dos 

casos, vasos de pressão de forma esférica, conhecidos simplesmente como esferas. 

O parque de armazenamento da refinaria em estudo é composto de 8 esferas capazes 
de estocar GLP ou propano (alta pressão e baixa densidade) e 4 esferas para butano 
(baixa pressão e alta densidade), cada uma com capacidade para 2.700 m3. 

Na refinaria estudada, a unidade de craqueamento catalítico produz a maior parte do 
GLP (cerca de 90 %), enquanto que o restante é produzido pela destilação 
atmosférica. Ambas as correntes são misturadas e enviadas a uma coluna de 
destilação, conhecida como depropanizadora, que produz uma corrente rica em 
hidrocarbonetos com 3 átomos de carbono e uma outra corrente rica em 
hidrocarbonetos com 4 átomos de carbono. Estas duas correntes sao conhecidas 
simplesmente como propano e butano, apesar de não constituírem correntes puras. 

A coluna depropanizadora pode operar em dois modos (campanhas) diferentes: o 
normal, utilizado para produzir butano intermediário para carga da Unidade de 

produção de MTBE e um modo especial, que o utilizar uma alta taxa de refluxo 
interno, produz propano petroquímico, junto com o butano intermediário. Esse 
propano petroquímico, conhecido como propano intermediário ou propint, é um 
produto muito lucrativo e, naturalmente, sua produção é maximizada. Em função de 
alguma eventual limitação operacional, é possível, principalmente no modo propint, 
que a depropanizadora não consiga processar toda a corrente de GLP e, assim, parte 
da sua carga acaba sendo desviada diretamente para armazenamento. 

A unidade de MTBE, que processa o butano intermediário, produz o metil-tércio- 
butil-eter, um aditivo de octanagem para a gasolina. Como subproduto, a unidade de 
MTBE gera uma corrente rica em hidrocarbonetos saturados com 4 átomos de 
carbono (n-butano e iso-butano), conhecida como rafinado e também utilizada para 
produção de gás engarrafado, desde que misturado com o GLP em uma proporção 
adequada (limitada pela densidade da mistura). A figura seguinte mostra 
esquematicamente o sistema de produção de GLP e seus subprodutos na refinaria 
estudada



30 

¡ 
:¡:¡:;1;:;1 ;Z;.;.;.-' .;1;Z;1;Z;1;‹ 

E 
¿(:3:1:1:¡:¡:1:¡:§:¡:-. 

.......................... 

l fa»

Ê 

--- -- ----1 .-.-.¬-.-.¬¬-.¬-.¬¬¬¬¬¬¬ ¬¬¬¬¬¬¬¬¬¬¬¬¬¬-w.-. 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

V 
Cias 
üistrâb 

Figura 4.1 - Esquema de produção e armazenamento de GLP da Refmaria 
Henrique Lage. 

Em operação normal, quando não está se produzindo propint, o propano oriundo da 
depropanizadora é enviado para uma esfera que esteja armazenando GLP junto com 
0 rafinado oriundo da MTBE e com o GLP que não foi processado pela 
depropanizadora. Nesta situação, uma esfera de GLP está recebendo a produção e 
uma esfera de butano está recebendo o butano intermediário (carga da unidade de 
MTBE). 

Quando se produz o propint, em um mesmo instante três esferas recebem um 
determinado produto. Uma esfera de GLP recebe o propint, outra esfera de GLP 
recebe a vazão de produto não processado na depropanizadora. e uma esfera de 
butano recebe o Rafinado 

Na maior parte do tempo, a esfera que recebe o butano intermediário da 
depropanizadora alimenta ao mesmo tempo a unidade de MTBE (operação pulmão).



31 

4.1.2 Razões apara escolha deste sistema para desenvolvimento da 
solução 

A motivação para escolha do sistema de GLP da REVAP para desenvolvimento de 
uma solução baseada em Algorítimos Genéticos é resumida nos seguintes tópicos: 

- sistema que exige uma maior atenção do programador de produção, em função da 
capacidade de armazenamento das esferas ser relativamente pequena e da 

flutuação da demanda do GLP devido a fatores externos a refinaria . 

- oportunidade de otimização da produção de Propint, de maior valor agregado. A 
disponibilidade de uma solução em computador para este sistema poderia 
viabilizar a redução do estoque médio de GLP, abrindo a possibilidade de 
aumentar o número de esferas para o Propint, com conseqüente aumento da 
produção do mesmo. 

- Poucas variáveis físico-químicas envolvidas, facilitando sua representação 

matemática 

- As ferramentas em computador disponíveis para resolução deste problema ainda 
estão incipientes. 

4.1.2 Objetivos do programador de produção para este sistema 

O desenvolvimento do algoritmo para solução do problema deverá considerar os 
reais objetivos do programador de produção para o sistema em questão. Para a área 
de GLP da REVAP, deve-se sempre garantir uma quantidade de produto suficiente 
para atendimento da demanda diária, acordada semanalmente com as companhias 
distribuidoras locais. 

A previsão de retirada diária pode ser revista ao longo de semana em função de 
alteração significativa de alguma premissa considerada. Contudo, redefinições da 

quantidade diária de GLP a ser bombeado ao longo da semana devem ser evitadas, 
em função dos transtomos causados aos clientes.



32 

Por outro lado, sempre deve haver espaço suficiente nas esferas para recebimento da 

produção prevista de GLP, para evitar uma redução da vazão de carga da UFCC, 
com graves prejuízos financeiros. Além disso, deve-se procurar maximizar a 
produção de propint, com o mínimo de trocas de campanha (normal por propint e 
vice-versa). Por último, deve sempre haver um estoque mínimo de butano 
intermediário para possibilitar a máxima carga programada da UMTBE 

Resumindo, para um determinado intervalo de tempo t , os objetivos do programador 
de produção da REVAP para área de GLP são: 

0 Maximizar a venda de GLP e Butano, mas com estoque de produto suñciente 
para cumprir diariamente a programação de bombeio negociada: 

onde:

T 
Max Z (VG , +1/B ,) 

:=1 
VGt = Venda de GLP (em ton) no intervalo de tempo t 
VB; = Venda de Butano (em ton) no intervalo de tempo t 

VG, = Z1, *QG*h 

VB, = Z3, *QB*h 
Z lt - variável binária para representar a decisão para a venda de GLP em um dado 
intervalo t (igual a zero se não houver venda e igual a um, no caso de haver venda) 
Z3t -idem a Z1t, referente ao Butano 
QG - vazão normal de bombeio de GLP para venda (em ton/h) 
QB -idem a QG, referente ao Butano 
h - duração do intervalo de tempo t (em horas)



33 

0 Maximizar o estoque de Propint no período

T 
Mzzxzm 

t=l 

onde: 

PP, zzz, *c3, *h 

PPt - produção de propano no intervalo t (em ton) 

Z 2t - variável binária para representar a decisão de realização de produçao de 
propint em um dado intervalo t (igual a zero se não houver produção e igual a um, no 
caso de haver produção) 

C3t - Vazão de topo da Depropanizadora (ton/h) em um intervalo de tempo t 

0 Minimizar o número de trocas de campanha (Normal x Propint e Vice-versa)

T 
Minz módulo (Z2 1- Z2,) 

tl 
t+ 

Desta forma, aplicando-se preços aos produtos envolvidos e um custo vinculado às 
trocas de campanha, pode-se associar estes objetivos com um resultado econômico a 
ser otimizado. 

T T T 
F.01›j =Mzzzzy JG *zu/G,+VB,)+JP*2 PP,-JXz¢zbs(z2,,-22,)+ 

t=l t=l t=l 

onde: 

JG = preço de venda da mistura GLP/Butano (em $/ton)



34 

JP = preço de venda do Propint (em $/ton) 

JX = custo de troca de campanha (em $) 

4.1.3 Parque de armazenagem 

As principais dificuldades na programação de produção deste sistema decorrem do 
fato da baixa capacidade de armazenagem em relação à vazão de produção total de 
GLP. Quando não está se produzindo propint, o espaço total disponível em uma 
esfera é suficiente para apenas um dia de produção normal de GLP. 

Por outro lado, o enchimento de uma esfera que esteja recebendo propint pode durar 
até três dias, sendo que a meta usual de produção de propint é de pelo menos duas 
esferas por mês. Desta forma, visando minimizar interrupções de produção de 

propint, deverá haver estoque suficiente de GLP no início da campanha, para 
garantir o atendimento da demanda do produto 

Dispõem-se de no máximo 12 esferas, sendo 8 esferas (EF) para armazenar GLP ou 
Propano e 4 esferas para armazenar Butano intermediário ou Rafinado, com cada 
esfera podendo armazenar até 2700 M3. É possível em que um determinado 
momento uma ou mais esferas estejam em manutenção, não sendo disponiveis para 
operação. Contudo, é possível considerar que para o período considerado, o número 

de esferas disponíveis seja constante. Também deve ser considerado que não há 
mudança do tipo de produto em uma determinada esfera ao longo do período 
considerado. 

Para que uma esfera (de GLP ou rafinado) esteja considerada disponível para a 
expedição, a quantidade de produto na mesma deve corresponder a pelo menos 
quatro horas de bombeio. Além disso, o recebimento da produção na mesma deve 
ter sido encerrado no pelo menos oito horas do início do bombeio para as 
companhias, tempo necessário para que sejam executados os procedimentos de 

amostragem e análise pelo laboratório.



35 

Deve ser portanto considerado para a solução do problema os estoques máximos e 
mínimos de cada produto envolvido: 

GN éEG +ÊPG,-Ê!/G, 
GXzEG+ÊPG,-ÊVG, 

I Í 

BN §EB +ÍPB,-ÊVB, 
BX zEB+ÊPB,-ÊVB, 

t t

T 
PX zEP+zPG,

t 

Onde: 

EG = Estoque inicial de GLP (ton) 

EP = Estoque inicial de Propano (ton) 

EB = Estoque inicial de Butano (ton) 

GX = Estoque máximo de GLP (ton) 

PX = Estoque máximo de Propano (ton) 

BX = Estoque máximo de Butano (ton) 

GN = Estoque mínimo de GLP (ton) 

BN = Estoque mínimo de Butano (ton)



36 

No instante inicial t = l, deverá ser conhecido 0 estoque de cada produto (EG, 
EP e EB são dados de entrada). O sistema a ser desenvolvido determina a evolução 
ótima destes estoques, respeitando as restrições impostas acima. 

4.1.4 Considerações sobre a expedição 

Pode ser bombeado para as companhias apenas GLP ou simultaneamente GLP e 
rafinado, desde que a proporção deste último na mistura não ultrapasse 20 % em 
volume, pois há limitação de densidade máxima para o produto entregue. 

A vazão máxima de expedição de GLP/Rafinado é de cerca de 100 ton/h. Os 
bombeios para as companhias devem ocorrer preferencialmente durante o período 
diurno e de forma ininterrupta. Embora sejam possíveis de ocorrer em situações 
contingenciais, bombeios em madrugadas e domingos incorrem em maiores custos 
de mão de obra e devem ser evitados. 

4.1.5 Considerações sobre a produção 

Para um determinado intervalo de tempo T, as produções são fixas, e dependem das 
vazões de carga e rendimentos dos produtos das unidades de processo envolvidas, 

bem como do tipo de campanha realizada (normal ou propint). Para a solução 
proposta, as informações de vazão e rendimentos são dados de entrada e deverão ser 

fomecidas para cada intervalo de tempo. O modelo proposto deverá decidir para 
cada intervalo de tempo a realização ou não da produção de Propano e Rafinado.



37 

Segue abaixo as expressões que representam o balanço de produção, considerando as 

diversas correntes envolvidas. 

PGL = (BP, + (l - Z2,) * (C3, + R,)) * h 

BP , = Vazão de desvio da Depropanizadora (ton/h) em um instante t 

BP ,= PT t - VP t 

PT , = Produção total de GLP (ton/h) em um instante t 

PTt= (QFt*NFt+QDt*NDt)*dl 

C3 ,= Vazão de topo da Depropanizadora (ton/h) em um instante t 

C3, = x*(PZ -BB) 

R , = Produção de Rafinado (em ton/hora) em um instante t 

R, z(1-w)*M, *dz 

onde: 

h = número de horas compreendido em um período t (igual a 6) 

Produção de Butano (em ton) 

PB, = Z2,*R,*/1 

VP t = Vazão de máxima pela depropanizadora (em ton/h) 

QF t= Vazão de carga da UFCC (em M3/h) 

NF Í = Rendimento em GLP na UFCC (% vol)



38 

QD t = Vazão de carga da UDAV (em M3/h) 

ND t = Rendimento em GLP na UDAV (em % vol) 

QM t = Vazão de Carga da UMTBE (em M3/h) 
W = Teor de isobuteno na carga da UMTBE (em % vol) = 
X = Teor de propano no GLP 

4.2 DESENVOLVIMENTO DA soLUÇÃo 

4.2.1 Codificação 

Considerou-se como adequado um horizonte de tempo de 10 dias para o sistema em 
questão, bastante razoável quando se compara ao horizonte de três a cinco dias 

normalmente considerado pelo programador de produção. Cada dia é dividido em 
fatias de 6 horas, definindo o intervalo de tempo T, conforme quadro abaixo: 

Quadro 4.1 - Detalhamento dos intervalos de tempo T 

Periodo Dia / Hora 
=l 00h00 a 06h00 do primeiro dia '-1 

&gt;-š N = 06h00 a 12h00 do primeiro dia 
&gt;-l L» = 12h00 a 18h00 do primeiro dia 
›-1 4:. = 18h00 a 24h00 do primeiro dia 
›-1 uz = 00h00 a 06h00 do segundo dia 
›-1 ua \o = 12h00 a 18h00 do décimo dia 
›-š -|&gt; o = 18h00 a 24h00 do décimo dia 

Desta forma, a população que representará o problema será composta de 

cromossomos com 40 genes. 

Para um determinado período T, as quantidades produzidas e vendidas são fixas. O 
que varia é se aquele produto é produzido e/ou vendido em um determinado instante,



39 

vinculando a códigos binários de decisão (O = negativo, 1 = positivo). Desta fonna 
pode-se construir o seguinte quadro: 

Quadro 4.2 - Variável de decisão por produto 

Produto Produção 
Í 

Venda 
GLP 0 ou 1 O ou 1 
Propint O ou 1 Apenas O 
Butano O ou 1 O ou 1 

Baseado na descrição do sistema apresentada na seção anterior, pode-se valer de 

algumas regras de programação para reduzir o número de combinações possiveis: 

0 A produção de GLP ocorre em qualquer período T 

0 A produção de rafinado só acontece quando se produz propint 

0 A venda de butano, quando ocorre, sempre está vinculada à venda de GLP em 
uma proporção fixa, determinada pela vazões das bombas utilizadas para a 
expedição destes produtos. 

Assim, para um determinado instante, obtém-se os tipos de genes que representam as 
combinações possíveis para os produtos: 

Quadro 4.3 - Tipos de genes para a solução proposta 

Gene Produção Venda GLP Produção Venda Produção Venda 
GLP ropint Propano Butano Butano 

O O O O 
1 O 1 O 

O\£/1-l&gt;~U3l\.)›-^ _z_\_._t_.._› 

-›-›-›~oo_~___ 

__ílUí 

-›-›oo 

oooo 

__; 

-›o-›o



40 

Eliminando as colunas que não interferem na solução: 

Quadro 4.4 - Tipos de genes consolidados para a solução proposta 

Venda GLP Produção Propint Venda Butano 
Gene Z1 Z2 Z3

O 
l\J _\ 

L» _› O O 
-P 

_x Ô _\ 
QI! _; _; É 
ON _\ _; ._x 

1 O O 
O O 

Um cromossomo, constituído por 40 genes do tipo 1 a 6 representa uma possivel 
solução para o problema (seqüência da programação para 10 dias, subdivididos em 
períodos de 6 horas), conforme exemplo no quadro seguinte: 

Quadro 4.5 - Exemplo de Cromossomo para a solução proposta 

Posição 12 3 4 5 õ 7|... \3sl39 40 
cromossomo 13 4 2 615;... |2 ls 6 

4.2.2 Software utilizado 

Para obter a solução da codificação proposta, utilizou-se o pacote comercial 

RiskOptimizer, versão industrial 1.0.1 para Windows 95 (ou superiores), da Palisade 
Corporation, que contem um otimizador baseado em Algoritmos Genéticos, 
denominado Evolver. 

Este pacote pode ser executado em microcomputadores Pentium e está totalmente 
integrado ao Excel (versão 7.0 e superiores), sendo que o usuário deve utilizar as 

planilhas do Excel para construção do modelo. Isto facilita bastante a utilização 

deste pacote, pois o ambiente Excel é muito comum em refinarias de petróleo. 

As planilhas que servem de apoio para a utilização do RiskOptimizer devem conter 
as seguintes definições:



41 

- célula que contém a expressão que se deseja minimizar ou maximizar, conforme 
a função objetivo do problema; 

- conjunto de células ajustáveis, equivalente a um cromossomo, onde os 
parâmetros de controle variam ao longo da execução do programa no processo de 

busca da melhor solução 

- células que contém valores ou expressões que representam as restrições do 
problema. 

Durante o processo de otimização no RiskOptimizer, as células ajustáveis 

(cromossomo) são modificadas dentro dos limites especificados pelas restrições. Para 

cada cromossomo, que representa uma possível solução, o modelo é recalculado e 
um novo valor da função objetivo é gerado. Quando o processo de otimização chega 
ao fim, a solução ótima é a melhor combinação das células ajustáveis em que a 
função objetivo atinge seu valor máximo ou minimo, satisfazendo as restriçoes 
preestabelecidas. 

O RiskOptimizer conta com uma série de métodos de solução, cuja escolha depende 
do tipo de problema a ser resolvido. Cada método de solução é baseado em um 
algoritmo genético próprio, com operadores e rotinas diferentes das demais. 

O RiskOptimizer também permite ajustar uma série de parâmetros de controle do 
processo de otimização, tais como taxas de crossover e mutação, tamanho da 
população, critérios de parada de simulações, etc. 

Quanto às restrições, o RiskOptimizer, as restrições fortes são condições avaliadas 

como verdadeiro ou falso, sendo que um organismo que nao atenda este tipo de 
restrição não pode ser reproduzido. 

As restrições fortes são tratadas pelo RiskOptirnizer através da metodologia 
“backtracking”. Se uma nova geração levar a uma violação de uma restrição imposta, 
o software busca um dos pais e altera o processo reprodutivo até que os descendentes 
gerem um resultado dentro do espaço de busca. Um modelo com muitas restrições 
fortes pode tomar bastante difícil a identificação de possiveis soluções para o 

problema.



42 

Uma alternativa às restrições fortes são as restrições leves, em que o RiskOptimizer 
tenderá a atender, mas que permite ao algoritmo encontrar um maior número de 
soluções. Normalmente, são introduzidas através de funções de penalização da 

função objetivo. 

4.2.3 Variáveis de Entrada e Cromossomo Inicial 

As variáveis de entrada do modelo, com seus respectivos valores e unidades de 
medida, estão listadas na tabela seguinte: 

Tabela 4.1 - Variáveis de entrada para o prob/ema 

Variável Descrição Unidade Va/or 
Atribuídø 

QDi 
QFt 
QM: 
NFt 
NDt 
VPt 
VBtW
X 
d1 
d2 
d3 
QG 
QB 
EB 
EP 
EB 
GX 
PX 
BX 
GX 
PX 
BX 
JG 
JP
H 

Vazão de carga da UDAV 
Vazão de carga da UFCC 
Vazão de carga da UMTBE 
Rendimento GLP na UFCC 
Rendimento GLP na UDAV 
Vazão de carga da Depropanizadora 
Vazão de desvio da Depropanizadora 
ISOBUTENO CARGA MTBE 
PROPANO NO GLP 
Densidade do GLP 
Densidade do Butano 
Densidade do Propano 
Vazão de bombeio GLP 
Vazão de bombeio Butano 
Estoque inicial GLP 
Estoque inicial C3 
Estoque inicial C4 
Estoque máximo GLP 
Estoque máximo C3 
Estoque máximo C4 
Estoque mínimo GLP 
Estoque mínimo C3 
Estoque mínimo C4 
Preço de venda do GLP/Butano 
Preço do Propint 
Duração de um período 

M3/h 
M3/h 
M3/h 
% vol 
% vol 
M3/h 
M3/h 
% vol 
% vol 
kg/M3 
kg/M3 
kg/M3 
ton/h 
ton/h 
ton 
ton 
ton 
ton 
ton 
ton 
ton 
ton 
ton 
$/ton 
$/ton
h 

1500 
500 
50 

21,596 
1,096 
100 
2215 
20%@ 
50%» 
Q548 
Q585 
Q511 

80 
16 

3500
0 

400 
7000 
2800 
4200 
1400 

0
0 

100 
150

6



43 

As variáveis de entrada, identificadas pelo indice t, são representadas no Excel por 
uma matriz coluna de 40 elementos com valores correspondentes às previsões destas 
variáveis para cada intervalo de tempo. Para o problema proposto, as variáveis QDt, 

QFt, QMt, NFt, NDt, VPt e VBt foram consideradas constantes ao longo de todo o 
período. 

As demais variáveis são constantes ao longo do tempo, incluindo as restrições de 
estoques máximos e minimos para cada produto. Os valores referentes aos preços dos 
produtos são fictícios. 

Para a configuração do cromossomo inicial, preencheu-se as quarenta células que o 
compõe utilizando-se a função Aleatório do Excel com ajuste do valor de cada célula 
considerando se a venda de GLP deveria ocorrer (valores entre três e seis) ou não 
(valores entre um e dois) naquele período que a célula representava. 

4.2.4 Cálculo da Função Objetivo 

Conforme o item 4.2.1, as variáveis de decisão Z1, Z2 e Z3 para a produção de 
Propint, venda de GLP e venda de Butano, respectivamente, são funções do valor do 
gene do cromossomo vinculado a um determinado periodo h. 

Assim, a planilha no Excel foi constmída de tal forma que os valores de cada gene, 

reconhecidos pelo RiskOptimizer como células ajustáveis, e que são atualizados a 
cada iteração, impliquem na alteração dos valores de Z1, Z2 e Z3. 

Com os valores de Z1, Z2 e Z3 e das variáveis de entrada e levando em conta os 
estoques dos produtos e a campanha realizada no instante imediatamente anterior, 
detennina-se, para cada intervalo de tempo, as vendas de GLP e Butano, produção de 
Propint, estoques de cada produto e se houve troca de campanha. 

A função objetivo para o problema proposto pode então ser calculada efetuando-se 
um somatório da receita obtida com as vendas de GLP e Butano ao longo do 
horizonte de tempo, adicionando-se o valor do estoque final de propano e 

descontando-se o custo total das trocas de campanhas ocorridas.



44 

Contudo, visando uma maior robustez da solução encontrada conforme será 
mostrado posteriormente, incluiu-se na função objetivo penalizações no caso de 

violação dos estoques mínimos de GLP e Butano em algum intervalo de tempo. 

4.2.5 Parâmetros utilizados para execução do otimizador 

Para a solução do problema proposto, foi escolhido o método de solução disponível 
no RiskOptimizer denominado “schedule”, apropriado para a alocação de tarefas de 
mesmo comprimento em um número detenninado de intervalos de tempo discretos, 
atendendo-se às restrições pré-definidas durante o processo de alocação. 

Para o problema proposto, cada gene (do tipo 1 ao 6) corresponde a uma tarefa, a ser 
alocada em quarenta intervalos de tempo distintos. Utilizou-se a codificação própria 
do Evolver do RiskOptimizer para definir as células ajustáveis, cujos valores 

deveriam respeitar as restrições impostas, conforme as descrições abaixo: 

0 os intervalos de tempo correspondentes às manhãs dos dias úteis não 
podem assumir valores 1 ou 2, ou seja, sempre deve haver venda de GLP 
nestes períodos. 

0 no período correspondente à madrugada de Domingo, o valor da célula 

ajustável não pode ser igual a 3, 4 , 5 ou 6, definindo a não entrega de 

produtos neste período específico. 

O vetor que representa o cromossomo, com suas quarenta posições, foi definido 
como o range de células ajustáveis. As taxas de crossover e mutação variaram entre 
0,3 e 0,9 e 0,1 a 0,5 respectivamente. 

O endereço da célula na planilha Excel referente à função objetivo foi vinculada à 
opção de maximização do valor da mesma. 

Definiu-se como restrições fortes os estoques mínimo e máximo de GLP e estoques 
máximos de Butano e Propint. Incluiu-se também, como restrição fraca, o número



45 

de ocorrências de vendas na madrugada, penalizando a função objetivo se o número 
destas ocorrências fosse superior a cinco. 

Para controle do número de ocorrências de trocas de campanhas Propint x GLP, 
mostrou-se mais efetivo inserir este fator como uma parcela da função objetivo, 
atribuindo-se um custo fictício para cada mudança. A utilização de restrição forte 
para efetuar este controle acarretava não convergência da solução, enquanto a 

utilização de restrição fraca não se mostrou efetiva. Contudo, utilizando-se esta 

metodologia, foi observado um maior tempo computacional para detemnnação da 
função objetivo. 

Verificou-se também que para se obter uma maior robustez nas soluções 
encontradas, introduziu-se na própria função objetivo parcelas que a penalizavam 

no caso de violação dos estoques mínimos de GLP e Butano em algum período, mas 
mantendo as mesmas como restrições fortes. 

4.2.6 Resultados Obtidos 

Após a configuração final do modelo no Excel, foram efetuadas cerca de sessenta 
simulações no RiskOptimizer. O tempo médio de execução de cada simulação foi de 
3 minutos em média, utilizando-se um Pentium II de 500 M1-lz. 

Manteve-se os parâmetros de ajuste do otimizador em pelo menos cinco simulações 
subsequentes. Comparou-se a média dos resultados das simulações de mesmo 
parâmetros, visando determinar o melhor conjunto. 

Para vinte simulações, a função objetivo não contemplava as penalizações referentes 

às violações de estoque mínimo de GLP e Butano, especificando estas variáveis 
apenas como restrições. 

Contudo, com esta configuração do modelo, os estoques mínimos de GLP e Butano 
(1400 e O toneladas, respectivamente) não foram atendidos nas soluções encontradas, 

mesmo variando-se os parâmetros do otimizador, conforme mostra a tabela seguinte:



46 

Tabela 4.2 - Resultados das simulações sem penalização da função 
objetivo no caso de violação dos estoques mínimos de GLP e Butano 

Simulações A B C D 

RESULTADOS 
Simulações Válidas 103 404 420 414 
Total de Simulações 496 772 964 989 
Melhor Valor Encontrado 1.710.135 1.650.735 1.653.945 1.698.945 
+ penalizações restrições fracas -15.027 0 -1.005 -1.005 
= resultados 1.695.108 1.650.735 1.652.940 1.697.940 
Ocorrido na tentativa # 2 303 319 313 

Critério de Parada Change&lt;1% Change&lt;l% Change&lt;l% Change&lt;1% 

Número de Troca de Campanhas 18 11 9 6 
Estoque Mínimo de GLP 1189 934 1537 801 
Estoque Mínimo de C4 504 -123 -301 24 
Número de Vendas na Madrugada 5 4 6 6 

PARAMETROSA 
Taxa de Mutação 0,2 0,1 

' _ 
0,3 0,5 

Taxa de Crossover 0,8 0,9 0,5 0,5 
Tamanho da População 50 50 70 70 

Também verificou-se para esta rodada de simulações, um número excessivo de 
trocas de campanhas. 

Os gráfico abaixo representa a evolução do estoque de GLP referente a simulação D 
apresentada na Tabela 4.2, com a função objetivo não incorporando estas variáveis.



Estoque de GLP 

aooo 47 

6000 

-1;§;§;§;§;§; -. §;§;§;§;§.§;§;§.1;§.1.' 5000 
555É5ÊÊÊÍÊÊ1:3:í:í:!:í:1:5:1:i:í:í:i:1:1:2:1:1:2:1:1:í:¡:Í:1:¡:¡:!:í:1:í:1:1:1:1:=:1:I:1:1:1:1:í:1:1:!:1:!:í:Í:1:1:2:1:1:1 i:Í:1:f:1:¡:1:1: ÊÊÊÊÊÊÊÊÊÊÊÊÊÊÊÊÊÊÊÊÊÊÉ. 

*ESÍOQUE Gl-F” (Í°fl) 
---- ~Esf‹›que Mínimo GLP (ton) 
'''' -1 ESf°&lt;=~° Má×im° GLP&amp;lt;f°fl&gt; 

E 4000 
I- 

ššššššššššššíšíšíšÉÉÉÉÉÉÊ?ÊšâiÍÍÍÍÍšÍÍ5¡ÊÊ5`5`5`5` 1 
3000 

2000 

1000 
~: ~.-.-.;.;:;:;:;:;:;;;:;:;:;:;:;:;:¡:;:¡:¡:;:;:;:;:;:;:;:;:;:;:;:;:;:;:;:;:;:;:;:;:¡:;:;:;:;:;:;:¡:;:;:;:;:;:;:;:;:;:;:;:¡:;:¡:;:¡:;:;:¡:¡:¡:;:;:¡:;:;:;:;' 

' ' ' 

.;.;.;¿

z 
:;:z:;:;:;:¡:;:;:;:¡:;:¡:¡:;:;:;:;:;:;:¡:;:¡:;:¡:;:¡:¡:;:¡:¡:;:¡:;:¡:;:;:;:¡:¡:;:¡:;:;:;:;:¡:;:¡:;:¡:;:;:¡:;:;:¡:;:¡:;:¡:;:¡:;:¡:;:¡:;:;:;:;:;:¡:;:;:;:;:;:¡:¡:¡:¿:¿:;:;:¡:;:¡:;:¡:¡:¡:¡:¡:¡:¡:¡:¡:¡:¡:¡:¡:¡:;:¡:¡:¡:¡:¡:;:¡:¡:¡:¡:¡:¡:¡:¡:¡:¡:¡:;: 

. . . 1 . . 1 . . 1 

0 5 10 15 20 25 30 35 40 45
0 

Tempo (intervalos de 4 horas) 

Verifica-se que o estoque de GLP atingiu o valor de estoque mínimo antes do final 
do horizonte de tempo considerado, oscilando em tomo do eixo do estoque mínimo a 
partir do primeiro momento em que esta restriçao foi violada. O mesmo aconteceu 
com a evolução do estoque de Butano. 

Para solucionar este problema, optou-se pela incorporação de penalizações na função 

objetivo no caso dos estoques mínimos de GLP e Butano serem violados, mas 
mantendo-se estas variáveis como restrições fortes para o modelo. 

Além disso, foi aumentado a penalização referente a troca de campanhas na função 
de objetivo em 3,3 vezes. 

Os resultados obtidos após estas alterações no modelo são apresentados na tabela 
seguinte: 

Tabela 4.3 - Resultados das simulações com penalização da função 
objetivo no caso de vio/açao dos estoques mínimos de GLP e Butano 
subgrupo de Simulação A1 B1 C1 D1 E1 F1 

RESULTADOS 
Simulações Válidas 
Total de Simulações 

465 
- 
297 408 388 417 396 

790 719 820 929 919 756 
Melhor Valor Encontrado 
+ penalidades restrições leves 
= resultado 
Ocorrido na tentativa # 

Critério Parada 

Número de Trocas de Campanha 
Estoque Mínimo GLP 
Estoque Mínimo C4 

1.297.315 1.297.733 1.347.535 1.291 .468 1.270.633 1.439.440 
0 O 0 -404 -201 -201 

1.297.315 1.297.733 1.347.535 1.291.064 1.270.431 1.439.239 
364 196 307 316 327 295 

Change&lt;1% Change&lt;1% Change&lt;1% Change&lt;1% Change&lt;1% Change&lt;1% 

9,4 9,2 9,2 8,4 9,2 7 
1442 1452 1483 1528 1507 1482 
262 263 235 368 312 256



48 

Vendas ocorridas na Madrugada 3,4 4,6 4,6 5,2 

PARÂMETROS OPERADORES 

5 4,8 

Taxa Mutação auto 0:5 0,15 0,5 
Taxa Crossover 0,8 0,5 0,3 0,3 
Tamanho da População 100 70 70 70 

Com as alterações realizadas no modelo, verificou-se para todas as simulações 
efetuadas o atendimento das restrições de estoque mínimo de GLP e Butano, mesmo 
elevando-se o estoque mínimo de Butano para 200 ton. 

Os resultados obtidos para cada conjunto de simulaçoes foram bastante próximos, 
demonstrando que a variação dos parâmetros dentro dos ranges utilizados não causou 

impacto significativo na performance do otimizador. 

Entretanto, o conjunto F1, com taxas de crossover e mutação igual a 0,9 e 0,15, 
respectivamente, apresentou o melhor resultado médio entre os conjuntos de 

parâmetros testados. O relatório de saída completo encontra-se no anexo desta 
dissertação. 

O relatório de saida completo do RiskOptimizer para a simulação que apresentou o 
melhor resultado do grupo F1 encontra-se no anexo desta dissertação. 

Os gráficos seguintes mostram a evolução dos estoques de GLP e Butano para a 
melhor solução encontrada: Verifica-se que desta vez, as restrições de estoque 

mínimo foram realmente atendidas, sendo que o otimizador procurou reduzir estes 
estoques no final do período para obter uma melhor função objetivo: 

0,5 0,1 

0,5 0,9 
70 70

5



Estoque de GLP 

8000 ';;¡;¡§1:-:~:- ' 

~:~:~:-:-:-:-:-:-:-: z 
7000 

:¡:1:§:§:i:§ ~. §:§:§:§:§:§:§:§:§:§:§:§:§:§: 

49 

ôooo ¬§;§;§:§;§;§: 

5000 ~ ** 1 

-Estoque GLP (ton) 

0:-:I:I:Izi:1:1:1:1:Í:1:¡:¡:¡:¡:¡:¡:2:€:í:¢:¡:¡:¡:¡:¡:¡:¡: -_ 
.;.;_;.;.;.;_;.;.;.;.;_;_;.;.;_;_;_;_;.;.;.;.;.;.;.-.-.-. ›. 

aooo ¬ 

_ 
----- -- Estoque Mínimo GLP (ton) 
---- -~ Estoque Máximo GLP (ton) 

:§:§:~.`~.×w.~›.~›.-.›.~›.~ ~_ 40 ~zw.w.~_ -_ × ~. -_ ›. t -_ -_ -_ «_ »zz~_~_ \ W. \ ~. z W -.«.›.«. 

1000
` 

lzãiš ~ 

O ¬1:¡:i:¡:í:¡:¡: _ _ _ _ zfziziz _ _ _ _ _ _ _ :i:1:1:¡:f:1:1: _ _ _ _ _ _ _ :1:1:1:1:Í:1:2: _ _ _ _ . . . :2:2:2:¡:Í:2:1: _ _ _ _ _ _ _ :1:1:1:í:f:1:í: _ _ _ _ _ _ _ :=:¡:=:=:§:=:1: _ _ _ _ ._._.,:§:š:É:I:i:I:š: _ _ _ _ . _ _ :2:I:2:I:f:1:1: _ _ _ _ _ _ _ :í:¡:¡:2:ã 

o 5 1o 15 zo 25 ao as 40 

Tempo (intervalos de 4 horas) 

Figura 4.1 - Gráfico da evolução do estoque de GLP 

Estoque de C4 

4500 ' ' ' " 

45 

3500 -zizizizízizíz 

_Išišišišíšlšlšlšii151EiEiEfiíišišíšíšlšišfišëšišišiš _ _ __ ~ _ _ . ÉIEIEI51Êiíiíišlíišišiíišišiíi.... 
u¬ 3000 ~ 

2500 
E *-:-:-:-:-:-:-:-:-:-:- :›:~:~:~:~:~:›:~:‹:-:-:-:-:~:-:-:-:-:-:-:-:-:-:-:-:-:-:~:~:- :~:~:-:~:-:-:-:-:-:~:~:~:~:~:~:~:~:~:~:~:~:-:«:~:›:-:~:^:~:~ 
° 5=E=E=E=E=E1E š1E=E1š=E=š=E=E=E=E=E=E E=E=E=E=E=E=E=E "`=ÊI5¢EIÊ=§IiIEI IEIEIÊIÊIEIEIEIEIEIEIEI I- ;:;:;:;:;:;:; -:~:~:-:‹:~:‹:-:-:-:-:‹ -:-:-:-:-:-:-:‹ :-:‹:-:-:-:-:-: :›:~:~:~:~:~:~:~:›:~:~: 

:¡:¡:i:¡:í:¡: 
" " 

2000 - .=.=_=_=_=_=_ 

- Estoque Minimo 04 (ton) Eswque C4 (f0fl) 
§:§:§:"""' × 

vvvvv V- Estoque Máximo C4 (ton) 

1500 

1000 

O ¬›:~:~:~:~:~:~:~:~:-:~:~:-:-:-:f-:-:-:-1~:-:›:-:~:~:~:-:-:~:‹ã-:-:-:-:-:-:-:-:-:-:-:-:-:-:-:¡;-; :~:-§~:~:-:-:-: z-:~:Íz~z~:~:~:~z~:~z~z~:~:‹:‹:-:~:¡:-:‹:‹:‹:‹:›:›:- :-:-:-:.-:-:-:-:-:-:-:-:-:-:-:-:-:~:-:¡:-:~:-: -:-:-:‹:‹¡ 

13515151525IEIEIEIEIEIEIEIÊIÊSIEIÊIEIEIEIÊIEIEIEI5151EIEIE=E=EIE=E=E=EfšflšíšflšiEiZiEi3212151ZiE=E251215121E1E1E151515151É=5=É151E15=E=E1E=51E=E=` _-215151E1EIE151515251EIEIEIEIEIEIEIEI:-_ "Í1EIE15151525=EIE1E25252525fšIšfE=E=E¢E=E=E=E2šIE1EIEIEIEIEIÊIÊIZIE 

j.::E:E1E:E:E:E:5:5:§:5:§:5:5:5:E:E:=" _.E:E:E:5:E:E:E:E:E:E:E:E:5:E:E:5:5:E:5:E:5:5:E:E:;:;.Ç'1'1:E:E:2:5:E:E2EIE:ErE:E:ErErE:E:E:E:E:§:5:E:E:E:E:E:E:E:E:E:E:E:E 

0 5 10 15 20 25 30 35 40 45 

Tempo (intervalos de 4 horas) 

Figura 4.2 - Gráfico da evolução do estoque de Butano



50 

O gráfico seguinte é apresentado a evolução do estoque de Propano ao longo do 
tempo, para a melhor solução encontrada. Cada ponto de inflexão na curva 
representa uma troca de campanha Propano x GLP ou vice-versa. 

Estoque C3 (ton) 

š5E5š5E=¡===*== 12======š5E;š;E;E;E;E5š§ 

1;:;:;:------›-¡:;:;:;:;:;:;:;:;:;:;:¡:;*---~-;:;:¡:;:¡:¡:;:¡:5-----›:;:;:;:;:;:;:;:;:›--~›- ~'›-'~--:;:;:;:;:;:;:;:;:---'---' ~'-~'~';:;:;:;:;:;:;:¡:¡:;:;:;:;:---'-'-';:;:;:;:;-'-~'› .___._._:;:;:;:;:;:;:;:2 

1151515 15151515151515151Ê1§15151 15151515151515151 51515151515151515 51515151515151515 15151515151515151515151515 151515151 5151515151515151Ê1Ê1Ê1Ê3 

:1:1:1:1:¡:i:1:1: 1:1:1:1:1:1:1:1:1 1:1:1:1:1:1:1:1:1 :1:1:1:1:1:1:1:1: :1:1:1:1:1:1:1:1: 1:1:1:1:1:1:1:15 

_ _ _ _ _ _ _ :1:1:1:1:1:1:1:1: _ _ _ .1:1:1:1:1:1:1:1:1_ _ _ _ .1:1:1:1:1:1:1:1:1. _ _ _ _ _ _ _ :1:¡:1:¡:1:1:1:1: _ _ _ _ _ _ _ _ :1:1:1:1:1:1:1:1: _ _ _ _ _ _ _ _1:1:1:1:1:1:1:1$ 

1500 
_~_¡.; _;_¡_;_¡_¡_¡_;_;_;.;.¡.;_¡_¡_;_;_;_;_;.;.;_;.;.;.;_;_;_;_;.;_;.;.;.;.;.;.;.;.;.;.;.;. _;_¡_¡.¡_¡.¡_;_¡_¡.;_¡_;_;_¡.¡.¡_;_;.¡.;.;.;.;.;.;.;.;_¡.;. _.¡.¡_¡ ;_¡_¡_¡_;_¡.;.;.;_¡.¡_¡¿ 

E «ooo Estoque ea (ton)
2 

_ _ _ _ _ _ _ :1:1:1:1:1:1:1š 
›:›:-: :~:~:~:›:›:-:-:-:-:-:-:É 

õoo mÊÍÉÍÉÊÉÊÊÍšÍšÍ;; 
1:1:1:` 

` ` ` 

:;:;:;:;:§:§:§:§:§:§:§:2 

:;:;:;:;:;:;:;:;:;:;:;:5 

=š=š=š š=š=E=E=š=E=š¢š=š ""`=E=E=E=E=E=š=š§ 

° 
:ššššÊišišš5šzšz=É:=Ê:?;=Ê“5=š.'§šÊiašÊiÊš§išiz:§.z=z=šiÊ=š=š=š=Êrz:Ê=5=É=5=É=5=š=z=É=5=É=ÉšÉ=5=5šâsšz=5=5=Êš5=É=5=š=z=š=5=5=5šz=5=!=5=z=a=z=2=Ê=5=Ê:5=Ê=5šÉš2i2EEE5ëš5i5i5š5=Êšsššizššisiššsšzšsšëšëifš;=z=5=z=5=Ê=:=Ê=5:Ê=5=Ê=5=5=5:55:É=5i5:siÊi5iÊi5ššisšš:5:z:zzzzsz=5š5izi5i§š§šs:s=zzzzzšsiâisiã 

_500 _1:1:1:1:1:1:1: -_-_-_-_1;1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1;1:1:1:1:1:1:1:1:1:1:2E1:1:1:1:23:I:1:1:1;1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:1:¡:1:1:1:1:ë~.~_~.~_~ '^"'^"1:1:1:‹ 

Tempo (intervalos de 4 horas) 

Figura 4.3 - Gráfico da evolução do estoque de Propint 

Verifica-se portanto que a solução encontrada também foi satisfatória quanto a este 
aspecto, com um total de cinco trocas ao longo de dez dias. 

Finalmente, o gráfico seguinte mostra a evolução da expedição diária de GLP e 
Butano, conforme a solução ótima obtida. Na prática, o programador de produção 
poderia utilizar a resposta obtida como uma referência para a entrega média diária 
prevista para os próximos dez dias, com eventuais ajustes ao longo do periodo.



Vendas de GLP e C4 

2500 

:;:;:;:§:§:§:§:j&lt;§:§:§: 

. . . . . . . * . . . . . 
5~:‹:-:~:~:‹:~:21:-:~:‹:‹:‹:-:›:-: :~:~:-:‹:-:-:-:-:-:-:-:-:› 

‹ 
‹ 
‹ 
z 
z
z 

.-.- 

.;¿ 
. ._._.;¿ 
I-C-I-H 

2000 
5151515151515... -:-:-:~:‹ 

;:;:;:¡:; ;:;:;:¡:;:;:;:;:;:;: ~:~:-:~:-:~:-:~:~:~:-:›:›:›:~:~:›:;:;:;:;:;:;:;:;:;:;: ;:;:;:;:¡:;:;:;$ 
,:-:-:-:-:-:-:-:-:-: :-:~:~:~:~:~:-:~:~:~: :-:~:~:~! 

;¡;¡;¿;.;.;¡;;;.;.¡ ;.;.;.;.;.;.;.;.;.;._ ;.;.;.;.¿ 

¡,¡,¡_¡;¡;¡,¡;¡;¡;¡ 
› .~.~.-55 

....:‹:‹ '~ 
` ......_....... ‹ 

s;s;;;a;s;s;: ê;a;a;ê;s;s;z; 

ëzësëzëzëêësšs 
~ -=š 

‹ 
‹
4 

. . . 2-5 
:-:~:-:-:5 

55 
¬ ......Í" 

1515151515I5¡5151515 5151515151515 

` ` ` 
'~ 

: 55~ šzšzšëšgšgšgšgšgšg 5555555555555 5 * ~ ` 
3 \š¬ 5' " 

5 ~ 1 

:;:;: .§.§.§.§.§ 

235: 5151515151 
-:-:~ ›:-:-:‹:›1 
' ' ¬ 

:-:-:-:‹:‹ 

:~:-:-:-:‹ 
. . . 

__, 
_-z 
-:1. 

555525353' 

:¡:;:;:¡:g 
' ' ' ^~:‹ 

za 
~z 1000 ;:;:;:;:;: :;:-:~:;:¿;:; :;:;:; 

5' 

Á ., zzzzzz :Í:-:-:- 
5' 

` 
""::::::;?iësëzEsEsf 

500 
;:;:;:;:; '-‹.-5 

555 '~\ 
5_ 5 
5- 
5 5 
¢1\Í

5 

:§:1:1:1:l:1:1 

3: 

.... .............52~.. w ;.;.;.;.;.;.;.;.;.;. .;.;.;.;.;.;. 

55'-'

5 
Ezêgãzígãgígãzízãzíz 

‹. 
‹. 5 

-:- - 
'~~. 

:~:-:- 15151:~5~5¡5¡ 

~.

5 

;_;.;.›§3š§E i=š=š=z==5Ê=5 

:3:=:11:1:1:~`5~"=:1 
-:~:~:~ -:›:›: :-:-:-:-:'-:~: 

~ =I=I= 21221122222: I=I=E=E _. 5 
:›:›:-:›:-:- :-:-:-:-:-:- :›:-:-:-:j:j:j j:j:j:j:§:j: :j:§:§:§:§:j:§: '-5 

._ ‹.‹. 

š '#23512152 15151513515 15151515315 15151515-.›:-:‹:-: :~:~:~:~:~:- -:-:-:-:-:‹:-:›:-:-::~:~:~:-:1:~: 
.55-.~.-.~_¡_;_¡_-::::: :::::-ãí::::::::: ::;:;:;:;:; 

15151 ÊIÊIÊÍÊÍÊ :-:-:-: :-:-: -:-:-:-:-:-: -:-:¡:¡ 

_¡.;_; _;.;.;.~ 5 
_ _ _ __..¡.§ 

.-2›.‹ 

5 =:=: :=:=:=:=â: =:=:z:=:=:z:=:::z:z: zzzzsâàëâzzzszzzzzzâzszzzszz 

.;. 

,§:§:§:§:§:§:' 

=z=:ë=šz=~=\ 

:5z;'‹=~=\ 

-:-:5 

55555 3525552553 
-:‹:- ›:›:~:-:~$ 

:;:;: :;:;:;:;:g 

:-ri:-É-_~ í:1:1:1:í! 
.`._ _ _ _ _ _‹ 

- ¡:i:¡:¡:¡:¡:?:¡:í:¡: :5š35Í:i:2: 555555555; 

Eaíaíaíašsšsšsšsšâšs sšzšsšzšsäšz 55255555; 

ëzëzësëzšzšzëzëzëâës âisšzíeëzš 
-_*-5 

:¡:i:i:¡:¡:¡:¡:3:Í:¡ ¡:¡$:¡:¡:¡:1 ¡:1:í:í:í$ 

:1:1:1:1:1:1:1:1:1:1 1:¡:1:¡:1:1:1 1:1:1:1:1S 
:" ' ' ` ` ` ` " ""¡:5:1_¡:Í:i:i:iS 
; :;:;: :;:;:;:;:g 

:;:;: :;:;:;:;:5 

_ §:§:§:§:§S 

E š=š=š=5=5=š=š =E15=E=E=* 
:‹:-:-:‹:-:-: :~:~:-:~:9 

O ¬1~:-:-:-: :~:-:-:-:~: › 1 1 | z 1 | z 1 
1 2 3 4 5 6 7 8 9 10 

Tempo (dias) 

Figura 4.4 - Gráfico da evolução das vendas de GLP e Butano 

51 

Evenda C4 
(ton) 

Venda GLP 
(ton)



52 

5 CONCLUSÕES E RECOMENDAÇÕES 

A atividade de programação da produção é muito importante para o bom 
desempenho da cadeia logística em que uma refinaria de petróleo está inserida, e a 
utilização de Algoritmos Genéticos para a otimização da solução da programação de 

um sistema específico de uma refinaria se mostrou bastante efetivo, confirmando a 
adequabilidade desta técnica para problemas deste tipo. 

Os resultados do modelo desenvolvido foram bastante satisfatórios para os objetivos 
propostos. A determinação de uma solução ótima, o aumento do horizonte de 
programação da produção e a possibilidade de avaliação de soluções altemativas 

foram os principais beneficios obtidos com este trabalho. 

Ficou demonstrado, portanto, o grande potencial dos Algorítimos genéticos para a 

solução de problemas de programação de produção mais complexos. 

A solução encontrada, com algumas pequenas melhorias na interface com o usuário e 
incorporação de facilidades para integração com banco de dados, poderá ser 
transformada em uma ferramenta de uso freqüente pelo programador de produção. 

A opção pela utilização de um pacote comercial baseado em Algoritmos Genéticos 
para desenvolvimento da solução mostrou-se acertada, pois possibilitou o 

desenvolvimento da solução em um tempo relativamente curto, poupando-se 
razoável esforço que seria necessário para desenvolvimento de rotinas de entrada e 

saída de dados bem como da codificação do algoritmo. 

Além disso, o ambiente Excel, que serve de base para o programa, é um aspecto 
bastante positivo para facilitar a integração com bancos de dados, entrada e saída de 
dados, ajustes para o caso de alterações no esquema de produção da refinaria e 

adaptações para ser utilizado para o mesmo tipo de sistema em outras refinarias .



53 

REFERÊNCIAS BIBLIOGRÁFICAS 

ALMEIDA, Mayron R Programação Automática da Produção em Refmarias 
de Petróleo utilizando Algoritmos Genéticos Rio de Janeiro, 2001. Dissertação 

(Mestrado em Engenharia Industrial) - Pontificia Universidadede Católica do Rio 
de Janeiro. 

ALMEIDA, Mayron R., HAMACHER Silvio, PACHECO Marco Aurélio C. 
Algoritmos Genéticos para Programação Automática da Produção em 
Refmarias de Petróleo Artigo da Pontificia Universidade Católica do Rio de 

Janeiro, 2000, 15 p. 

BAUER, Richard J. Jr Genetic Algorithms and Investment Strategies John 
Wiley &amp;amp; Sons, Inc. USA, 1994, 308 p. 

BODINGTON, C. Edward &amp;amp; SHOBRYS, Donald E. Planning, Scheduling and 
Control Integration in the Process Industries la Edição, McGraw-Hill, New 
York, NY, EUA, 1995, 414 p. 

CHAMBERS, Lance. Practical Handbook of Genetic Algorithms - 
Applications Volume I la Edição, CRC Press, Boca Raton, FL, EUA, 1995, 555 
p. 

CUTTING, G.A.G &amp;amp; HAVERLY, C.A. A System for Optimizing the 
Scheduling and Blending of Crudes 1995 NPRA Computer Conference 
Annual Meeting. San Francisco, California, National Petroleum Refiners 

Association 1995, 7 p. 

DEBOECK, Guido J. Trading on the Edge - neural, Genetic and Fuzzy 
Systems for Chaotic Financial Markets John Wiley &amp;amp; Sons, Inc. USA, 1994, 
377 p. 

EFTHIMEROS, G.A. et al - Optimization of na Industrial Cogeneratíon 
System by means of a Multi-Objective Genetic Algorithm - European



9. 

10 

11 

12 

13 

14. 

15 

16 

54 

Symposium on Computer Aided Process Engineering - 10, May 2000, Florence, 
Italy, p. 25-29 

GOLDBERG, David E. - Genetic Algorithms in Search, Optimization and 
Machine Learning, Addison Wesley Longman, Inc, EUA, 1989, 412 p. 

GOONATILAKE, Suran; TRELEAVEN, Philip. Intelligent Systems for 
Finance and Business. New York : John Wiley &amp;amp; Sons, 1995. 
HOFFERL, Franz STEINSCHORN Dictmar e ZEDLACHER, Martin - Closing 
the Gap The OMV scheduling System 14th World Petroleum Congress 
(Beijing 10/ 12-16/97) Proceedings, p. 1005-6. 

JAMMAR, Ronald J._Plant Operation Planning and Scheduling, Ha1t`s Fuel 
Technology &amp;amp; Management, November/December 1996, p. 47-50 

LOUREIRO, Fernando Maitineli, Desenvolvimento de um Gerador de 
"Scheduling" para uma Indústria de Produção sob Encomenda: Uma 
Abordagem Baseada no Uso de Controladores Difusos e Algoritmos 
Genéticos,_Florianópolis, 1997. Dissertação (Mestrado em Engenharia de 
Produção) - Universidade Federal de Santa Catarina.

~ MAGALHAES, Marcos Vinicius; MORO Lincoln; SMANIA Paulo.et al., S[PP 
- a solution for refinery scheduling, 1998 NPRA Computer Conference, 
National Petroleum Refiners Association, November 16-18, San Antonio (TX). 

MODRO, Nilson Ribeiro; Sistema Inteligente de Monitoramento e 
Gerenciamento Financeiro para Micro e Pequenas Empresas,_Florianópolis, 
2000. Dissertação (Mestrado em Engenharia de Produção) - Universidade 
Federal de Santa Catarina. 

MORO, Lincoln F. L. Desenvolvimento de Modelos para Planejamento e 
Programação de Produção em Refinarias de Petróleo São Paulo, 2000. Tese 
de Doutorado (Doutorado em Engenharia Quimica) - Escola Politécnica da 
Universidade de São Paulo.



55 

PELHAM, Roger &amp;amp; PHARRIS, Chuck. Refinery Operations and Control - A 
Future Vision 1996 NPRA Computer Conference Annual Meeting. San 
Antonio, Texas, NPRA 1996, 16 p. 

SIKORA, Riyaz A Genetic Algorithm for Integrating Lot-Sizing and 
Sequencing in Scheduling a Capacitated Flow Line - Computers ind. Engng, 
Vol 30, No 4, Elsevier Science Ltd, Great Britain, 1996 p. 969-981 

SYSWERDA, G. &amp;amp; PALMUCCI, J The Application of Genetic Algorithms to 
Resource Scheduling - Proceedings of the Fourth International Conference on 
Genetic Algorithms. San Mateo, CA, Morgan Kaufmann Publishers, 1991 

WINSTON, Wayne _Decision Making under Uncertainty with 
RISKOPTHVIIZER - Pallisade Corporation, Newfield, EUA, 1999, 244 p.



ANEXO 

Relatório de Saída completo produzido pelo software R1skOpt1m1zer com a 
melhor solução encontrada para o problema proposto: 

RUN #37: 22/01/02 22:51:40 

Cell to Optimize 
_99_t¡_fnlë§_t¡9n_&lt;ê_9âl ____________________________ _l\!I_êz‹Jn_1um_§¿êJy_@ _________ __ 

REsuLrs 
Valid Sims 
Total Sims 
Original Value 
+ soft constraint penalties 
= result 

Best Value Found 
+ soft constraint penalties 
= result 
Occurred on trial # 
Time to find this value 
Stopped Because 
Optimization Started At 
Optimization Finished At 
_Í_9Ê§_|_9_l2ÊÊ!UÍšëÉl9H_Í¡_'!19_____ 
Adjustable Cell 
ORIGINAL 
BEST 
Adjustable Cell 
ORIGINAL 
BEST 
Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 

__â¡§§I _____________________________________________________ __1_ _________ __ 
Adjustable Cell 
ORIGINAL 

__§_¡_5§I _____________________________________________________ -Ê ___________________ __ 
Adjustable Cell 
ORIGINAL 

__§_E_$I _____________________________________________________ -Ê ___________________ __ 
Adjustable Cell 
ORIGINAL 

_§J_5§I _____________________________________________________ -Sã ___________________ __ 
Adjustable Cell 
ORIGINAL 
BEST 
Adjustable Cell 

PrincipaI!$W$47 

_________________________ 

_________________________ 

567 
1059 
N/A
O 

N/A 
1.508.135

0 
1.508.135 

466 
00:03:20 

Change&lt;1% 
22:47:28 
22:51:34 
00:04:02 

Cromossomo!$K$3
5 

Cromossomo!$K$4
3 

Cromossomo!$K$5
2 

_§Ê_$I _____________________________________________________ __1_ _________ __ 
Cromossomo!$K$6 

''''''' '-

5 

Cromossomo!$K$7
5 

Cromossomo!$K$8
3 

Crom_ossomo!$K$9
2 

Cromossomo!$K$10 
4
4 

Cromossomol$K$11



ORIGINAL 

Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 
BEST 

`À`EI`j`úšt`ãÍííé'ífè'IÍ 
```````````````````````````` " 

ORIGINAL 

Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 
BEST 

`Ãà`j`úšt`ái›`íé'Eë`|Í 
````````````````````````````" 

ORIGINAL 
BEST 
Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 
BEST 
Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 
BEST 
Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 
BEST 
Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 
BEST 

`ÃEI`j1]šfáB`íé'ëë`|Í 
```````````````````````````` " 

ORIGINAL 
BEST 
Adjustable Cell 
ORIGINAL

6 
-_Ê'_5_§I ..................................................... -Ê .......... -_ 

Cromossomo!$K$12
4 

-P_š_§I _____________________________________________________ -Ê .......... _- 
Cromossomo!$K$13

3 
-Ji-'~J_5§I _____________________________________________________ -Ê .......... -_ 

Cromossomol$K$14
6 

-§_I_5§I _____________________________________________________ -Ê .......... -_ 
Cromossomo!$K$15

5 
-§_¡_5§I _____________________________________________________ -Ê .......... _- 

Cromossomo!$K$16
6
6 

'Cromossom.o!$K$17
5 

-Ê_I_5§I ..................................................... -l .......... _- 
CromossomoI$K$18

6 
-_Ië_'š_§I ..................................................... -_1. .......... -_ 

Cromossomo!$K$19
5
1 

CromossomÕI$K$20
Ô 

______________________________________________________________ -fI--_---_----- 
CromossomoI$K$21

1 

_J_3_I_5§I _____________________________________________________ __1. .......... -_ 
Cromossomo!$K$22

5 
___________________________________ 

Cromossomo!$K$23
4 

__|_3_|_5§I _____________________________________________________ __1_ __________ __ 
Cromossomo!$K$24

6 
_________________________________________ 

CromossomoI$K$25
3 

._§Ê_§I _____________________________________________________ -Ê .......... _- 
Cromossomo!$K$26

1 

_________________________________________ 
CromossomoI$K$27

1 

__I_3Ê§I _____________________________________________________ -Ê __________ -_ 
CromossomoI$K$28

1

3 
Cromossomo!$K$29

1 

______________________________________________________________ 
Cromossomo!$K$3O

1



Adjustable Cell 
ORIGINAL 
BEST 

ORIGINAL 

Adjustable Cell 
ORIGINAL 
BEST 
Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 
BEST 
Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 
BEST 
Adjustable Cell 
ORIGINAL 

Adjustable Cell 
ORIGINAL 

_§_*š§I ..................................................... -Ê .......... -_ 
Cromossomo!$K$31

3
3 

`ÃEi]`úšt'ãÍ›`Íé`Êfë`|Í 
```````````````````````````` 

"ffF6íñ1Sâsomo!$K$32 
es 

__!ë!šÊ§Â[ _____________________________________________________ -íã __________ __ 
Cromossomo!$K$33

6 
_______________________________________ 

Cromossomo!$K$34
1 

_§§§I _____________________________________________________ -fi __________ __ 
Cromossomo!$K$35

4 
_______________________________________ 

Cromossomo!$K$36
3 

__|ãJ_5_$I _____________________________________________________ -fl __________ __ 
Cromossomo!$K$37

1 

_§§§I _____________________________________________________ -fi __________ __ 
Cromossomol$K$38

6 
-§_¡§§I _____________________________________________________ __! __________ __ 

Cromossomo!$K$39
6 

_§J`_5§I _____________________________________________________ -Ê __________ __ 
Cromossomo!$K$40

6 
- 6 
Cromossomo!$K$41

5 
-J_3_E§I _____________________________________________________ -Ê __________ __ 

Cromossomo!$K$42
1 

BEST _________________________________________ __6 __________ __ 
CONSTRAINTS 

Constraint Type 

Description Estoque de GLP (ton) 
Definition 1400 &amp;lt;PrincipaI!$Y$4:$Y$43 &amp;lt;7000 

HARD/ITER 
Satisifed for % of Sims 54,39% 
Satisfied for % of Valid Sims 100,00% 

N/A Penalty Function 
P_9H§.|ÊX.9Í.Ê9.§Ê.Ê9§_9_|Ê ______________________________ __[`lÂÔ_ _________ __ 
Description 
Definition 0 &amp;lt;PrincipalI$AA$4:$AA$43 &amp;lt;2800 
Constraint Type 

Estoque de Butano 

HARD/ITER 
Satisifed for % of Sims 100,00% 
Satisfied for % of Valid Sims 100,00% 

N/A Penalty Function 

Constraint Type 

-Ê_ÊE?.|ÊY..9Í_Ê9_§É-ÊÊ§'_{|Ê ______________________________ __[`lÁÊ*_ ________ __ 
Description Estoque máximo Propint 
Definition O&amp;lt;= PrincipalI$Z$45&amp;lt;= 2800 

HARD/ITER 
Satisifed for % of Sims 83,38% 
Satisfied for % of Valid Sims 100,00%



Penalty Function 

Description 
Definition 
Constraint Type 
Satisifed for % of Sims 
Satisfied for % of Valid Sims 
Penalty Function 

ADJUSTABLE CELLS 

Solving Method 
Number of Time Blocks 
Const/Prec Range 
Mutation Rate 
Crossover Rate 
Input Cell/Range Constraint 
Operator #1 (score) 
Operator #2 (score) 
Operator #3 (score) 

OPTIONS 
Population Size 
Pause On Error 
Graph Progress 
Update Display 
Log Simulation Data 
Random Seed 4928606 (Randomly Chosen) 
Stop On Trials 
Stop On Minutes 
Stop On Change 
Stop On Formula 
Simulation Sampling Type 
Simulations Use Same Seed 
Simulations Stop 

MACROS 
Start Of Optimization 
Before Simulation 
Before lterationlRecalc 
After Iteration/Recalc 
After Simulation 
After Storage 

Troca Campanha 
Mínimo GLP 
Mínimo C4 
Vendas Madrugada 

N/A 
f_ÊE?_¡_Í}Í_9Í_Ê§§É_ÊÊ§9_|Ê .............................. --[`ÂÂÊ*. ............. -_ 

0&amp;lt;= Principal!$U$44&amp;lt;= 5 
0&amp;lt;= PrincipaI!$U$44&amp;lt;= 5 

SOFT 
77,62% 
93,30% 

1oo*(E×P(dev¡at¡0n/100)-1) 
_Ê_Ê_'1§_|Q/__9Í._B_9_§Ê_¡_ÊÊ§9_|Ê ________________________________ -Q ______________ __ 

`5èšè`F¡}§ií6`á 
````````````````````````` 

`šE-zšíéššíá'Eíé`;S`rE§;}š5šš&lt;}šE›'à`á'zrea 
de GLP 

SCHEDULE
6 

Restrições! $B$5:$D$30 
0,15 
0,9 

Cromossomo!$K$3:$K$42 
Default mutation (0) 
Default crossover (0) 

QRÊ_f_ÊÊ9_'_ÍÉfl§_Ê2!9) _____________________________________________________ -_ 

FALSO 
VERDADEIRO 

Off 
VERDADEIRO 

1200 
N/A 

&lt;1% in 100 trials 
N/A 

Latin Hypercube 
VERDADEIRO 

On Actual Convergence 
.§_Í_9_E_Í_9!9_@_'!9Ê _______________________________________ __ëE1_Í_Q _____________ -_ 

N/A 
N/A 
N/A 
N/A 
N/A 
N/A 

.š_'1&lt;!_9!_9I9_*_¡_'!1¡5ê_t¡29 _________________________________ -Mô _____________ -_
5 

1429 
208
5


</field>
	</doc>
</add>