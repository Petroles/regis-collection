<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.14648</field>
		<field name="filename">21010_PEMC1812-T.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">
 
 

 
 

UNIVERSIDADE FEDERAL DE SANTA CATARINA 
CENTRO TECNOLÓGICO 

PÓS-GRADUAÇÃO EM ENGENHARIA MECÂNICA 
ÁREA DE CONCENTRAÇÃO: METROLOGIA E INSTRUMENTAÇÃO 

 
 
 

Pedro de Deus Vieira Buschinelli 
 
 
 
 
 

MEDIÇÃO ÓPTICA DE FORMAS 3D EM MEIO 
SUBAQUÁTICO ATRAVÉS DE INTERFACES PLANAS DE 
REFRAÇÃO UTILIZANDO TRIANGULAÇÃO INVERSA  

 
 
 
 
 
 
 
 
 

 Tese submetida ao Programa de Pós-
Graduação em Engenharia Mecânica 
da Universidade Federal de Santa 
Catarina para a obtenção do Grau de 
Doutor em Engenharia Mecânica. 

Orientador: Prof. Armando 
Albertazzi Gonçalves Jr. 

Coorientador: Prof. Tiago Loureiro 
Figaro da Costa Pinto 

 
 
 

Florianópolis 
2017 



 
 

  

 

 

 

 

 

 

 

 

Ficha de identificação da obra elaborada pelo autor, através do Programa de Geração 
Automática da Biblioteca Universitária da UFSC. 

 

Buschinelli, Pedro de Deus Vieira 
   Medição óptica de formas 3D em meio subaquático através 
de interfaces planas de refração utilizando triangulação 
inversa / Pedro de Deus Vieira Buschinelli ; orientador, 
Armando Albertazzi Gonçalves Jr., coorientador, Tiago 
Loureiro Figaro da Costa Pinto, 2017. 
   327 p. 
 
 
   Tese (doutorado) - Universidade Federal de Santa 
Catarina, Centro Tecnológico, Programa de Pós Graduação em 
Engenharia Mecânica, Florianópolis, 2017. 
 
   Inclui referências.  
    
   1. Engenharia Mecânica. 2. Fotogrametria. 3. Medição 
subaquática de forma. 4. Projeção de franjas. 
5. Triangulação inversa. I. Albertazzi, Armando. 
II. Pinto, Tiago. III. Universidade Federal de Santa 
Catarina. Programa de Pós-Graduação em Engenharia 
Mecânica. IV. Título. 

  



 
 

 
 

Pedro de Deus Vieira Buschinelli 

 
MEDIÇÃO ÓPTICA DE FORMAS 3D EM MEIO 

SUBAQUÁTICO ATRAVÉS DE INTERFACES PLANAS DE 
REFRAÇÃO UTILIZANDO TRIANGULAÇÃO INVERSA 

 
Esta Tese foi julgada adequada para obtenção do Título de “Doutor 

em Engenharia Mecânica”, e aprovada em sua forma final pelo Programa 
de Pós-Graduação em Engenharia Mecânica. 
 

Florianópolis, 11 de outubro de 2017. 

__________________________________________ 
Prof. Jonny Carlos da Silva, Dr. Eng. 

Coordenador do Curso 

__________________________________________ 
Prof. Armando Albertazzi Gonçalves Jr., Dr. Eng. – Orientador 

Universidade Federal de Santa Catarina 

__________________________________________ 
Prof. Tiago Loureiro Figaro da Costa Pinto, Dr. Eng. – Coorientador 

Universidade Federal de Santa Catarina 
 
 
Banca Examinadora: 

__________________________________________ 
Prof. Armando Albertazzi Gonçalves Jr., Dr. Eng. – Orientador 

Universidade Federal de Santa Catarina 



 
 

__________________________________________ 
Meinhard Sesselmann, Dr. Eng. 

Universidade Federal de Minas Gerais 

__________________________________________ 
André Roberto de Sousa, Dr. Eng. 
Instituto Federal de Santa Catarina 

__________________________________________ 
Analucia Vieira Fantin, Dra. Eng. 

Universidade Federal de Santa Catarina 

__________________________________________ 
Marcelo Ricardo Stemmer, Dr.-Ing. 

Universidade Federal de Santa Catarina 

__________________________________________ 
Milton Pereira, Dr. Eng. 

Universidade Federal de Santa Catarina 
 



v 
 

 
 

AGRADECIMENTOS 

Ao meu orientador prof. Armando Albertazzi, por me aceitar como 
aluno de doutorado, pela paciência, sabedoria e orientação. 

Ao meu coorientador prof. Tiago Pinto, pelos brainstorms, 
contribuições e orientações em geral. 

À Analucia Fantin e ao Florian Caullery pelo auxílio matemático. 

Ao colega e agora mestre Gabriel Matos, pela troca de 
conhecimentos, grande ajuda nos experimentos e no Labview. 

Ao colega doutorando Sergio Petrovcic pela ajuda inicial na 
conversão do código do MATLAB para o C++. 

Ao projeto SHIC 2, Petrobras e ao prof. Daniel Willemann pela 
bolsa e empréstimo de equipamentos.  

Aos bolsistas Patryk Gonçalves e Lucas Trindade pelo auxílio nos 
experimentos no início da tese. 

Ao Cleber Marques do LABSOLDA/UFSC pela solda do padrão 
de esferas. 

Ao Fabio Silva pela modelagem do sistema estéreo e tanque de 
água no SolidWorks. 

Ao técnico de laboratório Elsio Varela pelo auxílio nos 
experimentos. 

Aos funcionários do laboratório de metrologia da Fundação 
CERTI, em especial ao Matheus de Oliveira no auxílio na seleção do 
padrão plano e Girlei Flores Jr. pela medição dos padrões (par de esferas 
e plano) na máquina de medir por coordenadas. 

À Debora Simioni pela medição do índice de refração da água do 
tanque no Laboratório Físico-químico (UNOCHAPECÓ). 

Aos companheiros do Labmetro, Mauro Eduardo, Claudio 
Schmitz; e todos que de alguma forma contribuíram para esse trabalho. À 
secretária Rosana pelo auxílio nos entraves burocráticos e descontração. 



vi 
 

À minha família pelo incentivo constante e à minha namorada 
Nelize pela paciência e apoio nos conturbados e intensos últimos meses 
do doutorado. 

 
 



vii 
 

 
 

RESUMO 

A medição geométrica em meio subaquático abrange desde a 
verificação da profundidade por embarcações a medições 3D de 
complexas estruturas submersas, como tubulações, portos e plataformas. 
É uma ferramenta de suma importância para indústrias como a de óleo &amp;amp; 
gás e naval. Todavia, seu uso também pode ser citado em diferentes áreas 
e aplicações, como na medição de artefatos antigos, naufrágios e no 
mapeamento geológico e de corais. Tipicamente, a medição subaquática 
de distâncias, e mais recentemente de formas 3D, é realizada por sonares, 
uma vez que a água é um excelente acoplante acústico. No entanto, a 
medição óptica de formas 3D apresenta vantagens em relação aos sonares 
e à medição manual, como maior densidade de pontos e menor incerteza. 
A principal limitação técnica é a redução da qualidade do sinal da luz 
devido a efeitos degradantes intrínsecos a sua propagação pela água, 
sendo os principais a absorção e o espalhamento (scattering). Por essa 
razão, sistemas ópticos são geralmente adequados para aplicações 
subaquáticas de curtas distâncias (alguns metros). Outro importante efeito 
que deve ser considerado é a refração na interface de visão da câmera 
(janela) que separa o sistema óptico da água. As janelas de visão típicas 
são do tipo domo ou plana. O uso de janelas domo geralmente resulta em 
menores distorções devido à refração, mas são de difícil alinhamento. Em 
contraste, janelas planas são simples de serem fabricadas, baratas e mais 
resistentes a impactos. O sistema formado por uma câmera com visão 
através de interfaces plano-paralelas de refração não possui um centro 
único de projeção ou single-view-point (SVP), e sim um eixo onde todos 
os feixes de luz cruzam, sendo, portanto, denominada de câmera axial. A 
modelagem fisicamente correta deste tipo de sistema de visão é um tema 
de crescente interesse e algumas propostas de solução existem. A presente 
tese consiste na realização de medição 3D com um sistema de visão 
estéreo ativo (projeção de franjas) através de interfaces plano-paralelas de 
refração utilizando a medição orientada ao objeto ou triangulação inversa 
(InvT). Este tipo de triangulação consiste na procura por pontos 3D 
válidos contidos em um volume de medição com resolução e dimensão 
pré-definidos, resultando em uma nuvem de pontos regular. O trabalho 
contempla o desenvolvimento de uma calibração estéreo dos parâmetros 
que modelam fisicamente a refração, o que inclui a distância e o eixo de 



viii 
 

inclinação das câmeras em relação às superfícies de refração; o 
desenvolvimento de método de raytracing através das interfaces planas 
de refração para a projeção de pontos 3D, requerida pela InvT; e métodos 
para redução do número de pontos a serem testados pela InvT. Além do 
desenvolvimento teórico, uma avaliação metrológica foi realizada através 
de experimentos controlados para avaliar as técnicas propostas. Medições 
subaquáticas foram realizadas utilizando o modelo de refração e também 
com compensação por ajuste focal e correção de distorções 2D. Os 
resultados foram comparados com o desempenho do sistema no ar. 

 

 

Palavras-chave: Fotogrametria; Medição subaquática de forma; 
Projeção de franjas; Triangulação inversa; Visão estéreo. 

 



ix 
 

 
 

ABSTRACT 

Underwater geometrical measurement ranges from depth check by 
ships to 3D measurement of complex structures, as pipes, harbors and 
platforms. It is a tool of utmost importance for industries such as oil &amp;amp; 
gas and naval. Although, its applications may also include other areas as 
measurement and documentation of ancient artifacts, shipwrecks, 
geological and reefs mapping. Usually length and more recently 3D shape 
measurements are performed by sonars, since water is an excellent 
acoustic coupler. When high resolution is needed for short range 
measurements, optical principle becomes an attractive solution, which 
can delivery much higher point density and lower uncertainty. The major 
technical limitation is the reduction of the light signal quality due to 
detrimental effects during its propagation through water, which are 
mainly: attenuation and scattering. For these reason, optical systems are 
more suitable for short range applications (up to few meters). Another 
important effect that must be considered is the refraction that occurs on 
the camera’s vision interface (port) which separates the optical system to 
the water. Typical types of ports are: dome and flat. Dome ports reduces 
the refraction effect but are usually hard to align. In contrast, flat ports are 
very simple, inexpensive, and more robust to impacts. The vision system 
resultant from a camera and a set of flat and parallel refractive interfaces 
does not have a unique projection center, or single-view-point (SVP) but 
an axis were all light rays intersects and for this reason it is named an 
axial camera. It has been shown that the resultant distortion for this type 
of configuration is 3D, or distant dependent. Physically correct modeling 
of this type of vision system has been a topic of growing interest and some 
solutions exists. The present thesis consists of the 3D measurement using 
an active (fringe projection) stereo system and object-oriented 
measurement or inverse triangulation (InvT) through flat refractive 
interfaces. This type of triangulation contrasts with the usual technic, 
since it is object-oriented instead of sensor-oriented, allowing a pre-
defined measurement volume and resolution, resulting in a regularly 
spaced point cloud. The work contemplates the development of a stereo 
calibration technic of a physically correct refraction model, with includes 
the interfaces distances and camera lens axis orientation in relation to the 
interface; development of a raytracing algorithm to direct project 3D 
points though flat refractive interfaces, which is needed in InvT; and 



x 
 

methods to reduce the processing time and number of points tested during 
the InvT. Aside from the theoretical development, a metrological 
evaluation was executed through controlled experiments to validate the 
proposed techniques. Underwater measurements were conducted using 
the refraction model and refraction compensation by focal length and 2D 
lens distortion adjustment. The results were compared which in-air 
performance. 

 

 

Keywords: Photogrammetry; Underwater shape measurement; 
Fringe projection; Inverse triangulation; Stereo vision. 

 



xi 
 

 
 

LISTA DE FIGURAS 

Figura 1 – Estruturas submersas na indústria de óleo &amp;amp; gás (GENESIS, 
2017). .................................................................................................... 47 

Figura 2 –Mergulhador cara a cara com esfinge de granito negro da 
civilização submersa de Alexandria no Egito (GODDIO, 2004) (topo). 
Vasos em sítio arqueológico a 328 m de profundidade (DRAP et al., 
2015). .................................................................................................... 48 

Figura 3 –Medição manual utilizando escalas rígidas feita por um 
mergulhador (esquerda) (“FN Diving webpage - Inspection”, 2011). 
Sistema de medição subaquática por triangulação laser e respectivo 
resultado de medição de um tubo amassado (direita) (“2G Robotics”, 
2015). .................................................................................................... 49 

Figura 4 – Esquemático de uma câmera escura - pinhole (MELLISH, 
2003). .................................................................................................... 53 

Figura 5 – Câmera escura – pinhole, projeção do exterior na parede de 
um quarto de uma casa abandonada através de um pequeno furo na 
janela. Local: leste de Baltimore, EUA (BRUCE, 2012). ..................... 54 

Figura 6 – Modelo computacional de câmera pinhole. Ponto ?? projetado 
no ponto ?? no plano imagem ??. Adaptado de (ZHANG, 2004). ......... 55 

Figura 7 - Imagem típica numa calibração por objeto 2D tipo tabuleiro 
de xadrez (BOUGUET, 2013). .............................................................. 57 

Figura 8 – Configuração para calibração utilizando dois planos 
ortogonais (a) e movimentos controlados de um plano (b). Adaptado de 
(ZHANG, 2004). ................................................................................... 58 

Figura 9 – Sistema estereoscópico comercial formado por duas câmeras 
e um projetor durante a medição de um objeto (GOM, 2015). ............. 62 

Figura 10 – Plano epipolar em um sistema estéreo. Fonte: adaptado de 
(HARTLEY; ZISSERMAN, 2004). ...................................................... 63 

Figura 11 – Exemplo de linhas epipolares. Fonte: (HARTLEY; 
ZISSERMAN, 2004). ............................................................................ 63 

Figura 12 – Triangulação inversa. Três diferentes pontos 3D são 
testados para um determinado nó na malha ????. O cubo representa o 



xii 
 

volume de medição definido, com resolução nos eixos ??, ?? e ?? 
respectivamente de ????, ???? e ????. ............................................................65 

Figura 13 – Exemplo de mapa de fase de uma das câmeras, linha de 
varredura em ?? projetada e ponto de mínimo valor absoluto da diferença 
de fase obtido (PINTO, 2010). ...............................................................66 

Figura 14 – Módulo da diferença entre os mapas de fase de duas 
câmeras para uma determinada linha de varredura em ??. Nota-se 
nitidamente o ponto de mínimo valor absoluto da diferença de fase. 
Adaptado de (PINTO, 2010). .................................................................66 

Figura 15 – Cena obtida por dois ângulos de visão diferentes. Câmera 
antiga e duas esferas, uma com superfície reflexiva e outra branca fosca. 
Base da câmera marcada por um retângulo vermelho. Letra na parte 
frontal da câmera marcada por um retângulo amarelo (HOFMANN, 
2006). .....................................................................................................70 

Figura 16 – Janela de 4 x 4 pixels obtida em ?? tempos diferentes para 
duas câmeras. Adaptado de (SCHAFFER et al., 2011). ........................73 

Figura 17 – Padrão de luz formado devido à iteração da luz do sol com a 
superfície ondulada da água em uma piscina (SWIRSKI et al., 2011). .74 

Figura 18 – Perfil luminoso projetado e gráficos da variação da 
intensidade de luz e fase para uma linha do perfil. Adaptado de 
(HOFMANN, 2006). ..............................................................................75 

Figura 19 – Resultado de medição do rosto de um manequim. Pontos 
pretos calculados por triangulação de duas câmeras com projeção de 
franjas e gray-code. Pontos em vermelho e em azul obtidos através da 
triangulação entre uma câmera e o projetor, abrangem, respectivamente, 
a região lateral direita e esquerda do nariz e da face (incluindo orelha) 
(PINTO; KOHLER; ALBERTAZZI, 2012). .........................................77 

Figura 20 - Técnicas de projeção de luz estruturada. Traduzido de 
(GENG, 2011). .......................................................................................79 

Figura 21 – Absorção da luz em diferentes oceanos e regiões:1-5) 
Pacífico em diferentes regiões; 6) Atlântico; 7) Báltico - águas 
profundas e 8) Báltico - superfície. Adaptado de (WOZNIAK; DERA, 
2007). .....................................................................................................82 

Figura 22 –Imagens originais obtidas com a polarização na posição de 
máxima e mínima transmissão (parte superior). Imagem da melhor 
polarização após correção de cores simples (baseada no fato da cor da 



xiii 
 

 
 

areia ser branca) e imagem resultante após o processamento (parte 
inferior). Os pontos são referentes à regiões com o mesmo contraste. 
Traduzido de (SCHECHNER; KARPEL, 2005). .................................. 84 

Figura 23 – Variação da intensidade do retroespalhamento 
(backscattering) em relação a posição da fonte de luz (TREIBITZ; 
SCHECHNER, 2012). ........................................................................... 85 

Figura 24 – Resultado de experimento utilizando iluminação 
multidirecional. a) Iluminação com ângulo “a”. b) Iluminação com 
ângulo “b”. c) Iluminação simultânea com ângulo “a” e “b”. d) 
Resultado obtido com a técnica desenvolvida pelos autores, combinando 
as imagens a) e b). Traduzido de (TREIBITZ; SCHECHNER, 2012). . 86 

Figura 25 – Refração da luz na transição entre dois meios. .................. 87 

Figura 26 –Janela plana da Nauticam Austrália modelo “Compact port 
15 #18303” (esquerda) e janela domo em acrílico com 171 mm de 
diâmetro. Modelo “6" Acrylic Dome Port #18801” Nauticam Austrália 
(direita) (AUSTRALIA, 2009). ............................................................. 89 

Figura 27 – Exemplo de imagem subaquática obtida por câmera com 
janela plana (esquerda) e domo (direita) (GUIMARÃES, 2012). 
Comprimento focal de 14 mm. .............................................................. 89 

Figura 28 – Refração em uma janela (ou interface) plana (esquerda) e 
numa janela domo (direita). Adaptado de (SEDLAZECK; KOCH, 
2012). .................................................................................................... 90 

Figura 29 – Formação de imagem através de uma janela plana fina. 
Adaptado de (KNIGHT, 2012). ............................................................. 90 

Figura 30 – Janela domo e caixa estanque Nexus para lentes Nikkon 14-
24 e câmera D700. (“New Nexus Glass Dome Ports|Underwater 
Photography Guide”, 2010). .................................................................. 93 

Figura 31 – Diagrama de raios da refração em uma janela domo fina. O 
centro de projeção está coincidente com o centro do domo, de raio ??. 
Adaptado de (KNIGHT, 2012). ............................................................. 93 

Figura 32 – Janela totalmente corretiva. Adaptado de (NEWTON; 
BALDWIN; FRYER, 1989). ................................................................. 95 

Figura 33 – Desenho técnico da janela totalmente corretiva desenvolvida 
por Ivanoff em 1952 (IVANOFF; LE GRAND; CUVIER, 1952). Sendo 
?? o índice de refração, padronizado na presente tese como ??. .............. 95 



xiv 
 

Figura 34 – janela totalmente corretiva “Unterwasservorsatz II” da Carl 
Zeiss (EBAY, 2013). ..............................................................................96 

Figura 35 – Desenho da máscara e caminho óptico exposto na patente 
US 6612693 B2 (esquerda). Protótipo de máscara de mergulho MAX™ 
Optics da HydroOptix (direita) (KRANHOUSE; ROGERS, 2003), 
(“HydroOptix”, [s.d.]). ...........................................................................97 

Figura 36 – Taxonomia de métodos de medição de formas. Adaptado de 
(LEONE; DIRACO; DISTANTE, 2008). ..............................................98 

Figura 37 – Esquemático do módulo de transporte e cabos de 
referenciamento do STL para inspeção de hidroelétricas (MIRALLÈS et 
al., 2010). ...............................................................................................99 

Figura 38 – Foto (esquerda) de flange de 254 mm (10”) e resultado de 
medição (direita) (EMBRY et al., 2012). ............................................. 100 

Figura 39 – Lumeneye da Savante (esquerda). Imagem subaquática da 
linha de laser sobre pedras (direita superior) e o respectivo resultado de 
medição (direita inferior) (“Savante”, 2015). ...................................... 100 

Figura 40 – Fotos dos três sistemas de medição a laser da 2G Robotics 
(“2G Robotics”, 2015). ........................................................................ 101 

Figura 41 – Exemplos de resultados de medições realizadas com o 
sistema ULS-100 da 2G Robotics (“2G Robotics”, 2015). .................. 101 

Figura 42 – Sistema de medição ToF Investigator da Scopos (esquerda). 
Vista frontal (centro) e lateral (direita) do resultado de medição em 
tempo real de uma chapa com furo a aproximadamente 2 m de distância. 
Nota-se o grande ruído na medição (SCOPOS, 2013). ........................ 102 

Figura 43 – Imagem (esquerda) e gráfico (direita) resultante do sistema 
STIL (JAFFE et al., 2001). .................................................................. 103 

Figura 44 – ROV durante aquisição de fotos para a medição de objetos 
em sítio arqueológico. .......................................................................... 104 

Figura 45 – Modelo 3D obtido a partir de fotos de vasos de sítio 
arqueológico a 328 m de profundidade após duas horas de aquisição 
(DRAP et al., 2015). ............................................................................ 104 

Figura 46 – Mapa 2D com a cobertura aproximada de uma imagem 
destacada no retângulo vermelho (esquerda) e reconstrução 3D (direita) 
(NICOSEVICI et al., 2009).................................................................. 105 



xv 
 

 
 

Figura 47 – Resultado de medição de cascalhos embaixo da água 
obtidos com o sistema AREM trinocular em diversas posições diferentes 
(CAMPOS et al., 2009). ...................................................................... 106 

Figura 48 – Gráfico da variação da intensidade de luz menos a média 
total ao longo de 35 imagens para dois pontos correspondentes nas 
imagens (a) e (b) marcados com “?” e não correspondentes, marcado 
com “?” na imagem (b) (SWIRSKI et al., 2011). .............................. 107 

Figura 49 – DIDSON 300 m (METRIC, [s.d.]). ................................. 109 

Figura 50 – Echoscope (CODAOCTOPUS, 2013). ............................ 110 

Figura 51– Imagens de medições com os sistemas DIDSON US300 e 
Echoscope (CODAOCTOPUS, 2013). ............................................... 111 

Figura 52 – Fotos (superior) de um cilindro de concreto (esquerda) e de 
aço (direita) com suas respectivas imagens acústicas (inferior) obtidas 
com o sistema DIDSON. Traduzido de (YU et al., 2006). .................. 111 

Figura 53 – Sonar 3D BV5000 da BlueView (“TELEDYNE BlueView”, 
[s.d.]). .................................................................................................. 112 

Figura 54 – Resultados de medições utilizando o BV5000: conjunto de 
várias medições (esquerda), note que as regiões circulares sem dado são 
onde o sistema foi posicionado. Medição de flange (direita) 
(“TELEDYNE BlueView”, [s.d.]). ..................................................... 113 

Figura 55 – Esquemático do sistema câmera + sonar em um AUV 
(HURTOS; CUFI; SALVI, 2010). ...................................................... 114 

Figura 56 – a) Quando submerso, os dois objetos (círculo e quadrado) 
são projetado na mesma posição, já no ar (projeção sem distorção) os 
objetos são projetados em posições diferentes. b) Foto obtida através de 
um aquário vazio e c) preenchido com água. Pode-se notar nas regiões 
indicadas pelas setas que objetos oclusos no ar aparecem quando o 
aquário é preenchido e vice-versa (TREIBITZ et al., 2012). .............. 116 

Figura 57 – Visualizar através de uma interface plana resulta num 
sistema não central de projeção (nSVP) (TREIBITZ et al., 2012). ..... 117 

Figura 58 – Formação da superfície cáustica. Caminho óptico real (a); 
Caminho óptico aparente (b). Gráfico 3D de uma superfície cáustica (c) 
(TREIBITZ et al., 2012). ..................................................................... 117 



xvi 
 

Figura 59 – a) Calibração do sistema. b) Tabuleiro e dimensões 
conhecidas utilizadas. c) Objetos medidos com o sistema para validação 
da calibração (TREIBITZ et al., 2012). ............................................... 118 

Figura 60 – Visão geral da projeção através de ?? camadas plano-
paralelas de refração (esquerda). Caminho óptico completo para cada 
pixel fica num plano e todos os planos coincidem em um mesmo eixo 
que passa pelo centro da câmera (centro). Após o cálculo do eixo, 
analises podem ser realizadas no plano de refração para estimar a 
espessura da camada e os índices de refração (direita). Adaptado de 
(AGRAWAL et al., 2012). ................................................................... 120 

Figura 61 – Foto da montagem do experimento (esquerda) e foto tirada 
através do aquário com os pontos reprojetados (direita) com a 
aproximação central (verde) e com o método proposto (vermelho) 
(AGRAWAL et al., 2012). ................................................................... 122 

Figura 62 – Erro na medição de um plano triangulando câmeras 
calibradas utilizando o modelo SVP (vermelho) e o modelo de câmera 
axial considerando a refração (verde) (JORDT-SEDLAZECK; KOCH, 
2012). ................................................................................................... 123 

Figura 63 – Calibração por dois diferentes comprimentos de onda. 
Traduzido de (YAU; GONG; YANG, 2013). ...................................... 124 

Figura 64 – Sistema estereoscópico portátil com projeção de franjas para 
medição subaquática (BRÄUER-BURCHARDT; KÜHMSTEDT; 
NOTNI, 2015) (BRÄUER-BURCHARDT et al., 2015b). .................. 125 

Figura 65 – Erro máximo (???????? ) de reprojeção em pixels para objetos 
em distâncias diferentes da calibrada. Distância da calibração e da 
medição foram respectivamente de 1,3 e 6,5 (AOV no ar de 40°). ?? = 
distância do centro de projeção à interface ?? = comprimento focal. 
Valores normalizados em relação ao tamanho do pixel (TREIBITZ et 
al., 2012). ............................................................................................. 127 

Figura 66 – Gráfico do erro máximo ??(????????) simulado da reprojeção 
para calibração e medição realizada em distâncias similares. O aumenta 
com o ângulo de visão no ar (????????). Valores normalizados em relação ao 
tamanho do pixel (TREIBITZ et al., 2012). Gráficos em escalas 
diferentes. ............................................................................................. 127 

Figura 67 – Distribuição de erros (em pixels) de reprojeção no ar e na 
água (direita) (BIANCO et al., 2013)................................................... 129 



xvii 
 

 
 

Figura 68 – Fotos do sistema sendo calibrado (esquerda) e durante uma 
medição (direita) com projeção de um padrão de luz (BIANCO et al., 
2013). .................................................................................................. 129 

Figura 69 – Triangulação inversa através de ?? ? 1 interfaces planas de 
refração (?? meios). Três pontos de procura por um ?? válido em um nó da 
malha ???? sendo projetados nas câmeras “??” e “??”. O paralelepípedo 
representa o volume de medição, com resoluções espaciais ????, ???? e ????.
 ............................................................................................................. 136 

Figura 70 – Projeção inversa de ponto na imagem ?? em sistema estéreo 
através de múltiplas interfaces planas de refração. Adaptado de 
(AGRAWAL et al., 2012). .................................................................. 137 

Figura 71 – Triangulação inversa de ponto 3D ?? em sistema estéreo 
através de múltiplas interfaces planas de refração. Planos de refração 
(POR) ???? e ???? formados pelos respectivos vetores ?? e ??0. O ponto 3D 
?? está contido em ambos os planos de refração. ................................ 138 

Figura 72 – Diagrama de blocos da triangulação inversa. ................... 144 

Figura 73 – Refino em ?? (ZScan) para o módulo da diferença de fase 
(????) com quatro graus/iterações de refino. Esquemático dos refinos em 
cada iteração exposto abaixo do eixo ??. O número de divisões em cada 
iteração é apenas ilustrativo. ............................................................... 145 

Figura 74 – Diagrama de blocos do refino em ?? (ZScan). .................. 148 

Figura 75 – Gráfico do modulo da diferença de fase (????) com pontos de 
amostragem durante refino em ??. Devido a descontinuidades no ????, um 
falso mínimo é obtido, acarretando em uma faixa de procura na próxima 
iteração de refino fora da região do mínimo global. Com a correção da 
faixa de procura, o mínimo global pode ser encontrado. Esquemático 
dos refinos em cada iteração exposto abaixo do eixo ??. O número de 
divisões em cada iteração é apenas ilustrativo. ................................... 150 

Figura 76 – Foto e resultado de medição sem refino em ?? no ar de face 
do manequim. Nota-se regiões com falhas circulares devido aos alvos de 
cor escura colados no objeto. .............................................................. 152 

Figura 77 – Comparação do resultado de medição de região do queixo 
da cabeça de manequim (Figura 76). Nota-se claramente os artefatos 
causados pela descontinuidade da fase. Com apenas um passo de 
tolerância na correção da faixa de procura (?????????????? = 1) quase todos 
artefatos desaparecem. Já com cinco a medição é praticamente mesma 



xviii 
 

do que a obtida com o processamento sem refino (diferença de 10 
pontos, ou 0,03%). ............................................................................... 153 

Figura 78 – Diagrama de blocos da Projeção Inversa Através de 
Múltiplas Interfaces Planas de Refração (InvProjRefra). ..................... 157 

Figura 79 – Ilustração do primeiro (?? = 0), segundo e último passo (?? ?
1) do método para projeção inversa InvProjRefra. No primeiro passo 
define-se interseção com a primeira interface (??1) e direção no segundo 
meio (??1). O procedimento é repetido até que se obtenha a interseção na 
última interface (????) e direção no último meio (????). No caso de 
interfaces paralelas de refração, todas as normais (????) às interfaces são 
iguais ao inverso da direção do eixo da câmera (???) e os pontos 
quaisquer nas interfaces (??????) podem ser obtidos pelas espessuras dos 
meios (Figura 70). ................................................................................ 157 

Figura 80 – Vetor de erro ???? utilizado no método iterativo. O método 
corrige ???? (subtraindo ????) até que se obtenha um vetor erro de 
comprimento menor do que o erro máximo tolerado ou o número 
máximo de iteração seja atingido. Imagem esquerda adaptada de 
(AGRAWAL et al., 2012). ................................................................... 159 

Figura 81 – Diagrama de sequência do algoritmo iterativo de cálculo da 
projeção direta através de interfaces planas de refração. ..................... 160 

Figura 82 – Medição de rosto de manequim efeito de duplicação vertical 
devido a calibração incorreta. Note região dos olhos e alvo com 
duplicações verticais. ........................................................................... 162 

Figura 83 – Obtenção do erro residual durante a calibração dos 
parâmetros de refração (PR). 1) Definição dos PR. 2) Projeção inversa 
dos pares de pontos nas imagens. 3) Cálculo da mínima distância entre 
feixes triangulados e ponto médio. 4) Ajusta os pontos 3D conhecidos 
do padrão aos pontos 3D triangulados utilizando método do tipo de 
Horn. 5) Calcula distância entre pontos. Os PR são os que minimizam o 
erro dado por ??1 ? ??2 e ?? ? ?? para todos os pontos e poses do padrão.
 ............................................................................................................. 163 

Figura 84 – Vista superior do esquemático da configuração “reversa” 
para testes em laboratório, onde o meio de medição fica contido em um 
tanque com paredes inclinadas (esquerda) e do sistema vedado (direita).
 ............................................................................................................. 167 



xix 
 

 
 

Figura 85 – Configuração do experimento sem o tanque de água. 
Sistema estéreo com projetor e terceira câmera (no canto esquerdo 
superior da imagem) utilizada para auxiliar nos experimentos. .......... 169 

Figura 86 – Visão da terceira câmera, linha central de referência 
destacada (verde). ................................................................................ 170 

Figura 87 – Foto (esquerda) e dimensões (direita) do tanque de água 
montado para os experimentos da tese, o lado “A” foi o utilizado com o 
sistema estéreo e possui ângulo entre normais das janelas de 40°. ..... 170 

Figura 88 – Posicionamento do tanque com água na frente do sistema 
estéreo. ................................................................................................ 171 

Figura 89 – Imagens adquiridas durante a medição de uma face de 
manequim no ar. As primeiras oito imagens são referentes aos passos da 
técnica de projeção de franjas, já as nove subsequentes (9-17) ao gray-
code para a remoção do salto de fase. ................................................. 172 

Figura 90 – Padrão de calibração com 15 × 10 divisões com 10 mm de 
lado. ..................................................................................................... 176 

Figura 91 – Padrão de círculos durante definição do centro do volume de 
medição no ar. ..................................................................................... 177 

Figura 92 – Detalhe da distância da lente à parede do tanque. ............ 178 

Figura 93 – Padrão plano de vidro de microscópio antes e após pintura, 
com respectivo erro de planeza de 3 ??m e 28 ??m. Diâmetro e espessura, 
respectivamente, em torno de 205 mm e 10,2 mm. ............................. 181 

Figura 94 – Padrão plano (planeza 0,028 mm) fixo em suporte para 
facilitar a realização das medições em diferentes posições. ................ 182 

Figura 95 – Posições sugeridas pelo VDI/VDE 2634 (VDI/VDE-2634, 
2008). .................................................................................................. 183 

Figura 96 – Par de esferas de aço durante calibração em máquina de 
medir por coordenadas da Mitutoyo na Fundação CERTI. Foram obtidos 
13 pontos em cada esfera e realizados três ciclos de medição. ........... 184 

Figura 97 – Padrão de par de esferas, indicação da distância entre 
centros (????) e diâmetro (????). ............................................................. 185 

Figura 98 – Cabeça de manequim durante calibração com sistema GOM 
ATOS (GOM, 2015) em laboratório da Fundação CERTI. ................ 186 



xx 
 

Figura 99 – Resultado da medição de referência (calibração) da cabeça 
de manequim com o sistema GOM ATOS. ......................................... 186 

Figura 100 – Réplica de parte de região cavitada de pá de turbina 
hidráulica preenchida com cordões de solda. ....................................... 187 

Figura 101 – Exemplo de superfície obtida e detalhe da nuvem de 
pontos da medição da face de um manequim no ar com a resolução 
padrão do sistema 0,1×0,1×0,01 mm³. ................................................ 188 

Figura 102 – Exemplo de mapa de desvios. Medição de referência do 
objeto é colorida conforme os desvios em relação à medição sendo 
avaliada. Note o histograma de desvios ao lado da escala do mapa de 
cores e sistema de coordenadas no canto inferior esquerdo. ................ 189 

Figura 103 – Interface do software desenvolvido na tese no Labview.
 ............................................................................................................. 194 

Figura 104 – Uma das aquisições do padrão tipo xadrez durante a 
calibração no ar. Imagem da câmera esquerda, direita e auxiliar......... 195 

Figura 105 – Mapa de distorção radial e tangencial da calibração SVP 
no ar para a câmera esquerda. Sendo “?” o centro obtido na calibração e 
“+” o centro da imagem. ...................................................................... 198 

Figura 106 – Mapa de distorção completo da calibração SVP no ar da 
câmera esquerda. Sendo “?” o centro obtido na calibração e “+” o 
centro da imagem. ................................................................................ 199 

Figura 107 – Histograma relativo (%) do erro de reprojeção (em pixel) 
da calibração no ar para a câmera da esquerda (??) e direita (??) antes da 
otimização estéreo. ............................................................................... 199 

Figura 108 – Vista superior, lateral e perspectiva das poses calculadas 
do padrão após calibração SVP no ar. Cubo de lado 200 mm representa 
o volume de medição. Sistema de coordenadas da câmera esquerda. .. 200 

Figura 109 – Imagens obtida pelo sistema e pela terceira câmera durante 
calibração SVP na água........................................................................ 201 

Figura 110 – Mapa de distorção radial e tangencial da calibração SVP na 
água. Sendo “?” o centro obtido na calibração e “+” o centro da 
imagem. ................................................................................................ 203 

Figura 111 – Mapa de distorção completo da calibração SVP na água. 
Sendo “?” o centro obtido na calibração e “+” o centro da imagem. .. 204 



xxi 
 

 
 

Figura 112 – Comparação entre o mapa de distorção dos parâmetros 
obtidos na calibração no ar (cima) e na água (baixo) da câmera esquerda.
 ............................................................................................................. 206 

Figura 113 – Exemplo de correção da distorção de imagens obtidas no ar 
(A) e na água (W) (coluna da esquerda) com parâmetros de distorção 
obtidos em calibração no ar e na água (coluna da direita). Imagens 
obtidas com a câmera esquerda. No detalhe, as regiões em pontilhado 
comparam a imagem obtida na água após a correção da distorção com os 
parâmetros obtidos no ar e na água. .................................................... 207 

Figura 114 – Poses estimadas do padrão após a otimização dos 
parâmetros de refração. O cubo refere-se ao volume de medição de 200³ 
mm³ definido no ar. ............................................................................. 210 

Figura 115 – Vetores de erro para todas as nove posições do padrão. 
Foram excluídos da otimização três pontos da linha superior, começando 
pelo segundo da esquerda para a direita. O maior vetor representa um 
erro de 0,30 mm. ................................................................................. 212 

Figura 116 – Histograma relativo (%) do erro dado pela distância dos 
pontos triangulados e do padrão. ......................................................... 213 

Figura 117 – Vista perspectiva e superior da variação do erro residual de 
calibração variando a distância da parede do tanque na câmera esquerda 
e direita (??0??, ??0??) em ± 1 mm após a otimização. ........................... 214 

Figura 118 - Erro de calibração em relação à variação da distância à 
parede do tanque da câmera esquerda (??). Parâmetros de refração 
otimizados com ??0?? = 16,938 mm. ................................................... 215 

Figura 119 – Erro de calibração em relação à variação da espessura da 
parede do tanque de água. Parâmetros de refração otimizados com ??1 =
6,00 mm (valor nominal). ................................................................... 215 

Figura 120 – Erro da calibração em relação à variação do índice de 
refração da água em ± 0,001. Parâmetros de refração otimizados com 
??2 = 1,3381. Sendo ?? o erro médio. .................................................. 216 

Figura 121 – Vista perspectiva do modelo CAD do sistema e do volume 
de medição (cubo de 200 mm de lado) no ar....................................... 217 

Figura 122 – Vista perspectiva do modelo CAD do sistema e tanque 
mostrando o campo de projeção; campo de visão das câmeras e cinco 



xxii 
 

posições de um plano medido, ilustrando o volume útil de medição na 
água. ..................................................................................................... 218 

Figura 123 – Base cinemática utilizada no experimento. ..................... 219 

Figura 124 – Fotos durante aquisição com plano na mesma posição no ar 
e na água. ............................................................................................. 219 

Figura 125 – Imagens obtidas pelo sistema no ar (acima) e na água 
(abaixo) na mesma posição (??~ 0 mm). .............................................. 220 

Figura 126 – Desvio ao plano ajustado em cada medição. Os valores 
abaixo da legenda de cores que estão separados por “/” representam o 
desvio: mínimo, máximo e ??. Valores em milímetros. ........................ 221 

Figura 127 – Vista frontal e perspectiva da medição do plano na mesma 
posição no ar (preto), água (SVP) (verde) e água (Refra) (azul). ........ 221 

Figura 128 – Vista superior e lateral da medição do plano na mesma 
posição no ar e água. ............................................................................ 222 

Figura 129 – Vista superior e lateral da medição do plano na mesma 
posição no ar e água após remoção de pontos espúrios (1/1000) e 
distantes ± 0,2 mm. .............................................................................. 222 

Figura 130 – Vista frontal e perspectiva das nuvens de pontos obtidas da 
medição do plano com deslocamentos controlados durante um dos 
quatro ciclos de medição na água. ....................................................... 226 

Figura 131 – Vista superior e lateral das nuvens de pontos obtidas da 
medição do plano com deslocamentos controlados durante um dos 
quatro ciclos de medição na água. A linha pontilhada representa o eixo 
?? e a linha contínua vermelha representa o vetor normal ao plano #1. 
Nota-se que as linhas são visualmente coaxiais. .................................. 226 

Figura 132 – Tendência na medição de distância no ar, água (SVP) e 
água (Refra). ........................................................................................ 228 

Figura 133 – Tendência na medição de distância no ar. ...................... 228 

Figura 134 – Tendência na medição de distância na água (SVP). ....... 228 

Figura 135 – Tendência na medição de distância na água (Refra). ...... 229 

Figura 136 – Contorno do histograma normalizado (distribuição 
probabilidade, área = 1) do desvio para todas as posições e ciclos dos 
deslocamentos controlados do plano em cada meio e calibração. O 
número de pontos no ar é menor pois foram feitos 3 ciclos ao invés de 4 



xxiii 
 

 
 

(água), todavia, com apenas um ciclo os histogramas já possuíam todos 
forma similar à exposta no gráfico. ..................................................... 229 

Figura 137 – Desvio aos planos ajustados nas cinco posições de um dos 
ciclos de aquisição na água com modelo Refra. .................................. 231 

Figura 138 – Desvio ao plano ajustado das nuvens de pontos de um dos 
ciclos nas posições #1 100 mm e #5 -100 mm obtidas na água com 
modelo SVP (verde) e Refra (azul e rosa). Nota-se formato “C” nos 
erros, e formato “S” na posição #1 com modelo SVP. ........................ 231 

Figura 139 – Desvio ao plano ajustado a nuvem de pontos de um dos 
ciclos na posição #1 no ar. Nota-se erro sistemático, todavia pequeno se 
comparado ao obtido na água. ............................................................. 232 

Figura 140 – Seis posições obtidas no ar, enumeradas de 1 a 6 da 
esquerda para a direita. ........................................................................ 232 

Figura 141 – Vista frontal e perspectiva das 7 nuvens de pontos obtidas 
da medição do plano em posições aleatórias no ar. ............................. 233 

Figura 142 – Vista superior e lateral das 7 nuvens de pontos obtidas da 
medição do plano em posições aleatórias no ar. .................................. 233 

Figura 143 – Desvio ao plano ajustado de todas as 7 nuvens de pontos 
obtidas da medição do plano no ar em posições não controladas. Valores 
em milímetros. ..................................................................................... 234 

Figura 144 – Vista em perspectiva do desvio ao plano ajustado (em 
mapa de cores) de todas as 7 nuvens de pontos obtidas da medição do 
plano no ar em posições não controladas. Retângulo inferior representa 
um lado do volume de medição (200 × 200 mm²). ............................. 234 

Figura 145 – Vista em perspectiva dos resultados de medição do plano 
na água em posições não controladas de 1-5; 6-10 e 11-18. ............... 235 

Figura 146 – Vista frontal e perspectiva das medições do plano na água 
em posições não controladas. .............................................................. 235 

Figura 147 – Visita superior e lateral de todas as medições do plano na 
água em posições não controladas....................................................... 236 

Figura 148 – Histograma normalizado (distribuição probabilidade, área 
= 1) do desvio ao plano obtido em posições aleatórias, referente a: seis 
medições no ar, medições de 1 a 13 na água com modelo SVP e Refra.
 ............................................................................................................. 238 



xxiv 
 

Figura 149 – Vista em perspectiva do desvio dos resultados na água 
(Refra) nas posições 5, 7 e 18 da medição do plano em posições 
aleatórias. ............................................................................................. 239 

Figura 150 – Comparação entre os desvios obtidos com o modelo SVP e 
Refra na medição na água na posição 18 (??~230 mm). Os valores 
abaixo da legenda de cores que estão separados por “/” representam o 
desvio: mínimo, máximo e ?? em milímetros. Nota-se erro devido a 
problemas no processamento das franjas em ambos os casos. Já no 
processamento com o modelo SVP existe um erro sistemático nas 
bordas que chega a 0,4 mm. ................................................................. 239 

Figura 151 – Esferas ajustadas nas medições no ar do par de esferas em 
todas 16 posições aleatórias. Do canto esquerdo superior no sentido 
horário: posições 1 a 5, 6 a 10, 11 a 16 e todas. Volume de medição 
representado pelo cubo......................................................................... 241 

Figura 152 – Vista frontal e superior de todas 16 medições do par de 
esfera no ar incluindo pontos medidos. Volume de medição 
representando pelo cubo....................................................................... 242 

Figura 153 – Gráfico do SSE e PE ???? ângulo do vetor distância das 
esferas relativo à ?? para as 16 diferentes posições do par de esferas no 
ar. ......................................................................................................... 244 

Figura 154 – Par de esferas durante uma das medições na água. ......... 244 

Figura 155 – Foto durante medição do par de esferas onde é possível ver 
a tela do notebook com a imagem obtida pelo sistema estéreo 
(esquerda). Detalhe das esferas (direita). ............................................. 245 

Figura 156 – Imagem obtida pela câmera esquerda, central e direita 
durante a medição #11. ........................................................................ 245 

Figura 157 – Mapas de fase obtidos para a medição #11. .................... 245 

Figura 158 – Resultado de medição do par de esferas na água (Refra) em 
23 posições aleatória e respectivas esferas ajustadas. Do canto esquerdo 
superior no sentido horário: posições 1 a 5, 6 a 10, 11 a 16 e todas 
(incluindo os pontos medidos). Volume de medição no ar representado 
pelo cubo. ............................................................................................. 246 

Figura 159 – Vista frontal e em perspectiva de todas 23 medições do par 
de esfera na água (Refra). .................................................................... 247 



xxv 
 

 
 

Figura 160 – Gráfico de ?????? e ???? ???? ângulo do vetor distância das 
esferas relativo à ?? para as 23 diferentes posições do par de esferas na 
água (Refra). ........................................................................................ 249 

Figura 161 – ?????? e ???? no ar e na água para cada aquisição. ?????? 
mínimos e máximos indicados. ........................................................... 250 

Figura 162 – ?????? e ???
o ângulo de orientação das esferas em relação a ?? no SCO. ............... 251 

Figura 163 – Histogramas normalizados do ?????? no ar e na água. ...... 251 

Figura 164 – Histograma do erro de apalpação (????) no ar e na água. 252 

Figura 165 – Erro da distância entre centros das esferas (??????) para as 
medições no ar, água (SVP) e água (Refra) em relação ao ângulo entre o 
vetor centros e o eixo ??. ...................................................................... 253 

Figura 166 – Histograma de desvios (????) das medições do par de 
esferas no ar, água (SVP) e água (Refra). Erro dado pela distância 
normal de cada ponto medido em relação à superfície da esfera de raio 
fixo ajustada. ....................................................................................... 253 

Figura 167 – Compilação dos resultados obtidos com a medição no ar, 
água (SVP) e água (Refra). ................................................................. 254 

Figura 168 – Gráfico do erro máximo para medições na água com o 
modelo de refração (Refra). Nota-se que a componente aleatória é quase 
insignificativa se comparada ao erro sistemático relativo. .................. 260 

Figura 169 – Cabeça de manequim durante medição na água. É possível 
notar o trajeto da luz do projetor. ........................................................ 261 

Figura 170 – Vista superior e detalhe de franjas projetadas sobre a face 
de manequim. ...................................................................................... 261 

Figura 171 – Medição da parte lateral e posterior da cabeça de 
manequim. ........................................................................................... 262 

Figura 172 – Imagens adquiridas pelo sistema durante a medição da face 
no ar e na água (baixo). ....................................................................... 262 

Figura 173 – Resultado de medição no ar e na água (Refra) da face de 
manequim. ........................................................................................... 263 

Figura 174 – Desvio do resultado de medição frontal da cabeça de 
manequim no ar e visão (em recorte) do sistema durante aquisição. .. 264 



xxvi 
 

Figura 175 – Desvio do resultado de medição da face da cabeça de 
manequim na água com método SVP e Refra. Nota-se o maior tempo de 
processamento no método Refra devido a necessidade do cálculo do 
caminho da luz pelas interfaces de refração. ........................................ 265 

Figura 176 – Resultado de medição da parte lateral esquerda da face de 
manequim na água (Refra). .................................................................. 266 

Figura 177 – Desvio do resultado de medição lateral da cabeça de 
manequim no ar e visão (em recorte) do sistema durante aquisição. ... 267 

Figura 178 – Desvio do resultado de medição lateral da cabeça de 
manequim na água com método SVP e Refra (mesma da figura 176). 268 

Figura 179 – Desvio do resultado de medição posterior da cabeça de 
manequim no ar e visão (em recorte) do sistema durante aquisição. ... 269 

Figura 180 – Desvio do resultado de medição posterior da cabeça de 
manequim na água com método SVP e Refra. ..................................... 270 

Figura 181 – Vista frontal e lateral dos resultados de medição da face de 
manequim na água utilizando o modelo SVP com parâmetros obtidos no 
ar (vermelho) e na água (verde) e com modelo de refração (Refra) 
obtido na água (azul). ........................................................................... 271 

Figura 182 – Medição da cavidade preenchida com cordões de solda no 
ar e na água. ......................................................................................... 272 

Figura 183 – Vista frontal da cavidade preenchida com cordões de solda 
posicionada no interior do tanque para a medição. .............................. 272 

Figura 184 – Imagens adquiridas pela câmera esquerda e direita no ar e 
na água (baixo) em posições (??) distintas. ........................................... 273 

Figura 185 – Posicionamento da peça no ar (esq.) e na água (dir.) e cubo 
referente volume de medição no ar. ..................................................... 274 

Figura 186 – Resultado de medição no ar - cavidade preenchida com 
cordões de solda. .................................................................................. 275 

Figura 187 – Resultado de medição na água (Refra) – cavidade 
preenchida com cordões de solda. ........................................................ 276 

Figura 188 – Comparação de parte da medição no ar e na água (Refra) 
(direita). Nota-se maior ruído na medição na água. ............................. 276 

Figura 189 – Comparação entre medições obtidas no ar e região 
utilizada para o ajuste. .......................................................................... 277 



xxvii 
 

 
 

Figura 190 – Comparação entre medições obtidas na água com modelo 
SVP e Refra. ........................................................................................ 278 

Figura 191 – Comparação dos desvios obtidos da medição da placa com 
cavidade preenchida com solda utilizando: a) Otimização completa 
(??, ??0, ??2), b) Parcial (somente ??) ou c) Nenhuma (valores de 
referência). Canto superior direito: detalhe da diferença de posição 
visível entre as medições, à frente resultado obtido com b), no meio a) e 
mais atrás com c). ................................................................................ 280 

Figura 192 – Medição de trecho de tubo amassado de PVC de 305 mm 
(12”) de diâmetro. ............................................................................... 281 

Figura 193 – Imagens do tubo de PVC obtida pelo sistema durante a 
medição na água. ................................................................................. 282 

Figura 194 – Detalhe de artefato na região central do tubo medido. Foto 
???? resultado de medição na água (Refra). ........................................... 282 

Figura 195 – Vista frontal do resultado de medição de tubo de PVC na 
água (Refra). Área em ???? de quase 200 × 200 mm². ......................... 283 

Figura 196 – Análise do ruído da medição no tubo de PVC na água 
(Refra). Ajustado plano polinomial de 3ª ordem e obtida a distância de 
cada ponto ao plano. Escala de cores representa todos os pontos. Nota-se 
um erro máximo em torno de ± 0,1 mm. ............................................. 284 

Figura 197 – Resultado de medição na água (Refra) de tubo de PVC e 
cilindro ajustado de 312,0 mm de diâmetro. ....................................... 285 

Figura 198 – Resultando de medição do tubo de PVC amassado de 
305 mm (12”) de diâmetro. Total de pontos: 3.325.575. Tempo de 
processamento: 8 min. Tempo para criação da malha: 6 min. Diâmetro 
do cilindro ajustado: 312,0 mm. Medição na água (Refra). ................ 285 

Figura 199 – Medição de seção de riser de 6” (154 mm) de diâmetro. 286 

Figura 200 – Imagens obtidas pelo sistema estéreo durante medição de 
seção de riser de 6” (154 mm) de diâmetro. Pode-se notar reflexo na 
parte central do tubo. ........................................................................... 287 

Figura 201 – Resultado de medição de riser de riser de 6” (154 mm) de 
diâmetro na água (Refra). Cilindro ajustado ao resultado. Diâmetro 
médio obtido de 169 mm. .................................................................... 287 



xxviii 
 

Figura 202 – Resultado de medição de riser de riser de 6” (154 mm) de 
diâmetro na água (Refra). Nota-se maior ruído devido ao reflexo (Figura 
200) em duas faixas próximo a região central da medição e também 
falhas devido a regiões com cor escura ou reflexivas. Processamento: 3 
min 38 s. Total de pontos: 1.424.862. .................................................. 288 

Figura 203 – Imagens adquiridas da câmera esquerda e direita durante 
medição do plano padrão. Nota-se o reflexo na parede do tanque e na 
superfície da água. ............................................................................... 289 

Figura 204 – Caminho óptico da luz para: (a) o índice de refração é 
diferente em cada posição (caso genérico); (b) índice de refração é 
diferente em “i-ésimos” discretos meios e (c) em um único meio. ...... 317 

Figura 205 –Modelagem bidimensional do caminho óptico entre o 
ponto ?? no sensor da câmera e ?? (ponto de interesse) (esquerda). 
Parametrização do caminho óptico em triângulos de altura ???, base ???? e 
hipotenusa ???? (direita). ......................................................................... 318 

Figura 206 – Câmera Flea 2 da antiga Point Grey (comprada pela Flir) 
do sistema estéreo. ............................................................................... 321 

Figura 207 – Lente de 8 mm da Computar utilizada no sistema estéreo 
(COMPUTAR, 2017a). ........................................................................ 322 

Figura 208 – Projetor LG / HS101 do sistema estéreo (LG, 2007). ..... 323 

Figura 209 – Imagem obtida pela terceira câmera dos padrões de 
círculos colados nas janelas (pose 1?? e pose 1??) do tanque utilizada 
para a obtenção da orientação e distância de referência. ...................... 326 

Figura 210 – Esquemático da transformação de coordenadas para a 
obtenção da posições e orientação das janelas no tanque. ................... 326 

 
 



xxix 
 

 
 

LISTA DE TABELAS 

Tabela 1 – Taxonomia por distorção das modelagens de câmera. 
Adaptado de (SWAMINATHAN; GROSSBERG; NAYAR, 2003). .... 61 

Tabela 2 – Índice de refração do ar, vidro e acrílico sob pressão 
atmosférica (HECHT, 2001) (BASS et al., 1995). ................................ 87 

Tabela 3 – Compilação do índice de refração da água para variações 
extremas de temperatura, salinidade e pressão (?? = 508,5 nm) (QUAN; 
FRY, 1995). ........................................................................................... 88 

Tabela 4 – Principais especificações do sistema descrito em (BRÄUER-
BURCHARDT et al., 2015b). ............................................................. 125 

Tabela 5 – Comparação de erros em % de medição da distância dos 
centros de um padrão de par de esferas (????????) e de planeza (????????????) 
(BRÄUER-BURCHARDT et al., 2015b). .......................................... 126 

Tabela 6 – Comparação do erro de medição de um plano e um cilindro 
em meio subaquático com a técnica de estereoscopia ativa e passiva (? = 
média, ? = desvio padrão) (BIANCO et al., 2013). Valores em 
milímetros. .......................................................................................... 129 

Tabela 7 – Comparação entre as principais técnicas de calibração em 
meio subaquático para janela plana. .................................................... 130 

Tabela 8 – Parâmetros de refração. ..................................................... 137 

Tabela 9 – Parâmetros resultantes da refração. ................................... 137 

Tabela 10 – Compilação dos parâmetros de entrada e de saída dos 
algoritmos utilizados. Parâmetros necessários para o cálculo através de 
interfaces planas de refração são indicados com “*”. As setas indicam 
? Entrada e ? Saída. São necessários para cada uma das câmeras os 
dados de medição, parâmetros da câmera e de refração. ..................... 140 

Tabela 11 – Número de pontos para um determinado volume de 
medição e resolução no caso de busca exaustiva ou força bruta. ........ 142 

Tabela 12 – Parâmetro de entrada e saída da triangulação inversa. 
Parâmetros adicionais devido à refração indicados por “*”. ............... 143 

Tabela 13 – Dados de entra e saída do refino em ?? incluindo a validação 
do ponto ou não. .................................................................................. 147 



xxx 
 

Tabela 14 – Parâmetros de entrada e saída do método para projeção 
inversa através de interfaces planas de refração (InvProjRefra). ......... 155 

Tabela 15 – Parâmetros de entrada e saída do método para projeção 
inversa através de interfaces planas de refração (InvProjRefra). ......... 158 

Tabela 16 – Parâmetros de entrada e saída da função custo de calibração.
 ............................................................................................................. 164 

Tabela 17 – Requisito iniciais do sistema. ........................................... 168 

Tabela 18 – Configuração padrão da projeção. .................................... 173 

Tabela 19 – Configuração padrão de processamento. .......................... 174 

Tabela 20 – Compilação dos casos de uso e das técnicas de calibração 
utilizadas. ............................................................................................. 175 

Tabela 21 – Estimativa inicial e limites dos parâmetros de refração. 
Parâmetros a serem otimizados destacados em vermelho (??, ??0, ??2). 
Coordenadas ?? e distâncias ???? em milímetros. .................................... 179 

Tabela 22 – Dimensões calibradas do par de esferas. .......................... 185 

Tabela 23 – Avaliação do tempo de processamento para uma medição 
típica (face de manequim) com resoluções em ?????? de (0,1 × 0,1 ×
0,01) mm, obtendo aproximadamente 18.400 pontos. ......................... 193 

Tabela 24 – Parâmetros intrínsecos da câmera e de distorção da lente 
obtidos na calibração no ar................................................................... 196 

Tabela 25 – Relação estéreo – rotação e translação do sistema de 
coordenadas da câmera esquerda para a direita. Valores em milímetros.
 ............................................................................................................. 197 

Tabela 26 - Parâmetros extrínsecos – calibração no ar. Valores em 
milímetros. ........................................................................................... 197 

Tabela 27 – Parâmetros intrínsecos da câmera e de distorção da lente 
obtidos na calibração na água. ............................................................. 202 

Tabela 28 – Relação estéreo – rotação e translação (????????) do sistema de 
coordenadas da câmera esquerda para a direita para a calibração SVP na 
água. Valores em milímetros. .............................................................. 202 

Tabela 29 - Parâmetros extrínsecos – calibração na água. Valores em 
milímetros. ........................................................................................... 203 



xxxi 
 

 
 

Tabela 30 – Comparação entre calibração SVP obtida no ar e na água.
 ............................................................................................................. 205 

Tabela 31 – Parâmetros de refração conhecidos. Eixo das câmeras ?? em 
milímetros. .......................................................................................... 209 

Tabela 32 – Legenda de cores, erro máximo, médio e desvio padrão 
final das 9 imagens utilizadas na calibração. Valores em milímetros. 210 

Tabela 33 – Parâmetros de refração estimados, limites e após a 
otimização. Os parâmetros que foram otimizados estão destacados em 
vermelho (??, ??0, ??2) e com *. Coordenadas ?? e distâncias ???? em 
milímetros. .......................................................................................... 211 

Tabela 34 – Normal e centro da medição do plano na mesma posição no 
ar e água (SVP e REFRA). .................................................................. 224 

Tabela 35 – Diferença entre sistema de coordenadas do objeto (SCO) na 
água com modelo SVP e Refra ao SCO no ar. .................................... 224 

Tabela 36 – Posições nominais em ?? e cores utilizadas nas nuvens de 
pontos obtidas. ..................................................................................... 225 

Tabela 37 – Tendência e repetibilidade (????) com intervalo de 95% de 
confiança para medição de deslocamentos controlados do plano no ar, 
água (SVP) e (Refra). Valores em milímetros..................................... 227 

Tabela 38 – Diferença entre a tendência utilizando o modelo Refra com 
o SVP na água (segunda coluna) e medições no ar (terceira coluna). 
Valores obtidos a partir dos dados das colunas 2, 3 e 4 da tabela 37. 
Valores em milímetros. ....................................................................... 227 

Tabela 39 – Desvio mínimo, máximo e ?? [mm] para as medições na 
água processadas com o modelo SVP e Refra. Posições em itálico (14-
18) estão muito fora do volume de medição e não foram utilizadas no 
cálculo do histograma.......................................................................... 237 

Tabela 40 – Legenda de cores das posições do par de esferas e 
compilação do erro de distância entre centros (SSE) e apalpação (???? 1 e 
2). Última coluna expõe o ângulo entre o vetor (???????? = ??????) e o eixo 
Z no SCO (?????????). Os erros possuem escalas de cores do verde 
(menor) ao vermelho (maior). Os ângulos possuem escala reversa de 
cores. ................................................................................................... 243 

Tabela 41 – Legenda de cores das posições do par de esferas e 
compilação do erro de distância entre centros (??????), apalpação (???? 1 e 



xxxii 
 

2) para medição na água com modelo SVP e Refra. Última coluna expõe 
o ângulo entre o vetor distância dos centros das esferas (???????? = ??????) e 
o eixo Z no SCO (???????). Os erros possuem escalas de cores do verde 
(menor) ao vermelho (maior). Os ângulos possuem escala reversa de 
cores. .................................................................................................... 248 

Tabela 42 –Valor máximo, mínimo, médio e desvio padrão dos erros de 
distância entre centros (??????) em milímetros obtido para os três casos de 
medição. ............................................................................................... 249 

Tabela 43 – Valor máximo, mínimo, médio e desvio padrão dos erros de 
apalpação (????) em milímetros obtido para os três casos de medição. . 250 

Tabela 44 – Compilação dos resultados (em milímetros e %) e 
comparação da diferença relativa entre Água (Refra) e Ar. ................. 255 

Tabela 45 – Principais fontes de incerteza de um sistema de visão 
estéreo ativo com projeção de franjas utilizado no ar e através de 
interfaces de refração (ex.: medição na água). ..................................... 256 

Tabela 46 – Balanço de incerteza da componente aleatória e erro 
sistemático não proporcional à distância medida. ................................ 259 

Tabela 47 – Padrão seguido nas figuras das comparações ar/água. ..... 260 

Tabela 48 – Análise do ruído da medição na área indicada na figura 186. 
Valores em milímetros. ........................................................................ 277 

Tabela 49 – Comparação dos desvios obtidos da medição da placa com 
cavidade preenchida com solda utilizando: a) Otimização completa 
(??, ??0, ??2), b) Parcial (somente ??) ou c) Nenhuma (valores de 
referência). ........................................................................................... 280 

Tabela 50 – Comparação dos resultados obtidos na tese com sistema de 
medição similar. ................................................................................... 291 

Tabela 51 – Síntese comparativa dos métodos de calibração dos 
parâmetros de refração com suas principais limitação e aspectos 
positivos. .............................................................................................. 297 

Tabela 52 – Resumo da avaliação do sistema no ar e água. ................. 299 

Tabela 53 – Principais especificações das câmeras do sistema estéreo 
(POINTGREY (FLIR), 2017). ............................................................. 322 

Tabela 54 – Especificações da lente de 8 mm da Computar utilizada no 
sistema estéreo (COMPUTAR, 2017b)................................................ 323 



xxxiii 
 

 
 

Tabela 55 – Especificações do projetor LG / HS101 (LG, 2007). ...... 323 

Tabela 56 – Comparação entre eixos e distâncias as janelas de referência 
e os obtidos na calibração. Dimensões em milímetros. ....................... 327 

 



xxxiv 
 

LISTA DE SIGLAS E ABREVIATURAS 

2D Espaço bidimensional 
3D Espaço tridimensional 
AOV Angle Of View 
AIPR Através de interfaces planas de refração 
AREM Autonomous Robot for Environmental Monitoring 
AUV Autonomous Underwater Vehicle 
CPRM Companhia de Pesquisa de Recursos Minerais 
DIDSON Dual-frequency identification sonar 
GPU Graphics Processing Unit 
INPetro Instituto de Petróleo, Energia e Gás 

InvProjRefra 
Método para a Projeção Inversa Através de 
Interfaces Planas de Refração 

InvT Triangulação inversa 

IteraProjRefra 
Algoritmo Iterativo para a Projeção Através de 
Interfaces Planas de Refração 

JTC Janela Totalmente Corretiva 
Labmetro Laboratório de Metrologia e Automatização 
MMC Máquina de Medir por Coordenadas 
MO3S Medição óptica de formas 3D em meio subaquático 
NaN Not a Number 
NCC Normalized Cross-Correlation 

nSVP 
Non-Single-View Point (Sem centro único de 
projeção) 

OpenCV 
Biblioteca aberta de processamento de imagens em 
C++ 

O&amp;amp;G (indústria do) óleo &amp;amp; gás 
PE Erro de apalpação (Probing Error) 
POR Plane Of Refraction 



xxxv 
 

 
 

Refra 
Modelagem física do caminho da luz através de 
interfaces planas de refração 

ROV Remotely Operated underwater Vehicle 
SCC Sistema de coordenadas da câmera 
SCO Sistema de coordenadas do objeto 
SfM Structure from Motion 
SHIC Shearografia Aplicada à Inspeção de Compósitos 
SIFT Scale-Invariant Feature Transform 

SSE 
Estimativa do erro de escala, diferença entre a 
distância entre esferas medida e a calibrada (Sphere 
Spacing Error) 

STIL Streak Tube Imaging Lidar 
STL Sistema de Triangulação a Laser 
SURF Speeded Up Robust Features 

SVP 
Single-View Point (ponto único de visão, câmera 
central, pinhole) 

TNCC Temporal Normalized Cross-Correlation 
ToF Time of Flight 

XYZScan 
Varredura em ?????? com incremento gradual da 
resolução e limites de forma livre 

ZScan 
Varredura em ?? com incremento gradual da 
resolução 

ZScan2 
Varredura em ?? com incremento gradual da 
resolução com maior tolerância a descontinuidades 
no mapa de fase 



xxxvi 
 

LISTA DE SÍMBOLOS 

• Gerais 
?? ? Erro médio. 

??????????, ?????????? Erro mínimo e máximo. 
?? Desvio padrão. 
? Diâmetro. 
? Produto escalar (dot product). 

× 
Produto vetorial (cross product) ou multiplicação 
simples, quando entre escalares. 

????? Ângulo entre dois vetores quaisquer ?? e ??. 

• Modelo de câmera SVP 

?? 
Ponto no espaço tridimensional em coordenadas do 
objeto. 

?? Ponto no plano imagem em coordenadas da imagem 
???  Ponto ?? em coordenadas homogêneas. 
??? Ponto ?? em coordenadas homogêneas. 

?? 
Matriz de projeção (parâmetros intrínsecos e extrínsecos 
da câmera). 

?? Matriz dos parâmetros intrínsecos da câmera. 
?? Matriz de rotação de sistema de coordenadas. 
?? Vetor de translação de sistema de coordenadas. 

???? 
Matriz de transformação de sistema de coordenadas. ???? =
[??|??]. 

(??, ??) 
Coordenadas de um ponto no plano imagem em 
coordenadas da imagem. 

(??0, ??0) 
Coordenadas do centro de projeção em coordenadas da 
imagem. 

?? Comprimento focal. 
??? Plano imagem. 
??? Ângulo entre eixo ?? e ?? no plano imagem. 



xxxvii 
 

 
 

?? Fator de desalinhamento (skew factor) no plano imagem. 

(??, ??) 
Coordenadas no plano imagem sem distorção da lente 
(pinhole) 

?? Centro de projeção e sistema de coordenadas da câmera. 

• Modelo de distorção de lentes 
???? Coeficiente de distorção radial ?? de ordem 2??. 
???? Coeficiente de distorção tangencial ?? 

?? 
Distância do centro de projeção a um ponto ??, ?? em 
coordenadas da câmera 

(????, ????) 
Coordenadas no plano imagem considerando a distorção 
da lente 

(??????, ?????) 
Distância do ponto na imagem (com distorção) ao centro 
de projeção (??0, ??0): 
(??????, ?????) = (???? ? ??0, ???? ? ??0) 

• Triangulação Inversa 
???, ?y, ?z Resolução em ??, ?? ?? ??. 

????,??,?? 
Número de valores discretizados em um dos eixos 
(??????). 

?????? Total de nós discretizados na malha ????. 

???????? 
Total de pontos discretizados em todo volume de 
medição. 

?????? Número de valores discretizados em ??. 
??(??) Relação de correspondência entre imagens na cota ??. 
?  Quando sozinho representa o passo da derivada. 

????????, ???????? 
Limite inferior e superior do volume de medição no 
eixo ??. 

??????????, ?????????? 
Valores em ?? máximo e mínimo válidos obtido no 
ZScan2. 

?????????????? 
Constante que define o valor máximo de busca por uma 
diferença de fase válida no ZScan2. 

???????? Tolerância do algoritmo IteraProjRefra. 



xxxviii 
 

????????????????  
Número máximo de iterações do algoritmo 
IteraProjRefra. 

???? 
Constante de multiplicação do algoritmo 
IteraProjRefra. 

???? 
Vetor de correção em pixel do algoritmo 
IteraProjRefra. 

???? 
Vetor de erro normalizado do algoritmo 
IteraProjRefra. 

?? Número de graus de refino. 

• Modelo de refração 
??? Plano de refração (POR). 

?? 
Ângulo do caminho óptico de um feixe de luz e o vetor 
normal a superfície. 

?? Índice de refração. 
?? Número de imagens. 
?? Número de meios de refração ou número de iterações. 
?? Vetor unitário de direção do caminho óptico da luz. 
?? Ponto de interseção do feixe com interface de refração. 
???? Ponto qualquer no plano. 

?? 
Eixo da câmera. É normal às interfaces planas de refração 
e tem início no centro de projeção. 

??? Vetor unitário normal à superfície de refração. 
?? Comprimento do feixe no meio de refração. 
?? Comprimento total do caminho óptico. 
???????? Tempo do caminho óptico. 
?? Espessura do meio de refração. 
?? Componente ?? do comprimento do feixe. 
??? Velocidade da luz no meio. 

?? 
Fator multiplicativo da direção normal (???) no cálculo da 
direção do vetor refratado (????+1). 



xxxix 
 

 
 

?? 
Fator multiplicativo da direção do vetor incidente (????) no 
cálculo da direção do vetor refratado (????+1). 

???? 
Relação entre o índice de refração do meio ?? + 1 e o ??: ???? =
????+1/????. 

??1 
Cosseno do ângulo entre o vetor incidente e a normal a 
superfície: ??1 = cos(??1). 

??2??1?????? 
Vetor distância entre feixes projetados ou distância entre 
centros das esferas do padrão de par de esferas. 

?? 
Ponto de um padrão no espaço 3D com posição relativa 
conhecida 

• Modelo de magnificação janela plana e domo 
?????????? Magnificação lente. 
?????? Magnificação janela plana. 

?y 
Variação na altura do campo de visão devido à variação no 
índice de refração 

?? 
Ângulo entre o eixo da câmera e a linha formada pelos 
pontos ?? e interseção de feixe vindo do objeto paralelo ao 
eixo da câmera com a interface. 

???? Altura da imagem sem refração. 
?????  Altura da imagem considerando a refração. 
???? Distância da janela ao objeto sem considerar a refração. 
?????  Distância da janela ao objeto considerando a refração. 

???? 
Distância da imagem ao centro de projeção considerando 
refração. 

???? Altura do objeto. 

???? 

Comprimento da seção da janela plana de refração limitada 
entre o ponto de interseção da janela com o caminho óptico 
que passa pelo centro de projeção e a interseção do feixe 
perpendicular ao eixo da câmera. 

???? 
Comprimento da seção da janela plana de refração limitada 
entre o eixo da câmera e o ponto de interseção da janela 
com o caminho óptico que passa pelo centro de projeção. 



xl 
 

?? 
Distância entre o centro de projeção e o foco da interface 
domo. 

?? Raio da janela domo. 

• Correlação e projeção de franjas 
?? Fase. 
? Mapa de fase. 
???? Defasagem de fase. 

|???| Módulo da diferença de fase. 

|???|??????  
Mínimo valor absoluto (módulo) da diferença de 
fase. 

|???|?????? 
Valor máximo tolerado do módulo da diferença de 
fase. 

??????????  
Desvio padrão máximo do módulo da diferença de 
fase dos pontos interpolados. 

?? Modulação (de 0 a 255). 
????????   Modulação mínima. 
? Mapa de modulação. 

??(??, ??) Intensidade obtida na imagem no ponto (??, ??). 
????  Intensidade de fundo. 
?? Número de franjas projetadas. 

????????(??, ??, ??, ??) 
Coeficiente de correlação cruzada normalizada 
(NCC) no ponto (??, ??) em relação a mesma 
coordenada na outra imagem com delta de (??, ??). 

?????? Covariância entre ?? e ??. 
???? Desvio padrão de ??. 

(??, ??) Delta de um ponto (??, ??) na imagem. 



xli 
 

 
 

• Padrões 
????1 Diâmetro calibrado da esfera 1. 
????2 Diâmetro calibrado da esfera 2. 
???? Distância calibrada entre centro das esferas. 
?????? Vetor entre os centros das esferas. 





xliii 
 

 
 

SUMÁRIO 

1 Introdução .................................................................................. 47 
1.1 Motivação .................................................................................. 50 
1.2 Objetivos gerais ......................................................................... 51 
1.3 Objetivos específicos ................................................................. 51 
1.4 Considerações importantes ........................................................ 51 
1.5 Estrutura do documento ............................................................. 52 

2 Medição óptica de formas 3D ................................................... 53 
2.1 Modelo de câmera pinhole ........................................................ 53 
2.2 Calibração de câmera pinhole e distorções ................................ 56 

2.2.1 Tipos de calibração ............................................................. 56 
2.2.2 Correção de distorções ....................................................... 58 

2.3 Outras modelagens de câmeras .................................................. 60 
2.4 Sistemas de visão estéreo .......................................................... 61 

2.4.1 Triangulação direta (Clássica) e geometria epipolar ......... 62 
2.4.2 Triangulação inversa .......................................................... 63 

2.5 Identificação de pontos correspondentes ................................... 69 
2.5.1 Identificação sem projeção (passiva) .................................. 70 
2.5.2 Identificação com projeção (ativa) ..................................... 72 

3 Medição óptica de formas 3D em meio subaquático .............. 81 
3.1 Propagação da luz em meio subaquático ................................... 81 

3.1.1 Degradação do sinal ........................................................... 81 
3.1.2 Melhoria do sinal de luz ...................................................... 83 
3.1.3 Refração e lei de Snell ......................................................... 86 

3.2 Tipos de janela de visão (interface ar/água) .............................. 88 
3.2.1 Janela plana (flat port) ....................................................... 89 
3.2.2 Janela domo (dome port) .................................................... 92 
3.2.3 Janela totalmente corretiva (fully corrective port) ............. 94 
3.2.4 Lentes para uso subaquático (lentes “molhadas”) ............. 97 

3.3 Sistemas de medição em meio subaquático (ópticos e acústicos) 
....... ............................................................................................ 97 

3.3.1 Triangulação laser .............................................................. 98 



xliv 
 

3.3.2 LiDAR - Light Detection and Ranging ............................... 101 
3.3.3 Fotogrametria .................................................................... 103 
3.3.4 Structure from Motion (SfM) ............................................. 104 
3.3.5 Estereoscopia ativa e passiva ............................................ 106 
3.3.6 Sonar .................................................................................. 108 
3.3.7 Sistemas híbridos (sonar + óptico) .................................... 113 

3.4 Calibração de câmeras para uso subaquático ........................... 114 
3.4.1 Modelo para uma interface plana de refração .................. 115 
3.4.2 Modelo para múltiplas interfaces planas de refração ....... 118 
3.4.3 Modelo para Interface domo ............................................. 126 
3.4.4 Aproximação utilizando SVP ............................................. 126 
3.4.5 Comparação das técnicas de calibração ........................... 130 

3.5 Discussão .................................................................................. 131 

4 Triangulação inversa através de interfaces planas de refração
 ................................................................................................... 135 

4.1 Modelagem geral ...................................................................... 135 
4.2 Triangulação inversa ................................................................ 139 

4.2.1 Compilação dos parâmetros utilizados .............................. 139 
4.2.2 Volume de medição – Cálculos relacionados .................... 141 
4.2.3 Triangulação inversa ......................................................... 142 
4.2.4 Refino em Z (ZScan)........................................................... 145 
4.2.5 Refino em Z com maior tolerância a descontinuidades 

(ZScan2) ............................................................................. 149 
4.2.6 Refino em XY ...................................................................... 153 
4.2.7 Medição com volume de procura de forma livre (??????????????) 

.... ....................................................................................... 154 
4.3 Projeção através de interfaces planas de refração .................... 154 

4.3.1 Método para a projeção inversa através de interfaces planas 
de refração (InvProjRefra) ................................................ 154 

4.3.2 Algoritmo iterativo para a projeção através de interfaces 
planas de refração (IteraProjRefra) .................................. 158 

4.4 Calibração dos parâmetros de refração..................................... 160 
4.5 Visão geral da proposta ............................................................ 164 

5 Materiais e métodos ................................................................. 167 
5.1 Configuração dos experimentos ............................................... 168 
5.2 Sistema óptico estéreo ativo com projeção de franjas .............. 171 



xlv 
 

 
 

5.3 Procedimentos e configuração de processamento ................... 172 
5.4 Calibração ................................................................................ 174 

5.4.1 Padrão de calibração da câmera ...................................... 175 
5.4.2 Calibração no ar (SVP) .................................................... 176 
5.4.3 Calibração na água (SVP) ................................................ 177 
5.4.4 Calibração na água – parâmetros de refração (Refra) .... 178 

5.5 Avaliação do sistema e medições ............................................ 180 
5.5.1 Avaliação com plano baseada na VDI/VDE 2634 ............ 180 
5.5.2 Avaliação com par de esferas baseada na VDI/VDE 2634 182 
5.5.3 Avaliação com objetos de forma complexa calibrados ..... 185 
5.5.4 Objetos não calibrados (exemplos de medição) ................ 187 

5.6 Visualização e análise dos resultados ...................................... 188 

6 Resultados experimentais e discussões .................................. 191 
6.1 Implementação do código para a medição ............................... 191 

6.1.1 Código inicial em MATLAB .............................................. 191 
6.1.2 Otimização do código (C++) e avaliação da performance   

... ........................................................................................ 192 
6.1.3 Interface final (Labview) ................................................... 193 

6.2 Calibração das câmeras no ar (SVP) ....................................... 195 
6.2.1 Aquisição das imagens ...................................................... 195 
6.2.2 Parâmetros obtidos ........................................................... 196 
6.2.3 Erro de reprojeção ............................................................ 199 

6.3 Calibração das câmeras na água (SVP) ................................... 201 
6.3.1 Parâmetros obtidos ........................................................... 201 
6.3.2 Relação com a calibração no ar ....................................... 204 
6.3.3 Comparação da correção da distorção............................. 205 

6.4 Calibração na água – parâmetros de refração (Refra) .............. 207 
6.4.1 Parâmetros de refração conhecidos.................................. 208 
6.4.2 Aquisição das imagens ...................................................... 209 
6.4.3 Parâmetros de refração obtidos ........................................ 209 
6.4.4 Influência da variação das distâncias ............................... 213 
6.4.5 Influência da variação do índice de refração ................... 215 

6.5 Avaliação do volume de medição ............................................ 217 
6.6 Avaliação com plano ............................................................... 218 

6.6.1 Plano na mesma posição no ar e na água......................... 218 



xlvi 
 

6.6.2 Plano normal em posições controladas (??) ....................... 224 
6.6.3 Plano em poses rotacionadas em ???? (VDI/VDE) ............. 232 

6.7 Avaliação com par de esferas (VDI/VDE) ............................... 240 
6.8 Comparação de todos os resultados obtidos ............................. 253 
6.9 Balanço de incertezas ............................................................... 255 
6.10 Avaliação com objetos de referência ........................................ 260 

6.10.1 Cabeça de manequim ...................................................... 261 
6.10.2 Calibração SVP no ar utilizada para medições na água 270 
6.10.3 Placa com cavidade preenchida com cordões de solda .. 271 

6.11 Comparação da calibração com e sem otimização ................... 278 
6.12 Outros exemplos de medição ................................................... 281 

6.12.1 Tubo de PVC amassado .................................................. 281 
6.12.2 Trecho de riser de 6” (152 m) de diâmetro nominal interno 

... ........................................................................................ 285 
6.13 Avaliações não realizadas ........................................................ 288 
6.14 Problemas encontrados ............................................................. 288 
6.15 Discussão .................................................................................. 289 

7 Conclusões ................................................................................ 293 
7.1 Principais contribuições ........................................................... 293 
7.2 Comparação das técnicas desenvolvidas em relação ao estado da 

arte ............................................................................................ 295 
7.3 Principais conclusões do trabalho ............................................ 298 
7.4 Sugestões para trabalhos futuros .............................................. 300 

Referências .................................................................................... 303 

Apêndice A – Princípio de Fermat e Projeção direta para três 
meio ........................................................................................... 317 

A.1 Princípio de Fermat .................................................................. 317 
A.2 Dedução da lei de Snell ............................................................ 318 
A.3 Menor caminho óptico para três meios de propagação ............ 320 

Apêndice B – Parâmetros do sistema óptico estéreo ................. 321 

Apêndice C – Obtenção da posição das janelas do tanque por 
parâmetros extrínsecos ........................................................... 325 

 
 



47 

 
 

1 INTRODUÇÃO 

Existem diversas aplicações para a medição óptica de formas 3D 
em meio subaquático. Exemplos na indústria incluem a inspeção de 
cascos e hélices de embarcações, portos, tubulações, estruturas e 
equipamentos marítimos em geral. A figura 1 ilustra a grande diversidade 
de equipamento e estruturas utilizadas para a exploração de óleo e gás. 
Além da indústria pesada, a medição de formas em meio subaquático 
também é importante em outras áreas, como a de ciências biológicas, 
geologia e arqueologia, onde a medição subaquática possibilita o 
mapeamento de corais, do leito do oceano e de artefatos antigos. A figura 
2 mostra exemplos de artefatos arqueológicos submersos. A medição da 
sua forma 3D é uma poderosa ferramenta para auxiliar no seu estudo, uma 
vez que a escavação arqueológica geralmente resulta em danos 
irreversíveis, sendo assim deve-se assegurar que uma extensa 
documentação seja realizada durante o processo (DRAP et al., 2015). 

 
Figura 1 – Estruturas submersas na indústria de óleo &amp;amp; gás (GENESIS, 2017). 



48 

  
Figura 2 –Mergulhador cara a cara com esfinge de granito negro da civilização 
submersa de Alexandria no Egito (GODDIO, 2004) (topo). Vasos em sítio 
arqueológico a 328 m de profundidade (DRAP et al., 2015). 

Sistemas de ultrassom (ou sonares) têm dominado as medições 
geométricas subaquáticas por muitos anos, uma vez que a água é um 
excelente acoplante acústico. No entanto, a incerteza de medição de 
sonares geralmente é da ordem de dezenas e até mesmo centenas de 
milímetros e a resolução muito grosseira. Recentemente, métodos ópticos 
de inspeção tem ganhado espaço nas medições em pequenas distâncias - 
limitada pelo espalhamento (scattering) e atenuação da luz - uma vez que 
possibilitam medições com grande riqueza de detalhes e melhores 
(menores) incertezas, podendo chegar a décimos de milímetro ou menos. 
A figura 3 contrasta a medição manual com escala rígida sendo realizada 
por um mergulhador, com o resultado de medição de um sistema 
comercial óptico por triangulação laser para uso subaquático. Além de 
medições de alta qualidade, a medição por métodos ópticos ajuda a 
diminuir a necessidade de medições manuais, feitas por mergulhadores, 
que é uma atividade de risco, muitas vezes demorada e com resultados 
limitados. 

Sistemas de medição óptica também podem ser acoplados em 
ROVs (Remoted Operated underwater Vehicle) (NEGAHDARIPOUR; 
FIROOZFAM, 2006) (DRAP et al., 2015) ou AUVs (Autonomous 
Underwater Vehicle) (KOCAK et al., 2004), sendo uma ferramenta extra 
para esses equipamentos. 



49 

 
 

 

 

 
Figura 3 –Medição manual utilizando escalas rígidas feita por um mergulhador 
(esquerda) (“FN Diving webpage - Inspection”, 2011). Sistema de medição 
subaquática por triangulação laser e respectivo resultado de medição de um tubo 
amassado (direita) (“2G Robotics”, 2015). 

O principal desafio da medição por meios ópticos em ambientes 
subaquáticos é encontrar maneiras de lidar com os efeitos causados à luz 
ao ser propagada na água, além da mudança do caminho óptico devido à 
refração. A modelagem das interfaces ar/vidro/água e seu efeito em 
sistemas ópticos ainda é um tema não consolidado e é tópico de recentes 
estudos (TREIBITZ et al., 2012) (AGRAWAL et al., 2012) (KANG; WU; 
YANG, 2012) (BRÄUER-BURCHARDT et al., 2015b)(JORDT; 
KÖSER; KOCH, 2016). A compreensão e modelagem da refração em 
sistemas ópticos subaquáticos visa a compensação desse fenômeno na 
calibração de câmeras1 e o desenvolvimento de ópticas corretivas. Esse 
estudo é de extrema importância uma vez que a calibração de um sistema 
óptico sem considerar a refração pode levar a erros grosseiros de medição. 
No caso da visão humana, o desenvolvimento de máscaras de mergulho 
que compensam a refração pode ser de grande importância para 

                                                        
 
 
1 A palavra “câmera” no presente trabalho, quando não especificado diferente, representa o 
conjunto “câmera e lente objetiva”. 



50 

mergulhadores profissionais, já que a refração causa distorções na 
percepção de distâncias e no tamanho dos objetos. 

1.1 MOTIVAÇÃO 

Conforme descrito anteriormente, a medição óptica de formas 3D 
em meio subaquático (MO3S) é uma técnica de grande interesse para 
diversas áreas. No caso da indústria do óleo &amp;amp; gás (O&amp;amp;G) há uma 
variedade de estruturas em que a técnica pode ser utilizada, incluindo 
risers2, sistemas de ancoragem, válvulas e partes estruturais em geral. O 
Labmetro (Laboratório de Metrologia e Automatização - UFSC) 
desenvolve projetos na área de O&amp;amp;G em parceria com a Petrobras há 
quase 20 anos. Atualmente, o projeto SHIC 2 (Shearografia Aplicada à 
Inspeção de Compósitos), inclui o estudo de um possível sistema de 
medição de deformação por shearografia em meio subaquático. O 
presente trabalho visa contribuir com este projeto e com o avanço desta 
linha de pesquisa voltada à medição óptica subaquática. Novos projetos 
de pesquisa, com o foco em medição de formas 3D subaquática, poderão 
beneficiar-se ainda mais da presente tese. 

O INPetro (Instituto de Petróleo, Energia e Gás), conta em sua 
instalação com uma piscina de testes, que poderá ser utilizada para a 
realização de ensaios com MO3S, inclusive, com ROVs. O interesse pelo 
desenvolvimento deste tipo de ferramenta parte também da CPRM 
(Companhia de Pesquisa de Recursos Minerais), a qual realizou um 
Workshop em 2014, onde participaram empresas e organizações com 
experiência no desenvolvimento de submergíveis, equipamentos 
robotizados e sensores em geral. A equipe do Labmetro foi convidada, 
justamente com a proposta de desenvolver uma ferramenta para MO3S. 

Por fim, a tese proposta visa vencer o desafio da realização da 
MO3S com pequena incerteza, sendo o início de uma nova linha de 
pesquisa no Labmetro, mas ao mesmo tempo, firmemente baseada no 
conhecimento atual do grupo de pesquisa em medição de formas 3D no 
ar. 

                                                        
 
 
2 Tubulações que transportam hidrocarbonetos de embarcações ou plataformas a equipamentos 
no fundo do mar. 



51 

 
 

1.2 OBJETIVOS GERAIS 

O objetivo principal do presente trabalho é desenvolver e validar 
através de experimentos controlados no ar e em meio subaquático técnicas 
para realizar a calibração e medição com um sistema óptico estéreo ativo 
com visão através de interfaces planas de refração utilizando a 
triangulação inversa. 

1.3 OBJETIVOS ESPECÍFICOS 

O objetivo geral contempla os seguintes objetivos específicos: 

• Estudo da modelagem da propagação da luz na água e 
levantamento do estado da arte em técnicas de melhoria da 
qualidade de imagem; 

• Levantamento de sistemas disponíveis e do estado da arte para 
medições 3D subaquáticas; 

• Estudo do estado da arte sobre calibração de câmera para uso 
subaquático; 

• Implementação/desenvolvimento de código para calibração 
dos parâmetros de refração; 

• Desenvolvimento e avaliação teórica e prática de triangulação 
inversa através de duas interfaces planas de refração não 
necessariamente perpendiculares ao eixo da câmera; 

• Montagem em laboratório de sistema para medição 
subaquática com volume de medição em torno de 
200×200×200 mm³ e erro 3D máximo de alguns décimos de 
milímetros. 

• Avaliação metrológica do sistema desenvolvido baseado na 
VDI/VDE-2634 (VDI/VDE-2634, 2008); 

• Avaliação do erro de medição realizando a comparação do 
resultado obtido com objetos de forma complexa calibrados. 

1.4 CONSIDERAÇÕES IMPORTANTES 

O termo “interfaces planas”, quando não especificado o contrário, 
refere-se a “interfaces plano-paralelas”. 



52 

Os algoritmos e códigos computacionais desenvolvidos para 
realizar a triangulação inversa através de interfaces planas de refração 
também podem ser utilizados para o processamento no ar, tanto 
configurando os índices de refração todos iguais a um e/ou espessura dos 
meios iguais a zero, como não passando parâmetros de refração na 
chamada do método. 

1.5 ESTRUTURA DO DOCUMENTO 

O documento está dividido em sete capítulos. No capítulo 2 é 
apresentada a modelagem de câmeras no ar e sua calibração. Em 
sequência, descreve-se a medição estéreo e o estado da arte em técnicas 
de detecção de pontos correspondes para a triangulação. 

O capítulo 3 expõe técnicas de modelagem da propagação da luz e 
melhoria da qualidade da imagem em meio subaquático. São descritos os 
tipos de janelas de visão (interface ar/água); sistemas de medição 
subaquática, incluindo sonares e sistema híbridos (opto-acústicos). Nas 
últimas duas seções do capítulo, é descrito o teorema de Fermat, 
modelagem da refração em interfaces planas de refração e calibração de 
câmeras para meio subaquático. 

No capítulo 4 apresenta-se os conceitos desenvolvidos na presente 
tese, incluindo: calibração dos parâmetros de refração; triangulação 
através de interfaces planas de refração e método de refino com maior 
tolerância a descontinuidades (??????????2). Os procedimentos adotados, 
incluindo a configuração dos experimentos são descritos no capítulo 5. Já 
o capítulo 6 expõe e discute os resultados obtidos. 

 Por fim, as principais contribuições, análise das técnicas 
desenvolvidas em relação ao estado da arte e conclusões finais são 
expostas no capítulo 7. 



53 

 
 

2 MEDIÇÃO ÓPTICA DE FORMAS 3D 

A presente tese se fundamenta em técnicas de visão 
computacional, que englobam a modelagem matemática da formação de 
imagens em câmeras, projeção de padrões, processamento de imagens, 
detecção de pontos correspondentes (ou homólogos, isto é, pontos nas 
imagens que representam o mesmo ponto na cena/objeto) e sua 
triangulação para cálculo da forma 3D. Esses tópicos são abordados a 
seguir. 

2.1 MODELO DE CÂMERA PINHOLE 

Uma câmera escura, também denominada de câmera pinhole, 
consiste de uma estrutura onde a principal entrada de luz é um furo 
(pinhole). A luz da cena externa é projetada através do furo na superfície 
interior, formando uma imagem do exterior rotacionada em 180°, 
conforme ilustra a figura 4. O resultado pode ser surpreendente, como 
mostra a foto do interior de um quarto na figura 5. Câmeras modernas 
também são “câmeras escuras”, porém utiliza-se um sensor eletrônico 
para captar e digitalizar a imagem e lentes no lugar do pequeno furo. 

 
Figura 4 – Esquemático de uma câmera escura - pinhole (MELLISH, 2003). 



54 

 
Figura 5 – Câmera escura – pinhole, projeção do exterior na parede de um quarto 
de uma casa abandonada através de um pequeno furo na janela. Local: leste de 
Baltimore, EUA (BRUCE, 2012). 

A modelagem matemática deste tipo de câmera é conhecida como 
modelo pinhole, câmera central, ou de ponto único de visão (SVP, Single-
View Point). A figura 6 mostra a projeção de um ponto 3D qualquer, dado 
por ?? = [?? ?? ??]??, através do centro óptico ??, intersecionando o plano 
imagem ??? no ponto 2D ?? = [??, ??]??. Por simplicidade, o plano imagem 
está posicionado entre o centro de projeção e o objeto, o que facilita o 
desenho do sistema de coordenadas da imagem no esquema e também seu 
equacionamento, sem a inversão do sinal das coordenadas. Fisicamente, 
o plano imagem está atrás do centro óptico e rotacionado em 180°, 
conforme exposto anteriormente nas figuras 4 e 5. 

Deve-se atentar que a projeção de um ponto 3D para o plano 
imagem é uma projeção direta (forward projection), já o caminho inverso, 
é denominado de projeção inversa e resulta em uma linha onde o ponto 
3D está contido. 



55 

 
 

 
Figura 6 – Modelo computacional de câmera pinhole. Ponto ?? projetado no 
ponto ?? no plano imagem ???. Adaptado de (ZHANG, 2004). 

Expandindo os pontos para coordenadas homogêneas, tem-se ??? =
[?? ?? 1]?? e ??? = [?? ?? ?? 1]??. Conforme (HARTLEY; ZISSERMAN, 
2004) (ZHANG, 2004), a relação entre o ponto 3D e o 2D é dada pela 
equação: 

 ??? = ??[?? ??]??? ? ?????  , (1) 

sendo: 

 ?? = ?
???? ?? ??0
0 ???? ??0
0 0 1

? , (2) 

 ?? = ??[?? ??] , (3) 

 ?? = ??????????????? , (4) 

onde a matriz ?? representa os parâmetros intrínsecos (ou internos) da 
câmera, sendo (??0, ??0)  a posição do centro de projeção no plano 
imagem; ????, ???? os fatores de escala nos eixos ?? e ??; ?? o fator de 
desalinhamento (skew factor) entre os eixos. Para pixels quadrados, o que 
é o caso da grande maioria dos sensores comerciais, ???? = ???? e ?? = 0, uma 
vez que ??? = 90° (ZHANG, 2004). Os parâmetros extrínsecos (ou 
externos), definidos pela matriz de rotação ?? e o vetor de translação ?? 

?????
]

??????

f
??

???

??
??

(??0, ??0)
??

?? ??



56 

relacionam o sistema de coordenadas global ou do objeto (SCO) com o 
da câmera (SCC). Por fim, ?? é a matriz de projeção, que engloba os 
parâmetros intrínsecos e extrínsecos. Por simplicidade do texto, a 
transformação para coordenadas homogêneas será subentendida. Sendo 
assim, a equação (1) também pode ser escrita como: 

 ?? = ??[?? ??]?? ? ????  . (5) 

2.2 CALIBRAÇÃO DE CÂMERA PINHOLE E DISTORÇÕES 

Para obtenção dos parâmetros intrínsecos e extrínsecos da câmera 
descritos anteriormente é necessário realizar sua calibração. Métodos 
típicos de calibração utilizam um padrão plano, tipo tabuleiro de xadrez 
(checkerboard). Uma série de imagens é obtida e os parâmetros são 
estimados a partir das correspondências 2D-3D. A seguir, são descritos 
os principais métodos de calibração, assim como a correção das 
distorções. 

2.2.1 Tipos de calibração 
Conforme (ZHANG, 2004), as quatro principais técnicas de 

calibração de câmeras (no caso SVP) são: 

1D - Calibração baseada em linha 

Os objetos utilizados nessa categoria são compostos por pontos 
colineares. É possível calibrar a câmera se for imposta uma restrição ao 
movimento do padrão, como por exemplo, rotação em torno de um ponto 
fixo. Tal restrição pode ser eliminada se algum dos parâmetros da câmera 
forem conhecidos ou para o caso da calibração de um sistema de visão 
estéreo (FRANÇA et al., 2011). Em (DE FRANÇA et al., 2010) o método 
descrito em (ZHENGYOU ZHANG, 2004) é revisado. Como resultado 
obteve-se um método de menor complexidade e capaz de melhor estimar 
os parâmetros da câmera. 

2D - Calibração baseada em objeto 2D (plano) 

O padrão utilizado neste método consiste de um conjunto de pontos 
conhecidos dispostos em um mesmo plano. Para tal, tipicamente utiliza-
se padrões de retângulos pretos e brancos estilo tabuleiro de xadrez (ver 



57 

 
 

figura 7), sendo os pontos 2D definidos pelas quinas de interseção. O 
padrão 2D pode ser impresso e colado sobre uma superfície plana, como 
um vidro grosso e a distância dos pontos pode ser medida com um 
microscópio de medição, por exemplo. A partir de uma série de imagens 
(tipicamente 8) é possível calibrar a câmera, conforme (ZHENGYOU 
ZHANG, 1999). É um método de calibração muito conveniente, uma vez 
que não é necessário conhecer a posição do plano e o padrão pode ser 
feito de maneira simples. Além disso, existem softwares gratuitos, como 
uma toolbox para Matlab (BOUGUET, 2013) que possibilitam a 
calibração por este método.  

Este tipo de calibração requer a identificação dos pontos 2D de 
interesse na imagem. Um método (denominado de ChESS) para 
identificação robusta desses pontos é descrito em (BENNETT; 
LASENBY, 2014). Apesar do padrão xadrez ser o mais comum, existem 
variações, como o uso de padrão circulares (HEIKKILA; SILVEN, 
[s.d.]). 

 
Figura 7 - Imagem típica numa calibração por objeto 2D tipo tabuleiro de xadrez 
(BOUGUET, 2013). 

3D - Calibração baseada em objeto 3D 

A calibração é realizada observando um objeto cuja geometria 3D 
é conhecida. Os objetos geralmente consistem de dois ou três planos 
ortogonais entre si. Outra opção é a realização de deslocamentos 



58 

controlados de um plano. A figura 8 ilustra ambos os casos. A calibração 
com objetos 3D geralmente resulta numa melhor estimativa dos 
parâmetros, sendo assim, esse deve ser o método de escolha quando é 
possível obter esse tipo de aparato e a redução do erro é prioridade 
(ZHANG, 2004). 

 
Figura 8 – Configuração para calibração utilizando dois planos ortogonais (a) e 
movimentos controlados de um plano (b). Adaptado de (ZHANG, 2004). 

Autocalibração 

Não utiliza nenhum aparato especial. A calibração é obtida através 
de múltiplas imagens em diferentes posições de uma mesma cena estática 
(HARTLEY, 1994). Necessita calcular um número maior de parâmetros, 
o que resulta em um problema matemático muito mais complexo. Apesar 
de utilizar a própria cena para a calibração, é necessário conhecer pelo 
menos a distância entre dois pontos, caso contrário, a calibração é 
adimensional, ou seja, carece do fator de escala correto. 

Por fim, Sempre que possível, deve-se realizar a calibração prévia 
da câmera, uma vez que a auto calibração resulta em erros maiores nos 
parâmetros estimados (ZHANG, 2004). 

2.2.2 Correção de distorções 
Como a modelagem pinhole simplifica a lente objetiva para um 

ponto, é necessário compensar as distorções e não idealidades das lentes 
antes do cálculo de transformação para coordenadas de imagem. 
Conforme (BROWN, 1971), as distorções radial e tangencial 
(descentralização) das lentes podem ser modeladas por: 



59 

 
 

?
??
??? = ?

????
????
? + ?

??????
?????
? (??1??2 + ??2r4 + ? ) +                                  

?
??1???

2 + 2?????
2? + ??2??????????

2??1?????????? + ??2???
2 + 2?????

2?
? (1 + ??3??

2 + ??4??
4 + ? ) 

 

(6) 
, 

sendo: ?
??????
?????
? = ?

???? ? ??0
???? ? ??0

? ; 
(7) 

 ??2 = ??2 + ??2 ; 

(????, ????) as coordenadas na imagem incluindo a distorção das 
lentes; (??, ??) as coordenadas após a correção da distorção ou coordenadas 
teóricas projetadas conforme o modelo pinhole; ???? e ????, respectivamente 
os coeficientes de distorção radial e tangencial. Esse modelo de distorções 
é largamente utilizado para a calibração de câmeras, como em 
(ZHENGYOU ZHANG, 1999) (HEIKKILA; SILVEN, [s.d.]). O número 
de parâmetros utilizados varia entre autores, (ZHENGYOU ZHANG, 
1999) não considera a distorção tangencial e utiliza até a segunda ordem 
da distorção radial. A justificativa é que a grande maioria das distorções 
são radiais, uma vez que a descentralização geralmente é muito pequena 
devido à qualidade do processo de fabricação das lentes. Mais parâmetros, 
além de muitas vezes não melhorar de forma significativa a modelagem 
da distorção, podem causar instabilidade numérica (ZHENGYOU 
ZHANG, 1999). Um método de remoção de pontos espúrios, 
automatizando e otimizando a escolha dos parâmetros de distorção foi 
desenvolvido por  (EL-MELEGY, 2003). A toolbox de calibração de 
câmeras para o Matlab (BOUGUET, 2013), muito difundida na 
comunidade científica, tem por padrão o modelo de distorções de 
(BROWN, 1971), onde considera as distorções3 radiais até ordem 6 e 
tangencias até ordem 2, sendo assim, a equação (6) fica: 

                                                        
 
 
3 Na toolbox (www.vision.caltech.edu/bouguetj/calib_doc/) os coeficientes de distorção são 
armazenados em um vetor de nome ????. Sua relação com os parâmetros de distorção aqui 
descritos é: ????(1)  =  ??1; ????(2)  =  ??2; ????(3) = ??2; ????(4)  =  ??1 e ????(5) =  ??3. Note que os 
dois coeficientes de distorção tangencial estão com índices trocados, tanto no código quanto na 
documentação da toolbox. 

http://www.vision.caltech.edu/bouguetj/calib_doc/


60 

?
??
??? = ?

????
????
? + ?

??????
?????
? (??1??2 + ??2r4 + ??3r6)

+ ?
??1???2 + 2??????

2? + ??2???????????
2??1??????????? + ??2???2 + 2?????

2?
? 

. (8) 

Além da correção de pontos individualmente, pode-se também 
criar um mapa de correção para todas as coordenadas da imagem, que 
pode ser utilizado para remover a distorção (undistort). Pode-se então 
trabalhar com a imagem somente com o modelo pinhole, o que facilita o 
processamento para o caso em que muito pontos são projetados. 

2.3 OUTRAS MODELAGENS DE CÂMERAS 

A modelagem SVP, onde todos os raios passam por um ponto, é 
adequada para a maioria das configurações de câmera. No entanto, 
existem casos em que essa modelagem pode ser insuficiente.  A tabela 1 
divide as modelagens de câmeras pelos tipos de distorção, conforme 
(SWAMINATHAN; GROSSBERG; NAYAR, 2003). Em câmeras 
axiais, as projeções dos feixes de luz passam todas por um mesmo eixo 
ao invés de um único ponto. Mais detalhes sobre a modelagem de câmeras 
axiais serão vistos no capítulo 3.4. 



61 

 
 

Tabela 1 – Taxonomia por distorção das modelagens de câmera. Adaptado de 
(SWAMINATHAN; GROSSBERG; NAYAR, 2003). 

Esquemático Modelo de imagem Tipos de câmera 
Tipo de 

distorção 

Informação 
para 

remover 
distorção 

 

Single-
View Point 

(SVP) 
Perspectiva 

Pinhole (câmera 
ideal). Nenhuma N/A 

 

Single-
View Point 

(SVP) 
Geral 

Grande-angulares 
(wide-angle) ou 
olho de peixe; 
catadióptrica. 

Radial, 
tangencial 

Modelo de 
distorções 

 

 

Non-
Single-

View Point 
(nSVP) 

Grande-angulares, 
olho de peixe, 
conjunto de 
câmera, câmeras 
axiais (incluindo 
câmeras em meio 
subaquático). 

Caustica 
“Distorção 
3D” que 
depende da 
posição do 
objeto 

Modelo de 
câmera e 
estrutura da 
cena 

2.4 SISTEMAS DE VISÃO ESTÉREO 

Seres humanos possuem a percepção 3D graças à visão da mesma 
cena por dois pontos de visão diferente (visão estéreo ou estereoscopia). 
Em visão computacional, o mesmo princípio é utilizado, onde duas 
câmeras com posição relativa fixa, capturam a imagem do objeto de 
interesse. A partir da triangulação de pontos correspondentes nas imagens 
é possível obter pontos 3D do objeto. Sistemas estereoscópicos podem ser 
passivos ou ativos. Os sistemas ativos utilizam um sistema de iluminação 
para auxiliar na identificação de pontos correspondentes entre as duas 
câmeras. Uma configuração típica de um sistema estereoscópico (ou de 
visão estéreo, do inglês stereo vision) ativo é constituída por duas câmeras 
laterais e um projetor no centro, conforme o equipamento comercial 
mostrado na figura 9. 



62 

 
Figura 9 – Sistema estereoscópico comercial formado por duas câmeras e um 
projetor durante a medição de um objeto (GOM, 2015). 

2.4.1 Triangulação direta (Clássica) e geometria epipolar 
A procura direta por pontos correspondentes, e consequente 

triangulação para obtenção do ponto 3D, é normalmente realizada pelo 
método clássico de triangulação, e será aqui denominada de Triangulação 
Direta, Triangulação Clássica ou simplesmente triangulação. 

Existe uma série de relações geométricas em um sistema estéreo, 
as quais fazem parte da geometria epipolar (HARTLEY; ZISSERMAN, 
2004). A figura 10 mostra um exemplo de geometria epipolar, onde é 
formado um plano a partir do ponto 3D do objeto ?? e centro da câmera 
esquerda e direita (????, ????). Esse plano é denominado de Plano Epipolar 
e sua intersecção com os planos imagem (?????, ?????) resulta numa linha 
epipolar. Sendo assim, para um ponto qualquer na imagem esquerda ????, 
seu correspondente, ????, está restrito na linha epipolar da câmera direita 
e vice-versa. Dessa forma, a procura pelo ponto homólogo se restringe à 
busca ao longo de uma linha. Na figura 11 foram traçadas as linhas 
epipolares sobre as imagens adquiridas. É possível notar que a 
correspondência dos pontos respeita a geometria epipolar. 

Uma técnica prévia à procura por pontos correspondentes que é 
comumente utilizada é a retificação das imagens, a qual consiste numa 
transformação das imagens de maneira que as linhas epipolares fiquem 
paralelas ao eixo ??. Para o caso de um sistema com duas câmeras 
idênticas dispostas lado a lado e com seus eixos principais paralelos, a 
retificação simplifica muito a procura por pontos correspondentes devido 
à estrutura epipolar mais simples e à correspondência muito próxima das 



63 

 
 

duas imagens (HARTLEY; ZISSERMAN, 2004). A distância em pixels 
entre pontos correspondentes é conhecida como disparidade (MUTTO et 
al., 2012). 

Devido a não idealidades, como ruído e distorções, pontos 
correspondentes podem resultar em linhas que não se cruzam. Existem 
modelos lineares e não lineares para o cálculo do ponto 3D. Mais detalhes 
em (PINTO, 2010). 

 
Figura 10 – Plano epipolar em um sistema estéreo. Fonte: adaptado de 
(HARTLEY; ZISSERMAN, 2004). 

 
Figura 11 – Exemplo de linhas epipolares. Fonte: (HARTLEY; ZISSERMAN, 
2004). 

2.4.2 Triangulação inversa  
A triangulação inversa, descrita no mestrado de (HOFMANN, 

2006), nos artigos (FANTIN; ALBERTAZZI; PINTO, 2007), 
(ALBERTAZZI G., JR. et al., 2008), (PINTO; KOHLER; 

????

???? ?????

????

??

Plano Epipolar

????

?????????

????



64 

ALBERTAZZI, 2012)  e na tese (PINTO, 2010),faz o processo inverso 
da triangulação direta4, ou seja, posições de pontos 3D a determinar são 
“testadas” se válidas ou não. O método consiste na procura por pontos 3D 
válidos contidos em um volume de medição com resolução e dimensão 
pré-definidos. Por isso, a técnica também é conhecida por “triangulação 
orientada ao objeto”, ou “algoritmo de medição orientado a malha” (mesh 
orientated algorithm) (FANTIN; ALBERTAZZI; PINTO, 2007). A 
avaliação dos pontos 3D é feita da seguinte maneira: 

1. As coordenadas 3D de um ponto candidato dentro do volume 
de medição são definidas. 

2. O ponto 3D é projetado nos planos das imagens das câmeras, 
conforme a equação (1). 

3. O ponto na imagem tem sua coordenada corrigida conforme o 
modelo de distorção de lentes, descrito na equação (6). Outra 
opção é a correção da distorção na imagem antes da etapa 1, 
evitando que esse cálculo seja repetido para cada ponto 
projetado. 

4. É feita a avaliação de correspondência entre os pontos nas 
imagens. Se a correspondência for suficiente, o ponto é 
considerado como válido e suas coordenadas 3D são salvas. 
Nessa etapa, outros parâmetros também podem ser 
armazenados, como o valor de correspondência. Mais detalhes 
sobre técnicas de identificação de pontos correspondentes 
serão apresentados na seção seguinte (2.5). 

A varredura do volume de medição por pontos 3D válidos pode ser 
realizada fixando duas coordenadas e concentrando a busca na terceira. O 
processo é repetido até que todo o volume de medição tenha sido 
percorrido. Como exemplo, utilizando um sistema estéreo com sistema de 
coordenadas cartesianas, com o eixo ?? próximo à direção normal do 
campo de visão do sistema, é coerente definir que para cada “nó” na 
“malha ????” diferentes valores de ?? sejam testados, conforme ilustra a 
figura 12. 

                                                        
 
 
4 Conforme dito anteriormente (em 2.1), deve-se atentar que apesar do nome da técnica ser 
“triangulação inversa”, a projeção é direta, uma vez que o ponto 3D é projetado na imagem. 



65 

 
 

A técnica também pode ser utilizada em outros sistemas de 
coordenadas, como esféricas e cilíndricas. No mestrado (HOFMANN, 
2006) e na  tese (HAERTEL, 2015) utiliza-se a triangulação inversa com 
sistema de coordenadas cilíndricas para e medição de tubos, onde o valor 
do raio é varrido para cada ângulo e posição no eixo. 

Qualquer técnica para detecção de pontos correspondentes (vide 
2.5) pode ser utilizada. Por exemplo, em (PINTO; JR, 2013), utiliza-se a 
correlação temporal e na tese (HAERTEL, 2015) e em (HAERTEL; 
PINTO; ALBERTAZZI, 2015) correlação espacial. Todavia, nota-se que 
os pontos projetados devido a uma variação em ?? em um mesmo nó 
formam em cada imagem uma linha de procura. A sensibilidade do 
sistema no eixo ?? é representada pela direção dessa linha (no caso 
horizontal) e pela relação entre a variação em ?? e a correspondente 
variação em pixels nos pontos projetados nas imagens. Como existe uma 
direção preferencial de sensibilidade nas imagens, pode-se utilizar uma 
codificação em uma única direção, como a projeção de franjas (mais 
detalhes a seguir em 2.5.2) somente na horizontal, conforme demonstrado 
em (PINTO, 2010).  

 
Figura 12 – Triangulação inversa. Três diferentes pontos 3D são testados para um 
determinado nó na malha ????. O cubo representa o volume de medição definido, 
com resolução nos eixos ??, ?? e ?? respectivamente de ????, ???? e ????. 

??1

????

??

??

X

??x

????

????

Malha ????

??2

???

??

????



66 

Um exemplo da codificação obtida (valores de fase) na imagem 
com a projeção de franjas na horizontal pode ser visto na figura 13. Nota-
se que a linha de procura em ?? é projetada com um maior componente 
horizontal da imagem. O mesmo ocorre na imagem da outra câmera do 
par estéreo. O valor absoluto (módulo) da subtração dos valores de fase 
obtidos (|???|) para cada uma das cotas ?? projetadas é exemplificado na 
figura 14. A cota ?? que resulta no mínimo valor absoluto da diferença de 
fase (|???|??????) é selecionada. 

  
Figura 13 – Exemplo de mapa de fase de uma das câmeras, linha de varredura em 
?? projetada e ponto de mínimo valor absoluto da diferença de fase obtido 
(PINTO, 2010). 

 
Figura 14 – Módulo da diferença entre os mapas de fase de duas câmeras para 
uma determinada linha de varredura em ??. Nota-se nitidamente o ponto de 
mínimo valor absoluto da diferença de fase. Adaptado de (PINTO, 2010).  

0,0
10,0
20,0
30,0
40,0
50,0
60,0
70,0
80,0

-150 -100 -50 0 50

M
ód

ul
o 

da
 d

ife
re

ça
 d

e 
fa

se
 

|?
??

| 
[r

ad
]

Cota Z [mm]

|??|
|??|min (Z=-14,95 mm)



67 

 
 

Teoricamente, a diferença de fase entre dois pontos homólogos 
seria zero, todavia, um erro residual sempre estará presente. Sendo assim, 
define-se uma tolerância máxima do valor absoluto da diferença de fase 
(|???|??????) em que o ponto 3D é considerado válido (ex.: 0,02 rad). Esse 
valor depende da resolução em ?? utilizada e da configuração do sistema. 

Vantagens da triangulação inversa 

Com essa técnica, rompe-se com o paradigma de estruturação da 
medição orientada aos sensores das câmeras para uma estruturação 
orientada ao objeto de interesse, o que traz uma série de vantagens, sendo 
a principais listadas a seguir: 

• Medição em regiões predefinidas: A medição em regiões 
predefinidas e com o nível de detalhamento desejado pode ser 
de grande vantagem, por exemplo, no controle dimensional de 
regiões específicas de uma peça, acelerando o processo de 
medição e análise do resultado. 

• Concatenação de nuvem de pontos: Conforme mostrado em  
(FANTIN et al., 2008) e na tese (PINTO, 2010), a técnica 
facilita a concatenação de pontos de diferentes medições, uma 
vez que as coordenadas ???? estão todas numa mesma malha, 
definida pelo sistema de coordenadas global atrelado aos alvos 
colados na peça. Dessa forma, pode-se reduzir o esforço 
computacional, sendo necessário somente um ajuste entre as 
cotas ?? das medições. 

• Comparação de nuvem de pontos: Possibilita uma 
correspondência direta entre as nuvens de pontos e/ou a 
comparação e ajuste somente na cota ??.  

• Facilidade na adição de mais câmeras: A adição de mais 
câmeras ao algoritmo é relativamente simples. No caso da 
projeção de franjas, procura-se pelo ponto 3D de menor 
variância de fase ao invés de menor valor absoluto da diferença 
de fase.  

• Correlação espacial com kernel de procura orientado ao 
objeto: O uso da técnica com correlação espacial (detalhes em 
2.5) pode trazer benefícios principalmente quando o sistema 
de coordenadas do objeto possui semelhança e está 
razoavelmente alinhado com a forma do mensurado. Por 
exemplo, na tese (HAERTEL, 2015) é realizada a medição 



68 

interna de tubos, onde o sistema de medição possui um bom 
alinhamento com o mensurando e projeta-se nas imagens um 
kernel de procura definido em coordenadas do objeto. 

Limitações da triangulação inversa e possíveis soluções 

A principal desvantagem da triangulação inversa é a necessidade 
de testar muitos pontos 3D até encontrar os que representam o mensurado. 
Por exemplo, para um volume de medição em coordenadas cartesianas 
definido por um cubo de 100 mm de lado, com resolução em todos os 
eixos de 0,1 mm, cada eixo terá mil divisões5, a malha ???? será de um 
milhão de pontos, obtendo-se por fim, um total de um bilhão de pontos-
candidatos (1.000³). Em contraste, na triangulação direta, pontos 3D são 
gerados a partir da triangulação de pontos correspondentes obtidos nas 
imagens. Sendo assim, o número de operações geralmente é menor. 
Quando o tempo de processamento se torna um problema, deve-se utilizar 
técnicas mais inteligentes para reduzir o número total de pontos 3D 
testados, otimizando a varredura. Os métodos descritos por (FANTIN; 
ALBERTAZZI; PINTO, 2007) (PINTO, 2010) com esse fim são listados 
a seguir (exemplos em coordenadas cartesianas e com varredura em ??): 

Varredura com incremento de resolução – Refino em ?? (??????????) 

Primeiramente, define-se o valor máximo e mínimo de varredura e 
a resolução grosseira inicial. Em sequência, para cada nó da malha ????, 
deve-se realizar o seguinte procedimento: 

1. É realizada a varredura por um ponto 3D válido incrementando 
o valor de ?? entre o mínimo e máximo com a resolução 
definida. Caso obtido um ponto válido, continua. 

2.  Mínimo e máximo são redefinidos como o melhor valor 
obtido ± a resolução anterior. 

3. A resolução é reduzida e o processo é repetido até que se atinja 
a resolução desejada. 

Os valores de resolução e volume dependem da aplicação, em 
(FANTIN; ALBERTAZZI; PINTO, 2007) a resolução grosseira inicial é 

                                                        
 
 
5 Na verdade, serão 1.001 valores. Valor arredondado para 1.000 por simplicidade da explicação. 



69 

 
 

de 10 mm, e é reduzida em dez vezes em três ciclos, até 0,01 mm. Na 
seção 4.2.4 explica-se o ?????????? de forma detalhada. 

Minimização 1D 

É aplicável para técnicas de obtenção de correspondência que 
geram códigos de identificação na superfície do mensurado, por exemplo, 
a codificação por valor de fase com a projeção de franjas (detalhes em 
2.5.2). Um requisito importante é que tanto a superfície do mensurado 
quanto a codificação gerada devem ser contínuos. A técnica se baseia no 
método de minimização de Newton-Raphson (YPMA, 1995), consiste na 
busca do mínimo da função (melhor correspondência) entre imagens 
conforme a equação (PINTO, 2010): 

 ????+1 = ???? ?
?
2

??(???? + ?) ? ??(???? ? ?)
??(???? + ?) ? 2??(????) + ??(???? ? ?)

  , (9) 

sendo ???? e ????+1 os valores de Z atual e o próximo no processo 
iterativo. ??(??) é a relação de correspondência entre as imagens (por 
exemplo, a diferença ou quadrado da diferença dos valores de fase); ? 
representa o passo da derivada (por exemplo, 0,05 mm). O processo 
iterativo se encerra quando ??(??) atinge seu valor mínimo ou um limiar 
pré-estabelecido. 

2.5 IDENTIFICAÇÃO DE PONTOS CORRESPONDENTES 

A identificação de pontos correspondentes é um problema clássico 
na visão computacional. Uma revisão de diversas técnicas de correlação 
de pares estéreo é feita em (SCHARSTEIN; SZELISKI, 2002). A figura 
15 expõe duas fotos obtidas de ângulos diferentes, a cena é constituída de 
uma câmera antiga e de duas esferas, uma com superfície reflexiva e a 
outra branca fosca. Apesar de aparentar ser uma cena simples, existem 
uma série de questões que dificultam a identificação dos pontos 
correspondentes. A seguir são descritas as principais técnicas para lidar 
com esses problemas e como se aplicariam para o caso da figura 15. 



70 

 
Figura 15 – Cena obtida por dois ângulos de visão diferentes. Câmera antiga e 
duas esferas, uma com superfície reflexiva e outra branca fosca. Base da câmera 
marcada por um retângulo vermelho. Letra na parte frontal da câmera marcada 
por um retângulo amarelo (HOFMANN, 2006). 

2.5.1 Identificação sem projeção (passiva) 
Para a identificação de pontos correspondentes sem o auxílio 

externo (ou passiva), como projetores ou lasers, a cena deve conter textura 
heterogênea, o que possibilita o uso de técnicas como detecção de bordas 
(HARRIS; STEPHENS, 1988) e a correlação (CHU; RANSON; 
SUTTON, 1985) (SCHREIER; ORTEU; SUTTON, 2009). Outra opção 
é a utilização de adesivos com por exemplo alvos circulares, prática muito 
comum na indústria (LUHMANN, 2010). 

A correlação espacial de pontos em duas imagens, geralmente 
consiste na definição de uma janela de ?? ?? ?? pixels em uma região de 
uma das imagens e o cálculo da correlação em diferentes posições da 
janela na outra imagem. Define-se que os pontos são correspondentes se 
a correlação possuir um valor maior que um limiar pré-estabelecido 
(SCHREIER; ORTEU; SUTTON, 2009). Para melhorar a correlação e 
diminuir a região de procura, geralmente as imagens são retificadas e a 
região de procura é restringida pela geometria epipolar (HAMZAH; 
HAMID; SALIM, 2010) (SABATER; ALMANSA; MOREL, 2012). 
Além da identificação de pontos correspondentes em sistemas de visão 
estéreo, a correlação também é utilizada em técnicas como Structure from 
Motion (SfM) e Optical Flow (ZUCCHELLI, 2002). 

Dentre as diversas técnicas de correlação, as mais comuns são a 
soma da diferença absoluta (Sum of Absolute Difference) e diferença da 
soma dos quadrados (SZELISKI, 2011). Essas técnicas são susceptíveis a 



71 

 
 

variações de intensidade entre imagens, por exemplo, se uma região de 
uma imagem for mais clara, a correlação será maior naquela região. Por 
essa razão, normalmente utiliza-se a correlação cruzada normalizada 
(NCC, Normalized Cross-Correlation) (HANNAH, 1974) (SZELISKI, 
2011) ou correlação de Pearson (LIRA, 2004). Como a equação consiste 
da multiplicação dos valores de intensidade das duas regiões em análise, 
a correlação também é conhecida por correlação cruzada (cross-
correlation) (SZELISKI, 2011). O coeficiente de correlação NCC6 (????????) 
é dado por: 

 
????????(??, ??, ??, ??) =

??????(??, ??, ??, ??)
????(??, ??) ????(?? + ??, ?? + ??)

  , (10) 

sendo ?????? a covariância; ????e ???? desvios padrão. A máscara varre a 
segunda imagem variando os valores (??, ??). O valor resultante ???????? está 
contido entre [-1, 1], respectivamente para uma correlação máxima 
inversa e direta. Quando não existe correlação, o valor é 0. Em 
(HAERTEL; PINTO; ALBERTAZZI, 2015) utiliza-se um método 
baseado na NCC em um sistema trinocular. 

O site Middlebury7 possui uma comparação entre diversas técnicas 
de correlação para identificação de pontos correspondentes em pares de 
imagens. No mesmo site está disponível um banco de dados com diversos 
pares de imagens em alta resolução com o valores verdadeiros de 
referência, o qual foi obtido em (SCHARSTEIN et al., 2014). 

As principais limitações da correlação espacial são (HOFMANN, 
2006): 

• Problema da parede branca: uma superfície de cor 
monótona, como uma parede branca, torna a correlação 
espacial inviável, uma vez que todas as regiões da imagem 
terão um valor de correlação muito próximo. 

• Superfície reflexiva: a reflexão especular é dependente do 
ângulo de visão, o que pode tornar o padrão de cores de uma 

                                                        
 
 
6 Na biblioteca OpenCV pode-se realizar a correção de duas imagens com NCC utilizando a flag 
CV_TM_CCORR_NORMED no método matchTemplate. 
7 http://vision.middlebury.edu/stereo/data/2014/ (banco de dados de medições estéreo com valor 
verdadeiro de referência). 

http://vision.middlebury.edu/stereo/data/2014/


72 

região totalmente diferente entre imagens obtidas de posições 
diferentes. 

• Transformações geométricas: a linearização da imagem não 
compensa deformações geométricas devido à própria 
geometria da cena. Essas deformações podem inviabilizar a 
correlação, dependendo da geometria da cena. 

• Oclusões: algumas regiões da cena não são visíveis por ambas 
as câmeras. 

• Ruído: o ruído eletrônico no sensor da câmera em cenas com 
pouca luz, oriundo principalmente do ganho da câmera, pode 
alterar a assinatura de pontos. 

Analisando a figura 15, a detecção de bordas seria suficiente para 
a identificação de alguns pontos, como as quinas da tampa da câmera, 
marcada em vermelho8. Já utilizando a correlação espacial, regiões 
homogêneas como o corpo da câmera, que é todo preto e a esfera branca 
resultaria em muitos pontos incorretos. O mesmo ocorre para a esfera 
espelhada, uma vez que o reflexo diferente nas imagens inviabiliza a 
correlação. 

2.5.2 Identificação com projeção (ativa) 
Muitas das limitações da correlação espacial listadas anteriormente 

são superadas com técnicas que fazem uso de uma fonte de luz externa 
(projeção ativa), essas serão descritas a seguir. 

Correlação espaçotemporal – Padrões aleatórios 

A correlação espacial, descrita na seção anterior, pode ser 
beneficiada com a projeção de uma sequência de padrões aleatórios, 
criando uma textura heterogênea artificial, o que elimina o problema da 
“parede branca”. Além da correlação espacial, a projeção de padrões 
sequenciais possibilita realizar a correlação temporal e a combinação das 
duas, denominada de correlação espaçotemporal. Em (SALVI; PAGÈS; 
BATLLE, 2004) é feita uma revisão dessas técnicas. 

                                                        
 
 
8 No caso de impressão preto e branco, o retângulo vermelho se refere ao retângulo maior, 
paralelo a superfície em que a câmera está apoiada. 



73 

 
 

A correlação cruzada normalizada temporal (TNCC, Temporal 
Normalized Cross-Correlation) para ?? imagens pode ser obtida a partir 
da variação no tempo da equação (10). No caso, os vetores a serem 
correlacionados são formados por pixels numa determinada 
posição (??, ??) em diferentes aquisições (ou tempos ??).  

 
Figura 16 – Janela de 4 x 4 pixels obtida em ?? tempos diferentes para duas 
câmeras. Adaptado de (SCHAFFER et al., 2011). 

Fontes de luz típicas de padrões aleatórios incluem projetores e 
lasers (SCHAFFER et al., 2011). O trabalho (SCHAFFER et al., 2014) 
descreve um sistema que utiliza um projetor comum e um espelho para 
deslocar lateralmente a imagem, possibilitando gerar diferentes imagens 
de forma muito rápida. Além dessas fontes típicas de luz, outras fontes de 
luz podem ser utilizadas. Em (SWIRSKI et al., 2011) é descrita a 
correlação temporal de um sistema estéreo subaquático com iluminação 
natural em águas rasas. O método se baseia no efeito cáustico (caustic 
effect) causado pela refração da luz do sol na ondulação da superfície da 
água, que resulta em um emaranhado de maior intensidade de luz (ver 
figura 17). Como o efeito se altera dinamicamente (underwater flickering) 
junto com as ondulações da superfície, é possível realizar a correlação 
temporal ou espaçotemporal. 



74 

 
Figura 17 – Padrão de luz formado devido à iteração da luz do sol com a superfície 
ondulada da água em uma piscina (SWIRSKI et al., 2011). 

Projeção de franjas (phase shifting) 

Consiste na projeção de padrões senoidais de período constante 
com subsequente deslocamento de fase. O processamento das imagens 
obtidas possibilita codificar a cena com a fase projetada. Como a projeção 
possui um sentido, deve-se projetar padrões perpendiculares ou utilizar 
restrições da geometria epipolar (FANTIN, 1999). Nesse último, a 
direção de variação da franja deve ser a mais alinhada possível do vetor 
de sensibilidade do sistema estéreo. A figura 18 mostra um padrão de 
franjas e seu perfil de luminosidade e fase ao longo do eixo ??. 



75 

 
 

 
Figura 18 – Perfil luminoso projetado e gráficos da variação da intensidade de luz 
e fase para uma linha do perfil. Adaptado de (HOFMANN, 2006). 

Para melhorar a aparência visual da cena projetada, projetores 
comerciais aplicam distorções gama na imagem, o que acarreta em 
distorções nas intensidades das franjas projetadas. Pode-se tentar 
compensar essas distorções de intensidade na câmera, mas muitas vezes 
essas correções são insuficientes  (NGUYEN et al., 2015). Uma solução 
simples, porém eficiente, é compensar os erros na própria projeção 
(HOANG et al., 2010). 

A projeção de múltiplas imagens (?? &gt; 2) visa reduzir a influência 
dessas não idealidades, assim como a remoção da intensidade de fundo. 
O padrão de projeção é dado por: 

 ????(??, ??) = ???? + ?? ??????(??(??, ??) + ??????) , (11) 

sendo ????(??, ??) a intensidade obtida na imagem projetada de número ??; ???? 
a intensidade média de fundo; ?? a amplitude de modulação fornecida pelo 
sistema de iluminação; ??(??, ??) a fase no ponto sobre a senoide projetada 
e ?????? a defasagem. Uma vez obtidas as ?? images, pode-se calcular a fase 
em cada pixel pela equação (ZUO et al., 2012): 

 ??(??, ??) = ???????1 ?
?? ????(??, ??)???????

2??
??
???????=1

? ????(??, ??)???????
2??
??
???????=1

? . (12) 

Fa
se

 (??
)

2??
??

Lu
m

in
os

id
ad

e 
(??
??)

??



76 

Como as fases obtidas são periódicas, existem pontos com a 
mesma fase, o que gera ambiguidade. Em imagens obtidas da projeção 
em superfícies sem descontinuidades, é possível utilizar algoritmos de 
remoção de salto de fase por processamento da imagem, como em 
(ASUNDI; WENSEN, 1998) e em (DA SILVA MACIEL; 
ALBERTAZZI, 2014), onde é descrito um método não convencional de 
remoção do salto de fase utilizando inteligência de enxame. No entanto, 
geralmente essa condição não é respeitada. Para tal, deve-se projetar 
padrões que possibilitem realizar a remoção do salto de fase independente 
da forma da superfície e sem depender de pixels vizinhos. Um método 
muito utilizado é a codificação binária (conhecida como gray-code ou 
gray coding) (SANSONI; CAROCCI; RODELLA, 1999) (GENG, 2011) 
(PINTO, 2010), onde a projeção de padrões binários possibilita a remoção 
da ambiguidade. Outro métodos comuns são a projeção de padrões de 
franja de baixa frequência ou com ?? + 1 franjas (ZUMBRUNN, 1987), 
(HOFMANN, 2006) e (HAERTEL, 2009). 

Apesar de projetores serem o equipamento mais usual para a 
projeção de franjas, existem exceções. Um sistema para a medição interna 
da junção de tubulações e seu alinhamento, descrito em (HOFMANN, 
2006) (ALBERTAZZI G., JR. et al., 2009), utiliza uma transparência com 
franjas em hélice disposta em um cilindro de acrílico ao redor de uma 
lâmpada. A transparência é rotacionada com um motor de passo, 
possibilitando o deslocamento de fase. Em (HAERTEL, 2009) 
(HAERTEL et al., 2012), uma montagem similar foi adotada para projetar 
franjas para a medição do exterior de tubulações, mas no caso as franjas 
são dispostas paralelas ao eixo de rotação. Essas concepções foram 
desenvolvidas devido ao espaço restrito impossibilitar o uso de um 
projetor. 

Codificação - Luz estruturada 

A projeção de padrões não aleatórios é comumente denominada de 
projeção de luz estruturada (GENG, 2011). Possibilita criar um código 
único para cada ponto da imagem, melhorando muito o processo de 
identificação de pontos correspondentes. A projeção de franjas (ZHANG, 
2010) (PINTO, 2010) descrita anteriormente é uma das técnicas mais 
difundidas de projeção de luz estruturada. 



77 

 
 

A projeção de luz estruturada pode ter as seguintes aplicações em 
visão computacional: 

1. Detecção de pontos correspondentes em sistemas com duas ou 
mais câmeras. 

2. Triangulação entre projetor e câmera através da calibração do 
projetor como uma câmera inversa. 

3. Obtenção da posição 3D diretamente com apenas uma câmera 
e o processamento dos padrões projetados. Conhecido como 
imagem 3D (3D imaging) (GENG, 2011). 

Um exemplo tanto para o caso 1 quanto o 2 é mostrado na figura 
19, onde o projetor é utilizado para a projeção de franjas e gray-code. 
Além disso, foi calibrado como uma câmera inversa, possibilitando a 
medição em regiões oclusas para uma das câmeras.  

 
Figura 19 – Resultado de medição do rosto de um manequim. Pontos pretos 
calculados por triangulação de duas câmeras com projeção de franjas e gray-code. 
Pontos em vermelho e em azul obtidos através da triangulação entre uma câmera 
e o projetor, abrangem, respectivamente, a região lateral direita e esquerda do 
nariz e da face (incluindo orelha) (PINTO; KOHLER; ALBERTAZZI, 2012). 

No caso 3, a projeção de luz estruturada é utilizada para a 
codificação direta da profundidade da cena, possibilitando medir a 
geometria 3D do objeto apenas com uma câmera e projetor. O erro obtido 
geralmente é menor do que a utilização do projetor como uma câmera 
inversa (WANG; ZHANG, 2011), (ZUO et al., 2012), (FENG et al., 
2014), (EKSTRAND et al., 2013). Os métodos de projeção que 



78 

possibilitam a medição com poucas ou apenas uma imagem são ideias 
para medições dinâmicas, no entanto, geralmente resultam em maiores 
erros (GENG, 2011). (EKSTRAND et al., 2013) e (WANG; ZHANG, 
2011) utilizam a técnica de projeção de franjas desenvolvida em (WANG; 
ZHANG, 2010) para o cálculo das franjas. Em (EKSTRAND et al., 2013), 
foi desenvolvido um sistema para medição 3D a partir da projeção de 
franjas (método de três passos mais dois de baixa frequência) em alta 
velocidade (60 medições por segundo), possibilitando por exemplo, medir 
o rosto de uma pessoa enquanto falava. O laboratório do prof. Chao Zuo9 
desenvolve equipamentos como projetores especiais e técnicas para a 
medição com projeção de franjas em alta velocidade (ZUO et al., 2012) 
(ZUO et al., 2013) (FENG et al., 2014). 

Compilação de técnicas de projeção de luz estruturada 

Além das técnicas de projeção de luz estruturada aqui descritas, 
existem outras como a projeção de padrões de cores, padrões de tiras, 
grades codificas, entre outras; mais detalhes em (GENG, 2011). A figura 
20 classifica as principais técnicas de projeção de luz estruturada. 

                                                        
 
 
9 Chao Zuo - Smart Computational Imaging Lab - http://www.zuochao.org. 



79 

 
 

 
Figura 20 - Técnicas de projeção de luz estruturada. Traduzido de (GENG, 2011). 

Projeção sequencial (Múltiplas imagens)

Código binário

Código em tons de cinza (Gray code)

Variação de fase (Phase shift)

Híbrido: Gray code + Phase shift

Padrões de variação contínua (Única imagem)

Câmera arco-íris 3D

Código de cores variado continuamente

Indexação por tira (Única imagem)

Tiras codificas por cor

Tiras segmentadas

Tiras codificadas por tons de cinza

Sequencia De Bruijn 

Indexação por grade (Única imagem)

Pontos binários pseudo-aleatório

Mini padrões como palavras codificadas

Grade codificada por cor

Vetor de pontos 2D codificado por cor

Métodos híbridos



80 

 



81 

 
 

3 MEDIÇÃO ÓPTICA DE FORMAS 3D EM MEIO 
SUBAQUÁTICO 

O capítulo 2 descreveu a medição óptica de formas 3D no ar. Para 
a captura de imagens subaquáticas, com exceção de câmeras com 
estrutura própria para trabalhar embaixo da água, é necessário proteger a 
câmera em um invólucro. Pode-se citar caixas estanques, que servem 
como uma casca protetora removível; estruturas de equipamentos 
específicos, como no interior de submergíveis e até mesmo sacolas 
plásticas especiais. A região em que os feixes de luz passam para a 
formação da imagem pela câmera será aqui denominada de janela de visão 
(ou simplesmente, janela). Para o uso industrial, principalmente em 
grandes profundidades (mais de mil metros), devido à pressão, a 
espessura da janela de visão pode ter algumas dezenas de milímetros. O 
formato, espessura e posição da janela tem grande influência na formação 
da imagem devido à refração que ocorre nas interfaces água/janela e 
janela/ar. Além disso, a iteração da luz com as moléculas da água, e em 
outras partículas suspensas, resulta na absorção e espalhamento 
(scattering). Esse fenômeno é dependente do comprimento de onda, o que 
gera efeitos como a cor azul esverdeada no fundo do mar. 

No presente capítulo serão descritos os fenômenos que degradam 
a qualidade da imagem em meio subaquático, assim como técnicas para 
recuperá-la. Em sequência, os principais tipos de janelas e equipamentos 
para a medição subaquática são descritos. Por fim, é exposto o estado da 
arte em modelagem da refração para a calibração de câmeras. 

3.1 PROPAGAÇÃO DA LUZ EM MEIO SUBAQUÁTICO 

Existem diversos fatores que influenciam a propagação da luz em 
meio subaquático, sendo os principais: temperatura, salinidade, pressão, 
turbulência e turbidez. Os primeiros quatro fatores têm maior influência 
no índice de refração, já a turbidez, é responsável pela degradação do 
sinal. Esses efeitos são descritos a seguir. 

3.1.1 Degradação do sinal 
A degradação do sinal de luz se deve a três principais fatores, 

absorção, retroespalhamento (backscattering) e frontoespalhamento 



82 

(forward scattering). Conforme descrito em (WALDRON; MULLEN, 
2009) a atenuação ocorre quando os fótons são absorvidos ao interagirem 
com diferentes partículas em suspenção na água. Quando não se pode 
mais obter o sinal devido à perda por absorção, é dito que foi atingido o 
limite de fóton. Fazendo uma analogia, ao aumentar a potência do farol de 
um automóvel em uma noite com pouca ou nenhuma neblina, é possível 
enxergar objetos a uma distância maior. Ou seja, o aumento da potência 
do sinal possibilita obter um maior alcance quando esse tipo de efeito é 
predominante.  O gráfico da figura 21 mostra curvas de absorção da luz 
para diferentes oceanos, pode-se notar que a menor absorção fica em 
torno da faixa do azul-verde (450 a 550 nm) (WOZNIAK; DERA, 2007). 
Não por coincidência, essa é a “cor dos oceanos”. 

 
Figura 21 – Absorção da luz em diferentes oceanos e regiões:1-5) Pacífico em 
diferentes regiões; 6) Atlântico; 7) Báltico - águas profundas e 8) Báltico - 
superfície. Adaptado de (WOZNIAK; DERA, 2007). 

Outro fator de degradação do sinal na água é o retroespalhamento 
ou “véu de luz” (veiling light). Quanto mais turva a água, maior será a sua 

Comprimento de onda ?? [nm]

Co
ef

ic
ie

nt
e

de
ab

so
rç

ão
de

lu
z

[m
-1

]

10,00

1,00

0,10

0,01



83 

 
 

influência. Segundo (SCHECHNER; KARPEL, 2005) o 
retroespalhamento é o fator de maior influência na degradação da 
qualidade da imagem, sendo seu principal efeito a perda de contraste. O 
que ocorre é que os fótons são desviados ao colidirem com algumas 
partículas suspensas na água, causando primeiramente uma atenuação do 
sinal. No entanto, o maior problema ocorre quando o ângulo de reflexão 
é tal que o sinal retorna em direção ao receptor antes de ter atingido o 
objeto de interesse. Quando o sinal de retorno se torna menor do que o 
retroespalhamento, é dito que foi atingido o limite de retroespalhamento. 
Voltando à analogia do automóvel, seria o mesmo do que um local com 
neblina intensa; ao aumentar a potência do farol, o motorista pode 
enxergar mais longe, mas chega um ponto em que ele fica ofuscado pela 
luz que retorna da própria neblina, pois o retroespalhamento é maior do 
que a luz que volta da estrada. Sendo assim, o aumento da potência do 
sinal irá, na verdade, piorar a relação sinal/ruído. Esse efeito é menor em 
comprimentos de ondas maiores, ou seja, próximos ao vermelho. É 
importante notar que esse é justamente o comprimento de onda de maior 
atenuação na água, gerando assim uma relação de compromisso entre os 
dois efeitos de degradação aqui descritos. Novamente conforme à 
analogia do automóvel, é por isso que os faróis de neblina são 
“alaranjados”, ou seja, possuem comprimento de onda maior, penetrando 
melhor na neblina. 

Quando o feixe de luz proveniente do objeto é levemente desviado, 
mas ainda atinge o observador, ocorre um terceiro fator de degradação do 
sinal denominado de frontoespalhamento (forward scattering). O 
principal efeito resultante é a perda de nitidez (SCHECHNER; KARPEL, 
2005). 

3.1.2 Melhoria do sinal de luz 
Existem diversos trabalhos que buscam a melhoria da qualidade de 

imagens subaquáticas. A possibilidade de “enxergar mais longe”, obtendo 
imagens mais nítidas, com menor degradação de cores é de grande 
interesse em muitas áreas, desde o estudo da biologia marinha até a 
inspeção de estruturas industriais. 

O método desenvolvido por (SCHECHNER; KARPEL, 2005) 
inverte o modelo físico de propagação da luz em meio subaquático com 
iluminação natural. Ele é baseado no fato de que a luz proveniente da 



84 

superfície, quando espalhada (scattered) por partículas suspensas na água, 
sofre polarização. Sua influência é diretamente proporcional à distância 
ao objeto. O método é específico para iluminação natural e a foto deve ser 
obtida na horizontal, uma vez que o equacionamento assume iluminação 
uniforme ao longo do campo de visão (LOS, line of sight). 

Para possibilitar a recuperação da imagem, são utilizadas duas 
fotos obtidas através de um polarizador o qual é configurado em posições 
angulares (rotação) que resultem na obtenção de imagens com a maior e 
menor transmissão de luz possível.  A figura 22 mostra fotos obtidas com 
as duas polarizações diferentes e o resultado do processamento. É possível 
notar o grande ganho de qualidade. A estimativa de aumento da distância 
máxima de visualização é de aproximadamente 1,8 vezes. É possível 
obter um mapa de distância aproximada baseado na atenuação da luz em 
cada pixel (SCHECHNER; KARPEL, 2005). No entanto, é necessário 
conhecer a posição absoluta de pelo menos um ponto da imagem. 

             

 
Figura 22 –Imagens originais obtidas com a polarização na posição de máxima e 
mínima transmissão (parte superior). Imagem da melhor polarização após 
correção de cores simples (baseada no fato da cor da areia ser branca) e imagem 
resultante após o processamento (parte inferior). Os pontos são referentes à 
regiões com o mesmo contraste. Traduzido de (SCHECHNER; KARPEL, 2005). 

Melhor estado de polarização Imagem recuperada



85 

 
 

Ao contrário de (SCHECHNER; KARPEL, 2005), que visa a 
melhoria de imagens em iluminação natural, (TREIBITZ; SCHECHNER, 
2012) descreve um método para melhoria da imagem utilizando 
iluminação artificial. O efeito do retroespalhamento não é removido, no 
entanto a imagem resultante é formada pelas regiões de melhor 
visibilidade de cada imagem. O retroespalhamento é diretamente 
proporcional à região entre a passagem do feixe de luz e o objeto, 
conforme ilustra a figura 23. 

 
Figura 23 – Variação da intensidade do retroespalhamento (backscattering) em 
relação a posição da fonte de luz (TREIBITZ; SCHECHNER, 2012). 

O processamento utiliza a técnica de Pirâmide Laplaciana para a 
fusão das imagens, o critério de fusão é o melhor contraste (menor 
retroespalhamento) e a iluminação é balanceada. O resultado de 
processamento utilizando duas imagens pode ser visto na figura 24. O 
trabalho sobre calibração de câmeras em meio subaquático (JORDT-
SEDLAZECK; KOCH, 2012) utiliza o modelo desenvolvido por 
(SCHECHNER; KARPEL, 2005) para melhorar a qualidade das imagens. 

Outra técnica de melhoria da visibilidade é capturar somente o 
sinal de luz proveniente do objeto de interesse. Para tal, um pulso de laser 
é utilizado para iluminar o objeto de interesse. Como sua distância é 
conhecida, é possível calcular o instante em que a luz refletida no objeto 
irá retornar e somente nesse momento o sensor irá iniciar a aquisição. 
Como resultado, grande parte do retroespalhamento é eliminada. Esse tipo 
de sistema é denominado de Range Gated, ou seja, janela/período de 
abertura (gate) dependente da distância (range). O ganho de visibilidade 
foi de ~40% em (TAN et al., 2007) e de seis vezes em (CHEN; HE; AO, 
2007). A desvantagem é a necessidade de conhecer a distância ao objeto, 
além da necessidade de um sensor com tempo de exposição extremamente 
curto. 



86 

O grupo de Alley (ALLEY; MULLEN; LAUX, 2011) (ALLEY; 
MULLEN; LAUX, 2012) desenvolveu um sistema em que a fonte de luz 
fica muito próxima ao objeto de interesse, sendo assim, o 
retroespalhamento é praticamente nula. Além disso, utiliza-se uma fonte 
de luz laser modulada onde são transmitidas informações que auxiliam na 
reconstrução do objeto, como a frequência da varredura e ângulo, 
permitindo que a fonte de luz e o sensor sejam independentes. 

 
Figura 24 – Resultado de experimento utilizando iluminação multidirecional. a) 
Iluminação com ângulo “a”. b) Iluminação com ângulo “b”. c) Iluminação 
simultânea com ângulo “a” e “b”. d) Resultado obtido com a técnica desenvolvida 
pelos autores, combinando as imagens a) e b). Traduzido de (TREIBITZ; 
SCHECHNER, 2012). 

3.1.3 Refração e lei de Snell 
A figura 25 ilustra o caminho óptico de um feixe de luz ao passar 

por uma interface de refração, formada pelo meio 0 (ar) e 1 (água), com 
respectivos índices de refração ??0 e ??1. A relação dos ângulos formados 
entre o caminho óptico e a normal em cada meio (??0 e ??1) é regida pela 
primeira parte da Lei da Refração, também conhecida por Lei de Snell 
(HECHT, 2001) (dedução no Apêndice A): 

Imagens  de entrada

Il umi nação s imultânea Método dos  autores



87 

 
 

 ??????(??0)??0 =  ??????(??1)??1 . (13) 

 
Figura 25 – Refração da luz na transição entre dois meios. 

Os principais fatores que influenciam o índice de refração da água 
são a temperatura, salinidade, comprimento de onda e pressão 
(BASHKATOV; GENINA, 2003)(MILLARD, R. C. AND SEAVE, 
1990)(ABBATE; BERNINI, 1978)(QUAN; FRY, 1995). No trabalho 
descrito em (QUAN; FRY, 1995) obteve-se empiricamente uma equação 
para o cálculo do índice de refração em função desses parâmetros.  Em 
relação à pressão, sua influência pode ser aproximada para os primeiros 
100 m de profundidade somando 1,37 × 10?6?? ao índice de refração, 
sendo ?? a profundidade em metros. Dessa forma, a 100 metros de 
profundidade, a alteração do índice de refração devido à pressão seria 
de 1,37 × 10-4. A tabela 2 lista o índice de refração do ar, acrílico e vidro. 
Já a tabela 3 expõe a variação do índice de refração referente a variação 
de temperatura (1, 10, 20 e 30) °C e (0 a 35)‰ de salinidade, sendo ‰ 
partes por mil. Nota-se que o índice de refração diminui com o aumento 
da temperatura e aumenta com o aumento da salinidade. Os extremos são 
1,33497 e 1,34397, respectivamente para uma temperatura e salinidade de 
(30°C; 0‰) e (1°C; 35‰), e representa uma variação total de 0,009. 

Tabela 2 – Índice de refração do ar, vidro e acrílico sob pressão atmosférica 
(HECHT, 2001) (BASS et al., 1995). 

Meio ?? [nm] Índice de refração (??) 
Ar 589,29 1,000293 

Vidro óptico (crown glass) 589 1,52 
Vidro sílex (flint glass) 589 1,58 

Acrílico 546 1,497 

??0

??1

??1??0



88 

Tabela 3 – Compilação do índice de refração da água para variações extremas de 
temperatura, salinidade e pressão (?? = 508,5 nm) (QUAN; FRY, 1995). 

Salinidade \ Temperatura 1°C 10°C 20°C 30°C Variação total 

Água doce (?? = 0 ‰) 1,33701 1,33674 1,33603 1,33497 -0,0026 

Água do mar (?? = 35 ‰) 1,34397 1,34344 1,34253 1,34138 -0,0021 
Variação 0,00696 0,00670 0,00650 0,00641 - 

Pressão: 1,37 × 10-4 (~ 0,00014) a cada 100 m de profundidade 

3.2 TIPOS DE JANELA DE VISÃO (INTERFACE AR/ÁGUA) 

As janelas de visão (em inglês conhecidas por ports) fazem a 
separação (interface) entre o meio ar/água. As janelas mais comuns são 
as planas (flat port) e domo (dome port), conforme ilustra a figura 26. No 
meio da fotografia subaquática no Brasil, são comumente conhecidas10 
como “porta plana” e “domo” ou “cúpula”. A figura 27 mostra uma 
comparação das imagens obtidas por uma janela plana e domo. A 
distorção na porta plana é maior. Sendo assim, sempre que possível, opta-
se pelo uso da janela domo. No entanto, existem casos onde seu uso é 
proibitivo. Um exemplo no meio cinematográfico é dado em 
(GUIMARÃES, 2012), onde o uso da janela domo não é adequado para 
filmagem estéreo subaquática (para o cinema 3D) devido à necessidade 
de aumentar a distância entre as câmeras (interaxial ou stereo-base), o 
que resultaria numa experiência 3D desconfortável. Em aplicações 
industriais, principalmente em grandes profundidades, onde a espessura 
da janela deve ser de dezenas de milímetros, a disponibilidade de janelas 
planas é maior devido a sua simplicidade. A seguir, os principais tipos de 
janelas são descritos em mais detalhes. 

                                                        
 
 
10 Nomenclatura conforme a Equipe de Suporte do site www.brasilmergulho.com.br. 

http://www.brasilmergulho.com.br/


89 

 
 

 
Figura 26 –Janela plana da Nauticam Austrália modelo “Compact port 15 
#18303” (esquerda) e janela domo em acrílico com 171 mm de diâmetro. Modelo 
“6" Acrylic Dome Port #18801” Nauticam Austrália (direita) (AUSTRALIA, 
2009). 

 
Figura 27 – Exemplo de imagem subaquática obtida por câmera com janela plana 
(esquerda) e domo (direita) (GUIMARÃES, 2012). Comprimento focal de 
14 mm. 

3.2.1 Janela plana (flat port) 
A interface plana é a mais simples de ser fabricada, sendo que 

existe grande disponibilidade de placas de vidro ou poliméricas planas de 
diferentes espessuras. Por esse motivo, esse é um tipo de janela muito 
comum. Como o índice de refração da água é maior do que o do ar, o 
ângulo do feixe de luz na água em relação à reta normal à superfície é 
menor. Sendo assim, o efeito mais perceptível do uso de uma janela plana 
é a diminuição do ângulo de visão (e consequente magnificação da 
imagem ou zoom aparente), conforme ilustra a figura 28 (esquerda). Já a 
figura 28 (direita) mostra uma janela domo (dome port), onde os feixes 
principais incidem de forma perpendicular, compensando a perda angular. 
As janelas domo serão descritas em mais detalhes na seção seguinte. 

O ângulo de visão (AOV, Angle Of View) máximo teórico na janela 
plana é menor do que 97,5° (obtido para um AOV no ar de 180,0° na lente 
atrás da janela). No entanto, na prática esse ângulo é muito menor e é 
formada uma imagem virtual em torno de 25% mais próxima. Outro efeito 
é que componentes da luz branca são separados, podendo gerar aberrações 
cromáticas consideráveis. 



90 

 
Figura 28 – Refração em uma janela (ou interface) plana (esquerda) e numa janela 
domo (direita). Adaptado de (SEDLAZECK; KOCH, 2012). 

Na figura 29 é exposto o diagrama de raios para a formação de 
imagem no ar (índice de refração ??0) e na água (índice de refração ??1) 
através de uma janela plana. No ar, o objeto de altura ??w, posicionado a 
uma distância ???? da lente forma uma imagem com altura ???? a uma 
distância ???? da lente. Considerando uma janela plana fina a uma 
distância ??0 da lente, a imagem obtida é mais distante (????? ) e também 
maior (????? ). 

 
Figura 29 – Formação de imagem através de uma janela plana fina. Adaptado de 
(KNIGHT, 2012). 

Conforme (KNIGHT, 2012), a partir da análise da figura 29 pode-
se chegar a equação de magnificação devido à refração. Primeiramente, 
tem-se que a magnificação transversa de lentes finas é dada por (HECHT, 
2001): 

ÁguaArVidro ÁguaAr

Câmera Câmera

????

Água
??1

Ar
??0

??

??0

?????

????

?????
????

??0 ??1

????

????

????

?????



91 

 
 

 ?????????? =
??

???? ? ??
 e ??????????

? =
??

????? ? ??
 . 

A magnificação devido à refração é dada pela relação das duas 
magnificações: 

?????? =
??????????
?

??????????
=
???? ? ??
????? ? ??

 

Como ??????(??0) =
????
?????

  ?   ????? =
????

??????(??0)
 .  

A altura do objeto é ???? = ???? + ????. Como: ???? = (???? ?
??0) tan(??1) e ???? = ??0 tan(??0), chega-se a: 

 
????? =

[(???? ? ??0) ??????(??1) + ??0 ??????(??0)]
??????(??0)

   

?  ????? =  (???? ? ??0)
??????(??1)
??????(??0)

+ ??0 

 
 

. 

Substituindo u’, chega-se na equação final da magnificação devido 
à refração (14): 

 ????? =
???? ? ??

(???? ? ??0)
??????(??1)
??????(??0)

+ ??0 ? ??
 . (14) 

Pode-se notar na equação (14) que a magnificação depende do 
ângulo, isso implica que o sistema terá distorção radial. Para ângulos de 
abertura (??) pequeno, é possível considerar que ??????(??) ~ ??????(??), assim, 
conforme a lei de Snell, a equação (14) pode ser simplificada para (15): 

 ????? =
???? ? ??

(???? ? ??0)
??0
??1

+ ??0 ? ??
 . (15) 

Como geralmente o centro de projeção está perto da janela (??0 
pequeno) e a distância da lente ao objeto é bem maior do que o 
comprimento focal (???? ? ??), a equação pode novamente ser 
simplificada: 



92 

 ????? =
??1
??0

 . (16) 

A equação (16) simplificada mostra que uma estimativa incial da 
magnificação pode ser calculada pela simples relação entre o índice de 
refração do ar e da água. O valor obtido é de aproximadamente 1,3333 
(ou seja, 33,33% de aumento) considerando os índices no ar e água 
respectivamente de 1 e 4/3. 

3.2.2 Janela domo (dome port) 
As janelas domo reduzem os efeitos da refração na mudança de 

meio. Suas principais vantagens são a menor distorção e possibilidade da 
utilização de lentes grandes angulares, uma vez que o caminho óptico dos 
feixes principais incidem perpendicularmente à superfície, conforme 
ilustra a figura 28 (direita). Para seu correto funcionamento, o centro do 
domo deve ser o mais coincidente possível com o centro de projeção. 

Nesse tipo de janela a interface ar/vidro funciona como uma fraca 
lente positiva e a interface vidro/água como uma forte lente negativa 
(NEWTON; BALDWIN; FRYER, 1989). Sendo assim, apesar da 
melhoria no ângulo de visão, a combinação dessas lentes gera uma 
imagem virtual curvada e mais próxima da câmera do que o objeto. 
Quanto maior o diâmetro da janela, mais longe e menos curvada será a 
imagem virtual. Devido a essa curvatura, as regiões mais afastadas do 
centro da imagem podem ficar fora de foco. Como nem todos os feixes 
de luz irão incidir de forma perpendicular à superfície, aberrações 
cromáticas ainda podem ocorrer. Uma forma de reduzir esse efeito é 
aumentar o raio do domo e reduzir a abertura da íris. As figuras 26 e 30 
mostram exemplos comerciais de janelas domo. 



93 

 
 

 
Figura 30 – Janela domo e caixa estanque Nexus para lentes Nikkon 14-24 e 
câmera D700. (“New Nexus Glass Dome Ports|Underwater Photography Guide”, 
2010). 

A figura 31 mostra o diagrama de raios da refração em uma janela 
domo fina (espessura do vidro desprezível). A câmera foi posicionada de 
forma que seu centro de projeção fique coincidente com o centro da janela 
domo, de raio ??. Com exceção dos feixes que incidem de forma normal 
ao domo, todos os outros são refratados por um ângulo ????. Sendo assim, 
raios vindos do infinito aparentam vir do ponto ?? (foco secundário). Para 
focar a imagem virtual formada em ??, a câmera deve focar a uma 
distância mínima de ?? + ??. 

 
Figura 31 – Diagrama de raios da refração em uma janela domo fina. O centro de 
projeção está coincidente com o centro do domo, de raio ??. Adaptado de 
(KNIGHT, 2012). 

????

??
??

??

??

??1
??0 = ?? + ??1

180 ? ??0

Água
??1

Ar
??0

??



94 

Utilizando a lei dos senos: ??/??????(180 ? ??0) = ??/??????(??), 
como ??????(180 ? ??0) = ??????(??0) e para ângulos 
pequenos, ??????(??) ~ ??, ?? = ?? ??0/??. Como ???? = ??0 ? ??1, então ?? =
?? ??0/(??0 ? ??1) ou: 

 ?? =
??

(1 ? ??1
??0

)
 . (17) 

Analisando a refração, segundo a lei de Snell, para pequenos 
ângulos tem-se que: ??1/??0 = ??0/??1. Substituindo em (17), chega-se a: 

 ?? =
??

1 ? ??0
??1

 . (18) 

Considerando o caso em que o índice de refração do ar e da água 
são respectivamente de 1 e 4/3, obtém-se que ?? =  4??. Sendo assim, 
utilizando uma janela domo fina, um objeto no infinito irá formar uma 
imagem virtual à uma distância do centro de curvatura de quatro vezes o 
raio da janela. Muitas vezes, a espessura da janela domo precisa ser 
considerada. Neste caso, a relação é um pouco mais complexa, como 
descrito em (KNIGHT, 2012). 

3.2.3 Janela totalmente corretiva (fully corrective port) 
A janela totalmente corretiva (JTC) tem como objetivo corrigir por 

completo o efeito da refração na água. A janela remove a distorção e 
aberrações cromáticas; mantém o ângulo de visão e uma imagem virtual 
plana. Como resultado, a água se torna “invisível”. O caminho óptico 
pode ser visto na figura 32. 

Segundo (NEWTON; BALDWIN; FRYER, 1989), uma excelente 
JTC foi desenvolvida por Ivanoff. Essa janela é descrita numa patente de 
1952 (IVANOFF; LE GRAND; CUVIER, 1952) e um esquemático pode 
ser visto na figura 33. Segundo (NEWTON; BALDWIN; FRYER, 1989) 
a tolerância de posicionamento da janela em relação à lente é de vários 
milímetros; em contrapartida, (TREIBITZ et al., 2012) afirma que esse 
tipo de janela, incluindo as domo, é de difícil alinhamento. 



95 

 
 

 
Figura 32 – Janela totalmente corretiva. Adaptado de (NEWTON; BALDWIN; 
FRYER, 1989). 

 
Figura 33 – Desenho técnico da janela totalmente corretiva desenvolvida por 
Ivanoff em 1952 (IVANOFF; LE GRAND; CUVIER, 1952). Sendo ?? o índice de 
refração, padronizado na presente tese como ??. 

Um exemplo de JTC comercial é a lente Unterwasservorsatz II 
(figura 34), fabricada nos anos 60 pela Carl Zeiss Alemã especificamente 
para a lente da linha Biogon (lentes grande-angulares) com comprimento 
focal de 38 mm utilizada por uma câmera da Hasselblad. O autor da 
presente tese desconhece referências recentes de artigos e modelos 

Ar
??0

Água
??1

??



96 

comerciais de JTCs. A própria Carl Zeiss não fabrica mais janelas e lentes 
para uso específico subaquático. No entanto, essas lentes são fabricadas 
sob encomenda por alguns fabricantes. Pode-se supor que as razões para 
as JTCs não serem comuns e pouco comercializadas sejam: 

• Dificuldade de fabricação (consequente alto custo); 
• Alta especificidade; 
• O mercado de fotogrametria subaquática é pequeno; 
• As lentes e janelas atuais já fornecem uma correção aceitável 

para fotografia e filmagem. 

  
Figura 34 – janela totalmente corretiva “Unterwasservorsatz II” da Carl Zeiss 
(EBAY, 2013). 

O mesmo princípio de correção aplicado para lentes pode ser 
utilizado para o desenvolvimento de máscaras de mergulho. A patente 
publicada em 2003 de número US 6612693 B2 entitulada “Panoramic 
reverse Galilean telescope optics for an underwater diving mask” 
(KRANHOUSE; ROGERS, 2003) documenta justamente uma máscara 
de mergulho que compensa os efeitos da refração, tornando a água 
“invisivel”. A patente cita a janela correctiva de Ivanoff. A empresa 
HydroOptix é a fabricante exclusiva dessas máscara e conforme descrito 
em seu website (“HydroOptix”, [s.d.]),  devido ao alto custo de produção, 
o modelo totalmente corretivo (MAX™ Optics) deverá inicialmente ser 
comercializado apenas para mergulhadores comerciais e militares. A 
figura 35 (esquerda) mostra um dos desenhos contidos na patente, 
ilustrando a máscara e sua óptica corretiva; à direita uma foto do protótipo 
da máscara. Apesar da máscara totalmente corretiva não ser 
comercializada, uma versão mais simplificada, que somente aumenta o 
ângulo de visão, foi comercializada (MEGA 4.5 DD). Essa é uma máscara 



97 

 
 

com duas janelas domo, sendo necessário (para a maioria das pessoas) o 
uso de uma lente de contato para possibilitar focar a imagem virtual, que 
se encontra muito próxima aos olhos. Atualmente, a empresa aparenta 
estar com dificuldades em encontrar um fabricante adequado para suas 
lentes e a compra da versão simplificada também está indisponível. 

  
Figura 35 – Desenho da máscara e caminho óptico exposto na patente US 
6612693 B2 (esquerda). Protótipo de máscara de mergulho MAX™ Optics da 
HydroOptix (direita) (KRANHOUSE; ROGERS, 2003), (“HydroOptix”, [s.d.]). 

3.2.4 Lentes para uso subaquático (lentes “molhadas”) 
As lentes molhadas (wet lenses) são fabricadas paro uso direto na 

água, podendo até mesmo ser montada/desmontada dentro da água. 
Geralmente não é possível obter foco quando essa lente é utilizada fora 
da água. Também estão sujeitas às distorções provenientes da refração. 

3.3 SISTEMAS DE MEDIÇÃO EM MEIO SUBAQUÁTICO 
(ÓPTICOS E ACÚSTICOS) ....... 

Existe uma variedade de sistemas comerciais e trabalhos de 
pesquisa de sistemas ópticos e acústicos para a medição subaquática. 
Alguns trabalhos recentes visam realizar a união dessas técnicas, 
resultando em sistemas denominados opto-acústicos. O mapa taxonômico 
da figura 36 ilustra os diferentes princípios de medição utilizados. As 
principais tecnologias para esse tipo de inspeção são descritas a seguir, 
assim como exemplos de sistemas comerciais. 



98 

 
Figura 36 – Taxonomia de métodos de medição de formas. Adaptado de 
(LEONE; DIRACO; DISTANTE, 2008). 

3.3.1 Triangulação laser 
Um dos sistemas mais difundidos para medição 3D subaquática 

são os que utilizam o princípio da triangulação a laser com folha de luz. 
Apresentam menor incerteza e são utilizados para curtas distâncias (até 
aproximadamente 10 m) principalmente devido à degradação do sinal da 
luz. 

O trabalho (MIRALLÈS et al., 2010) descreve o desenvolvimento 
de um sistema de triangulação a laser (STL) para a inspeção de grandes 
estruturas de hidroelétricas embaixo da água. O trabalho está inserido no 

Métodos de 
aquisição de forma

Transmissivo Tomografia computadorizada

Refletivo

Não-óptico

Radar

Sonar

Óptico

P assivo

Estereoscopia

Forma a partir do 
movimento (SfM)

Forma a partir da 
silhueta

Forma a partir do 
sombreamento

Forma a partir do 
foco

Ativo

Tempo de voo

P rofundidade a 
partir do foco ativo

Interferometria

Triangulação

Estereoscopia ativa



99 

 
 

contexto de um projeto que teve início em 2006 e conta com uma grande 
equipe. O sistema projeta duas folhas de luz e utiliza como referência 
entre medições dois ou mais cabos que são dispostos paralelos à superfície 
e colineares com a direção da inspeção (ver figura 37). As câmeras são 
calibradas utilizando o modelo pinhole. Nos experimentos descritos, a 
incerteza da reconstrução foi da ordem de 0,1 mm. A velocidade de 
inspeção é de 2,5 mm/s, sendo que uma secção é capturada a cada 
0,125 mm. 

 
Figura 37 – Esquemático do módulo de transporte e cabos de referenciamento do 
STL para inspeção de hidroelétricas (MIRALLÈS et al., 2010). 

Um sistema que utiliza a triangulação por folha de luz com dois 
lasers de 532 nm com ângulo de abertura de 60° (no ar) para medir a 
distância a objetos é descrito em (CAIN; LEONESSA, 2012). É um 
protótipo de baixo custo e tem o objetivo de auxiliar a navegação de 
ROVs (Remotely Operated underwater Vehicle), medindo a distância e 
evitando a colisão em pequenos objetos. A incerteza de medição é 
elevada, da ordem de 10-20% da distância medida. 

Recentemente, (EMBRY et al., 2012) (RICHARDSON et al., 
2013) desenvolveram um STL por ponto de luz para inspeção subaquática 
que pode ser utilizado em até 3 km de profundidade. O sistema varre uma 
região de ± 15° (azimute e elevação). A faixa de operação varia de 2 a 



100 

20 m, com resolução de 0,36 a 3,6 mm (0,018% da distância). A figura 
38 ilustra o sistema durante uma medição e a nuvem de pontos resultante. 

 
Figura 38 – Foto (esquerda) de flange de 254 mm (10”) e resultado de medição 
(direita) (EMBRY et al., 2012). 

O ROV Lumeneye (figura 39) desenvolvido pela empresa Savante 
(“Savante”, 2015) possui um STL acoplado. Segundo o site da empresa, 
o equipamento pode ser utilizado até 6 km de profundidade. O erro e de 
menos de 1 mm para uma faixa de medição de 5 m, ou seja &amp;lt;0,02% da 
distância. No entanto, nenhum relatório de avaliação é fornecido. 

  

. 

 

 
Figura 39 – Lumeneye da Savante (esquerda). Imagem subaquática da linha de 
laser sobre pedras (direita superior) e o respectivo resultado de medição (direita 
inferior) (“Savante”, 2015). 



101 

 
 

A empresa 2G Robotics (“2G Robotics”, 2015) é especializada em 
sistemas a laser de inspeção subaquática. Possuem três sensores (ULS-
100, ULS-200, ULS-500) que juntos cobrem uma faixa de medição de 
0,1-10 m (ver figura 40). Nenhuma informação sobre o nível de incerteza 
do sistema na medição de distância é fornecida. Resultados de medição 
podem ser vistos na figura 41. 

 

 
Figura 40 – Fotos dos três sistemas de medição a laser da 2G Robotics (“2G 
Robotics”, 2015). 

 
Figura 41 – Exemplos de resultados de medições realizadas com o sistema 
ULS-100 da 2G Robotics (“2G Robotics”, 2015). 

3.3.2 LiDAR - Light Detection and Ranging 
LiDAR (Light Detection And Ranging ou Laser Imaging, 

Detection and Ranging) é uma técnica que mede a distância a partir da 



102 

análise da luz refletida sobre o mensurando. Um tipo específico de 
LiDAR são sistemas de tempo de voo (ToF time of flight) que utilizam o 
mesmo princípio básico de radares e sonares, onde a distância é calculada 
a partir do tempo que leva para a luz atingir o objeto, ser refletida e 
capturada pelo sensor. Apesar de recentes avanços na tecnologia ToF, as 
medições ainda são limitadas, e apresentam bastante ruído. A sua 
principal vantagem é que a medição é feita em tempo real. O único 
sistema de medição subaquático por ToF de conhecimento do autor do 
presente estudo é o Investigator da Scopos (SCOPOS, 2013). Na figura 
42 pode-se ver uma foto do sistema e de um resultado típico de medição. 
A empresa não fornece detalhes sobre a faixa de medição e incertezas. 
Outro tipo de LiDAR é baseado na diferença de fase entre o sinal enviado 
e o recebido. Segundo (TAN et al., 2007), a luz perde coerência na água, 
podendo limitar o uso desse tipo de sistema em meio subaquático. 
Existem empresas que comercializam sensores LiDAR para uso no ar, 
como exemplo, o sistema Leica ScanStation P20 (LEICA, 2013), que 
possui uma incerteza de ± 3 mm a 50 m e ± 6 mm a 100 m (0,006% da 
distância). 

   
Figura 42 – Sistema de medição ToF Investigator da Scopos (esquerda). Vista 
frontal (centro) e lateral (direita) do resultado de medição em tempo real de uma 
chapa com furo a aproximadamente 2 m de distância. Nota-se o grande ruído na 
medição (SCOPOS, 2013). 

No artigo de revisão (JAFFE et al., 2001), são descritos alguns 
sistemas LiDAR. O primeiro deles é o STIL (Streak Tube Imaging Lidar) 
desenvolvido pela empresa Areté Associates (ARETE, [s.d.]). O STIL 
emite um pulso de laser e analisa a reflexão no mensurando utilizando um 
tubo de raios (streak tube). Por fim uma imagem representando a 
intensidade de luz retornada no tempo é gerada, conforme pode ser visto 
na figura 43. Pode-se notar na imagem, de cima para baixo: o 
retroespalhamento, o fundo do oceano e o objeto de interesse.  O sistema 



103 

 
 

é capaz de medir distâncias de 6 metros com incertezas de ordem de 
20 mm (0,33% da distância máxima de trabalho). Outro sistema descrito 
em (JAFFE et al., 2001) é o Laser Line Scan, onde um ponto de laser é 
projetado por um espelho rotativo e um conjunto de sensores detecta o 
sinal de luz refletido. 

  
Figura 43 – Imagem (esquerda) e gráfico (direita) resultante do sistema STIL 
(JAFFE et al., 2001). 

Em (WALDRON; MULLEN, 2009) é descrito um sistema híbrido 
LiDAR-RADAR, onde a amplitude do laser é modulada com um sinal de 
alta frequência (60 - 70 MHz). Foram utilizados lasers com diferentes 
comprimentos de onda. A máxima distância de funcionamento (sem 
ambiguidade na fase) foi de 1,71 m em águas claras. O erro é da ordem 
de 30 mm. Em águas turvas, a partir de 150 mm de distância, o erro 
aumenta consideravelmente. 

3.3.3 Fotogrametria 
No trabalho descrito em (DRAP et al., 2015) realizou-se o 

mapeamento de um sítio arqueológico referente ao naufrágio do navio 
Romano Cap B´enat 4. Utilizou-se um ROV para a aquisição das imagens 
a uma frequência de 10 Hz (Figura 44). O artigo limita-se a dizer que a 
capacidade de medição do sistema é da ordem de milímetros. O resultado 
de medição pode ser visto na figura 45. 



104 

 
Figura 44 – ROV durante aquisição de fotos para a medição de objetos em sítio 
arqueológico. 

 
Figura 45 – Modelo 3D obtido a partir de fotos de vasos de sítio arqueológico a 
328 m de profundidade após duas horas de aquisição (DRAP et al., 2015). 

3.3.4 Structure from Motion (SfM) 
A equipe de robótica ViCOROB11 da universidade de Girona, 

Espanha, trabalha no desenvolvimento de um veículo autônomo 
submergível (AUV, Autonomous Underwater Vehicles) para realizar a 
                                                        
 
 
11 Site da equipe ViCOROB: http://vicorob.udg.edu. 

http://vicorob.udg.edu/


105 

 
 

medição do fundo do oceano denominado de AREM (Autonomous Robot 
for Environmental Monitoring) (CAMPOS, [s.d.]). No último trabalho 
publicado pela equipe de Nicosevici (NICOSEVICI et al., 2009) o 
princípio de medição utilizado foi o SfM (Structure from Motion) com 
apenas uma câmera portátil. Os mapas 2D e 3D resultantes de uma 
medição com esse primeiro sistema podem ser vistos na figura 46. Outra 
versão do sistema é dotada de três câmeras (trinocular) e é descrito em 
(CAMPOS et al., 2009). Nesse caso a reconstrução 3D é realizada através 
de uma variação do método de propagação de correspondência (Match 
Propagation), este método propaga a correspondência de “sementes” 
iniciais em um par de imagens estéreo. Para recuperar a posição do 
sistema de câmeras na sequência de imagens realizadas durante seu 
percurso utiliza-se um algoritmo de rastreamento estéreo (stereo tracking) 
com adição do método Sparse Bundle Adjustment. A função de custo 
desse último método minimiza o erro de reprojeção dos pontos rastreados. 
O resultado de medição de pedras (com dimensões em torno de 50 mm) 
pode ser visto na figura 47. 

 
 

 

Figura 46 – Mapa 2D com a cobertura aproximada de uma imagem destacada no 
retângulo vermelho (esquerda) e reconstrução 3D (direita) (NICOSEVICI et al., 
2009). 

1 m

Cobertura aproximada 
de uma imagem



106 

 
Figura 47 – Resultado de medição de cascalhos embaixo da água obtidos com o 
sistema AREM trinocular em diversas posições diferentes (CAMPOS et al., 
2009). 

3.3.5 Estereoscopia ativa e passiva 
A equipe de Swirski (SWIRSKI et al., 2011) (SWIRSKI; 

SCHECHNER, 2012)12 desenvolveu uma maneira alternativa de detecção 
de pontos correspondentes a partir da correlação temporal de um efeito 
natural que ocorre em águas rasas. O método, denominado pelos autores 
de CauStereo, realiza correlação temporal da variação da intensidade de 
luz devido ao efeito cáustico causado pela interação da luz com a 
ondulação da superfície da água, conforme ilustra a figura 48. Esse é um 
sistema estereoscópico ativo, mas a fonte de projeção é natural. Foram 
realizados experimentos numa piscina e no oceano, os parâmetros 
(número de imagens; profundidade em metros; distância em metros) 
foram respectivamente de: (35; 1; 1) e (66; 3-5; 5). O método depende de 
iluminação natural e a cena deve estar estática durante a aquisição. Para 
superar essas limitações, conforme descrito no artigo, pode-se utilizar 
correlação espaçotemporal e fontes de luz artificiais. Nos artigos não é 
feita a calibração das câmeras, sendo obtido apenas mapas de disparidade. 

                                                        
 
 
12 Outros artigos do mesmo autor sobre o tema podem ser visto em: (SWIRSKI et al., 2009) e 
(SWIRSKI et al., 2010). 



107 

 
 

 
Figura 48 – Gráfico da variação da intensidade de luz menos a média total ao 
longo de 35 imagens para dois pontos correspondentes nas imagens (a) e (b) 
marcados com “?” e não correspondentes, marcado com “?” na imagem (b) 
(SWIRSKI et al., 2011). 

Em um trabalho recente da mesma equipe (SWIRSKI; 
SCHECHNER, 2013) propõe-se o uso do mapa de disparidade obtido 
com a correlação temporal para ser utilizado como base na estimativa do 
deslocamento da câmera. O objetivo é eliminar o erro causado pela rápida 
variação da iluminação devido ao efeito cáustico, que torna difícil a 
correlação de imagens utilizando o método SIFT (Scale-Invariant 
Feature Transform) (LOWE, 2004), impossibilitando o método SfM 
(atualmente existe um método mais rápido, denominado SURF (BAY; 
TUYTELAARS; VAN GOOL, 2006), já disponível em OpenCV). A 
calibração foi realizada utilizando o modelo SVP (sem considerar a 
refração), o erro devido a isso foi considerado desprezível. Note que 
(SWIRSKI; SCHECHNER, 2013) foi escrito pela mesma equipe que 
desenvolveu o modelo físico de calibração da refração (TREIBITZ et al., 
2012). 

Vista esquerda

Vista direita



108 

O trabalho (BIANCO et al., 2013) calibra as câmeras utilizando o 
modelo SVP, sendo que a interface é com janela domo. O erro de medição 
é da ordem de décimos de milímetros para águas claras, chegando a quase 
3 mm quando a turbidez é elevada. A técnica ativa resultou em medições 
mais estáveis em relação à turbidez, mas o espalhamento da luz do 
projetor causa erros que resultam num maior número de pontos espúrios. 
A densidade de pontos obtida com a técnica passiva foi maior em 
superfícies não monótonas. 

Em (LEONE; DIRACO; DISTANTE, 2008) é descrito um sistema 
estereoscópico para a concatenação (mosaico) de medições 3D, o foco é 
a medição do fundo do mar. É proposta uma maneira de lidar com 
aquisições estéreo assíncronas. 

Sistemas estéreo também podem ser utilizados para auxiliar na 
navegação, onde erros maiores são tolerados. O trabalho 
(NEGAHDARIPOUR; FIROOZFAM, 2006) mostra o desenvolvimento 
de um sistema estéreo para auxiliar na navegação de um ROV e na criação 
de um mosaico de imagens para a inspeção de cascos de navio. Em um 
experimento controlado numa piscina, o erro de posicionamento foi em 
torno de 2% para uma distância de 22,86 m.  

Outros sistemas de visão estéreo para uso em maio subaquático e 
suas diferentes formas de calibração são apresentados e discutidos na 
seção 3.4. 

3.3.6 Sonar 
Sonares, ou sistemas de ultrassom, são comumente utilizados em 

embarcações para auxílio na navegação, medindo a profundidade e relevo 
do fundo do mar, podendo até detectar peixes. Sonares são comumente 
relacionados com medições grosseiras (incertezas da ordem de muitas 
dezenas ou centenas de milímetros) e muitas vezes de difícil interpretação 
por pessoas não habituadas. No entanto, alguns sistemas de ultrassom 
modernos podem realizar medições detalhadas com incerteza de dezenas 
de milímetro ou menos. Alguns sistemas de ultrassom recentemente 
desenvolvidos surgiram com o nome de “câmeras acústicas” 
(VILARNAU, 2009). Um dos mais famosos comercialmente é o sistema 
DIDSON (Dual-Frequency identification Sonar) descrito em 
(BELCHER; HANOT; BURCH, 2002) e comercializado pela Sound 
Metrics (METRIC, [s.d.]) (foto da versão para 300 m na figura 49). 



109 

 
 

DIDSON utiliza lentes acústicas e é capaz de realizar medições com 
resolução na ordem de dezenas de milímetros. Segundo o site do 
fabricante (METRIC, [s.d.]) futuramente esses dados terão informação de 
profundidade, resultando em dados 3D. Um resultado de medição desse 
sistema pode ser visto na figura 51 (a).  

O trabalho (YU et al., 2006) propõe uma modelagem da câmera 
acústica e um sistema de reconhecimento de objetos. A figura 52 mostra 
dois cilindros de diferentes materiais e suas respetivas imagens acústicas 
resultantes. 

 
Figura 49 – DIDSON 300 m (METRIC, [s.d.]). 

Especificações do DIDSON (modo de identificação) (METRIC, 
[s.d.]): 

• Fabricante: Sound Metrics Corp. 
• Frequência de operação: 1,8 MHz 
• Máximo Frame Rate (depende da distância): 

4-21 imagens/segundo 
• Abertura angular de feixe (two-way): 0,3° H por 14 ° V 
• Número de feixes: 96 
• Espaçamento de feixe: 0,3° 
• Início da janela (estendida): 0,42 m a 26,1 m a passos de 

0,42 m 
• Comprimento da janela (estendida): 1,25 m; 2,5 m; 5 m; 10 m 
• Tamanho do feixe (relativo ao comprimento da janela): 

2,5 mm; 5 mm; 10 mm; 20 mm 



110 

• Comprimento de pulso (relativo ao comprimento da janela): 
4,5 ?s; 9 ?s; 18 ?s; 36 ?s 

Outro sistema de câmera acústica muito conhecido e um dos mais 
modernos disponíveis no mercado para inspeção ultrassom é o Echoscope 
(figura 50) comercializado pela empresa Coda Octopus 
(CODAOCTOPUS, 2013). Seu grande diferencial é a capacidade de 
fornecer resultados em 3D, conforme pode ser visto na figura 51 (b). 

 
Figura 50 – Echoscope (CODAOCTOPUS, 2013). 

Especificações do Echoscope (CODAOCTOPUS, 2013): 

• Fabricante: Coda Octopus 
• Frequência: 375 kHz 
• Número de feixes: 128x128 (16.384) 
• Alcance máximo: 120 m 
• Alcance mínimo: 1 m 
• Resolução: 30 mm 
• Taxa de ping (frequência entre envio de sinais de eco): até 

12 Hz 
• Cobertura angular: 50° x 50° 
• Espaçamento de feixe: 0,39° 



111 

 
 

  
a) Deck de um barco. b) Porto na Holanda. 

Figura 51– Imagens de medições com os sistemas DIDSON US300 e Echoscope 
(CODAOCTOPUS, 2013). 

 
Figura 52 – Fotos (superior) de um cilindro de concreto (esquerda) e de aço 
(direita) com suas respectivas imagens acústicas (inferior) obtidas com o sistema 
DIDSON. Traduzido de (YU et al., 2006). 

O sonar da série BV5000 fabricado pela BlueView (“TELEDYNE 
BlueView”, [s.d.]) também é capaz de realizar medições em 3D. O 

Cilindro de concreto
Diam. 150 mm × altura: 306 mm

Cilindro de metal
Diam. 127 mm × altura: 341 mm



112 

software possibilita a união de dados do sonar com dados de sistemas de 
triangulação laser. Uma foto do sistema e resultados de medição podem 
ser vistos respectivamente nas figuras 53 e 54.  

 
Figura 53 – Sonar 3D BV5000 da BlueView (“TELEDYNE 

BlueView”, [s.d.]). 

BlueView (BV5000-2250) (“TELEDYNE BlueView”, [s.d.]): 
• Área de varredura setorial/esférica (°): 45 - 360 
• Campo de visão do Sonar (°): 45 x 1 
• Taxa de atualização (Hz): até 40 
• Frequência (MHz): 2,25 
• Alcance máximo: 10 m 
• Alcance ideal: 0,5 – 7 m 
• Número de feixes: 256 
• Largura do feixe (°): 1x1 
• Espaçamento entre feixes (°): 0,18 
• Resolução: 10 mm 
• Tempo de varredura de 360°: 6 minutos 



113 

 
 

  
Figura 54 – Resultados de medições utilizando o BV5000: conjunto de várias 
medições (esquerda), note que as regiões circulares sem dado são onde o sistema 
foi posicionado. Medição de flange (direita) (“TELEDYNE BlueView”, [s.d.]). 

3.3.7 Sistemas híbridos (sonar + óptico) 
A união de sonares com sistemas de inspeção ópticos ou simples 

câmeras podem trazer vantagens como a aquisição da textura do objeto 
medido, melhoria na incerteza de medição e informações do material e 
sua refletividade acústica. O trabalho de mestrado (VILARNAU, 2009) 
descreve um primeiro modelo teórico do sistema híbrido que faz a união 
acústica (sonar de múltiplos feixes) mais imagem e uma calibração 
simulada em Matlab é realizada. Mais recentemente  (HURTOS; CUFI; 
SALVI, 2010) faz também uma calibração prática. O modelo é baseado 
na calibração de uma câmera e conjunto com o sistema de triangulação 
laser. A figura 55 mostra o esquemático do sistema câmera + sonar 
acoplados em um AUV. 

O trabalho (NEGAHDARIPOUR, 2007) descreve a geometria 
epipolar de um sistema opto-acústico. Diferente de (VILARNAU, 
2009)(HURTOS; CUFI; SALVI, 2010), uma câmera acústica é utilizada 
no lugar do sonar de múltiplos feixes. Nenhum dos trabalhos expõe uma 
avaliação da performance do sistema, como o erro obtido na medição. 



114 

 
Figura 55 – Esquemático do sistema câmera + sonar em um AUV (HURTOS; 
CUFI; SALVI, 2010). 

3.4 CALIBRAÇÃO DE CÂMERAS PARA USO 
SUBAQUÁTICO 

A calibração da câmera em meio subaquático visa compensar o 
efeito da refração que ocorre devido às mudanças de meio ar/vidro/água. 
Conforme será descrito nas seção a seguir, quando utilizada uma janela 
plana, o principal efeito é que a câmera deixa de se comportar como SVP 
ou “câmera central” e sim como uma “câmera axial” (AGRAWAL et al., 
2012). Sendo assim, o uso do modelo SVP “sozinho” pode resultar em 
erros significativos. Anne Jordt-Sedlazeck faz uma revisão sobre 
modelagens de refração na calibração de câmeras e dos erros envolvidos 
em (JORDT-SEDLAZECK; KOCH, 2012). Com base no mesmo 
trabalho, pode-se dizer que existem basicamente três opções para a 
calibração de câmeras através de interfaces de refração: 1) modelo de 
câmera genérico, onde a trajetória de cada pixel é mapeada 
(GROSSBERG; NAYAR, 2005); 2) modelo genérico de câmera axial 
(RAMALINGAM; STURM; LODHA, 2006) e 3) modelo menos 
genérico de câmera axial, onde as interfaces de refração são 
parametrizadas (AGRAWAL et al., 2012). No caso de janelas domos, 
dependendo da configuração do sistema, é possível corrigir o efeito da 
refração considerando seu efeito como uma distorção radial (BIANCO et 
al., 2013). 

A seguir, primeiramente são dados conceitos básicos de 
modelagem da refração através de interfaces planas de refração, em 
sequência os principais métodos de calibração são expostos. 



115 

 
 

3.4.1 Modelo para uma interface plana de refração 
A geometria plana de refração estuda o caso específico em que a 

separação da interface é feita por uma ou mais interfaces planas. O grupo 
de Treibitz (TREIBITZ et al., 2012) descreve um modelo físico de 
refração para o caso da interface ar/vidro/água (janela plana). O eixo 
óptico da câmera é considerado normal à interface. 

A imagem à esquerda da figura 56 mostra que a distorção causada 
pela refração na água depende tanto do ângulo de saída da lente como da 
distância do objeto. Já a imagem à direita mostra um simples experimento 
utilizando um aquário que ilustra esse efeito. Nas fotos pode-se notar que 
o desenho de um tubarão e a cerca somente ficam visíveis quando o 
aquário é preenchido com água. No entanto, quando isso ocorre, as 
regiões próximas a esses objetos (parte interna), ficam oclusas. Essas 
imagens deixam claro que uma correção de distorção na imagem não é 
capaz de recuperar a cena que seria obtida no ar, pois a informação 
completa não está disponível, além da dependência da distância. 
Conforme (TREIBITZ et al., 2012), a refração causa uma distorção 
dependente da distância ao objeto, ou seja, não é apenas uma distorção 
2D e sim 3D. Sendo assim, a câmera não pode mais ser modelada como 
SVP. 

A figura 57 mostra que a visualização através de uma superfície 
plana gera diferentes perspectivas para cada ângulo de visão. A região 
onde todos os feixes são tangentes é denominada de superfície cáustica. 
Se o sistema é SVP, a superfície cáustica é um ponto, diferente do 
resultado de simulação mostrado na figura 58. 



116 

     

 
Figura 56 – a) Quando submerso, os dois objetos (círculo e quadrado) são 
projetado na mesma posição, já no ar (projeção sem distorção) os objetos são 
projetados em posições diferentes. b) Foto obtida através de um aquário vazio e 
c) preenchido com água. Pode-se notar nas regiões indicadas pelas setas que 
objetos oclusos no ar aparecem quando o aquário é preenchido e vice-versa 
(TREIBITZ et al., 2012). 

(c) 

(b) 

(a) 



117 

 
 

 
Figura 57 – Visualizar através de uma interface plana resulta num sistema não 
central de projeção (nSVP) (TREIBITZ et al., 2012). 

    

 
Figura 58 – Formação da superfície cáustica. Caminho óptico real (a); Caminho 
óptico aparente (b). Gráfico 3D de uma superfície cáustica (c) (TREIBITZ et al., 
2012). 

(a) (b) 

(c) 



118 

A calibração proposta por (TREIBITZ et al., 2012) é baseada no 
modelo físico do caminho óptico ao passar por uma superfície plana de 
refração normal ao eixo óptico da câmera (?? no SCC). Para realizar a 
calibração (figura 59 a), é necessário obter pelo menos duas dimensões 
conhecidas a uma distância (interface - objeto) também conhecida ou uma 
dimensão em duas distâncias conhecidas. Sendo assim, é possível calibrar 
o sistema com uma única imagem de um tabuleiro de xadrez (figura 59 b) 
a uma distância conhecida, uma vez que a dimensão das grades é 
conhecida. De posse desses dados a distância da pupila de entrada à 
superfície de refração e o comprimento focal aparente são obtidos e a 
calibração está completa. Dessa forma, ao obter a imagem de um objeto 
(figura 59 c), é possível calcular sua dimensão real. A calibração necessita 
de um sistema de medição auxiliar para obter a distância da interface ao 
mensurando. Nos experimentos realizados por (TREIBITZ et al., 2012), 
foi utilizada uma fita métrica, o que pode ser uma fonte de incerteza 
considerável. Ao invés da fita métrica, poderia ter sido utilizado um 
sistema de triangulação a laser, por exemplo. No experimento realizado 
por (TREIBITZ et al., 2012), é realizada a medição do comprimento de 
alguns objetos, variando de 115 a 280 mm. Os valores em milímetros do 
erro médio e o do desvio padrão obtidos com a modelagem de refração e 
considerando SVP foram respectivamente de (-0,9; 5,9) e (-21,2; 10,8). 

 
Figura 59 – a) Calibração do sistema. b) Tabuleiro e dimensões conhecidas 
utilizadas. c) Objetos medidos com o sistema para validação da calibração 
(TREIBITZ et al., 2012). 

3.4.2 Modelo para múltiplas interfaces planas de refração 
Um modelo físico de calibração mais completo é descrito no 

trabalho do grupo de Agrawal (AGRAWAL et al., 2012), onde é 
mostrado que o sistema formado por uma câmera e camadas planas de 



119 

 
 

refração é axial. O modelo desenvolvido13 é mais genérico do que o 
descrito em (TREIBITZ et al., 2012), pois: a) não assume que as 
interfaces são normais ao eixo óptico da câmera, b) considera múltiplas 
interfaces com distâncias desconhecidas; c) considera índices de refração 
conhecidos e desconhecidos; d) não assume conhecer a posição do objeto 
de calibração e assume que os parâmetros intrínsecos (modelo pinhole) 
da câmera foram previamente determinados por calibração no ar. Os 
autores mostram que é possível aproximar sistemas com múltiplas 
camadas para sistemas mais simples com menos camadas. A calibração 
pode ser realizada utilizando um padrão plano, ex.: padrão tipo tabuleiro 
de xadrez (checkerboard). 

A figura 60 ilustra os conceitos fundamentais definidos por 
(AGRAWAL et al., 2012) assim como a nomenclatura dos parâmetro de 
refração, a qual também foi adotada na presente tese. Na imagem, um 
ponto qualquer ?? é projetado através de ?? ? 1 interfaces plano-paralelas 
de refração, ou seja, ?? meios. A câmera tem seu eixo ?? (no SCC) não 
necessariamente normal a essas interfaces. A ordem numérica das 
interfaces é dada no sentido da projeção inversa (imagem?objeto) e vai 
de 0 a ??. O ponto inicial de projeção é o próprio centro de projeção da 
câmera (??0 = ??). A direção do feixe em cada meio é dado por ???? e seu 
ponto de interseção com o próximo meio é ????+1. Cada meio possui 
espessura ????, sendo ?? &amp;lt;??. 

                                                        
 
 
13 Código Matlab para o caso ar/água/ar e material extra disponível em: 
http://www.umiacs.umd.edu/~aagrawal/index.html. 

http://www.umiacs.umd.edu/%7Eaagrawal/index.html


120 

 
Figura 60 – Visão geral da projeção através de ?? camadas plano-paralelas de 
refração (esquerda). Caminho óptico completo para cada pixel fica num plano e 
todos os planos coincidem em um mesmo eixo que passa pelo centro da câmera 
(centro). Após o cálculo do eixo, analises podem ser realizadas no plano de 
refração para estimar a espessura da camada e os índices de refração (direita). 
Adaptado de (AGRAWAL et al., 2012). 

O modelo matemático proposto por (AGRAWAL et al., 2012) se 
baseia em restrições geométricas que ocorrem nesse tipo de configuração. 
Tem-se que a direção do último vetor do caminho óptico ???? deve ser 
paralelo ao vetor formado pelo ponto no objeto (??) transformado em 
coordenadas da câmera (???? + ??) e o último ponto de refração (????). Ou 
seja, seu produto vetorial (×) é igual a zero. Essa é a restrição de refração 
plana (FRC, flat refraction constrain), descrita matematicamente como: 

 FRC: (???? + ?? ? ????) × ???? = 0 . (19) 

Todo desenvolvimento matemático de (AGRAWAL et al., 2012) é 
vetorial, por isso, é necessário descrever a lei de Snell em sua forma 
vetorial. A direção do vetor unitário incidente ??1 é alterada para a 
direção ??2, sendo que o vetor normal a superfície ??? é contrário a ??1, sendo 
assim, conforme (GLASSNER, 1989): 

 ??2 = ????1 + ????? . (20) 

Sendo “?” o produto escalar e: 

?? = ????,  ?? = ??????1 ? ???2(??1
2 ? 1) + 1 , 

???? = ??2/??1 e  ??1 = cos(??1) = ????1 ? ??? , 

[?? ??] Superfícies planas 
de refração

Câmera

...

Pontos do objeto

???

Eixo da câmera
??

??

???? ????

??2

??1??1

??0 ??0

??1

?????1

??

??0

??1

?????1

????

??

?
?

???
????

?
?



121 

 
 

expandindo: 

 ??2 = ??????1 ? ???????1 ? ??? + ?????2[(???1 ? ???)2 ? 1] + 1???? . (21) 

O eixo da câmera é definido por um vetor unitário normal a 
superfície e com ponto inicial no centro de projeção. Considerando ??? o 
plano de refração (POR, Plane Of Refraction) contendo o eixo ?? e um 
dado raio de luz. Como ??? está no plano, pela lei de Snell, os outros raios 
também devem estar contidos no mesmo plano. Sendo assim, conclui-se 
que todo o caminho óptico está em ??? e o ultimo raio deve interseccionar 
o eixo, já que ambos são coplanares. Por fim, todos os raios respeitam 
essas condições e interseccionam o eixo, ou seja, a câmera é axial. O 
ponto 3D em coordenadas da câmera (???? + ??) deve estar no POR, 
como ?? × ??0 é um vetor perpendicular ao POR, o seu produto escalar 
com (???? + ??) deve ser zero. A equação resultante representa a restrição 
de coplanaridade para cada ponto 3D: 

 Coplanaridade: (???? + ??) ? (?? × ??0) = 0 . (22) 

Para obter o eixo da câmera (??) são propostos dois algoritmos, 
sendo que o que apresenta melhores resultados é denominado de 
algoritmo de oito pontos, que estima o eixo da câmera de forma similar à 
obtenção da matriz essencial (HARTLEY; ZISSERMAN, 2004) que 
relaciona duas câmeras perspectivas (NISTER, 2004). A espessura das 
camadas de refração é obtida através de um sistema linear, por fim, é feito 
um refinamento não linear, onde os pontos 3D são projetados no plano 
imagem e os parâmetros são ajustados de forma a reduzir o erro. 

A figura 61 mostra o setup e a reprojeção dos pontos em um 
experimento com um aquário posicionado entre a câmera e o padrão 
xadrez. O erro de reprojeção obtido por (AGRAWAL et al., 2012) 
utilizando o modelo proposto e considerando SVP foi respectivamente de 
0,33 e 10,10 pixels. A espessura do aquário foi estimada em 255,7 mm, 
um erro de -4,3 mm. 



122 

 
Figura 61 – Foto da montagem do experimento (esquerda) e foto tirada através 
do aquário com os pontos reprojetados (direita) com a aproximação central 
(verde) e com o método proposto (vermelho) (AGRAWAL et al., 2012). 

O trabalho (JORDT-SEDLAZECK; KOCH, 2012) descreve uma 
otimização (analise por síntese) utilizando o modelo CMA-ES 
(Covariance Matrix Adaptation Evolution Strategy)14 para o método de 
calibração de (AGRAWAL et al., 2012) onde a imagem reprojetada do 
tabuleiro de xadrez é comparada com a real e a diferença é minimizada. 
O processo foi paralelizado utilizando OpenMP15. A figura 62 mostra a 
comparação do erro de medição de um plano a quatro metros de distância 
por um par de câmeras calibradas utilizando o modelo SVP e o proposto 
por (JORDT-SEDLAZECK; KOCH, 2012).  Fica evidente que a 
calibração de câmera axial considerando a refração resulta num erro 
muito menor. Todavia, nenhuma informação numérica é informada, como 
o desvio padrão e erro médio, além disso, não é feita uma comparação 
entre uma calibração realizada sem e com a minimização proposta. 

                                                        
 
 
14 The CMA Evolution Strategy: https://www.lri.fr/~hansen/cmaesintro.html 
15 OpenMP: http://openmp.org/wp/ 



123 

 
 

 
Figura 62 – Erro na medição de um plano triangulando câmeras calibradas 
utilizando o modelo SVP (vermelho) e o modelo de câmera axial considerando a 
refração (verde) (JORDT-SEDLAZECK; KOCH, 2012). 

Uma forma alternativa de calibração, utilizando a triangulação de 
dois diferentes comprimentos de ondas é descrita em (YAU; GONG; 
YANG, 2013). Para tal, é utilizado um padrão com leds de duas cores 
diferentes dispostos regularmente em um plano. A figura 63 ilustra o 
caminho óptico de dois pontos no espaço projetados numa câmera através 
de ?? interfaces planas de refração. Nota-se que o caminho óptico e 
consequente ponto projetado na imagem muda para diferentes 
comprimentos de ondas. 



124 

 
Figura 63 – Calibração por dois diferentes comprimentos de onda. Traduzido de 
(YAU; GONG; YANG, 2013). 

O trabalho  (BRÄUER-BURCHARDT et al., 2015b) descreve a 
calibração e avaliação de um sistema de visão estéreo com projeção de 
franjas portátil para uso subaquático. A modelagem considera que as 
interfaces de refração são paralelas e perpendiculares às câmeras. Como 
na prática é difícil garantir que o eixo do sistema de coordenadas da 
câmera esteja suficientemente normal à interface de refração, os autores 
utilizam como compensação uma matriz de distorções. Os passos 
utilizados nos artigos para a calibração e medição são: 

• Estimativa inicial de parâmetros fixos como os índices de 
refração, espessura do vidro distância da interface; 

• Calibração SVP (pinhole) no ar; 
• Estimativa dos parâmetros de calibração na água; 
• Aquisição de imagens de objetos calibrados, como um plano e 

duas esferas em uma haste; 
• Com os dados obtidos, é feita uma otimização para obter a 

distância à interface nas duas câmeras;  
• Refinamento dos parâmetros de calibração na água. 
O sistema utiliza a projeção de franjas e foi avaliado conforme o 

padrão VDI/VDE(VDI/VDE-2634, 2008). Suas principais especificações 



125 

 
 

estão listadas na tabela 4. O erro relativo (%) da variação no 
comprimento ???? e na planeza ???? é exposto na tabela 5. Nota-se que a 
modelagem utilizada é capaz de reduzir significativamente o erro obtido 
na água somente com o modelo SVP. Por fim, a medição na água em 
relação a no ar possui um erro e ruído, respectivamente em torno de três 
e duas vezes maiores. 

Tabela 4 – Principais especificações do sistema descrito em (BRÄUER-
BURCHARDT et al., 2015b). 

Parâmetro Valor Unidade 
Volume de medição (VM) 250×200×120 = 6× 106 mm³ 

Distância de trabalho 500 mm 
Resolução da câmera 1600×1200 pixels 

Resolução lateral no VM 0,15 mm 
Ruído do ponto 3D (??) 0,03 mm 

Tempo de medição 350 ms 
Profundidade máxima 40 m 

  
Figura 64 – Sistema estereoscópico portátil com projeção de franjas para medição 
subaquática (BRÄUER-BURCHARDT; KÜHMSTEDT; NOTNI, 2015) 
(BRÄUER-BURCHARDT et al., 2015b). 



126 

Tabela 5 – Comparação de erros em % de medição da distância dos centros de 
um padrão de par de esferas (????????) e de planeza (????????????) (BRÄUER-
BURCHARDT et al., 2015b). 

Meio Modelo ???? (%) ???? (%) Ruído ?? 
Ar SVP 0,1 0,15 0,02 

Água SVP 1,0 1,7 0,05 
Água SVP + proposto 0,4 0,65 0,04 
Água SVP + proposto + matriz de distorções 0,35 0,4 0,03 

3.4.3 Modelo para Interface domo 
Conforme descrito anteriormente, quando possível, a utilização de 

janelas domo pode possibilitar o uso da modelagem SVP. O efeito da 
refração pode ser reduzida com o modelo de distorção radial (BRUNO et 
al., 2011) e também com um ajuste do comprimento focal (KANG; WU; 
YANG, 2012). Todavia, são de difícil alinhamento (TREIBITZ; 
SCHECHNER; SINGH, 2008) (BRÄUER-BURCHARDT et al., 2015b), 
maior complexidade e custo. 

3.4.4 Aproximação utilizando SVP 
Alguns estudos visam verificar quando a aproximação por SVP em 

janelas planas pode ser válida. Em (TREIBITZ et al., 2012) é feita uma 
análise do erro resultante da utilização de um modelo SVP em um capítulo 
inteiro. As principais conclusões são de que: a) a medição deve ser feita 
na mesma distância da calibração, caso contrário, o erro cresce 
rapidamente com a variação da distância, conforme mostra o gráfico na 
figura 65. b) a calibração SVP não deve ser utilizada em ângulos de visão 
no ar maiores do que 30°, uma vez que o erro aumenta rapidamente para 
ângulos maiores. Esse efeito é ilustrado na figura 66. c) o alinhamento 
(perpendicular) do eixo da câmera com a interface é importante. Os 
valores foram normalizados em relação ao tamanho do pixel (??), 
sendo ???? = ??

1000??
, ?? = ??

1000??
 e ???? = ??

105??
. 



127 

 
 

 
Figura 65 – Erro máximo (???????? ) de reprojeção em pixels para objetos em 
distâncias diferentes da calibrada. Distância da calibração e da medição foram 
respectivamente de 1,3 e 6,5 (AOV no ar de 40°). ???? = distância do centro de 
projeção à interface ?? = comprimento focal. Valores normalizados em relação ao 
tamanho do pixel (TREIBITZ et al., 2012). 

 
Figura 66 – Gráfico do erro máximo ??(?????????) simulado da reprojeção para 
calibração e medição realizada em distâncias similares. O aumenta com o ângulo 
de visão no ar (????????). Valores normalizados em relação ao tamanho do pixel 
(TREIBITZ et al., 2012). Gráficos em escalas diferentes. 

Kang et al. (KANG; WU; YANG, 2012) faz em uma análise da 
influência da refração na reconstrução 3D utilizando o modelo SVP. Em 
seu trabalho, para compensar o efeito da refração, é realizada a correção 
da distorção radial 2D e um ajuste do comprimento focal. Os parâmetros 
são ajustados utilizando bundle adjustment, que é uma técnica onde é feito 
simultaneamente o refinamento das coordenadas 3D, dos parâmetro de 
deslocamento relativo e das características ópticas das câmeras, de acordo 
com um critério ótimo envolvendo a projeção de todos os pontos 
correspondentes das imagens (TRIGGS et al., 2010). Como o modelo 



128 

SVP se comporta melhor para pequenos ângulos de visão e/ou se o objeto 
está longe da câmera, os experimentos realizados em (KANG; WU; 
YANG, 2012) fogem desse tipo de configuração, com o intuito de manter 
uma influência considerável da refração. Os resultados mostram que a 
redução do erro é significativa utilizando o modelo SVP em conjunto de 
correção radial e de comprimento focal para compensar a refração. No 
entanto, não é feita uma comparação com a correção obtida utilizando os 
modelos de câmera axial descritos em (TREIBITZ et al., 2012) ou 
(AGRAWAL et al., 2012). 

O artigo (BIANCO et al., 2013) tem como objetivo principal 
avaliar e comparar a medição subaquática estéreo ativa e passiva. Faz uma 
comparação entre o erro de reprojeção dentro e fora da água (calibrando 
as câmeras em ambos os meios). As câmeras foram calibradas seguindo 
o modelo SVP com o auxílio de uma Toolbox do Matlab (BOUGUET, 
2013) já consolidada. Conforme pode ser visto nos gráficos da figura 67, 
o erro de reprojeção pouco difere no caso em que as câmeras estão 
submersas (b). A tabela 6 faz a comparação do erro de medição de um 
plano e um cilindro em meio subaquático com a técnica de estereoscopia 
ativa e passiva. Os erros são de poucos décimos de milímetros. Nota-se 
que o erro é maior com a medição ativa, o que a princípio não era 
esperado. Os autores esclarecem que isso ocorreu devido ao espalhamento 
(scattering) da luz projetada. Esse efeito foi reduzido realizando a 
projeção apenas com o canal verde. 

É importante notar que (BIANCO et al., 2013) não invalida os 
trabalhos previamente descritos, como (TREIBITZ et al., 2012) e 
(AGRAWAL et al., 2012), pois em (BIANCO et al., 2013) foram 
utilizadas caixas estanque com janelas domo. Conforme visto 
anteriormente, esse tipo de janela tem um comportamento diferente das 
planas, uma vez que reduz distorções do ângulo de visão.  As câmeras são 
do modelo Nikon D200, com sensor de 23,6 x 15,8 mm (3.872 x 2.592 
pixels) e a lente uma AF-Nikkor 35 mm. Os ângulos de visão resultantes 
no ar, apesar de não especificados no artigo16, são de 37° x 25°, ângulos 
que podem ser considerados pequenos, outro fator que contribui na 
redução dos efeitos da refração. O volume de medição calibrado para o 

                                                        
 
 
16 Os ângulos de visão foram calculados em: http://www.howardedin.com/articles/fov.html. 

http://www.howardedin.com/articles/fov.html


129 

 
 

par estéreo foi de 400 × 300 × 200 mm a uma distância de 1 m. Fotos 
do sistema sendo calibrado e durante uma medição podem ser vistas na 
figura 68. 

 
Figura 67 – Distribuição de erros (em pixels) de reprojeção no ar e na água 
(direita) (BIANCO et al., 2013). 

Tabela 6 – Comparação do erro de medição de um plano e um cilindro em meio 
subaquático com a técnica de estereoscopia ativa e passiva (? = média, ? = desvio 
padrão) (BIANCO et al., 2013). Valores em milímetros. 

Parâmetro Plano Cilindro 
Erro \ Técnica Passiva Ativa Passiva Ativa 

Médio (??)? 0,11 0,09 0,20 0,29 
Desvio Padrão (??) 0,08 0,07 0,13 0,25 

 
Figura 68 – Fotos do sistema sendo calibrado (esquerda) e durante uma medição 
(direita) com projeção de um padrão de luz (BIANCO et al., 2013). 



130 

3.4.5 Comparação das técnicas de calibração 
As principais técnicas de calibração de câmeras em meio 

subaquático com interface plana estão listadas na tabela 7. Em 
(SEDLAZECK; KOCH, 2012) encontra-se uma tabela similar, listando 
outros alguns modelos de calibração. 

Tabela 7 – Comparação entre as principais técnicas de calibração em meio 
subaquático para janela plana. 

Descrição Resultados obtidos Aspectos positivos  Limitações Ref. 

Modelo físico  

Calibração 
individual 

Foram fornecidos 
resultados limitados 
da medição de apenas 
uma dimensão 
(comprimento) de 
objetos 
perpendiculares à 
câmera. Erro 
estimado de 1-2%. 

Calibração com 
apenas uma imagem 

Assume que a 
interface está 
frontoparalela. 

Desconsidera o efeito 
da refração no vidro. 
O que gera erros 
quando utilizados 
vidros espessos. 

O índice de refração é 
considerado 
conhecido. 

Necessita conhecer a 
distância ao padrão 
de calibração 

(T
R

E
IB

IT
Z

 et al., 2012) 

Modelo físico  

Calibração 
individual 

Múltiplas 
camadas de 
refração 

Pequenos erros de 
reprojeção 

Erro de 1,66% na 
detecção da 
espessura de um 
aquário 

Erro de reprojeção de 
0,33 pixels. 

Considera múltiplas 
interfaces com 
distâncias 
desconhecidas; 

Considera índices de 
refração conhecidos 
e desconhecidos; 

Necessita apenas um 
tabuleiro de xadrez 
para calibração. 

Complexidade, ainda 
não é uma “solução 
mínima” para o 
problema. 

Poucos resultados 
práticos. Nenhuma 
medição estéreo 
realizada. 

(A
G

R
A

W
A

L
 et al., 2012) 



131 

 
 

Modelo físico 

Calibração 
estéreo 

Duas 
camadas de 
refração 

Calibração conforme 
modelo físico 
simplificado. Erro e 
ruído, 
respectivamente da 
ordem de três e duas 
vezes maiores do que 
no ar. 

Modelagem física 
simplificada. 
Resultados práticos 
com sistema estéreo 
apresentados e com 
bons resultados. 

Não modela a 
inclinação em 
relação a janela, 
compensa isso 
utilizando uma 
matriz de distorções. 

(B
R

Ä
U

E
R

-B
U

R
C

H
A

R
D

T
; 

K
Ü

H
M

ST
E

D
T

; N
O

T
N

I, 
2015) 

Modelo 
físico.  

Calibração 
estéreo. 

Capaz de 
encontrar as 
espessuras 
das interfaces 
e eixo das 
câmeras. 

Resultado similar ao 
do Agrawal mas para 
o caso em que a 
normal e a espessura 
do vidro são 
desconhecidos 
(AGRAWAL et al., 
2012) tem um 
resultado melhor. 

Calibração utilizando 
somente a 
correspondência 
entre pontos na 
imagem. 

Não precisa 
conhecer o objeto. 

Poucos resultados 
práticos. 

(C
H

E
N

; Y
A

N
G

, 2014) 

Modelo 
genérico de 
câmera axial 

Calibração de 
sistema 
estereoscópico e 
catadióptricos. 
Poucas avaliações. 
Erro de 0,29% da 
distância 

Modelagem 
genérica, pode ser 
utilizada para 
qualquer caso de 
câmera axial. 

Necessidade de três 
tabuleiros de xadrez 
para calibração. 

Poucas avaliações e 
alta complexidade. 

(R
A

M
A

L
IN

G
A

M
; 

ST
U

R
M

; L
O

D
H

A
, 

2006) 

Mapeamento 
por pixel, 
modelo Raxel 
(ray pixel) 

Calibra uma câmera 
SVP e nSVP 
(conjunto câmera 
espelho esférico), 
plota a superfície 
caustica dos dois 
casos. 

Modelagem 
genérica, pode ser 
utilizada para 
qualquer caso de 
câmera. 

Alta complexidade. 

Nenhum resultado 
prático encontrado. 

Número de imagens 
necessárias para 
calibração é elevado. 

(G
R

O
SSB

E
R

G
; 

N
A

Y
A

R
, 2005) 

3.5 DISCUSSÃO 

Foram descritas diversas técnicas que visam corrigir e atenuar as 
limitações causadas pelo espalhamento e absorção durante a propagação 
da luz na água, melhorando a relação sinal-ruído e recuperando as “cores 
originais” da cena. 



132 

Pode-se afirmar que sistemas ópticos de medição se mostram 
excelentes ferramentas na obtenção de medições subaquáticas detalhadas, 
rápidas e com pequena incerteza, como o sistema estereoscópico ativo 
portátil descrito em (BRÄUER-BURCHARDT et al., 2015b). A 
triangulação com lasers verdes é uma solução típica e já comercializada 
para esse tipo de inspeção. Além de medições detalhadas, sistemas 
ópticos também são utilizados no auxílio da navegação de ROVs e AUVs. 
Nesse caso, erros de medição maiores (dezenas de milímetros) geralmente 
são tolerados. 

No caso de medições de grandes distâncias (mais de 10 metros) ou 
quando a visibilidade impede a inspeção óptica, sistemas de ultrassom são 
a solução ideal. Sonares modernos são capazes de fornecer ótimos 
resultados em 2D (câmeras acústicas) e até mesmo em 3D, com densidade 
de pontos semelhante aos sensores a laser. Seu uso é indicado para regiões 
não confinadas (devido à problemas com múltiplas reflexões) e sua 
incerteza de medição é da ordem de dezenas de milímetros. Por fim, 
sistemas híbridos opto-acústicos visam unir as qualidades dos dois 
princípios, possibilitando, por exemplo, adicionar textura à uma medição 
por ultrassom, diminuir a incerteza e formar pares estéreo “câmera óptica” 
+ “câmera acústica” ou de triangulação câmera + sonar. Alguns trabalhos 
já realizaram esse tipo de união (VILARNAU, 2009) 
(NEGAHDARIPOUR, 2007), mas poucos resultados ainda foram 
obtidos, sendo necessário mais estudos para o avanço desse tipo de 
concepção híbrida. 

Quanto ao efeito da refração, estudos mostram que uma câmera 
observando uma cena através de interfaces planas de refração (portas 
planas) não se comporta como uma câmera central (SVP), mas como uma 
câmera axial. A distorção resultante da refração depende da distância, ou 
seja, não é meramente uma distorção 2D mas sim 3D (TREIBITZ et al., 
2012). Diferentes técnicas de calibração foram desenvolvidas com o 
intuito de modelar corretamente a câmera considerando a refração. 
Alguns desses modelos são recentes, sendo o de (AGRAWAL et al., 
2012) o mais completo e utilizado em diversos trabalhos recentes 
(DOLEREIT; KUIJPER, 2014), (GUI et al., 2014), (HANER; ASTR, 
2015), (HANER et al., 2015), (JORDT-SEDLAZECK; KOCH, 2012) e 
(KAWAHARA; NOBUHARA; MATSUYAMA, 2014). Em 
contrapartida, (KANG; WU; YANG, 2012) mostra que para alguns casos 
a aproximação por SVP e um modelo de distorção de lente 2D em 



133 

 
 

conjunto com ajuste do comprimento focal pode ser suficiente na 
compensação da refração, no entanto, não compara sua técnica com a 
modelagem de refração descrita em (AGRAWAL et al., 2012). Fica claro 
que quanto menor o ângulo de visão e quanto maior a distância do objeto, 
mais o sistema se comporta como SVP, chegando a um ponto em que esse 
tipo de modelagem é suficiente para a calibração da câmera. Além disso, 
com o uso de janela domo, a correção por distorção pode ser suficiente. 
Todavia, nenhum trabalho encontrado faz uma comparação detalhada do 
erro obtido com um sistema de visão estéreo com janela plana, domo e no 
ar (referência). 

Além da correção da refração por modelagem matemática, é 
possível corrigi-la com a utilização de uma óptica corretiva (portas 
totalmente corretivas), que tornam a água “invisível”. No entanto, esse 
tipo de janela é muito específico à lente. Somando a isso, aparentemente 
existe baixa demanda por esse tipo de óptica. Como resultado, janelas 
desse tipo são raras, somente fabricadas sob encomenda e com alto custo. 

No caso de superfícies de refração não planas, mais 
especificamente janelas domo, aparentemente a aproximação por SVP e 
correção de distorção 2D pode ser suficiente, uma vez que o erro em 
sistemas estereoscópicos calibrados dessa maneira dentro da água foi 
próximo ao no ar (BIANCO et al., 2013) (SWIRSKI; SCHECHNER, 
2013).  

Com base na revisão do estado da arte em medição óptica 
subaquática realizada, a triangulação inversa é um tema não abordado 
ainda nessa área pela comunidade científica. Conforme descrito 
anteriormente (tópico 2.4.2), a triangulação inversa possui uma série de 
vantagens, como a medição com nuvem de pontos regular e com volume 
e resolução pré-definidos. Em um sistema óptico com visão através de 
superfícies de refração, a projeção direta (necessária para cada ponto 3D 
testado na triangulação inversa) não é trivial devido às refrações e possui 
um custo computacional bem mais alto do que no ar. Essas questões serão 
apresentadas e discutidas no capítulo seguinte, ondes as técnicas 
desenvolvidas durante a tese são expostas. 

 





135 

 
 

4 TRIANGULAÇÃO INVERSA ATRAVÉS DE INTERFACES 
PLANAS DE REFRAÇÃO 

Os capítulos 2 e 3 fizeram o levantamento do estado da arte dos 
conceitos e técnicas que serão base para a presente tese, a qual consiste 
na realização de medição 3D com um sistema de visão estéreo através de 
interfaces planas e paralelas de refração utilizando a medição orientada 
ao objeto, ou, triangulação inversa (InvT). O nome dado a técnica é 
“triangulação inversa através de interfaces planas e paralelas17 de 
refração”, ou “Inverse Triangulation Through Flat Refractive Surfaces” 
(ITTFRS). 

Os algoritmos descritos no presente capítulo foram validados em 
uma série de experimentos controlados, onde realiza-se a avaliação 
metrológica e calibração de um sistema óptico estéreo com projeção de 
franjas, simulando em laboratório a realização de medição subaquática. 
Esse tipo de configuração apresenta três meios de refração: ar, vidro (ou 
outro material transparente) e água. A metodologia dos ensaios e os 
resultados obtidos são expostos respectivamente nos capítulos 5 e 6. 

A seguir descreve-se a técnica desenvolvida e suas etapas de 
processamento, assim como a calibração utilizada para obtenção dos 
parâmetros necessários para a realização do cálculo do caminho óptico 
através de interfaces planas de refração. 

4.1 MODELAGEM GERAL 

A figura 69 ilustra a triangulação inversa através de múltiplas 
interfaces planas de refração. O volume de medição é definido pelo 
paralelepípedo na imagem. As resoluções em ?3 são dadas por ????, ???? e 
????. As câmeras “??” e “??” são representadas pelas pirâmides na imagem. 
Conforme o modelo de Agrawal (AGRAWAL et al., 2012), cada câmera 
possui um eixo (??) normal às interfaces de refração e com ponto inicial 
em seus respectivos centros de projeção. Na imagem, três dos ???? pontos 

                                                        
 
 
17 Por simplicidade, o termo “interfaces planas”, quando não especificado o contrário, refere-se 
a “interfaces planas e paralelas” de refração. 



136 

discretizados são projetados através dos ?? meios com índices de 
refração ??0,…,??. 

  
Figura 69 – Triangulação inversa através de ?? ? 1 interfaces planas de refração 
(?? meios). Três pontos de procura por um ?? válido em um nó da malha ???? sendo 
projetados nas câmeras “??” e “??”. O paralelepípedo representa o volume de 
medição, com resoluções espaciais ????, ???? e ????. 

A figura 70 ilustra os parâmetros de refração (Tabela 8) e 
parâmetros do caminho óptico (Tabela 9) expostos na seção 3.4.2. 
Conforme descrito anteriormente os vetores ?? (eixo da câmera) e ??0 
(direção da projeção do ponto na imagem) formam um plano de refração 
(POR) ???, onde todo o caminho óptico estará contido e consequentemente 
o ponto ??. Já em um sistema estéreo, um ponto ?? irá pertencer 
simultaneamente aos planos de refração de ambas as câmeras, conforme 
a ilustração da figura 71. Nota-se que os planos possuem uma linha de 
interseção, que não necessariamente é paralela ao eixo ??, uma vez que tal 

??1

????

??0

??1

????

??

??

X

??x

????

????

Malha ????

??2

?????

??

?

????

???? ????



137 

 
 

condição depende da inclinação dos eixos das câmeras, os quais são 
normais às superfícies de refração.  

 
Figura 70 – Projeção inversa de ponto na imagem ?? em sistema estéreo através 
de múltiplas interfaces planas de refração. Adaptado de (AGRAWAL et al., 
2012). 

Tabela 8 – Parâmetros de refração. 

Símbolo Descrição 
?? Eixo da câmera 

??0, … , ?????1 Distâncias das interfaces 
??0, … , ???? Índices de refração 

Tabela 9 – Parâmetros resultantes da refração. 

Símbolo Descrição 
??0 ? ?? Ponto inicial, coincide com o centro da câmera 
??1,…,?? Pontos de interseção nas interfaces planas de refração 
??0,…,?? Vetores direção 

???

Eixo da câmera

??

???? ????

??2

??1
??1

??0 ??0

??1

?????1

??

??0

??1

?????1

????

??

?
?

???????

?
?



138 

 
Figura 71 – Triangulação inversa de ponto 3D ?? em sistema estéreo através de 
múltiplas interfaces planas de refração. Planos de refração (POR) ????? e ????? 
formados pelos respectivos vetores ?? e ??0. O ponto 3D ?? está contido em ambos 
os planos de refração. 

No ar, o caminho óptico entre ?? e o centro de projeção da câmera 
é uma reta, conforme o modelo pinhole (seção 2.1). Já quando o caminho 
óptico passa através de diferentes meios, o cálculo da projeção não é 
trivial pois, devido às refrações nas interfaces dos meios, seu percurso não 
é mais uma única reta, mas sim um caminho óptico cujo comprimento 
(optical path length - OPL) será o de menor tempo, respeitando o 
princípio de Fermat (descrito no Apêndice A). Deve-se notar também que 
os pontos projetados na imagem para um determinado vetor de procura ??, 
não estão sempre contidos em uma reta, como no caso da projeção no ar 
e sim numa curva. 

Existem diferentes formas de realizar a projeção de ?? nas câmeras, 
por exemplo, no caso de três meios com diferentes índices de refração 

????

??0

??1

????

??

??

X

??

?

?????
?????

Interseção
dos POR’s

??0

????

??



139 

 
 

distintos, pode-se resolver uma equação de ordem 12 (AGRAWAL et al., 
2012). Deve-se notar que a complexidade do equacionamento aumenta 
com o número de interfaces de diferentes índices de refração. Como 
solução alternativa, durante a tese, desenvolveu-se um método iterativo 
para a projeção através das interfaces planas de refração. O método obtém 
o caminho óptico da projeção direta através da minimização do erro da 
projeção inversa de forma iterativa (mais detalhes em 4.3.2). 

4.2 TRIANGULAÇÃO INVERSA 

4.2.1 Compilação dos parâmetros utilizados 
Nessa seção é feita a descrição de todos os parâmetros utilizados 

no cálculo da triangulação inversa através de interfaces planas de 
refração. A partir de agora será considerado que o método de identificação 
de pontos homólogos é o valor absoluto da diferença de fase resultante do 
método de projeção de franjas. 

Com o intuito de facilitar o entendimento dos métodos, tomou-se 
aqui uma abordagem no formato “entrada/saída”, o que deixa mais claro 
quais são os parâmetros necessários para cada etapa de cálculo. A 
descrição completa e o símbolo de todos os parâmetros que serão 
utilizados são listados na tabela 10. Além disso, para cada um dos 
métodos descritos nas seções subsequentes, os parâmetros utilizados são 
listados de forma resumida em uma tabela. Deve-se lembrar que existe 
para cada uma das câmeras (?? e ??) os respectivos dados de medição para 
identificação de pontos homólogos, parâmetros da câmera e de refração. 



140 

Tabela 10 – Compilação dos parâmetros de entrada e de saída dos algoritmos 
utilizados. Parâmetros necessários para o cálculo através de interfaces planas de 
refração são indicados com “*”. As setas indicam ? Entrada e ? Saída. São 
necessários para cada uma das câmeras os dados de medição, parâmetros da 
câmera e de refração. 

Nome Descrição Símbolo 

Dados de medição 
? 

Mapa de fase ? 
Mapa de modulação ? 

Parâmetros da 
câmera 

(Intrínseco) 
? 

Matriz de projeção ?? 

Parâmetros da 
câmera 

(Extrínseco) 
? 

Matriz de rotação e 
translação ???? = [?? ??] 

Parâmetros de 
refração * 

? 

Eixo da câmera ?? 
Distâncias das 

interfaces ??0, … , ?????1 

Índices de refração ??0, … , ???? 

Resultados de 
refração 

(InvProjRefra) * 
? 

Pontos de interseção 
nas interfaces planas 

de refração 
??1,…,?? 

Vetor direção ??0,…,?? 

Configuração do 
algoritmo iterativo 
(IteraProjRefra) * 

? 

Tolerância ???????? 
Número máximo de 

iterações 
????????????????  

Constante de 
multiplicação ???? 

Estimativa inicial do 
ponto 2D na imagem. 

Se não fornecida 
utiliza-se por padrão o 

ponto obtido com a 
projeção direta no ar 

(sem refração) 

- 



141 

 
 

Informações do 
algoritmo iterativo 
(IteraProjRefra) * 

? 

Número de iterações 
realizadas - 

Erro obtido - 
Ponto (nó) para 

varredura 
? 

Ponto na malha ???? (??, ??) 

Resultado de 
medição 
? 

Pontos 3D, valor 
absoluto da diferença 
de fase e modulação 

mínima (pior 
modulação no ponto) 

?
??1 ??1 ??1 ???1 ??1
? ? ? ? ?
???? ???? ???? ????? ????

? 

4.2.2 Volume de medição – Cálculos relacionados 

O número de valores discretizados numa região na coordenada ?? 
delimitada por [????????  ????????] é dado por: 

 ???? = 1 + ?
???????? ? ????????

????
? , (23) 

sendo ???? a função floor de ?? (arredonda ?? para o menor inteiro) e ???? a 
resolução. O vetor de valores discretizados é obtido como: 

???? = ????????: ????: ???????? = 
[???????? (???????? + 1????)(???????? + 2????) … (???????? + (???? ? 1)????)] 

 
(24) 

, 

Como exemplo, uma região definida por 0: 0,1: 200 resulta em 
2.001 valores. A área de procura no plano ????possui então ?????? = ???????? 
nós, onde é realizada a varredura em ??. Por fim, o número total de pontos 
para uma determinada resolução ?? é ???????? = ????????????. A tabela 11 expõe 
o total de pontos para um dado volume e resolução para o caso de busca 
exaustiva (ou força bruta), ou seja, sem nenhuma técnica de redução no 
número de pontos a serem testados. 



142 

Tabela 11 – Número de pontos para um determinado volume de medição e 
resolução no caso de busca exaustiva ou força bruta. 

Eixo Mínimo Máximo 
Faixa 

(máximo -
mínimo) 

Resolução Pontos 

?? 0 200 200 0,10 2.001 
?? 0 200 200 0,10 2.001 
?? 0 200 200 0,01 20.001 

Nós na malha ???? (??????) 4.004.001 
Total de pontos (????????) 80.084.024.001 

O número total de pontos passa os 80 bilhões. Sendo assim, a 
projeção de todos os pontos acarreta numa enorme demanda 
computacional. Deve-se lembrar que, para testar cada ponto, é necessário 
realizar a projeção para as duas câmeras e verificação se são ou não pontos 
homólogos (por exemplo pelo valor absoluto da diferença de fase). Para 
realizar o processamento de todos esses pontos em um minuto, seria 
necessário verificar cada ponto 3D em 0,7 ns, ou uma frequência de 
1,3 GHz. Essa frequência é da mesma ordem de grandeza da frequência 
de operação de um processador atual, lembrando que a verificação de um 
ponto requer centenas de instruções. Sendo assim, fica evidente a 
necessidade da redução de pontos a serem testados assim como a 
otimização do código de programação. A seguir, descreve-se o 
procedimento adotado para a realização da triangulação inversa e, em 
sequência, as técnicas adotadas para a redução do número de pontos 
testados. 

4.2.3 Triangulação inversa 
A triangulação inversa descrita de forma geral anteriormente é aqui 

detalhada conforme a implementação adotada no presente trabalho de 
tese. Seus parâmetros de entrada e saída são listados na tabela 12, sendo 
indicados com “*” os parâmetros necessários para a realização do 
processamento considerando a refração através de interfaces planas de 
refração. Esses parâmetros serão utilizados na etapa de projeção dos 
pontos 3D a serem testados. 



143 

 
 

Tabela 12 – Parâmetro de entrada e saída da triangulação inversa. Parâmetros 
adicionais devido à refração indicados por “*”. 

Entrada Saída 
• Dados de medição 
• Volume e resolução de 

medição 
• Parâmetros da câmera 
• Parâmetro de refração* 
• Configuração do algoritmo 

iterativo de refração* 

• Nuvem de pontos e 
respectivos valores de fase e 
modulação 

• Informações do algoritmo 
iterativo* 

Conforme ilustra o diagrama de blocos da figura 72, o 
processamento é realizado da seguinte forma: inicialmente os mapas de 
fase são filtrados conforme o valor de modulação mínimo permitido. 
Todo valor de fase fora desse limite é definido como inválido (??????, não 
é número). Considera-se aqui que os mapas de fase e modulação já 
tiveram a distorção da imagem devido à lente compensada (ver seção 
2.2.2). Para cada combinação dos valores discretizados em ?? e ?? (????, ????) 
tem-se um nó ???? onde é feita a busca por um ?? válido. Para essa busca 
são necessários os parâmetros intrínsecos e extrínsecos das câmeras 
obtidos na calibração no ar e adicionalmente, para o processamento 
considerando a refração, os parâmetros de refração. A busca retorna o ?? 
encontrado ou um valor inválido (??????) caso o valor mínimo do módulo 
da diferença de fase obtido seja maior do que a máximo tolerado.  Mais 
detalhes sobre o processo de busca por um ?? válido são dados nas seções 
seguintes. Após o processamento de todos os nós ????, o método remove 
os pontos com ?? inválido e retorna os pontos 3D obtidos e suas respectivas 
diferenças de fase e modulação. 



144 

 
Figura 72 – Diagrama de blocos da triangulação inversa. 

Po
nt

o 
(n

ó)
 

em
 X

Y

In
íc

io
(??

=
0)

Fi
ltr

a 
re

gi
õe

s 
co

m
 m

od
ul

aç
ão

 “r
ui

m
”

??
=
??
????

se
 

??
&lt;
?? ??

????

(??
??,
?? ??

)

M
el

ho
r p

on
to

 
ob

tid
o

[??
 ??

 ??
 ??
??

 ??
]

??&lt;
??
??

??
&lt;
??
??

In
cr

em
en

ta
??

G
ua

rd
a 

re
su

lta
do

??
=

0

Fi
m

R
es

ul
ta

do
 d

e 
m

ed
iç

ão
(??

po
nt

os
 v

ál
id

os
)

?? 1
 
?? 1

?? 1
???

1
?? 1

?
?

?
?

?
?? ??

?? ??
?? ??

???
??

?? ??

D
es

ca
rt

a 
lin

ha
s 

in
vá

lid
as

 
(??

=
??
????

)

D
ad

os
 d

e 
m

ed
iç

ão
 

fil
tr

ad
os

D
ad

os
 d

e 
m

ed
iç

ão
 

(F
as

e 
e 

m
od

ul
aç

ão
)

Co
nf

ig
. d

e 
pr

oc
es

sa
m

en
to

???
??
??
??

, ??
??
??
??
??,

?? ??
????
0,

 ??
??
??
??0

, Z
re

f
Pr

oc
ur

a 
??

vá
lid

o

Si
m

N
ão

Si
m

N
ão

In
cr

em
en

ta
??

Co
nf

ig
ur

aç
ão

?? ??
????

Pa
râ

m
et

ro
s d

as
 c

âm
er

as

Pa
râ

m
et

ro
s d

e 
re

fr
aç

ão
*



145 

 
 

4.2.4 Refino em Z (ZScan) 
Conforme descrito em (FANTIN; ALBERTAZZI; PINTO, 2007) 

e na tese (PINTO, 2010), o refino em ?? (ZScan) consiste na varredura 
com melhoria da resolução em ?? de forma gradativa. Esse processo pode 
reduzir drasticamente o número de pontos a serem testados. A figura 73 
ilustra o gráfico do módulo da de diferença de fase (|????|) para uma 
determinada linha de varredura em ??. O diamante “?” indica o mínimo 
global do valor absoluto da diferença de fase (se infinitos pontos fossem 
discretizados). Os círculos indicam, para a primeiro grau de refino do 
método (Iteração #1) o módulo da diferença de fase obtida para cada um 
dos pontos discretizados e projetados nas câmeras. O valor mínimo obtido 
na primeira iteração define a região central da próxima iteração, com 
limites dados pelos valores em ?? “vizinhos” ou “?? obtido” ± “resolução 
utilizada”. Abaixo do eixo ?? na imagem, pode-se ver um esquemático da 
evolução do ?? obtido (triângulos) durante cada iteração. Nota-se que, no 
final do processo, um valor muito próximo à |???|?????? global é obtido. 

 
Figura 73 – Refino em ?? (ZScan) para o módulo da diferença de fase (|????|) com 
quatro graus/iterações de refino. Esquemático dos refinos em cada iteração 
exposto abaixo do eixo ??. O número de divisões em cada iteração é apenas 
ilustrativo. 

O cálculo do número de valores discretizados pode ser obtido pela 
soma: 

Faixa de procura da iteração #1

?? [mm]
Valores discretizados em ??

|????|

|????|??????
global

Faixa de procura da iteração #2

|????| nos pontos 
discretizados

|????|?????? na iteração #1

Iteração #1
Iteração #2
Iteração #3
Iteração #4

|????|?????? e ?? obtidos 
no final do refino

M
ód

ul
o 

da
 d

ife
re

nç
a 

de
 fa

se
 

|??
??

|[
ra

d]



146 

 ?????? = 1 + ?
????0
????0

? + 1 + ?
????1
????1

? + ? + 1 + ?
??????
??????

? ,  

 ?????? = ?? + ? ?
??????
??????

?
???1

??=0

 , (25) 

sendo ?? o número de graus de refino (iterações) e ?????? a faixa de varredura 
em ?? para cada iteração ??. Note que ????,0 é dada pela faixa definida pelos 
limites iniciais (no caso do exemplo, 200). Já ????,??&gt;0, como dito 
anteriormente, é a faixa definida pelo “?? obtido” ± “resolução”: 

 zmax.i = z???1 + ??z,i?1
z??????.i = zi?1 ? ??z,i?1

 , (26) 

 ?????? = ????,?????? ? ????,?????? , (27) 

Como exemplo numérico, considerando quatro graus de refino 
com fator de redução de dez e para uma resolução final em ?? de 0,01, tem-
se os seguintes valores gradativos de resolução: ????0,..,3 =
[10 1 0,1 0,01]. Aplicando esse refino gradativo para uma faixa de 
varredura em ?? de -100 a 100 mm (????????.0 = ?100 e ????????.0 = 100), 
pode-se calcular o total de pontos discretizados utilizando a equação (25): 

?????? = 1 + ?
100?(?100)

10
? + 1 + ?2×10

1
? + 1 + ?2×1

0,1
? + 1 + ?2×0,1

0,01
? =

4 + 4 × 20 = 84. 

Sendo assim, são discretizados apenas 84 valores ao invés de 
20.001, uma redução de 238 vezes. 

Os parâmetro relacionados a esse processo são listados na tabela 
13. O diagramas de blocos da figura 74 ilustra o procedimento de refino 
em ?? e também a lógica de seleção de um ponto 3D válido. 



147 

 
 

Tabela 13 – Dados de entra e saída do refino em ?? incluindo a validação do ponto 
ou não. 

Entrada Saída 
• Parâmetros da câmera 
• Parâmetro de refração 
• Dados de medição 
• Configuração do algoritmo 

iterativo de projeção 
• Ponto/nó (x, ??) a ser 

varrido em ?? 

• Ponto com o ?? obtido 
 [?? ?? ?? ???? ??????] 



148 

 
Figura 74 – Diagrama de blocos do refino em ?? (ZScan). 

Re
du

z 
a 

fa
ix

a 
de

 p
ro

cu
ra

 
pa

ra
 a

 p
ró

xi
m

a 
ite

ra
çã

o
?? ??

????
,??

=
??

+
?? ??

?? ??
????

,??
=

 ??
?
?? ??

D
ef

in
e 

va
lo

re
s 

a 
se

re
m

 
te

st
ad

os
 

??
=
?? ??

????
,??

:??
??
??:
?? ??

??
??,
??

Po
nt

o 
(n

ó)
 

em
 X

Y

In
íc

io
(??

=
0)

Ca
lc

ul
a 

di
fe

re
nç

a 
de

 fa
se

???
=
??
1
?
??
2

O
bt

ém
 v

al
or

es
 d

e 
fa

se
 

no
s 

po
nt

os
 p

ro
je

ta
do

s 
(??

1
,??

2
)

Co
nf

ig
ur

aç
õe

s
???

??
??
??

,??
??
????

Pr
oj

eç
ão

 d
os

 p
on

to
s

(??
????
????
????
????
????
????
??)

D
ad

os
 d

e 
m

ed
iç

ão
 

fil
tr

ad
os

Fi
m

In
cr

em
en

ta
??

??
??

&lt;
???

??
??
??

D
ef

in
e 
??

co
m

o 
o 

qu
e 

re
su

lto
u 

nu
m

a 
m

en
or

 
di

fe
re

nç
a 

de
 fa

se
??

=
??(
????
??

)

Si
m

??
&lt;
??
????
????
????

N
ão

??
????

??
??

é 
????
????
????

?

R
es

ul
ta

do
[??

 ??
 ??

 ??
??

 ??
]

O
bt

ém
 v

al
or

es
 d

e 
m

od
ul

aç
ão

 n
o 

po
nt

o 
do

 z
N

ão
Si

m

N
en

hu
m

 
po

nt
o 

en
co

nt
ra

do

Si
m

N
ão

D
ef

in
e-

se
 o

 ín
di

ce
 (
????
m

) e
 v

al
or

 (??
??
??
????

) 
da

 m
en

or
 d

ife
re

nç
a 

de
 f

as
e

[??
?? ??

????
,??
??
??
????

]=
??
????

 (??
??

)

Ve
to

r 
de

 g
ra

us
 d

e 
re

fin
o.

Ex
.:

?? ??
0,

..,
3

=
[1

0 
1 

0,
1 

0,
01

]

Fa
ix

a 
de

 
pr

oc
ur

a 
em

 ??
?? ??

????
,0
?? ??

??
??,
0



149 

 
 

4.2.5 Refino em Z com maior tolerância a descontinuidades 
(ZScan2) 

Uma limitação do refino gradativo em ?? (ZScan) é que, devido a 
descontinuidades no mapa de fase, o algoritmo pode se perder, refinando 
a busca em um ponto com diferença de fase de um mínimo local. A 
descontinuidade no mapa de fase pode ser causada tanto por 
descontinuidade física da peça ou descontinuidade devido à cor da 
superfície, como partes escuras em que a modulação obtida é muito baixa. 
Conforme ilustra a figura 75, durante o refino em ??, os pontos amostrados 
cujo modulo da diferença de fase (|????|) mais próxima ao mínimo global 
(|????|?????? “verdadeiras”) podem cair numa região de descontinuidade, 
resultando em diferença de fase inválida. Sendo assim, o mínimo do 
refino atual é na verdade um mínimo local, tendo o valor de ?? 
provavelmente removido na última etapa de refino devido a diferença de 
fase não ser menor do que a máxima tolerada para um ponto válido. Por 
fim, a nuvem de pontos ficará com regiões de “falha”. 

Com o intuito de tornar o método mais tolerante a 
descontinuidades, desenvolveu-se na presente tese um algoritmo de 
correção, que pode aumentar a região de procura da próxima iteração 
baseado na avaliação da diferença de fase dos pontos vizinhos ao mínimo 
encontrado. 



150 

 
Figura 75 – Gráfico do modulo da diferença de fase (|????|) com pontos de 
amostragem durante refino em ??. Devido a descontinuidades no |????|, um falso 
mínimo é obtido, acarretando em uma faixa de procura na próxima iteração de 
refino fora da região do mínimo global. Com a correção da faixa de procura, o 
mínimo global pode ser encontrado. Esquemático dos refinos em cada iteração 
exposto abaixo do eixo ??. O número de divisões em cada iteração é apenas 
ilustrativo. 

O algoritmo funciona da seguinte maneira: Antes de definir os 
limites de procura em ?? (????????,?? e ????????,??) para o próximo grau de refino, 
é feita uma varredura nos valores de módulo da diferença de fase 
anteriores e posteriores ao ponto de mínima. Caso a diferença de fase 
subsequente seja válida, nada muda para o limite superior. Caso contrário, 
o limite superior é dado pela soma da resolução mais o ?? de índice anterior 
à próxima diferença de fase válida (??????????). Considerando o exemplo da 
figura 75, pode-se notar que na primeira iteração, obteve-se o menor |????| 
no quinto ponto discretizado. Todavia, o terceiro e o quarto ponto estão 
sobre uma região de descontinuidade, sendo assim, ao invés do limite de 
procura da próxima iteração ser dado pelo valor obtido em ?? ± a resolução 
(ver equação (28)), o limite inferior será menor.  

Faixa #1
M

ód
ul

o 
da

 d
ife

re
nç

a 
de

 fa
se

 
??
??

[r
ad

]

?? [mm]

????

???? ??????
global

Faixa #2

#1
#2
#3
#4

|????|?????? e ?? obtidos graças a 
correção da faixa de procura

Faixa #2 com correção

?? incorreto devido as 
descontinuidades

#2
#3
#4

Iterações de refino
com correção

Iterações de refino
sem correção

Descontinuidades

Mínimo local
5º item discretizado (Iteração #1)



151 

 
 

Tem-se então que os limites são dados por: 

 ????????,?? = ?????????? + ???????1 , 
(28) 

 ????????,?? = ?????????? ? ???????1 . 

Podem ocorrer casos em que existem muitos pontos vizinhos 
inválidos ao de mínima fase, o que pode aumentar muito a regiões de 
procura do próximo refino. Sendo assim, define-se uma constante que 
define o valor máximo de busca por uma diferença de fase válida, 
nomeada de ??????????????. Durante testes com descontinuidades no mapa de 
fase que ocorreram devido à cor escura de alvos circulares colados na 
peça (ver foto na figura 76), notou-se que uma tolerância de quatro ou 
cinco saltos já é adequada. Sendo que valores maiores não fizeram 
diferença significativa no resultado. 

A figura 76 ilustra o resultado de medição no ar sem refino em ?? 
de uma face de manequim a qual possui alvos colados em sua superfície. 
Como os alvos são círculos de cor preta vazados e com um círculo central 
brancos, a medição resultante possui “falhas” circulares. Verifica-se e 
eficácia do ZScan2 na figura 77, sendo possível corrigir todos os artefatos 
e obter 99,97% dos pontos que seriam obtidos sem o refino em ??. 

Deve-se atentar que algumas regiões com artefatos utilizando o 
ZScan, como o ponto central do alvo, aparentam ser “duplicadas”. Pode-
se atenuar tal efeito reduzindo o valor do máximo do módulo da diferença 
de fase tolerado, o que resultará na remoção de pontos, mas não na 
correção das regiões de falha.  



152 

  
Figura 76 – Foto e resultado de medição sem refino em ?? no ar de face do 
manequim. Nota-se regiões com falhas circulares devido aos alvos de cor escura 
colados no objeto. 

       

         

140

120

100

80

60

Y

40

20

0
-60

-40 -20

-60

-20

X

-400

20

-6040

60

-40Z
-20

0

20



153 

 
 

  
Sem refino em ?? Pontos: 31.113 ZScan Pontos: 30.784 

  
ZScan2 / ?????????????? = 1 Pontos: 31.072 ZScan2 / ?????????????? = 5 Pontos: 31.103 
Figura 77 – Comparação do resultado de medição de região do queixo da cabeça 
de manequim (Figura 76). Nota-se claramente os artefatos causados pela 
descontinuidade da fase. Com apenas um passo de tolerância na correção da faixa 
de procura (?????????????? = 1) quase todos artefatos desaparecem. Já com cinco a 
medição é praticamente mesma do que a obtida com o processamento sem refino 
(diferença de 10 pontos, ou 0,03%). 

4.2.6 Refino em XY 
O refino em ???? tem grande influência no tempo de processamento, 

uma vez que são fatores multiplicativos. Por exemplo, um fator de 10 
vezes na resolução ?? e ?? resulta num número de pontos 100 vezes menor. 
Uma maneira simples de realizar esse refino é o processamento da 
medição com uma resolução “grosseira” em ???? e obtenção do volume de 
medição. Realiza-se então nova medição, com a resolução refinada, por 
exemplo, em 10 vezes. Os limites de procura da próxima iteração são 



154 

dados pelo volume de medição obtido anteriormente somado à resolução 
anterior. 

4.2.7 Medição com volume de procura de forma livre 
(??????????????) .... 

Uma maneira aprimorada de refino, aqui nomeada de “medição 
com volume de procura de forma livre” ou ?????????????? é obtida se os limites 
em ?????? forem baseados na nuvem de pontos da iteração anterior. Ou seja, 
ao invés de realizar a procura por pontos válidos em um paralelepípedo, 
a procura é feita numa forma livre. Os limites dessa forma livre podem 
ser definidos pela interpolação bilinear entre os pontos vizinhos da 
iteração anterior, ou então, simplesmente no “pequeno” paralelepípedo 
formado pelos pontos extremos. A liberdade de forma do volume de 
procura pode ser somente em um ou em uma combinação de coordenadas, 
sendo a ótima a que utiliza as três (??????). Deve-se atentar que é possível 
perder pontos no caso em que a superfície do objeto mensurado varie mais 
do que a forma de procura definida na iteração anterior. Esse refino 
aprimorado, apesar de vislumbrado, não foi implementado no código 
devido à limitação de tempo do trabalho. 

4.3 PROJEÇÃO ATRAVÉS DE INTERFACES PLANAS DE 
REFRAÇÃO 

A projeção direta (objeto ? imagem) é necessária para a realização 
da triangulação inversa, uma vez que pontos 3D são testados se válidos 
ou não. Já a projeção inversa (imagem ? objeto), utilizada na 
triangulação convencional, será utilizada também no presente trabalho em 
dois pontos: calibração dos parâmetros de refração (4.4) e no algoritmo 
iterativo para a projeção inversa, o qual é explanado logo em sequência 
(4.3.2). A seguir são descritos os dois métodos de projeção, inversa e 
direta. 

4.3.1 Método para a projeção inversa através de interfaces 
planas de refração (InvProjRefra) 

A projeção inversa através de ?? interfaces planas de refração pode 
ser realizada de forma direta, utilizando a lei de Snell para as refrações. A 
restrição dada pelo POR permite a realização do cálculo da projeção 
inversa em apenas duas dimensões (no POR) e posterior conversão para 



155 

 
 

3D após a obtenção de ?? em 2D. Apesar de tornar a projeção mais 
simples (uma dimensão a menos), requer passos extras para mudança de 
sistemas de coordenadas (3D?2D?3D). Somando isso ao fato de que o 
POR somente é válido no caso de interfaces paralelas, optou-se por 
realizar o cálculo de maneira genérica em 3D. Deve-se lembrar que no 
caso de interfaces não paralelas, são necessários mais dados de entrada ao 
método, referentes ao vetor normal e um ponto em cada interface ao invés 
de somente um vetor normal dado pelo eixo da câmera (??). 

A seguir os parâmetros de entrada e saída (tabela 14) do processo 
e as etapas de cálculo são descritos (ver diagrama de blocos na figura 78): 

Tabela 14 – Parâmetros de entrada e saída do método para projeção inversa 
através de interfaces planas de refração (InvProjRefra). 

Entrada Saída 
• Ponto 2D na imagem 
• Parâmetros da câmera 
• Parâmetro de refração 

• Pontos de interseção (??1,…,??) nas 
interfaces planas de refração 

• Vetor direção no último meio (??) 

Conforme o diagrama de blocos da figura 78 e a ilustração da 
figura 79, na primeira iteração (?? = 0) o ponto inicial do primeiro feixe é 
o próprio centro de projeção da câmera definido no centro de 
coordenadas, ou seja ??0 = [0 0 0]?? e o vetor direção ??0 é obtido pela 
projeção inversa do ponto 2D ??: ??0 = ???1??, conforme o modelo de 
câmera pinhole (vide seção 2.1). Já nas próximas iterações (?? &gt; 0), o vetor 
direção (????), e o ponto inicial (????) são dados pela direção do vetor anterior 
refratado e o ponto de interseção com a interface de refração, os quais 
foram obtidos na iteração anterior, conforme descrito a seguir: 

Uma vez definido o ponto inicial do feixe e sua direção, calcula-se 
o ponto de interseção (????+??) do vetor ???? com a interface plana de refração. 
Para tal, utiliza-se a equação vetorial de interseção linha-plano, onde 
obtém-se o comprimento (??) do vetor até o ponto de interseção com a ??-
ésima interface plana de refração:  

 ??i+1 =
(?????? ? ????) ? ???

???? ? ???
 , (29) 



156 

sendo que ?????? e ??? representam respectivamente um ponto no plano e a 
normal à interface plana de refração; ???? o ponto inicial da linha (feixe) e 
???? sua direção. Obtém-se então o ponto ????+1 a partir da equação da reta: 

 ????+?? = ????+1???? + ???? . (30) 

Substituindo (29) em (30): 

 ????+?? = ?
(?????? ? ????) ? ???

???? ? ???
????? + ???? . (31) 

Com essa equação pode-se propagar o feixe por interfaces não 
necessariamente paralelas, uma vez que requer para cada iteração a 
definição da posição e orientação da interface. Já para o caso de interfaces 
paralelas de refração, todas possuem o mesmo vetor normal (câmera é 
axial), que é de sentido oposto ao eixo da câmera (??? = ???). Já um ponto 
na interface de refração de índice ?? (??????) pode ser obtido pela projeção no 
eixo da câmera da distância absoluta, dada pela soma das espessuras das 
interfaces anteriores: 

 ?????? = ?????

??

??=0

?? . (32) 

Substituindo ??? por ??? e (32) em (31), obtem-se: 

  ????+1 = ?
??? ????

??
??=0 ??? ? ????? ? ??

???? ? ??
????? + ??i . (33) 

Como ?? ? ?? = 1, a equação pode ser simplificada para: 

  ????+1 = ?
?? ????

??
??=0 ? ? ???? ? ??

???? ? ??
????? + ???? . (34) 

Sendo assim, para o caso de interfaces paralelas de refração, pode-
se utilizar a equação (34). 

Após a definição do ponto de interseção no plano e sua direção no 
meio atual, calcula-se o vetor direção para o meio seguinte (????+1)  
utilizando a forma vetorial da lei de Snell (21). O processo se repete até 



157 

 
 

que o caminho óptico em todos os meios tenha sido definido. Como 
resultado, obtém-se os pontos de interseção ??1,…,?? e o vetor direção no 
último meio (????). 

 
Figura 78 – Diagrama de blocos da Projeção Inversa Através de Múltiplas 
Interfaces Planas de Refração (InvProjRefra). 

 
Figura 79 – Ilustração do primeiro (?? = 0), segundo e último passo (?? ? 1) do 
método para projeção inversa InvProjRefra. No primeiro passo define-se 
interseção com a primeira interface (??1) e direção no segundo meio (??1). O 
procedimento é repetido até que se obtenha a interseção na última interface (????) 
e direção no último meio (????). No caso de interfaces paralelas de refração, todas 
as normais (?????) às interfaces são iguais ao inverso da direção do eixo da câmera 
(???) e os pontos quaisquer nas interfaces (??????) podem ser obtidos pelas 
espessuras dos meios (Figura 70). 

Fim
Retorna os pontos de interseção (??1, … , ????) 

nas interfaces e o vetor direção final (????)Incrementa ??

Início
(?? = 0)

Ponto 2D
(imagem)

?? &amp;lt;??
Não

Sim

Interseção linha-plano
Encontrar: ????+1a partir de ???? e ????

Refração utilizando forma 
vetorial da lei de Snell

????
??????????çã??

????+1

Define-se
??0 = ???1??;

???? = 0 0 0 ??
?? = 0 ? Sim (1ª iteração)

Não

Parâmetros 
da câmera

Parâmetros de refração

???1??1
??1

??0
??0

??1

?????1

????

??0 ? ??
??

??2

??1
??1

??0

?

???1

???2
??2

????

??2

??1

????

??1

??0

?
?????

????2

????1

?????

???2

???1
????1

????2

????1



158 

4.3.2 Algoritmo iterativo para a projeção através de interfaces 
planas de refração (IteraProjRefra) 

O algoritmo calcula a projeção direta de forma iterativa a partir da 
minimização do erro da projeção inversa (descrita na seção anterior), dado 
pela distância do último raio projetado ao ponto 3D. A tabela 15 lista os 
parâmetros de entrada e saída do método. Já seu diagrama de blocos é 
exposto na figura 81 e descrito a seguir. Da mesma forma que o método 
anterior, pode-se utilizar o presente algoritmo para ?? interfaces não 
necessariamente paralelas. Para tal, deve-se conhecer um ponto e o vetor 
normal em cada uma das interfaces de refração.  

Tabela 15 – Parâmetros de entrada e saída do método para projeção inversa 
através de interfaces planas de refração (InvProjRefra). 

Entrada Saída 
• Ponto 3D (objeto) a ser testado na InvT 
• Parâmetros da câmera 
• Parâmetro de refração 
• Configuração do algoritmo iterativo 
• Estimativa inicial 

• Ponto 2D projetado 
na imagem 

No início do processo define-se o vetor de erro (????) como infinito. 
Na primeira iteração (?? = 0) utiliza-se como parâmetro de entrada da 
projeção inversa o ponto 2D da estimativa inicial. De forma similar, 
(KOTOWSKI, 1988) resolve um sistema não linear de equações de forma 
iterativa e também utiliza como estimativa inicial a projeção no ar. 

Esse ponto é projetado conforme a lei de Snell pelas interfaces de 
refração (método descrito anteriormente, InvProjRefra). Em sequência, 
calcula-se o módulo da distância (??????) entre a última linha projetada 
(saída do InvProjRefra) e o respectivo ponto 3D. Caso o erro seja menor 
ou igual à tolerância ou o número de iterações maior ou igual ao número 
máximo de iterações, o método encerra e retorna o ponto 2D calculado. 
Caso contrário, um novo ponto na imagem é calculado: 

 ???? = ?????1 ? ???? , (35) 



159 

 
 

sendo ???? o vetor correção em pixel: 

 ???? = ????
1

????(3)
?
????(1)
????(2)

? , (36) 

definido por: dois primeiros elementos18 ????(1:2) do vetor de erro 
normalizado pela coordenada ??; comprimento focal médio ??; e ?? que é 
uma constante que pode reduzir o número de iterações necessárias para a 
convergência do método. Durante experimentos (três meios: 
ar/vidro/água) com o algoritmo observou-se que o índice de refração da 
água (?? = ??á??????) resulta em menos iterações. Sendo assim, adotou-se 
esse valor como padrão. Conforme mostrado na seção 3.2.1 (ver equação 
(16)), o fator de escala no caso da janela plana na água é aproximadamente 
o índice de refração da água, o que explica o uso de ?? = ??á??????. 

 
Figura 80 – Vetor de erro ???? utilizado no método iterativo. O método corrige ???? 
(subtraindo ????) até que se obtenha um vetor erro de comprimento menor do que 
o erro máximo tolerado ou o número máximo de iteração seja atingido. Imagem 
esquerda adaptada de (AGRAWAL et al., 2012). 

                                                        
 
 
18 Considere que ??(??: ??) é o vetor formado pelos elementos de índice ?? ao ?? de um vetor 
qualquer ??. ??(??) é o elemento de índice ?? de ??. 

??

???? ????

??2

??1
??1

??0 ??0

??1

?????1

??

??0

??1

?????1

????

??

?
?

???

??
????

????+??

???? ?????

??



160 

 
Figura 81 – Diagrama de sequência do algoritmo iterativo de cálculo da projeção 
direta através de interfaces planas de refração. 

4.4 CALIBRAÇÃO DOS PARÂMETROS DE REFRAÇÃO 

A calibração do sistema estéreo para medição através de interfaces 
planas de refração é uma etapa de suma importância, uma vez que a 
definição dos parâmetros de refração de forma correta resulta numa 
melhor performance do sistema, ou seja, menor incerteza de medição. 

Conforme descrito previamente (seção 3.4), existem diferentes 
técnicas para calibração individual ou estéreo (triangulação dos feixes) 
dos parâmetros de refração. Uma dessas técnicas utiliza o erro de medição 
de um par de esferas com distância fixa e um plano para a definição dos 
parâmetros de refração (BRÄUER-BURCHARDT et al., 2015a). Para 
realizar a calibração através da minimização do erro de medições de 
objetos calibrados, é necessário a codificação dos pontos homólogos de 
forma absoluta, ou seja, cada ponto na imagem deve possuir um código 
único. No caso da projeção de franjas, deve-se projetá-las não somente na 

Projeção inversa através de 
interfaces planas de refração

(????????????????????????)

Calculo do erro (distância linha 
projetada ao ponto 3D) (????)

Fim
(Retorna o ponto 
2D na imagem)

Define vetor 
2D de 

correção (????)

Correção da 
coordenada 

do pixel

Ponto 3D
(objeto)

Parâmetros da 
câmera (calib. ar)

Parâmetros 
de refração

Início
(?? = 0; ???? = ?)

Estimativa 
inicial

Incrementa ??
?? = 0?

Não

Sim (primeira iteração)

Estimativa inicial 
define a coordenada 

em pixel
(ex.: projeção direta 

no ar)

Ponto 2D na 
imagem

Sim

???? &gt; ????????
&amp;amp; ?? &amp;lt;???????????????? 

Não

Configuração
(tolerância, máx. iterações)



161 

 
 

direção de maior sensibilidade do sistema (mesma orientação da 
coordenada de maior distância dos centros das câmeras), mas também na 
direção perpendicular a essa. Isso é necessário pois a codificação em 
apenas um sentido só pode ser utilizada se os parâmetros do sistema são 
conhecidos, limitando a procura por ponto correspondente em uma reta 
(projeção no ar) ou curva (através de interfaces de refração). 

A calibração com a redução do erro de medição com codificação 
em apenas um sentido foi avaliada pelo autor e utilizada no artigo 
(BUSCHINELLI et al., 2016). Apesar da otimização convergir para 
valores que resultam num menor erro de medição, não garante que um 
ponto considerado válido projetado nas duas imagens represente o mesmo 
ponto real do objeto. Esse tipo de efeito pode ser notado quando se realiza 
a medição de objetos com variação “abrupta” no eixo de “menor 
sensibilidade” da codificação projetada. A figura 82 ilustra os artefatos 
obtidos, nota-se que a região dos olhos do manequim possui um padrão 
de “duplicação”, assim como a região com alvos colados. Isso ocorre, 
pois, as linhas de varredura em ?? projetadas nas imagens, apesar de 
resultarem em um ponto com mínima diferença absoluta de fase (dentro 
da tolerância), devido a um erro residual de calibração, nunca passam pelo 
mesmo ponto do objeto na imagem. Por fim, os resultados experimentais 
reafirmam que se deve utilizar a codificação dupla (perpendiculares) na 
calibração, possibilitando a estimação adequada dos parâmetros de 
refração. 



162 

 
Figura 82 – Medição de rosto de manequim efeito de duplicação vertical devido 
a calibração incorreta. Note região dos olhos e alvo com duplicações verticais. 

Apesar de ser possível contornar esse tipo de problema com 
codificação por fase em ambas as orientações, optou-se por desenvolver 
uma calibração com objetos mais simples e que seja indiferente ao método 
de identificação de pontos homólogos. A calibração desenvolvida se 
baseia em correspondências de pontos 2D em pares de imagens estéreo 
triangulados, que resultam em pontos 3D no espaço em relação a pontos 
3D de um padrão. Esse tipo de calibração pode ser chamado de calibração 
por correspondências estéreo 2D-3D. 

O método desenvolvido requer um padrão plano com pontos de 
fácil identificação na imagem, por exemplo, as interseções dos retângulos 
de um padrão tipo tabuleiro de xadrez. Este tipo de padrão geralmente é 
de fácil fabricação e calibração (medição dos retângulos). Conforme 
ilustra a figura 83, os pontos identificados nos pares de imagem são 
projetados utilizando o método de projeção inversa InvProjRefra (vide 
seção 4.3.1) e parâmetros de refração de uma estimativa inicial. Os feixes 
projetados no último meio (onde se encontra o padrão) são então 
triangulados. Idealmente, conhecidos os parâmetros de refração, esses 
feixes cruzariam e seu ponto de interseção seria exatamente o ponto 3D 
obtido no par de imagens. Todavia, devido a não linearidades, 
imperfeições na modelagem do sistema, ruído, limitação de resolução, 



163 

 
 

entre outros, isso não ocorre. Considera-se então que o “ponto de 
interseção” é o ponto médio da linha formada pelos pontos (??1 e ??2) de 
menor distância entre os feixes projetados. O segmento formado por esses 
pontos será aqui nomeado de ??2??1??????. Uma vez conhecidos todos os “pontos 
de interseção” ou pontos médios, é feito um ajuste (rotação e translação) 
dos pontos 3D calibrados do objeto em relação à nuvem de pontos 3D 
triangulados. Em sequência, calcula-se os segmentos entre os pontos 
médios e seus respectivos pontos 3D conhecidos do padrão. Por fim, 
calcula-se o erro dado pelas distâncias dos pontos 3D e também pelo 
comprimento dos vetores de distância entre feixes (??2??1??????). A distância 
entre os feixes também é considerada no erro justamente com o intuito de 
minimizar o problema descrito anteriormente, onde as curvas de procura 
nas imagens não possuíam pontos homólogos “verdadeiros”.  

 
Figura 83 – Obtenção do erro residual durante a calibração dos parâmetros de 
refração (PR). 1) Definição dos PR. 2) Projeção inversa dos pares de pontos nas 
imagens. 3) Cálculo da mínima distância entre feixes triangulados e ponto médio. 
4) Ajusta os pontos 3D conhecidos do padrão aos pontos 3D triangulados 
utilizando método do tipo de Horn. 5) Calcula distância entre pontos. Os PR são 
os que minimizam o erro dado por ???1 ? ??2? e ?? ? ?? para todos os pontos e 
poses do padrão. 

????

??0

??1

????

?

????

???? ????

??2
??1

??

??

1

2

3 4
5

??

??



164 

A tabela 16 expõe os parâmetros de entra e de saída da função custo 
de calibração. 

Tabela 16 – Parâmetros de entrada e saída da função custo de calibração. 

Entrada Saída 
• Parâmetros de 

refração (estimativas e 
valores fixos) 

• Pares de pontos 2D 
• Parâmetros das 

câmeras 
• Pontos 3D do padrão 

• Custo. Lista de vetores erro, formada 
pelas distâncias entre os pontos 
triangulados e os pontos do padrão e 
pela distância dos feixes triangulados 

Em suma, a calibração do sistema é realizada conforme as etapas a 
seguir: 

1. Calibração das câmeras no ar utilizando o modelo pinhole com 
correção de distorção (seção 2.2). 

2. Posicionamento do sistema estéreo para visualização através 
das interfaces planas de refração. 

3. Aquisição de imagens de padrão de calibração dentro do 
volume de medição. 

4. Remoção da distorção das imagens. 
5. Obtenção dos pontos 2D nas imagens (ex.: grade do tabuleiro 

de xadrez). 
6. Obtenção dos parâmetros de refração (??, ??0,…,?? e ??0,…,??) 

através da minimização do erro dado pela distância entre os 
pontos 3D do padrão e os obtidos pela triangulação 2D dos 
feixes projetados, assim como a distância entre os feixes 
projetados. 

4.5 VISÃO GERAL DA PROPOSTA 

No presente capítulo foram descritas as técnicas desenvolvidas 
durante a tese para a realização da medição com sistema estéreo ativo 
através de interfaces planas de refração (AIPR) utilizando a triangulação 
inversa (InvT). Os principais conceitos são: 



165 

 
 

• Métodos para otimização do tempo: Refino em Z com maior 
tolerância a descontinuidades (4.2.5), refino em ???? (4.2.6) e 
refino completo (4.2.7). 

• InvProjRefra (4.3.1): Projeção inversa AIPR utilizado na 
calibração dos parâmetros de refração e no algoritmo 
IteraProjRefra. 

• IteraProjRefra (4.3.2): Projeção direta AIPR, utilizado para 
realizar a InvT através de ?? interfaces não necessariamente 
paralelas.  

• Calibração dos parâmetros de refração do tipo 
correspondências estéreo 2D-3D (4.4). 

Nos capítulos seguintes descreve-se a ampla avaliação prática 
experimental realizada dos conceitos aqui expostos para o caso de duas 
interfaces de refração (três meios, ?? = 3), referentes aos meios 
ar/vidro/água. Deve-se notar que os conceitos aqui desenvolvidos podem 
ser estendidos para qualquer número de interfaces, assim como outras 
técnicas de identificação de pontos correspondentes podem ser utilizadas. 

 





167 

 
 

5 MATERIAIS E MÉTODOS 

Para a avaliação dos conceitos desenvolvidos na tese, realizou-se 
uma série de experimentos controlados, onde foi abordada a medição de 
formas 3D com um sistema estéreo óptico ativo (projeção de franjas) 
através de duas interfaces planas de refração, ar/vidro, vidro/água. 

Devido à complexidade do desenvolvimento de um protótipo 
vedado para uso subaquático, optou-se por uma configuração “reversa” 
(Figura 84), onde o meio de medição é contido em um tanque com janelas 
anguladas e transparentes, ao invés da utilização de uma carcaça 
impermeável no sistema estéreo. Essa configuração facilita muito a 
realização dos testes em laboratório e possibilita a validação dos conceitos 
aqui propostos. 

 
Figura 84 – Vista superior do esquemático da configuração “reversa” para testes 
em laboratório, onde o meio de medição fica contido em um tanque com paredes 
inclinadas (esquerda) e do sistema vedado (direita). 

Optou-se pela utilização de um sistema de medição estéreo com 
projeção de franjas previamente avaliado metrologicamente para a 
medição no ar em (PINTO, 2010). Este sistema é descrito a seguir na 
seção 5.2 e no Apêndice B. Esta escolha permitiu um maior foco nos 
efeitos da refração e na avaliação da técnica de medição descrita na tese, 
que possui um grande componente de desenvolvimento de software. 

Com base na revisão bibliográfica, conhecimento prático e 
hardware disponível para a realização dos experimentos, definiu-se 

ArCâmera “??” Câmera “??”

Projetor

Ar

Água Água



168 

requisitos iniciais da capacidade de medição da configuração proposta, 
conforme expostos na tabela 17. 

A seguir, são descritos os procedimentos adotados, assim como a 
montagem e configuração dos experimentos. 

Tabela 17 – Requisito iniciais do sistema. 
Item Valor Unidade 

Volume de medição no ar      200 × 200 × 200 = 8 × 106 mm³ 
Volume de medição na água ? 200 × 200 × 200 = 8 × 106 mm³ 

Distância do protótipo ao 
mensurado (standoff) ? 500 mm 

Resolução das câmeras 1624×1224 pixels 
Resolução lateral (????) 0,1 mm 

Resolução Z 0,01 mm 

Ruído no ponto 3D (?) 0,05 mm 
Erro máximo 3D 0,3 mm 

5.1 CONFIGURAÇÃO DOS EXPERIMENTOS 

Os experimentos foram realizados nas imediações do Labmetro, 
em uma área do prédio onde existem laboratórios de medição por 
coordenadas da fundação CERTI, o que garante um bom controle de 
temperatura e umidade na sala. Além disso, a estrutura do piso diminui a 
suscetibilidade a vibrações, podendo-se considerar o sistema estático 
durante todos os experimentos. 

A figura 85 mostra a configuração do experimento antes do 
posicionamento do tanque de água. O sistema estéreo foi fixado sobre 
uma mesa de granito, com seu eixo de visão aproximadamente 
perpendicular à parede. Para facilitar o posicionamento dos objetos no 
volume de medição, foi colado papel contact branco sobre a mesa e linhas 
de referência foram desenhadas: início, meio e fim da faixa de medição e 
linha central paralela à parede. Uma terceira câmera foi posicionada 
centrada, mais alta e atrás do sistema estéreo (vide canto esquerdo 
superior da figura 85). Esta câmera possui duas funções principais: 
1) documentação dos experimentos e alinhamento de objetos a serem 
medidos; e 2) medição de referência da posições e orientação das janelas 



169 

 
 

do tanque em relação às câmeras (Apêndice C). Estas posições são 
posteriormente comparadas com as obtidas com a calibração dos 
parâmetros de refração do sistema. 

 
Figura 85 – Configuração do experimento sem o tanque de água. Sistema estéreo 
com projetor e terceira câmera (no canto esquerdo superior da imagem) utilizada 
para auxiliar nos experimentos. 

A linha central vertical da imagem obtida por essa câmera foi 
alinhada visualmente com a linha de referência do centro de volume de 
medição do sistema estéreo (Figura 86). Deve-se notar que o alinhamento 
das linhas de referência e da terceira câmera não é crítico, pois não 
influenciam na capacidade de medição do sistema; mas têm o objetivo de 
facilitar o posicionamento do padrão de calibração e de objetos a serem 
medidos (primeira função da terceira câmera). 



170 

 
Figura 86 – Visão da terceira câmera, linha central de referência destacada 
(verde). 

Foi construído um tanque com oito lados para a realização dos 
experimentos da presente tese. Conforme ilustra a figura 87, o tanque 
possui duas faces maiores e em cada um dos extremos possui três faces, 
sendo a central perpendicular à face maior e as duas laterais anguladas de 
forma simétrica. Apenas o lado “A” do tanque foi utilizado. Este possui 
ângulo nominal entre as normais das janelas inclinadas de 40°, que é o 
mesmo ângulo entre os eixos das câmeras do sistema estéreo. 

  
Figura 87 – Foto (esquerda) e dimensões (direita) do tanque de água montado 
para os experimentos da tese, o lado “A” foi o utilizado com o sistema estéreo e 
possui ângulo entre normais das janelas de 40°. 

800

137

40040°
A B 

A 



171 

 
 

 
Figura 88 – Posicionamento do tanque com água na frente do sistema estéreo. 

5.2 SISTEMA ÓPTICO ESTÉREO ATIVO COM PROJEÇÃO 
DE FRANJAS 

O sistema óptico estéreo ativo utilizado (Figura 88) possui câmeras 
com resolução de 1624 × 1224 pixels² e lentes com comprimento focal 
de 8 mm. O projetor possui resolução de 800 × 600 pixels². Mais 
especificações do sistema podem ser vistas no Apêndice B. O tempo19 de 
aquisição e o de processamento das imagens para a obtenção dos pares de 
mapa de fase absoluta e de modulação são, respectivamente, em torno de 
3 e 5 segundos. 

A figura 89 expões imagens típicas obtidas pelo sistema durante a 
projeção do mapa de fase e gray-code.  

                                                        
 
 
19 Aquisições e processamento das imagens (cálculo do mapa de fases absoluto e modulação) 
realizados em um notebook com a seguinte configuração: processador Intel i7 720QM @ 1,6 
GHz; RAM 8 GB; placa de vídeo NVIDIA GTX 285m; Windows 10 64 bits. 



172 

 
Figura 89 – Imagens adquiridas durante a medição de uma face de manequim no 
ar. As primeiras oito imagens são referentes aos passos da técnica de projeção de 
franjas, já as nove subsequentes (9-17) ao gray-code para a remoção do salto de 
fase. 

5.3 PROCEDIMENTOS E CONFIGURAÇÃO DE 
PROCESSAMENTO 

Os seguintes procedimentos foram adotados ao longo dos 
experimentos: 

• Medição da temperatura do ar e da água no tanque. 

• O sistema ficou ligado pelo menos 40 minutos antes da 
realização das aquisições. 



173 

 
 

• A luz ambiente foi desligada durante a medição (projeção 
das franjas) e durante a configuração do tempo de 
exposição da câmera. 

• O tempo de exposição (ou shutter) foi configurado sempre 
como o máximo múltiplo de 10

3

4×60
 ?  4,1667 ms sem que 

ocorressem pixels saturados na superfície do objeto a ser 
medido quando projetado o padrão de franjas. O valor de 
4,166 ms foi o período obtido experimentalmente em 
(PINTO, 2010), onde a variação de intensidade na 
aquisição sequencial de imagens é mínimo. Este efeito 
ocorre possivelmente devido ao batimento da frequência 
de aquisição da câmera (15 Hz) e a de projeção (60 Hz), 
uma vez que câmera e projetor não são sincronizados. 

• As imagens obtidas pelas câmeras industriais foram todas 
salvas no formato com compactação sem perdas PNG 
(Portable Network Graphics) e com 8 bpp (bits por pixel). 

• O foco do projetor foi ajustado até que os pixels não 
fossem mais identificados no objeto a ser medido, 
evitando a perda da qualidade da projeção das franjas 
devido a limitações de resolução e do fill factor 
(espaçamento entre pixels) do projetor. 

• Para a projeção do mapa de fase utilizou-se a configuração 
exposta na tabela 18. 

Tabela 18 – Configuração padrão da projeção. 

Parâmetro Configuração 
Direção de variação da fase Horizontal 

Passos 8 
Pixels por passo 16 

Cor Branco 
Remoção do salto de fase Gray-code 

 

• Graus de refino em Z: [10 1 0,1 0,01]. 



174 

• Correção de descontinuidades (ver 4.2.5), máximo 
número de incremento (±) no índice do ?? de mínimo valor 
absoluto da diferença de fase: 4. 

• Os parâmetros de processamento para a medição 3D com 
o ZScan foram, quando não especificado o contrário, os 
da tabela 19. 

Tabela 19 – Configuração padrão de processamento. 

Item Símbolo Valor Unidade 
Resolução em ?? e ?? - 0,1 mm 

Resolução em ?? - 0,01 mm 
Valor máximo tolerado do 

módulo da diferença de fase |????|?????? 0,02 rad 

Desvio padrão de fase 
máximo ?????????? 0,50 rad 

Modulação mínima ???????? 100 intensidade (0-255) 
???????????????????????????? - 

Tolerância 
???????? 0,001 mm 

???????????????????????????? – Max. 
iterações 

????????????????  1.000 - 

5.4 CALIBRAÇÃO 

A seguir, são descritos os procedimentos adotados durante as 
calibrações no ar e na água. A partir de agora, quando citado modelo de 
câmera “SVP”, deve-se entender SVP (projeção central ou pinhole) em 
conjunto com a correção de distorções da lente. O modelo físico da 
refração (raytracing) será nomeado de Refra. 

A tabela 20 tem o objetivo compilar os casos de uso de calibração 
e medição no ar e na água e as técnicas utilizadas. Deve-se notar que a 
medição na água com uma calibração no ar sem qualquer compensação é 
considerada inviável no presente trabalho, uma vez que os erros obtidos 
são muito grandes. Como exemplo desse caso de uso, mediu-se a face do 
manequim, o resultado pode ser visto na seção 6.10.1.  



175 

 
 

Tabela 20 – Compilação dos casos de uso e das técnicas de calibração utilizadas. 

Caso 
Calibração Medição 

Meio Restrições Meio Tipo 
1 

Ar SVP 
Ar Nenhuma 

2 Água Inviável (ver seção 6.10.1) 

3 
Água 

SVP 
Água 

Depende de fatores como 
o ângulo de visão (ver seção 3.4.4) 

4 Refra Nenhuma 

5.4.1 Padrão de calibração da câmera 
Para a calibração das câmeras no ar utilizou-se um padrão do tipo 

tabuleiro de xadrez (Figura 90). Já para as imagens na água, foi utilizada 
uma versão do padrão plastificada. Os padrões possuem 15×10 
retângulos (direções ?? e ??), cuja dimensão foi medida com o auxílio de 
um microscópio. Os valores médios obtidos para a coordenada ?? e ?? 
foram, respectivamente, de 9,968 ± 0,032 mm e 10,002 ± 0,018 mm. 
Optou-se pelo uso desse tipo de padrão por ser um método típico de 
calibração, de fácil reprodução e com bibliotecas disponíveis online para 
seu processamento. 



176 

 
Figura 90 – Padrão de calibração com 15 × 10 divisões com 10 mm de lado. 

5.4.2 Calibração no ar (SVP) 
Foram obtidas ao menos 30 imagens em posições aleatórias dentro 

e próximo ao volume de medição. Os parâmetros de calibração foram 
obtidos com a toolbox para Matlab de Bouguet disponível online 
(BOUGUET, 2013). 

Para a definição do centro do volume de medição ([0 0 0]?? em 
coordenadas do objeto), utilizou-se um padrão de círculos vazados, com 
sistema de coordenadas definido em seu centro por três círculos 
preenchidos. A distância entre círculos também foi medida em 
microscópio, e os valores para as direções ?? e ?? foram, respectivamente, 
de: 8,018 ± 0,079 mm e 7,969 ± 0,060 mm. Nota-se uma incerteza maior 
na distância dos padrões de círculos do que a obtida no padrão de xadrez; 
todavia, a definição do centro de coordenadas do objeto serve apenas 
como referência de posicionamento e não influencia na capacidade de 
medição do sistema. 

Foram adicionadas marcações nos entornos do padrão de círculos 
vazados que indicam um quadrado de lado 200 mm. O padrão foi então 
posicionado o mais próximo possível do sistema dentro do volume de 
interseção entre a projeção e o campo de visão das câmeras. Em sequência 
o padrão foi distanciado em 100 mm e essa pose foi adquirida pelo 



177 

 
 

sistema, definindo o sistema de coordenadas do objeto (SCO). A pose 
utilizada para a definição do SCO pode ser vista na figura 91. 

Para a avaliação da calibração, são expostos os mapas de distorções 
das lentes, poses obtidas do padrão (extrínsecos de cada pose) e erros de 
reprojeção. O erro de reprojeção em cada imagem/pose é a diferença entre 
os pontos 2D identificados (no caso, pontos da grade do tabuleiro de 
xadrez) do ponto obtido a partir da projeção direta dos pontos 3D do 
padrão utilizando os dados extrínsecos para a determinada pose, assim 
como os intrínsecos da câmera e coeficientes de distorção obtidos durante 
a calibração. 

 
Figura 91 – Padrão de círculos durante definição do centro do 

volume de medição no ar. 

5.4.3 Calibração na água (SVP) 
Após a realização da calibração e medições no ar, posicionou-se o 

tanque na frente do sistema estéreo de forma que o eixo das lentes ficasse 
visivelmente normal à parede do tanque e a uma distância em torno de 
1 mm. A figura 92 mostra em detalhe o posicionamento da parede do 
tanque com as lentes. Em sequência, antes das calibrações SVP e Refra 



178 

na água, extraiu-se a posição e orientação das câmeras em relação as 
janelas, conforme descrito no Apêndice C. 

 
Figura 92 – Detalhe da distância da lente à parede do tanque. 

O mesmo procedimento de calibração SVP no ar foi realizado na 
água com o intuito de comparar os resultados obtidos na água com a 
aproximação utilizando o modelo SVP e com a modelagem física da 
refração (Refra). 

Utilizou-se água “da torneira” para encher o tanque. Após uma 
hora de estabilização e do sistema estéreo ligado, foram obtidas 24 
imagens do padrão xadrez plastificado em diferentes poses, sendo sua 
maioria dentro do volume de medição. A movimentação da água não 
causou suspenção significativa de partículas ou quaisquer outros 
problemas nas imagens. 

Imagens borradas ou com alguma parte do tabuleiro fora do campo 
de visão de uma das câmeras foram descartadas.  

5.4.4 Calibração na água – parâmetros de refração (Refra) 

Obtenção dos pontos 2D 

Foram identificados os pontos 2D da grade do padrão nos pares de 
imagens obtidas. Em sequência, removeu-se a distorção dos pontos. Essas 
duas etapas foram realizadas com o método de identificação de pontos e 
com a função “normalize” da toolbox para MATLAB desenvolvida por 
Bouguet (BOUGUET, 2013). 



179 

 
 

Estimativa inicial e valores fixos dos parâmetros de refração 

A tabela 21 lista a estimativa inicial dos parâmetros de refração. 
Foram definidos como fixos o índice de refração no ar e a espessura e 
índice de refração do vidro do tanque. O máximo ângulo de ?? em relação 
ao eixo Z do sistema de coordenadas de cada câmera (?????) foi definido 
como 10°. Sendo assim, a variação máxima dos valores nas coordenadas 
?? e ?? é de  ±(tan(10°) = 0,1763). Para este caso, a coordenada ?? de ?? 
é uma variável dependente de ?? e ??. Por isso, na otimização, o valor de Z 
é calculado internamente na função custo, que é o resultado da 
normalização do vetor dado pelos valores [?? ?? 1]??. 

Tabela 21 – Estimativa inicial e limites dos parâmetros de refração. Parâmetros a 
serem otimizados destacados em vermelho (??, ??0, ??2). Coordenadas ?? e 
distâncias ???? em milímetros. 

Item Símbolo Câmeras (?? e ??) 
Limite 
inferior 

Limite 
superior 

Eixo da câmera 
?? ?

0
0
1
? ?

±0,176
±0,176

1
? 

(normalizado) 
????? 0,00° 0,00° 10,00° 

Distância da 
interface ??0 20,00 1,00 60,00 

Espessura da parede 
do tanque ??1 

6,00 
(nominal) Constante 

Ind. ref. Ar ??0 1,0000 Constante 
Ind. ref. Vidro ??1 1,5200 Constante 
Ind. ref. Água ??2 1,3300 ± 0,0500 

Minimização da função custo 

Dentro da função custo, para o ajuste dos pontos 3D obtidos pela 
triangulação em relação aos do padrão, utilizou-se a função para 
MATLAB disponível online (JACOBSON, 2015), baseada no algoritmo 
de Horn (HORN, 1987). Após esse ajuste pode-se calcular a distância 
entre os pontos. 



180 

A função custo (descrita em 4.4) foi minimizada com auxílio da 
função de resolução de sistema não linear por mínimos quadrados 
“lsqnonlin” do MATLAB. Os limites inferiores e superiores são os já 
listados na tabela 21. 

5.5 AVALIAÇÃO DO SISTEMA E MEDIÇÕES 

Foram utilizados objetos não calibrados como exemplos de 
medição e objetos calibrados para a avaliação metrológica do sistema 
estéreo no ar e na água. Os procedimentos e objetos utilizados são 
descritos a seguir. 

5.5.1 Avaliação com plano baseada na VDI/VDE 2634 
Foram realizados três diferentes experimentos com o plano padrão: 

mesma posição no ar e água, deslocamentos controlados e posições 
aleatórias inclinadas. Devido à grande quantidade de dados a serem 
processados optou-se pela resolução de malha ???? de 0,5 mm. De forma 
a avaliar se tal piora (o padrão é de 0,1 mm) na resolução ???? teria efeito 
nos resultados, avaliou-se o histograma de erro de uma das medições com 
resolução de malha de 0,1 mm e 0,5 mm. Não foram encontradas 
alterações significativas nos valores de erro máximo, mínimo, médio e 
desvio padrão.  

A medição dos planos segue as orientações da associação alemã de 
engenheiros (VDI)20 presentes no guia para sistemas ópticos de medição 
3D VDI/VDE 2634 (VDI/VDE-2634, 2008). A remoção dos piores 
pontos é realizada conforme o seguinte procedimento: ajusta-se um plano 
à nuvem de pontos; os pontos mais distantes (1 a cada 1000) são 
removidos.  

Como padrão plano, utilizou-se um vidro espesso de uma “mesa” 
de microscópio, que tipicamente passa por um rígido processo de 
fabricação e possui erro de planeza muito pequeno. O vidro possui um 
formato circular com diâmetro e espessura, respectivamente, em torno de 
205 mm e 10,2 mm, conforme ilustra a figura 93. Ele foi medido em uma 

                                                        
 
 
20 Site da associação alemã de engenheiros VDI (Verein Deutscher Ingenieure): 
http://www.vdi.eu responsável pelo guia VDI/VDE 2634. 

http://www.vdi.eu/


181 

 
 

máquina de medir por coordenadas (MMC) Mitutoyo na fundação CERTI 
antes e após pintura branca fosca com spray, a respectiva planeza obtida 
foi de 3 ??m (próprio erro da máquina) e 28 ??m (0,028 mm). Para facilitar 
seu posicionamento durante os ensaios, o mesmo foi fixado em um 
suporte (Figura 94). 

Conforme descrito anteriormente, a planeza do plano obtida com a 
MMC foi de 28 ??m. Nas análises realizadas, o erro foi calculado com base 
na distância dos pontos medidos à um plano matemático ajustado aos 
mesmos, sendo o erro de planeza considerado desprezível. 

  
Figura 93 – Padrão plano de vidro de microscópio antes e após pintura, com 
respectivo erro de planeza de 3 ??m e 28 ??m. Diâmetro e espessura, 
respectivamente, em torno de 205 mm e 10,2 mm. 



182 

 
Figura 94 – Padrão plano (planeza 0,028 mm) fixo em suporte para 

facilitar a realização das medições em diferentes posições. 

5.5.2 Avaliação com par de esferas baseada na VDI/VDE 2634 
Para a avaliação da incerteza de medição do sistema, também 

tomou-se como base as orientações do guia para sistemas ópticos de 
medição 3D VDI/VDE 2634 (VDI/VDE-2634, 2008). Conforme descrito 
no documento, o par de esferas deve ter a distância entre centros (????) das 
esferas e seus respectivos diâmetros (????) calibrados com incerteza menor 
ou igual a 1/5 do erro a ser avaliado. 

São avaliados dois parâmetros, o erro de espaçamento entre as 
esferas ou sphere-spacing error (??????) e o erro de “apalpação”, ou 
probing error (????), relacionados respectivamente ao erro de escala do 
sistema (erro sistemático) e ao erro aleatório. Para tal avaliação, deve-se 
medir o padrão de esferas em (ao menos) sete diferentes posições, 
ilustradas na figura 95. A seguir, descreve-se os procedimentos adotados 
para a avaliação dos dois parâmetros de erro.  



183 

 
 

 
Figura 95 – Posições sugeridas pelo VDI/VDE 2634 (VDI/VDE-2634, 2008). 

1. Erro de espaçamento entre esferas, ou sphere-spacing error 
(??????) 

• O raio das esferas deve ser fixo conforme sua calibração. 

• Pode-se remover os três piores pontos (maior erro) a cada 
mil pontos. 

• A posição do centro é definida pelo ajuste de uma esfera com 
o raio padrão utilizando mínimos quadrados. 

• ???? é obtido pela distância dos centros das esferas ajustadas. 

• O ?????? é dado pela diferença entre o valor obtido e o 
calibrado. 

• Se o erro máximo permitido é excedido em apenas uma 
medição, essa medição pode ser repetida uma vez.  

2. Erro de apalpação ou probing error (????) 
• O erro de apalpação é a diferença radial entre os pontos 

3D medidos e o raio de uma esfera ajustada 
matematicamente aos postos medidos. 

• Quando indicado como um único valor, ???? é dado pela 
soma dos valores absolutos mínimo e máximo (distância 
pico-vale). 



184 

O padrão de esferas foi montado soldando esferas de metal duro 
disponíveis no laboratório em parafusos presos num perfil de alumínio. A 
origem das esferas não é conhecida, mas são provavelmente provenientes 
de um rolamento. Após a montagem as esferas foram pintadas de branco. 

A figura 96 mostra o par de esferas durante sua calibração, onde 
foram realizados três ciclos de medição de 13 pontos em cada esfera. A 
calibração foi realizada na mesma MMC que mediu o padrão plano. 
Como resultado, obteve-se o diâmetro médio (????1 e ????2) e o erro de 
forma de cada esfera, assim como a distância entre centros (????). Estes 
valores estão no esquemático da figura 97 e compilados na tabela 22. 
Nota-se um erro de forma considerável nas esferas, provavelmente 
relacionado a pintura. 

 
Figura 96 – Par de esferas de aço durante calibração em máquina de medir por 
coordenadas da Mitutoyo na Fundação CERTI. Foram obtidos 13 pontos em cada 
esfera e realizados três ciclos de medição. 



185 

 
 

  
Figura 97 – Padrão de par de esferas, indicação da distância entre centros (????) e 
diâmetro (????). 

Tabela 22 – Dimensões calibradas do par de esferas. 

Item Símbolo Valor [mm] 
Esfera 1 ????1 50,117 ± 0,031 

Esfera 2 ????2 50,143 ± 0,053 
Distância entre centros ???? 99,283 ± 0,005 

5.5.3 Avaliação com objetos de forma complexa calibrados 
Além da avaliação do sistema com objetos “clássicos” padrão (par 

de esferas e plano), realizou-se a medição dos dois objetos de forma 
complexa calibrados: cabeça de manequim e cavidade preenchida com 
cordões de solda. 

Cabeça de manequim 

A cabeça de manequim é um bom exemplo de superfície livre com 
forma complexa. Ela foi calibrada (Figura 98) utilizando um sistema 
óptico estéreo ativo com projeção de franjas comercial GOM ATOS 
(GOM, 2015) em laboratório da Fundação CERTI. Os alvos que podem 
ser vistos colados na cabeça de manequim são para que o sistema ATOS 
concatene medições em diferentes regiões da peça, que foi medida por 
completo. O erro máximo especificado é da ordem de ± 0,03 mm, 
suficiente para a avaliação do sistema estéreo descrito na presente tese. A 
medição de referência obtida pode ser vista na figura 99. 

???? = 99,283 ±  0,005

????2 =  50,143 ±  0,053????1 = 50,117 ±  0,031

??1 ??2



186 

 
Figura 98 – Cabeça de manequim durante calibração com sistema GOM ATOS 
(GOM, 2015) em laboratório da Fundação CERTI. 

 
Figura 99 – Resultado da medição de referência (calibração) da cabeça de 
manequim com o sistema GOM ATOS. 

Placa com cavidade preenchida com cordões de solda 

Essa peça é uma réplica de um trecho de pá de turbina hidráulica 
de grande porte a qual possuía uma região usinada simulando a cavidade 
decorrente da perda de material devido à cavitação. Essa cavidade na peça 
foi preenchida com cordões de solda por um robô durante testes de 



187 

 
 

deposição de soldagem no projeto RoboTurb21. A placa também foi 
calibrada com o sistema GOM ATOS. 

 
Figura 100 – Réplica de parte de região cavitada de pá de turbina hidráulica 
preenchida com cordões de solda. 

5.5.4 Objetos não calibrados (exemplos de medição) 
A título de exemplo de possíveis aplicações da técnica de medição 

através de superfícies planas de refração, realizou-se a medição em meio 

                                                        
 
 
21 “O RoboTurb é um sistema automatizado, desenvolvido em conjunto pela UFSC, o LACTEC, 
a COPEL e FURNAS, capaz de realizar “in situ” a recuperação de superfícies erodidas por 
cavitação de rotores de turbinas hidráulicas de grande porte”. Texto do site: 
http://robotica.ufsc.br/roboturb. 



188 

subaquático de uma seção de tubo PVC de 305 mm (12”) de diâmetro e 
de um riser de 152 mm (6”) de diâmetro. 

5.6 VISUALIZAÇÃO E ANÁLISE DOS RESULTADOS 

A visualização das nuvens de pontos, planos e esferas ajustadas foi 
realizada tanto no MATLAB quanto no software GOM Inspect 2016 
(versão gratuita22). Para uma melhor visualização do resultado de 
medição, foram geradas superfícies/malhas a partir das nuvens de pontos 
obtidas. Esse procedimento foi realizado no software GOM Inspect. A 
figura 101 mostra a nuvem de pontos e superfície resultante da medição 
da face da cabeça de manequim. 

 
Figura 101 – Exemplo de superfície obtida e detalhe da nuvem de pontos da 
medição da face de um manequim no ar com a resolução padrão do sistema 
0,1×0,1×0,01 mm³. 

A comparação dos resultados de medição de objetos de forma 
complexa calibrados é realizada também com auxílio do software GOM 
Inspect. Para tal, a malha obtida é alinhada com a medição de referência 
                                                        
 
 
22 Link para baixar o software GOM Inspect https://support.gom.com/display/SOFTWARE/. 



189 

 
 

e a distância normal (desvio ou erro) da malha à referência é computada. 
O resultado é apresentado na forma de um mapa de cores (relacionadas 
ao valor desvio) sobre a superfície de referência. Os valores máximos e 
mínimos foram ajustados manualmente para uma melhor visualização do 
resultado obtido. Ao lado do mapa de cores existe um histograma dos 
desvios. O software também fornece o desvio padrão dos erros mostrados 
no mapa de desvio. 

 
Figura 102 – Exemplo de mapa de desvios. Medição de referência do objeto é 
colorida conforme os desvios em relação à medição sendo avaliada. Note o 
histograma de desvios ao lado da escala do mapa de cores e sistema de 
coordenadas no canto inferior esquerdo. 

 

0,15

0,12

0,09

0,06

0,03

-0,06

-0,03

-0,09

-0,12

-0,15

0,00

[mm]





191 

 
 

6 RESULTADOS EXPERIMENTAIS E DISCUSSÕES 

Os resultados experimentais aqui descritos foram realizados 
conforme os procedimentos listados no capítulo anterior. Foram 
realizadas medições no ar com o modelo SVP, e na água, com a 
aproximação dos efeitos da refração por SVP e com a modelagem física 
da refração (Refra). 

Durante os experimentos, a temperatura do ar foi de (23 ± 2) °C e 
da água de (21 ± 2) °C. 

6.1 IMPLEMENTAÇÃO DO CÓDIGO PARA A MEDIÇÃO 

O cálculo da nuvem de pontos foi inicialmente feito com scripts 
em MATLAB, uma vez que é uma interface comumente utilizada no meio 
científico, com diversas funções prontas e grande facilidades para o uso 
de matrizes. Em sequência, visto a necessidade de redução do tempo de 
processamento, o código foi convertido para o C++, obtendo-se uma 
grande redução no tempo de processamento. 

Durante o desenvolvimento, a verificação do Algoritmo Iterativo 
para a Projeção Através de Interfaces Planas de Refração 
(????????????????????????????) foi realizada conforme os seguintes passos: Projeção 
inversa de pontos na imagem. Seleção de um ponto qualquer do feixe na 
última interface. Projeção direta utilizando o método a ser testado. 
Cálculo da diferença entre o ponto projetado e o originalmente utilizado 
para a projeção inversa. O erro obtido foi desprezível (&amp;lt;1E-8 mm) para 
pontos 2D simulados em toda região da imagem. 

6.1.1 Código inicial em MATLAB 
Como dito anteriormente, (AGRAWAL et al., 2012) mostra que a 

projeção direta através de duas interfaces planas de refração com (três) 
meios com índice de refração diferentes resulta numa equação de ordem 
12. O artigo publicado por Agrawal possui material extra com uma função 
em MATLAB que resolve essa equação, assim como um código que 
verifica seu resultado. Sendo assim, o ??????????2 foi alterado para utilizar 
este método de projeção direta considerando a refração ao invés da 
simples projeção no ar, podendo-se assim obter os primeiros resultados e 



192 

validar a triangulação inversa através de interfaces planas de refração. Em 
sequência, o Algoritmo Iterativo para a Projeção Através de Interfaces 
Planas de Refração (????????????????????????????) foi desenvolvido. Mesmo sendo 
um algorítmo iterativo, para o caso de três meios, é em torno de três vezes 
mais rápido no MATLAB do que a solução direta por polinômio. Ambas 
as funções foram vetorizadas. Durante os testes, o ???????????????????????????? 
convergiu em 5 ± 3 iterações para uma tolerância de erro 3D de 
0,001 mm. Se comparado à aproximação por SVP, pode-se considerar que 
o método possui um alto custo computacional, uma vez que calcula o 
caminho óptico da luz através das interfaces de refração, ao invés de uma 
simples reta, que é o caso da aproximação SVP na água. O tempo de 
processamento do método ficou em torno de 15 vezes maior do que a 
aproximação por SVP. 

6.1.2 Otimização do código (C++) e avaliação da performance   ... 
Devido ao uso intenso de matrizes e vetores nos algoritmos, optou-

se pela utilização da biblioteca de álgebra para C++ Eigen23, 24. Esta 
biblioteca facilita a conversão do código feito em MATLAB para C++. 

O algoritmo iterativo de projeção (????????????????????????????) que inclui a 
projeção inversa (????????????????????????) foi convertido para C++. Para chamar 
essa função em C++ dentro do ZScan no MATLAB, foi necessário criar 
uma função de interface25. Como a projeção direta (????????????????????????????) é 
a parte de maior demanda computacional no processamento, esta 
conversão foi a que resultou no maior ganho de velocidade26, que foi de 
oito vezes. Em sequência, o restante do código também foi convertido 
para o C++, reduzindo o tempo em mais de seis vezes. Por fim, em 
comparação ao código original em MATLAB, o ganho acumulado de 
velocidade foi de 48 vezes. Estes dados são compilados na tabela 23. Com 
isto, o tempo de processamento de uma medição típica passou de mais de 

                                                        
 
 
23 Eigen - biblioteca em C++ para álgebra linear: http://eigen.tuxfamily.org. 
24 Guia rápido para o Eigen e relação Eigen/MATLAB: 
http://eigen.tuxfamily.org/dox/AsciiQuickReference.txt 
25 Utilizou-se a função mexFunction, mais detalhes em: 
https://www.mathworks.com/help/matlab/apiref/mexfunction.html. 
26 Testes de processamento realizados em um computador com as seguintes especificações: 
processador Intel i7 4770 @ 3,4 GHz; RAM 8 GB; placa de vídeo NVIDIA GTX 770; Windows 
10 64 bits. 



193 

 
 

6 horas para menos de 10 minutos, sendo que o processamento de regiões 
menores ou com uma resolução ???? mais grosseira (por ex.: 1 mm ao invés 
de 0,1 mm), o tempo de processamento cai exponencialmente (100 vezes 
mais rápido). 

Tabela 23 – Avaliação do tempo de processamento para uma medição típica (face 
de manequim) com resoluções em ?????? de (0,1 × 0,1 × 0,01) mm, obtendo 
aproximadamente 18.400 pontos.  

Caso ???????????? ???????????????????????????? 
Tempo26 
hh:mm 

Ganho de 
velocidade 

1 MATLAB MATLAB 06:20 - 

2 MATLAB C++ 00:46  8×  
(em relação ao caso 1) 

3 C++ C++ 00:08  6× 
(em relação ao caso 2) 

Total 48× 

6.1.3 Interface final (Labview) 
Após o desenvolvimento do código em C++, criou-se uma 

interface em Labview (Figura 103) que chama os métodos em MATLAB 
e C++. Esta interface facilita a seleção do volume e resolução da medição, 
local dos arquivos de origem e seleção entre processamento para testes 
(caso 1, 2 ou 3 da tabela 23). Como a integração Labview/MATLAB é 
muito simples, optou-se por manter a chamada em C++ dentro do script 
em MATLAB.  



194 

 
Figura 103 – Interface do software desenvolvido na tese no Labview. 



195 

 
 

6.2 CALIBRAÇÃO DAS CÂMERAS NO AR (SVP) 

A seguir descreve-se o processo de aquisição das imagens e do 
resultado de calibração obtido. 

6.2.1 Aquisição das imagens 
Foram adquiridas imagens dentro do campo de visão simultâneo 

das duas câmeras. Isto foi feito com o intuito de realizar uma otimização 
estéreo da calibração, onde existe a restrição de que a posição relativa 
entre as câmeras é fixa. Foram aproveitadas 24 imagens de 32 adquiridas. 
Exemplos de imagens obtidas pelo sistema e pela câmera auxiliar central 
podem ser vistos na figura 104. 

  
 

 
Figura 104 – Uma das aquisições do padrão tipo xadrez durante a calibração no 
ar. Imagem da câmera esquerda, direita e auxiliar. 



196 

6.2.2 Parâmetros obtidos 
Realizou-se a calibração individual das câmeras e, na sequência, 

uma otimização estéreo. A tabela 24 lista os parâmetros intrínsecos das 
câmeras. Os valores estão em pixel, mas pode-se converter os dados para 
milímetros multiplicando pelo tamanho do pixel (4,4 ????). O 
comprimento focal obtido em milímetros está próximo do nominal da 
lente (8 mm), conforme era esperado. A matriz de transformação do 
sistema de coordenadas da câmera (SCC) esquerda para a direita (????????) 
é exposta na tabela 25. A distância obtida entre os centros de projeção das 
câmeras foi de ~ 275 mm. 

Tabela 24 – Parâmetros intrínsecos da câmera e de distorção da lente obtidos na 
calibração no ar. 

Item Câmera esquerda (??) Câmera esquerda (??) 

Dist. 
focal 

???? = ?
1.892,35
1.894,50? ???? = ?

1.896,32
1.897,10? 

Distância focal média: 8,36 mm Distância focal média: 8,35 mm 

Centro ???? = ?
804,24
593,74? ???? = ?

794,04
611,04? 

Matriz 
????

= ?
1.892,35 0 804,24

0 1.894,50 593,74
0 0 1

? 

????

= ?
1.896,32 0 794,04

0 1.897,10 611,04
0 0 1

? 

D
is

to
rç

ão
 

??1 ?9,757 × 10?2 ??1 ?9,594 × 10?2 

??2 1,811 × 10?1 ??2 1,533 × 10?1 

??2 ?2,687 × 10?3 ??2 ?8,807 × 10?3 

??1 ?1,281 × 10?3 ??1 ?2,209 × 10?3 

??3 0 ??3 0 



197 

 
 

Tabela 25 – Relação estéreo – rotação e translação do sistema de coordenadas da 
câmera esquerda para a direita. Valores em milímetros. 

Item Câmera esquerda para a direita 

Rotação ?????? = ?
0,7558 0,0196 0,6545
?0,0111 0,9998 ?0,0171
?0,6547 0,0056 0,7559

? 

Translação ?????? = ?
?256,81

1,89
97,38

? 

Distância ???????? = 274,66 

Após a calibração do sistema estéreo definiu-se a matriz de 
transformação do SCO para o SCC esquerda (??????) com os parâmetros 
extrínsecos da imagem do padrão de círculos vazados obtida pela câmera 
esquerda (Figura 91). A matriz de transformação do SCO para o SCC 
direita (??????) pode ser obtida pela multiplicação: ?????? = ??????????????. A 
tabela 26 expõe os parâmetros obtidos. 

Tabela 26 - Parâmetros extrínsecos – calibração no ar. Valores em milímetros. 

Câmera esquerda (??) Câmera esquerda (??) 
???? = 

?
0,9345 ?0,0105 0,3558
?0,0075 ?0,9999 ?0,0099
0,3559 0,0066 ?0,9345 

? 

???? = 

?
0,9391 ?0,0233 ?0,3429
?0,0240 ?0,9997 0,0021
?0,3429 0,0062 ?0,9394

? 

???? = ?
?21,28

7,99
450,35

? ???? = ?
22,02
2,42

451,75
? 

?????? = 450,92 ?????? = 452,29 

A figura 105 expõe os mapas de distorção radial e tangencial 
obtidos para a câmera esquerda. O mapa de distorção completo pode ser 
visto na figura 106. A câmera direita possui mapa de distorção similar. 



198 

 

 
Figura 105 – Mapa de distorção radial e tangencial da calibração SVP no ar para 
a câmera esquerda. Sendo “?” o centro obtido na calibração e “+” o centro da 
imagem. 



199 

 
 

 
Figura 106 – Mapa de distorção completo da calibração SVP no ar da câmera 
esquerda. Sendo “?” o centro obtido na calibração e “+” o centro da imagem. 

6.2.3 Erro de reprojeção 
A figura 107 mostra o erro de reprojeção27 das câmeras esquerda e 

direita. As poses obtidas do padrão de calibração são expostas na figura 
108, sendo que o cubo representa o volume de medição no ar. 

   
Figura 107 – Histograma relativo (%) do erro de reprojeção (em pixel) da 
calibração no ar para a câmera da esquerda (??) e direita (??) antes da otimização 
estéreo. 

                                                        
 
 
27 Erro de reprojeção é a diferença dos pontos 3D do padrão projetados com os dados de 
calibração obtidos em relação aos pontos 2D identificados na imagem, conforme descrito em 
5.4.2. 

0%

5%

10%

15%

0,00 0,20 0,40 0,60 0,80

Fr
eq

uê
nc

ia
 %

Erro [pi xel ]

Míni mo: 0,001
Má xi mo: 0,745

Mé di o: 0,118
??: 0,076

Pontos : 4.224

0%

5%

10%

15%

0,00 0,20 0,40 0,60 0,80

Fr
eq

uê
nc

ia
 %

Erro [pi xel ]

Míni mo: 0,002
Má xi mo: 0,551

Mé di o: 0,127
??: 0,078

Pontos : 4.224



200 

    

 
Figura 108 – Vista superior, lateral e perspectiva das poses calculadas do padrão 
após calibração SVP no ar. Cubo de lado 200 mm representa o volume de 
medição. Sistema de coordenadas da câmera esquerda. 

-100 0 100 200

X

0

100

200

300

400

500

600

Z

19

313220

21

13

5
27

14

25

121 266

2

7

29

9

16

Y

Y

10

23

XZ
Right Camera

Z
Left CameraX

 

30

22

24

X
R

ight C
am

era
Y

Z

19

2 22

27
12 26

 

20
3231
25

XY
Left C

am
era

Z

21 145
1

6
7

16
10

23
9

29 30

13

24

600
400

500
0

300
200

100
Z

-100

-50 0

Y

50

100

150

-100

600

203231257
1

1927
21

13
1226

0

500

Y

6

100

400

23

2
9

514

2210

Z

300

 

29
16

24

X
Y

200

Z

200

Right Camera
30

100

X

100 0

-100
0

Y
Z XLeft Camera



201 

 
 

6.3 CALIBRAÇÃO DAS CÂMERAS NA ÁGUA (SVP) 

Foram utilizadas as 20 melhores imagens de 24 adquiridas em 
diferentes poses do padrão dentro do tanque. A figura 109 ilustra as 
imagens obtidas durante uma das poses adquiridas na água do padrão 
plastificado tipo tabuleiro de xadrez. 

 

 
Figura 109 – Imagens obtida pelo sistema e pela terceira câmera durante 
calibração SVP na água. 

6.3.1 Parâmetros obtidos 
A tabela 24 lista os parâmetros intrínsecos obtidos. Os valores 

estão em pixel, mas assim como na calibração no ar, pode-se converter os 
dados para milímetros multiplicando pelo tamanho do pixel (4,4 ????). A 
relação entre os sistemas de coordenadas das câmeras após a otimização 
estéreo pode ser vista na tabela 29. A transformação do SCO para o SCC 
esquerda foi definida como a mesma que no ar. A tabela 28 expõe os 
parâmetros extrínsecos das câmeras. 



202 

Tabela 27 – Parâmetros intrínsecos da câmera e de distorção da lente obtidos na 
calibração na água. 

Item Câmera esquerda (??) Câmera esquerda (??) 

Comp. 
focal 

???? = ?
2532,21
2534,70? ???? = ?

2533,92
2537,52? 

Distância focal média: 11,15 mm Distância focal média: 11,16 mm 

Centro ???? = ?
833,66
624,25? ???? = ?

821,62
625,63? 

Matriz 
completa 

????

= ?
2532,21 0 833,66

0 2534,70 624,25
0 0 1

? 

????

= ?
2533,92 0 821,62

0 2537,52 625,63
0 0 1

? 

D
is

to
rç

ão
 

??1 1,976E-1 ??1 1,931E-1 

??2 5,332E-1 ??2 7,126E-1 

??2 3,980E-3 ??2 1,270E-3 

??1 7,182E-3 ??1 5,157E-3 

??3 0 ??3 0 

Tabela 28 – Relação estéreo – rotação e translação (????????) do sistema de 
coordenadas da câmera esquerda para a direita para a calibração SVP na água. 
Valores em milímetros. 

Item Câmera esquerda para a direita 

Rotação ?????? = ?
0,7559 0,0121 0,6546
?0,0068 0,9999 ?0,0106
?0,6546 0,0035 0,7559

? 

Translação ?????? = ?
?260,79

1,29
96,02

? 

Distância ???????? = 277,91 



203 

 
 

Tabela 29 - Parâmetros extrínsecos – calibração na água. Valores em milímetros. 
Câmera esquerda (??)  

(forçado mesmo que no ar) 
Câmera esquerda (??) 

?????? = ?????????????? 
???? = 

?
0,9345 ?0,0105 0,3558
?0,0075 ?0,9999 ?0,0099
0,3559 0,0066 ?0,9345 

? 

???? = 

?
0,9393 ?0,0157 ?0,3428
?0,0176 ?0,9998 ?0,0024
?0,3427 0,0083 ?0,9394

? 

???? = ?
?21,28

7,99
450,35

? ???? = ?
18,00
4,66

450,42
? 

?????? = 450,92 ?????? = 450,80 

A figura 110 expõe os mapas de distorção radial e tangencial 
obtidos. O mapa de distorção completo pode ser visto na figura 111. 

 

 
Figura 110 – Mapa de distorção radial e tangencial da calibração SVP na água. 
Sendo “?” o centro obtido na calibração e “+” o centro da imagem. 



204 

 
Figura 111 – Mapa de distorção completo da calibração SVP na água. Sendo “?” 
o centro obtido na calibração e “+” o centro da imagem. 

6.3.2 Relação com a calibração no ar 
A tabela 30 compara alguns dos parâmetros obtidos com a 

calibração SVP realizada no ar e na água. É interessante notar que a 
distância focal média obtida na água (11,16 mm) é em torno de 1,33 (33%) 
maior do que o no ar (8,36 mm), valor o qual está relacionado com a 
relação do índice de refração no ar e na água. Os parâmetros de distorção 
variam relativamente mais e, conforme mostrado em (KANG; WU; 
YANG, 2012), possuem influência muito significativa na compensação 
da refração utilizando o modelo SVP. 



205 

 
 

Tabela 30 – Comparação entre calibração SVP obtida no ar e na água. 
Item Símbolo Ar Água Relação Variação 

Distância focal L ???? 8,36 mm 11,15 mm / 1,33340 
Distância focal R ???? 8,35 mm 11,16 mm / 1,33619 

Distância câmeras ?????? 274,66 mm 277,91 mm ? 3,25 mm 

Distorção esquerda 
[pixel] 

??1 -9,757E-02 1,976E-01 % -303% 
??2 1,811E-01 5,332E-01 % 194% 
??2 -2,687E-03 3,980E-03 % -248% 
??1 -1,281E-03 7,182E-03 % -661% 
??3 0 0 % 0% 

6.3.3 Comparação da correção da distorção 
Na figura 112 pode-se notar a grande diferença entre os mapas de 

distorção obtidos no ar e na água. Já a figura 113 mostra a diferença visual 
antes e após a correção da distorção no ar e na água utilizando as 
calibrações obtidas no ar e na água. Nota-se bordas na imagem obtida na 
água com correção de distorção dos parâmetros na água (Água / Água). 
No detalhe (regiões pontilhadas) nas imagens nota-se que, aparentemente, 
ocorre uma boa compensação da distorção devido a refração com os 
parâmetros obtidos na água, já que os círculos ficam mais alinhados com 
a linha de referência traçada. No entanto, deve-se lembrar que essa 
compensação nem sempre é suficiente, uma vez que a distorção devido a 
refração é uma distorção 3D, que depende da distância do objeto, e não 
2D, conforme descrito na seção 3.4. 



206 

 

 
Figura 112 – Comparação entre o mapa de distorção dos parâmetros obtidos na 
calibração no ar (cima) e na água (baixo) da câmera esquerda. 



207 

 
 

 
Figura 113 – Exemplo de correção da distorção de imagens obtidas no ar (A) e 
na água (W) (coluna da esquerda) com parâmetros de distorção obtidos em 
calibração no ar e na água (coluna da direita). Imagens obtidas com a câmera 
esquerda. No detalhe, as regiões em pontilhado comparam a imagem obtida na 
água após a correção da distorção com os parâmetros obtidos no ar e na água. 

6.4 CALIBRAÇÃO NA ÁGUA – PARÂMETROS DE 
REFRAÇÃO (REFRA) 

A seguir descreve-se a obtenção dos parâmetros de refração 
utilizando a modelagem física (Refra). Em sequência, após a obtenção 

A A

W

A

W



208 

dos valores ótimos (calibração Refra completa), o erro residual foi 
recalculado para diferentes valores de espessura das interfaces e índices 
de refração com o intuito de verificar a influência da variação de 
parâmetros de refração no erro. Estas análises, expostas nas seções 
seguintes, são importantes pois permitem quantificar se é necessário, por 
exemplo, recalibrar um sistema que foi calibrado em água com diferente 
temperatura ou salinidade. 

6.4.1 Parâmetros de refração conhecidos 
Alguns parâmetros de refração podem ser obtidos diretamente, 

como a espessura do vidro do tanque (??1), os índices de refração (??0,1,2), 
podendo utilizar-se os valores tabelados ou então medi-los com o auxílio 
de um refratômetro. A espessura da parede de vidro do tanque foi medida 
com um micrômetro, o valor obtido após sete medições foi de ??1 =
(5,94 ± 0,05) mm. O índice de refração no ar pode ser considerado como 
??0 = 1,0000. O índice de refração do vidro pode ser considerado como o 
valor tabelado ??1 = 1,5200. Por fim, o índice de refração da água do 
laboratório utilizada nos experimentos foi medido com um refratômetro 
no Laboratório de Físico-químico da UNOCHAPECÓ. O equipamento 
possui divisão de escala de 0,0005 e o valor médio após três medições foi 
de 1,3335 ± 0,0005. A temperatura da água era de 17,5°C, um pouco 
abaixo da temperatura em que realizou-se os experimentos (~ 21°C) no 
Labmetro. O índice de refração na água foi o único medido para 
comparação com resultado da otimização uma vez que é o de maior 
influência no erro de medição. De toda forma, pode-se incluir o índice de 
refração de todos os meios na otimização e uma avaliação da influência 
de suas variações é feita na seção 6.4.5. 

Os parâmetros listados acima são os mesmos para ambas as 
câmeras. Já no caso das distâncias (espessura do meio #0) e orientação às 
janelas do tanque, pode-se ter valores consideravelmente diferentes para 
cada uma das câmeras (??0

??, ??0
??, ????, ????). Estes parâmetros foram obtidos 

com auxílio da terceira câmera, conforme descrito no Apêndice C. 

A tabela 31 compila todos parâmetros de refração previamente 
conhecidos, os quais são utilizados como estimativa inicial, valor fixo ou 
apenas como referência para comparar com o resultado de calibração. 



209 

 
 

Tabela 31 – Parâmetros de refração conhecidos. Eixo das câmeras ?? em 
milímetros. 

Símbolo 
Nominal Valor medido 

Valor obtido com Câmeras 
(?? e ??) Câmera ?? Câmera ?? 

?? ?
0
0
1
? ?

?0,01406
0,00382
0,99989

? ?
0,00773
0,01160
0,99990

? 
Parâmetros extrínsecos 
de padrão nas janelas do 
tanque. Valores obtidos 
com a calibração no ar 
do sistema estéreo e 
terceira câmera. Ver 
Apêndice C. 

????? 0,00 0,83° 0,80° 

??0 - 18,61 mm 18,76 mm 

??1 6,00 5,94 ± 0,05 mm 
Medição com 
micrômetro 

??0 1,0000 - Tabelado 
??1 1,5200 - Tabelado 

??2 1,3300 1,3335 ± 0,0005 
Medição com 
refratômetro 

6.4.2 Aquisição das imagens 
As imagens obtidas para a calibração dos parâmetros de refração e 

para calibração utilizando o modelo SVP na água foram as mesmas, 
todavia, foram utilizadas apenas 9 imagens para a obtenção dos 
parâmetros de refração. 

6.4.3 Parâmetros de refração obtidos 
Para a otimização selecionou-se 9 dos 24 pares de imagens obtidos 

dentro da água. As poses do padrão obtidas após a otimização podem ser 
vistas na figura 114. A tabela 32 expões a legenda de cores, erro máximo, 
médio e desvio padrão obtido para cada uma das 9 imagens. 



210 

   

  
Figura 114 – Poses estimadas do padrão após a otimização dos parâmetros de 
refração. O cubo refere-se ao volume de medição de 200³ mm³ definido no ar. 

Tabela 32 – Legenda de cores, erro máximo, médio e desvio padrão final das 9 
imagens utilizadas na calibração. Valores em milímetros. 

Cor # Erro máximo Erro médio ?? 
 1 0,270 0,065 0,034 
 2 0,282 0,067 0,033 
 3 0,268 0,052 0,030 
 4 0,282 0,057 0,033 
 5 0,287 0,059 0,037 
 6 0,282 0,060 0,039 
 7 0,343 0,056 0,040 
 8 0,396 0,078 0,057 
 9 0,246 0,061 0,030 

21 5
158

13
12

23
214

500

400

Z

300

         
              

       

200

-100

-100

-50

X

0 100

Y

0

100

Camera L
Y

c

50

Z
c

Camera R

Z
c

Y
c

200

X
c X c

0

 

 

  

   

       

      

      

      

      

      

      

      

      

      

-100 0 100 200

X

0

100

200

300

400

500

Z

21

158

14

5

2
23

12

Camera R

Camera L

Y
c

13

Y
c

         
              

       

X
c

Z
c

X
c

Z
c

 

 

  

   

       

      

      

      

      

      

      

      

      

      

13

5
-100 1521

X
c12

-50

8 2
23

Camera R
Y

c
0 Z c

14

Y

50

         
              

       

500 200400 100

Z X

300

X
c

Camera L
Y

c

Z
c

0200
100 -100

0

 

 

  

   

       

      

      

      

      

      

      

      

      

      



211 

 
 

 

Os parâmetros de refração obtidos são listados na tabela 33 sendo 
que se optou pelo uso dos valores nominais como estimativa inicial. 
Foram otimizados o eixo da câmera, a distância as janelas e o índice de 
refração da água (??, ??0, ??2), sendo que o índice de refração é o mesmo 
para ambas as câmeras. Não foram utilizados os valores conhecidos dos 
eixos das câmeras (A) e distâncias às interfaces do tanque (??0) pois a 
maneira como estes foram obtidos, apesar de poder ser realizada de forma 
relativamente simples na montagem “inversa” utilizada nos ensaios, não 
pode ser facilmente reproduzida em um protótipo compacto. Além disso, 
existe uma série de erros atrelados a obtenção dos parâmetros extrínsecos 
que podem resultar numa calibração pior do que a obtida com a 
otimização. Com isto em vista, para avaliar a diferença dos resultados 
obtidos com valores otimizados e de referência, realizou-se uma 
comparação dos erros obtidos utilizando desde a otimização completa até 
a condição sem nenhuma otimização. Essa comparação é exposta na seção 
6.11. 

Tabela 33 – Parâmetros de refração estimados, limites e após a otimização. Os 
parâmetros que foram otimizados estão destacados em vermelho (??, ??0, ??2) e com 
*. Coordenadas ?? e distâncias ???? em milímetros. 

Símbolo 
Estimativa inicial Valor após minimização 

Câmeras (?? 
e ??) 

Limite 
inferior 

Limite 
superior Câmera ?? Câmera ?? 

?? * ?
0
0
1
? ?

±0,176
±0,176

1
? 

(normalizado) 
?
?0,01504
0,00278
0,99988

? ?
?0,00995
0,00334
0,99994

? 

????? 0,00° 0,00° 10,00° 0,88° 0,60° 
??0 * 20,000 1,000 60,000 16,938 16,496 

??1 
6,00 

(nominal) Constante 6,00 

??0 1,0000 Constante 1,0000 
??1 1,5200 Constante 1,5200 
??2 * 1,3300 ± 0,0500 1,3381 



212 

Os vetores de erro 3D para cada pose do padrão são expostos na 
figura 115. Conforme pode-se notar na imagem, foram removidos da 
calibração três pontos (região superior direita) que apresentavam um erro 
muito maior do que os outros. Este erro pode ser devido a problemas na 
impressão e/ou na identificação do ponto na imagem. Nota-se que os 
vetores não possuem uma componente sistemática global, que pode 
ocorrer caso a otimização não convirja ou devido à problemas no ajuste 
dos pontos do padrão aos projetados.  

O histograma dos erros é exposto na figura 116, assim como o erro 
mínimo, máximo, médio e desvio padrão. 

 
Figura 115 – Vetores de erro para todas as nove posições do padrão. Foram 
excluídos da otimização três pontos da linha superior, começando pelo segundo 
da esquerda para a direita. O maior vetor representa um erro de 0,30 mm. 

-10
-5
0
5

Z

0

-20

        
          

-40

Y

-60
150

-80 100

X

50-100

0

       

      

      

      

      

      

      

      

      

      



213 

 
 

 
Figura 116 – Histograma relativo (%) do erro dado pela distância dos pontos 
triangulados e do padrão. 

6.4.4 Influência da variação das distâncias 
Variou-se a distância da parede do tanque às câmeras esquerda e 

direita (??0
??, ??0

??) em ± 1 mm. O gráfico 3D exposto na figura 117 mostra o 
erro máximo (?????????? = ??? + 2??) obtido para tal variação. A variação do 
erro para apenas uma das distâncias (esquerda) pode ser visto na figura 
118.  Apesar do erro aumentar para distâncias diferentes da otimizada, 
pode-se considerar que essa variação é pequena, sendo seu valor extremo 
obtido quando subtraídos um milímetro de ambas as distâncias, obtendo 
?????????? de calibração de 0,16 mm (28%). Já a figura 119 mostra a variação 
do erro em relação a espessura da parede do tanque (??1). Nesse caso, nota-
se uma sensibilidade menor. Isso ocorre provavelmente devido ao fato de 
que o desvio dos feixes que corre dentro do vidro ser pequeno. 

0%

5%

10%

15%

0,00 0,05 0,10 0,15 0,20 0,25 0,30

Fr
eq

uê
nc

ia
 %

Erro [mm]

Míni mo: 0,005
Má xi mo: 0,297

Mé di o: 0,059
??: 0,033

Pontos : 1.557



214 

  
 

 
Figura 117 – Vista perspectiva e superior da variação do erro residual de 
calibração variando a distância da parede do tanque na câmera esquerda e direita 
(??0??, ??0??) em ± 1 mm após a otimização. 

0.13

0.135

0.14

0.145

0.15

0.155

16

E
rr

o 
(m

éd
ia

 +
 2

) 
m

m

16.5 17

d
0
L

17 16.5

d
0
R

17.5 1615.5

Erro d
0

 L R [mm]

Otimizado [16.938 16.496 0.125]

0,155

0,150

0,145

0,140

0,135

0,130

 
 

Otimizado [16,94 16,50] 
Erro

16 16.2 16.4 16.6 16.8 17 17.2 17.4 17.6 17.8

d
0
L

15.6

15.8

16

16.2

16.4

16.6

16.8

17

17.2

17.4

d
0R

17,4

17,0

16,2
16,0

16,4
16,6
16,8

17,2



215 

 
 

 
Figura 118 - Erro de calibração em relação à variação da distância à parede do 
tanque da câmera esquerda (??). Parâmetros de refração otimizados com 
??0?? = 16,938 mm. 

 
Figura 119 – Erro de calibração em relação à variação da espessura da parede do 
tanque de água. Parâmetros de refração otimizados com ??1 = 6,00 mm (valor 
nominal). 

6.4.5 Influência da variação do índice de refração 
Conforme a tabela 3 (seção 3.1.3), o índice de refração da água 

aumenta em torno de 0,001 para uma redução na temperatura de 10°C. A 

0%

2%

4%

6%

8%

10%

12%

0,00

0,05

0,10

0,15

0,20

0,25

0,30

0,35

15,5 16,0 16,5 17,0 17,5 18,0

Va
ri

aç
ão

 re
la

tiv
a 

(?
+2
??

) %

Er
ro

 [m
m

]

dL0 [mm]

Máx ?
?? ? +2??
? +2?? %

0,21

0,13

0%

10%

20%

30%

40%

50%

60%

70%

80%

90%

0,00

0,05

0,10

0,15

0,20

0,25

0,30

0,35

0,40

0,45

0 2 4 6 8 10 12

Va
ri

aç
ão

 re
la

tiv
a 

(?
+2
??

) %

Er
ro

 [m
m

]

d1 [mm]

Máx ?
?? ? +2??
? +2?? %



216 

figura 120 mostra o erro de calibração considerando uma variação de 
temperatura de +/? 10°C, que resulta numa variação oposta do índice de 
refração aproximada de ?/+ 0,001 (note os sinais trocados). Com essa 
variação de temperatura, o erro estatístico máximo (???? + 2??) tem uma 
variação relativa de ± 20%. Conclui-se que variações de poucos graus (± 
2°C) na temperatura não são críticas. 

A mudança de salinidade (água doce para salgada) causa um 
aumento no índice de refração de 0,007 (sete vezes maior) e um 
consequente aumento no erro de 370%. Ou seja, deve-se calibrar o 
sistema no tipo de água em que será utilizado, doce ou salgada. Caso o 
sistema já tenha sido calibrado em um diferente tipo de água, a calibração 
pode ser um simples ajuste do índice de refração, utilizando um objeto 
padrão para verificação do erro. Todavia, conforme descrito na seção 5.4, 
deve-se atentar se a correspondência 2D 3D foi mantida, o que pode ser 
feito com um padrão tipo tabuleiro de xadrez ou com codificação absoluta 
de pontos (ex.: projeção de franjas na horizontal e vertical). 

 
Figura 120 – Erro da calibração em relação à variação do índice de refração da 
água em ± 0,001. Parâmetros de refração otimizados com ??2 = 1,3381. Sendo ???? 
o erro médio. 

0,15
0,13

0%

5%

10%

15%

20%

25%

0,00

0,05

0,10

0,15

0,20

0,25

0,30

0,35

0,40

1,3370 1,3375 1,3380 1,3385 1,3390

Va
ri

aç
ão

 re
la

tiv
a 

(?
+2
??

) %

Er
ro

 [m
m

]

??2 (água)

Máx ?
?? ? +2??
? +2?? %



217 

 
 

6.5 AVALIAÇÃO DO VOLUME DE MEDIÇÃO 

Conforme descrito na metodologia dos experimentos (5.4), o 
sistema de coordenadas do objeto (SCO) ou centro de medição no ar, foi 
definido como o centro do cubo de 200 mm dentro da zona de interseção 
(projetor/campo de visão das câmeras), com face frontal normal e o mais 
próximo possível do sistema. Após a calibração, os parâmetros do sistema 
foram utilizados para alimentar um modelo CAD. Para obter a região de 
projeção e ao mesmo tempo confirmar os dados inseridos no modelo 
CAD, realizou-se a medição de um plano com ~ 300×400 mm² em cinco 
posições ?? diferentes. Em sequência, os resultados das medições foram 
inseridos no modelo CAD. Por fim, foi possível coincidir o campo de 
visão do modelo CAD com as bordas das medições realizadas. O 
resultado final obtido é exposto na figura 121.  

 
Figura 121 – Vista perspectiva do modelo CAD do sistema e do volume de 
medição (cubo de 200 mm de lado) no ar. 

O mesmo procedimento de medição do plano foi realizado na água. 
O modelo CAD pode ser visto na figura 122. Nota-se que, devido à 
refração na água, o campo de projeção é bastante reduzido, 
impossibilitando a obtenção de um volume de medição na água em 



218 

posição similar. Durante os experimentos descritos no presente capítulo, 
posicionou-se os objetos de avaliação em toda região de interseção 
englobando ao máximo o volume que o sistema possui no ar. Como na 
água obtém-se um efeito de aproximação dos objetos, avaliou-se também 
o sistema em posições mais distantes em ??, o que possibilita compensar 
o volume perdido devido à aproximação aparente e ao campo de projeção 
reduzido. Com essas considerações, pode-se obter um mesmo volume na 
água delimitando um paralelepípedo com dimensões (?? × ?? × ??) 
160 × 200 × 250 mm3; com face frontal a 30 mm do CCO. 

 

 
Figura 122 – Vista perspectiva do modelo CAD do sistema e tanque mostrando o 
campo de projeção; campo de visão das câmeras e cinco posições de um plano 
medido, ilustrando o volume útil de medição na água. 

6.6 AVALIAÇÃO COM PLANO 

A seguir são descritos os resultados obtidos nos três diferentes 
experimentos com o plano padrão: mesma posição no ar e água, 
deslocamentos controlados e posições aleatórias inclinadas. 

6.6.1 Plano na mesma posição no ar e na água 
Realizou-se a aquisição do padrão plano numa mesma posição no 

ar e na água. O plano foi orientado (em relação ao SCO) coplanar ao plano 
????, centrado em ?? e em ?? e posicionado um pouco abaixo do centro em 



219 

 
 

?? (~ 14 mm). Para repetir a mesma posição em ambos os meios, foi 
utilizada uma base cinemática (ver figura 123). A possibilidade de 
remoção do plano facilita o posicionamento do tanque de água. 

As configurações do experimento no ar e água são expostas na 
figura 124. A figura 125 mostras as imagens obtidas para ambos os casos 
pelo sistema. Nota-se o efeito de magnificação da imagem devido à 
refração na água. 

 
Figura 123 – Base cinemática utilizada no experimento. 

  
Figura 124 – Fotos durante aquisição com plano na mesma posição no ar e na 
água. 



220 

  

  
Figura 125 – Imagens obtidas pelo sistema no ar (acima) e na água (abaixo) na 
mesma posição (??~ 0 mm). 

O desvio com relação ao plano ajustado em cada medição pode ser 
visto na figura 126, sendo que o mesmo foi calculado após a remoção dos 
pontos nas bordas do plano e dos pontos mais distantes ao plano ajustado. 

Comparando os resultados, pode-se notar um pequeno aumento na 
dispersão dos erros (??) de 0,02 mm para 0,03 mm na água. No caso da 
medição com modelagem da refração, a borda do plano na região inferior 
esquerda apresentou um erro maior que nos outros casos, atingindo 
valores até 0,1 mm. Esse erro é provavelmente devido a resíduos da 
calibração dos parâmetros de refração. Ambos valores estão próximos do 
erro de planeza obtido com a MMC, que foi de 0,28 mm. 



221 

 
 

 
-0,07 / 0,07 / 0,02 

Ar 
-0,10 / 0,09 / 0,03 

Água (SVP) 
-0,11 / 0,09 / 0,03 

Água (Refra) 
Figura 126 – Desvio ao plano ajustado em cada medição. Os valores abaixo da 
legenda de cores que estão separados por “/” representam o desvio: mínimo, 
máximo e ??. Valores em milímetros. 

Os resultados de medição obtidos sem nenhum tipo de filtragem 
no ar, água (SVP) e água (Refra) podem ser vistos nas figuras 127 e 128. 
Já a figura 129 mostra os resultados após a filtragem previamente descrita. 
Os resultados foram plotados num mesmo gráfico de forma a comparar a 
posição resultante em cada caso.  

  
Figura 127 – Vista frontal e perspectiva da medição do plano na mesma posição 
no ar (preto), água (SVP) (verde) e água (Refra) (azul). 

0
,1

0
0
,0

8
0
,0

6
0
,0

4

-0
,0

4

0
,0

0
-0

,0
2

-0
,0

6

0
,0

2

-0
,0

8
-0

,1
0

0
,1

0
0
,0

8
0
,0

6
0
,0

4

-0
,0

4

0
,0

0
-0

,0
2

-0
,0

6

0
,0

2

-0
,0

8
-0

,1
0

0
,1

0
0
,0

8
0
,0

6
0
,0

4

-0
,0

4

0
,0

0
-0

,0
2

-0
,0

6

0
,0

2

-0
,0

8
-0

,1
0



222 

  
Figura 128 – Vista superior e lateral da medição do plano na mesma posição no 
ar e água. 

  
Figura 129 – Vista superior e lateral da medição do plano na mesma posição no 
ar e água após remoção de pontos espúrios (1/1000) e distantes ± 0,2 mm. 

Todas as três calibrações possuem as mesmas matrizes de 
transformação de coordenadas do objeto para a câmera esquerda. 
Entretanto, conforme pode-se perceber nos resultados obtidos, as nuvens 
de pontos possuem posição e orientação diferentes. No caso da calibração 
utilizando o modelo físico de refração (Refra) essa diferença é bem sutil, 
o que indica que a modelagem e a calibração foram adequadas. Todavia, 
na aproximação dos efeitos da refração com o modelo SVP, esta diferença 
é muito grande. Um fator provável para tal efeito é que os parâmetros 
intrínsecos e de distorção das câmeras foram ajustados durante a 
calibração SVP na água de forma a reduzir o erro de reprojeção em pixel, 



223 

 
 

mas não necessariamente mantém a distância correta de cada pose do 
padrão utilizado, uma vez que essa posição é um resultado da otimização 
e não um requisito. Como o modelo SVP não representa fisicamente o 
que ocorre na refração e sim tenta compensar seus efeitos com a alteração 
do comprimento focal e parâmetros de distorção, as distâncias entre poses 
do padrão e câmeras também não representam mais a posição “real” física 
e sim a que resulta num menor erro. Com isto, pode-se concluir que 
quando se optar pela utilização da aproximação por SVP para interfaces 
planas de refração, o sistema de coordenadas no ar não pode ser 
considerado verdadeiro, e sim apenas uma aproximação. Caso exista a 
necessidade de definir o sistema de coordenadas do objeto em posição 
específica, pode-se utilizar uma das poses adquiridas na água. Já para uma 
relação com o sistema de coordenadas no ar, pode-se utilizar a aquisição 
de um objeto ou padrão na mesma posição em ambos os meios, como foi 
realizado no presente experimento, e então corrigir a matriz de 
transformação de forma que as medições se sobreponham. 

Para estimar as distância e inclinação entre os sistemas de 
coordenadas calculou-se o centro e orientação dos planos medidos em 
cada caso. A rotação no eixo ?? foi desprezada, sendo visualmente nula 
(Figura 127), as rotações em ?? e ?? combinadas são representadas pelo 
vetor normal ao plano ajustado. O centro é definido pelo ponto de 
interseção de uma linha ao plano ajustado, sendo a linha normal ao plano 
e também passante ao centro da esfera de menor diâmetro que 
circunscreve os pontos. As respectivas posições do centro do plano e sua 
normal são expostas nas três primeiras colunas da tabela 34. O diâmetro 
estimado do padrão através da menor esfera circunscrita também é 
indicado na tabela. As diferenças entre o sistema de coordenadas na água 
com o modelo SVP e Refra podem ser vistas na tabela 35. Os módulos 
dos vetores da distância entre os sistemas de coordenadas foram 
respectivamente de 8,02 mm e 0,64 mm e os ângulos entre vetores 
normais de 0,81° e 0,13°.  



224 

Tabela 34 – Normal e centro da medição do plano na mesma posição no ar e água 
(SVP e REFRA). 

Item Símbolo Ar Água SVP Água 

??? 

?? -0,000447 0,009633 0,001435 
?? -0,002742 -0,012623 -0,001411 
?? 0,999996 0,999874 0,999998 

?????? 0,16° 0,91° 0,12° 

Centro 
?? 2,27 -0,11 1,63 
?? -13,80 -8,62 -13,81 
Z 1,72 -3,92 1,72 

Diâmetro obtido 203,93 203,61 203,66 
Pontos 124.327 121.188 120.792 

Tabela 35 – Diferença entre sistema de coordenadas do objeto (SCO) na água 
com modelo SVP e Refra ao SCO no ar. 

Item Símbolo Água SVP Água Refra 
Ângulo em relação à ??? ???? ??????? 0,81° 0,13° 

Distância ao centro 

?? -2,38 -0,64 
?? 5,18 -0,01 
Z -5,64 0,00 

Módulo 8,02 0,64 

6.6.2 Plano normal em posições controladas (??) 
O mesmo plano padrão foi medido em diferentes posições com 

auxílio de uma mesa com deslocamento controlado (Figura 124). O plano 
foi posicionado nas cotas ?? (mm) nominais de: 100, 50, 0, -50 e -100 
conforme ilustra a tabela 36. Realizou-se três ciclos de aquisições no ar e 
quatro na água. As imagens foram processadas com o modelo SVP no ar 
e com o modelo SVP e refração (Refra) na água. Pontos espúrios foram 
removidos conforme o procedimento descrito no experimento anterior. 
Para cada medição, ajustou-se um plano matemático. 



225 

 
 

Tabela 36 – Posições nominais em ?? e cores utilizadas nas nuvens de pontos 
obtidas. 

Cor Aquisição # Posição [mm] Deslocamento [mm] 
 1 100 0 
 2 50 50 
 3 0 100 
 4 -50 150 
 5 -100 200 

A vista frontal e perspectiva das nuvens de pontos obtidas durante 
um dos ciclos de medição na água (Refra) são expostas na figura 130. 
Nota-se que, devido à refração, o volume de medição na água é reduzido 
no eixo ??, sendo que o mesmo aumenta de forma gradativa (ângulo de 
abertura vertical) até atingir 100% em torno da posição ?? = 50 mm. As 
figura 131 expõe as vistas superior e lateral. Pode-se notar na vista frontal 
e superior que o vetor deslocamento é visualmente normal aos planos e 
paralelo ao eixo ??. 

O vetor deslocamento foi definido como o vetor entre os centros 
das esferas menores circunscritas nas posições 100 e -100 em um dos 
ciclos de medição no ar. Avaliou-se então o ângulo entre o vetor 
deslocamento e a normal ao plano na posição 100. O ângulo obtido entre 
os vetores foi de 0,125°. Já o ângulo entre o vetor normal e o eixo ?? foi 
de 0,220°. Para a avaliação da tendência do sistema, deve-se idealmente 
tomar as distâncias entre os pontos de interseção do vetor deslocamento 
com cada plano ajustado. Como o vetor normal aos planos está 
suficientemente paralelo ao vetor deslocamento, utilizou-se esse vetor 
como referência. O erro devido a esta consideração pode ser calculado a 
partir do ângulo entre os vetores. Na avaliação de uma distância de 
200 mm, tem-se um erro de 0,0015 mm, que pode ser considerado 
desprezível para o ensaio. Sendo assim, em todas as medições, tomou-se 
o vetor normal ao primeiro plano como sendo a direção de deslocamento. 
As distâncias entre planos são obtidas a partir dos pontos de interseção do 
vetor normal ao primeiro plano com cada plano ajustado. 



226 

  

 

Figura 130 – Vista frontal e perspectiva das nuvens de pontos obtidas da medição 
do plano com deslocamentos controlados durante um dos quatro ciclos de 
medição na água. 

  
Figura 131 – Vista superior e lateral das nuvens de pontos obtidas da medição do 
plano com deslocamentos controlados durante um dos quatro ciclos de medição 
na água. A linha pontilhada representa o eixo ?? e a linha contínua vermelha 
representa o vetor normal ao plano #1. Nota-se que as linhas são visualmente 
coaxiais. 

A tabela 37 compila os resultados obtidos. Nota-se um aumento na 
tendência média para as medições na água em relação as do ar com 
máximo de 0,17 mm (vide última colona da tabela). Já os resultados 
obtidos com os modelos SVP e Refra são semelhantes, sendo que a 
tendência com o modelo Refra é no máximo 0,02 mm maior do que a 
obtida com o modelo SVP. A tendência relativa (%) teve pouca variação 



227 

 
 

em todos os casos para as diferentes posições do padrão, sendo seu valor 
máximo de 0,15%, 0,32% e 0,30%, respectivamente para as medições no 
ar, água (SVP) e água (Refra). A tendência (????) do sistema para os três 
casos de medição pode ser vista no gráfico da figura 132. A tabela 38 
compara a tenência obtida utilizado o modelo Refra com o SVP na água 
e com resultados no ar. Já os gráficos individuais de tendência (mm e %) 
e repetibilidade para 95% de confiança são expostos nas figuras 133, 134 
e 135. Deve-se notar que, como foram realizados menos ciclos no ar do 
que na água (respectivamente 3 e 8), a repetibilidade no ar ficou bem 
maior devido ao fator multiplicativo t-student para 95% de confiança.  

Tabela 37 – Tendência e repetibilidade (????) com intervalo de 95% de confiança 
para medição de deslocamentos controlados do plano no ar, água (SVP) e (Refra). 
Valores em milímetros. 

Des. 
Ar 

3 cíclos 
Água (SVP) 

8 cíclos 
Água (Refra) 

8 cíclos 

Td Td [%] ?? Re Td Td [%] ?? Re Td Td [%] ?? Re 

50 0,07 0,15% 0,04 0,20 0,16 0,32%  0,037  0,09 0,15 0,30% 0,04 0,09 

100 0,12 0,12% 0,04 0,18 0,22 0,22%  0,040  0,10 0,24 0,24% 0,04 0,10 

150 0,19 0,13% 0,03 0,14 0,31 0,21%  0,033  0,08 0,34 0,23% 0,03 0,08 

200 0,23 0,12% 0,05 0,22 0,40 0,20%  0,025  0,06 0,40 0,20% 0,03 0,06 

Max 0,23 0,15% 0,05 0,22 0,40 0,32% 0,04 0,10 0,40 0,30% 0,04 0,10 

Tabela 38 – Diferença entre a tendência utilizando o modelo Refra com o SVP na 
água (segunda coluna) e medições no ar (terceira coluna). Valores obtidos a partir 
dos dados das colunas 2, 3 e 4 da tabela 37. Valores em milímetros. 

Deslocamento 
Água (Refra - SVP) Ar - Água (Refra) 

Td Td 

50 -0,01 0,08 

100 0,02 0,12 

150 0,02 0,14 

200 0,01 0,17 

Max 0,02 0,17 

 



228 

 

 
Figura 132 – Tendência na medição de distância no ar, água (SVP) e água (Refra). 

 
Figura 133 – Tendência na medição de distância no ar.  

 
Figura 134 – Tendência na medição de distância na água (SVP). 

-0,2
-0,1
0,0
0,1
0,2
0,3
0,4
0,5

50 100 150 200

Td
  [

m
m

] 

Des l ocamento de referênci a [mm]

Td Ar Td Água (SVP) Td Água (Refra)

-0,2
-0,1
0,0
0,1
0,2
0,3
0,4
0,5

50 100 150 200

Td
 ±

2??
[m

m
] 

e 
Td

 [%
]

Des l ocamento de referênci a [mm]

Td Ar Td %

-0,2
-0,1
0,0
0,1
0,2
0,3
0,4
0,5

50 100 150 200

Td
 ±

2??
[m

m
] 

e 
Td

 [%
]

Des l ocamento de referênci a [mm]

Td Água (SVP) Td Água (SVP) %



229 

 
 

 
Figura 135 – Tendência na medição de distância na água (Refra). 

Os erros residuais de apalpação (distância normal entre ponto e 
plano ajustado) em todas as posições e ciclos de medição foram 
compilados e os histogramas normalizados (distribuições probabilidade, 
área = 1) obtidos são comparados na figura 136. Nota-se no histograma 
uma maior dispersão dos dados para as medições na água, sendo o desvio 
padrão obtido em torno de 1,6 vezes (60%) maior do que no ar. 

 
Figura 136 – Contorno do histograma normalizado (distribuição probabilidade, 
área = 1) do desvio para todas as posições e ciclos dos deslocamentos controlados 
do plano em cada meio e calibração. O número de pontos no ar é menor pois 
foram feitos 3 ciclos ao invés de 4 (água), todavia, com apenas um ciclo os 
histogramas já possuíam todos forma similar à exposta no gráfico. 

-0,2
-0,1
0,0
0,1
0,2
0,3
0,4
0,5

50 100 150 200

Td
 ±

2??
[m

m
] 

e 
Td

 [%
]

Des l ocamento de referênci a [mm]

Td Água (Refra) Td Água (Refra) %

0

5

10

15

20

25

30

-0,15 -0,10 -0,05 0,00 0,05 0,10 0,15
Erro [mm]

Ar                   -0,09 / 0,09 / 0,022 / 1.845.949
Água (S VP)    -0,18 / 0,18 / 0,035 / 2.290.203
Água (R efra) - 0,17 / 0,16 / 0,035 /  2.283.824

Mi n / Max /     ?? / Pontos



230 

O erro residual ou desvio (distância normal do ponto ao plano 
ajustado) para todas as posições na medição na água (Refra) é exposto na 
figura 137. A figura 138 compara o erro residual obtido com o modelo 
SVP e Refra na água na posição #1 e #5. Nota-se um erro sistemático, 
sendo que os pontos tendem a uma superfície de 2ª ordem, resultando num 
formato de “moeda amassada” para o modelo Refra. Já o modelo SVP 
aparenta possuir um erro sistemático de 3ª ordem resultando em uma 
deformação “S” na posição #1. No ar, conforme ilustram os gráficos na 
figura 139, o erro sistemático é em torno de três vezes menor (note faixa 
de ±0,05 mm em ??), no entanto, ainda é presente e varia um pouco nas 
outras posições de aquisição. Na posição mais distante (#5) fica em torno 
de ± 0,08 mm. 

Esses erros sistemáticos são provavelmente residuais da 
modelagem e da calibração do sistema. Como principais fatores possíveis 
estão: as imperfeições não modeladas nas lentes; parâmetros de distorção 
incorretos; imperfeições no padrão de calibração, como erro de planeza, 
distâncias incorretas entre pontos em sua malha, tanto em pixel como os 
valores de referência em milímetros. No caso da refração, inclui-se 
também imperfeições na parede (não modeladas) do tanque e parâmetros 
de refração incorretos. Em contraste, com uma calibração e modelagem 
“perfeitas” os erros residuais estariam todos distribuídos numa região 
uniforme no espaço sem formato/padrão visível, sendo o erro aleatório 
devido principalmente à resolução das câmeras, resolução do projetor, 
nitidez das imagens e espalhamento na água. 



231 

 
 

 
Figura 137 – Desvio aos planos ajustados nas cinco posições de um dos ciclos de 
aquisição na água com modelo Refra. 

 
Figura 138 – Desvio ao plano ajustado das nuvens de pontos de um dos ciclos nas 
posições #1 100 mm e #5 -100 mm obtidas na água com modelo SVP (verde) e 
Refra (azul e rosa). Nota-se formato “C” nos erros, e formato “S” na posição #1 
com modelo SVP. 

0,2

-0,2

0,1

0,0

-0,1

0,10

-0,10

0,05

0,00

-0,05

0,15

-0,15

0,10

-0,10

0,05

0,00

-0,05

0,15

-0,15



232 

 

 
Figura 139 – Desvio ao plano ajustado a nuvem de pontos de um dos ciclos na 
posição #1 no ar. Nota-se erro sistemático, todavia pequeno se comparado ao 
obtido na água. 

6.6.3 Plano em poses rotacionadas em ???? (VDI/VDE) 
Nos dois experimentos anteriores os planos encontravam-se 

normais ao eixo ??, em contraste, aqui se apresenta os resultados obtidos 
incluindo também poses rotacionadas no eixo ?? e ??. Foram adquiridas 6 
posições diferentes do plano no ar e 18 na água.  

Plano - Medições no ar 

A figura 140 ilustra as poses adquiridas no ar. 

 
Figura 140 – Seis posições obtidas no ar, enumeradas de 1 a 6 da esquerda para a 
direita. 

0,05

0,00

-0,05

0,05

0,00

-0,05



233 

 
 

As nuvens de pontos obtidas são expostas nas figuras 141 e 142. 
Pode-se notar que as posições 4, 5 e 6 estão bem rotacionadas nos eixos 
????. Com exceção da posição 1, todos resultados estão dentro do volume 
de medição no ar, representado pelo cubo nas imagens. 

  
Figura 141 – Vista frontal e perspectiva das 7 nuvens de pontos obtidas da 
medição do plano em posições aleatórias no ar.  

  
Figura 142 – Vista superior e lateral das 7 nuvens de pontos obtidas da medição 
do plano em posições aleatórias no ar. 

Os desvios obtidos para as nuvens de pontos medidas em cada pose 
no ar podem ser vistos na figura 143. Já a figura 144 mostra o desvio em 
mapa de cores. 



234 

 
Figura 143 – Desvio ao plano ajustado de todas as 7 nuvens de pontos obtidas da 
medição do plano no ar em posições não controladas. Valores em milímetros. 

 
Figura 144 – Vista em perspectiva do desvio ao plano ajustado (em mapa de 
cores) de todas as 7 nuvens de pontos obtidas da medição do plano no ar em 

0,10

-0,10

0,05

0,00

-0,05

0,10

0,08

0,06

0,04

0,02

-0,04

-0,02

-0,06

-0,08

-0,10

0,00

[mm]



235 

 
 

posições não controladas. Retângulo inferior representa um lado do volume de 
medição (200 × 200 mm²). 

Plano - Medições na água 

As 18 poses adquiridas na água podem ser vistas na figura 145, 
onde foram separadas (1-5; 6-10 e 11-18) de forma a possibilitar uma 
melhor visualização. Já as figuras 146 e 147 mostram todos os resultados 
obtidos juntos em diferentes ângulos de visão. 

 
Figura 145 – Vista em perspectiva dos resultados de medição do plano na água 
em posições não controladas de 1-5; 6-10 e 11-18. 

 
Figura 146 – Vista frontal e perspectiva das medições do plano na água em 
posições não controladas. 



236 

      
Figura 147 – Visita superior e lateral de todas as medições do plano na água em 
posições não controladas. 

Plano - Comparação das medições 

A tabela 39  lista o desvio mínimo, máximo e desvio padrão (??) 
para as medições na água processadas com o modelo SVP e Refra. Gerou-
se um histograma dos desvios obtidos no ar e água (SVP e Refra) (Figura 
148). No caso dos resultados na água foram utilizados apenas os desvios 
das medições de 1-13, uma vez que as poses de 14-18 estão muito fora do 
volume de medição, sendo que o desvio padrão aumenta 
consideravelmente, chegando a quase o dobro do obtido nas poses de 
1-13. 

 



237 

 
 

Tabela 39 – Desvio mínimo, máximo e ?? [mm] para as medições na água 
processadas com o modelo SVP e Refra. Posições em itálico (14-18) estão muito 
fora do volume de medição e não foram utilizadas no cálculo do histograma. 

Cor Aquisição # 
Água (SVP) Água (Refra) 

Min Max ?? Min Max ?? 
 1 -0,09 0,09 0,026 -0,14 0,14 0,042 
 2 -0,11 0,11 0,032 -0,10 0,10 0,030 
 3 -0,10 0,10 0,030 -0,11 0,11 0,032 
 4 -0,07 0,07 0,022 -0,06 0,06 0,018 
 5 -0,04 0,04 0,012 -0,04 0,04 0,013 

 6 -0,10 0,10 0,030 -0,08 0,08 0,026 

 7 -0,20 0,20 0,062 -0,13 0,13 0,039 

 8 -0,21 0,21 0,063 -0,13 0,13 0,040 

 9 -0,04 0,04 0,011 -0,04 0,04 0,011 

 10 -0,07 0,07 0,021 -0,09 0,09 0,028 

 11 -0,05 0,05 0,016 -0,05 0,06 0,017 

 12 -0,12 0,12 0,038 -0,11 0,11 0,033 

 13 -0,06 0,06 0,017 -0,06 0,06 0,018 

 14 -0,13 0,13 0,040 -0,09 0,09 0,029 

 15 -0,22 0,22 0,068 -0,12 0,12 0,037 

 16 -0,13 0,14 0,041 -0,08 0,08 0,025 

 17 -0,40 0,39 0,128 -0,21 0,21 0,062 

 18 -0,40 0,38 0,135 -0,23 0,23 0,070 



238 

 
Figura 148 – Histograma normalizado (distribuição probabilidade, área = 1) do 
desvio ao plano obtido em posições aleatórias, referente a: seis medições no ar, 
medições de 1 a 13 na água com modelo SVP e Refra. 

O desvio de três posições (5, 7 e 18) com as maiores diferenças 
entre o modelo SVP e Refra foram analisadas também em mapa de cores 
(Figura 149). Dentre elas, a que apresentou um maior desvio foi a posição 
18, a qual se encontra bem fora do volume de medição (?? ~ 230 mm) e 
uma comparação entre os resultados é exposta na figura 150. Nota-se que 
a modelagem Refra ainda apresenta bons resultados, todavia, a 
aproximação por SVP apresenta erros da ordem de 0,3 a 0,4 mm nas 
bordas. Também é possível perceber erro devido a problemas no 
processamento/aquisição das franjas. 

0

5

10

15

20

25

30

-0,15 -0,10 -0,05 0,00 0,05 0,10 0,15
Erro [mm]

Ar                   -0,09 / 0,09 / 0,02 / 556.718
Água (S VP)    -0,21 / 0,21 / 0,04 /  1.171.549
Água (R efra) - 0,14 / 0,14 / 0,03 / 1.083.361

Mi n Max       ?? Pontos



239 

 
 

 
Figura 149 – Vista em perspectiva do desvio dos resultados na água (Refra) nas 
posições 5, 7 e 18 da medição do plano em posições aleatórias.    

 
-0,40 / 0,38 / 0,13 

Água (SVP) 
-0,23 / 0,23 / 0,07 

Água (Refra) 
Figura 150 – Comparação entre os desvios obtidos com o modelo SVP e Refra na 
medição na água na posição 18 (
cores que estão separados por “/” representam o desvio: mínimo, máximo e ?? em 
milímetros. Nota-se erro devido a problemas no processamento das franjas em 

0,23

0,15

0,10

0,05

-0,10

-0,05

-0,15

-0,23

0,00

[mm]

0,40

0,30

0,20

0,10

-0,20

-0,10

-0, 30

-0,40

0,00

[mm]

-0,37

-0,34



240 

ambos os casos. Já no processamento com o modelo SVP existe um erro 
sistemático nas bordas que chega a 0,4 mm. 

6.7 AVALIAÇÃO COM PAR DE ESFERAS (VDI/VDE) 

Foram feitas 16 medições das esferas no ar e 23 na água, sendo que 
as aquisições e processamento de dados foram baseados nas orientações 
do guia VDIVDE-2634 (VDI/VDE-2634, 2008). É interessante notar que 
como a distância de referência entre as esferas é próxima a 100 mm 
(99,28 mm), o valor do erro pode ser também interpretado como um valor 
em porcentagem, por exemplo, um erro de 0,30 mm resulta em 
(0,30/99,28) 0,302% ou 0,30%. 

Par de esferas - Ar 

A figura 151 mostra as 16 posições aleatórias do par de esferas 
obtidas no ar. Para uma melhor visualização, as posições foram agrupadas 
de 5 em 5 (1 a 5, 6 a 10 e 11 a 15) e os pontos 3D removidos. A vista 
frontal, superior e em perspectiva de todas as esferas ajustadas as 
medições no ar, incluindo os pontos medidos são expostas na figura 152. 



241 

 
 

 
 

 

  
Figura 151 – Esferas ajustadas nas medições no ar do par de esferas em todas 16 
posições aleatórias. Do canto esquerdo superior no sentido horário: posições 1 a 
5, 6 a 10, 11 a 16 e todas. Volume de medição representado pelo cubo. 



242 

 
 

 
Figura 152 – Vista frontal e superior de todas 16 medições do par de esfera no ar 
incluindo pontos medidos. Volume de medição representando pelo cubo. 

A tabela 40 expõe os erros obtidos para cada uma das posições. 
Mesmo a aquisição #16 que extrapola o volume de medição em mais de 
100 mm em ?? possui erro similar aos demais e foi mantida na avaliação. 
A posição #15 foi a que resultou em um maior erro de escala (?????? = 0,21 
mm) e a #13 maior erro de apalpação (????1 = 0,26 mm). A medição #15 
foi obtida em posição muito similar a #12, onde o ?????? foi de apenas 
0,06 mm. Sendo assim, é provável que esse erro esteja relacionado a 
algum problema no mapa de fase ou em seu processamento durante a 
triangulação inversa. 

Os erros expostos na tabela 40 foram plotados (Figura 153) em 
relação ao ângulo do vetor distância dos centros das esferas com o eixo ?? 
(?????????). Não é possível notar relação significativa entre a direção do 
vetor das esferas e o erro. 



243 

 
 

Tabela 40 – Legenda de cores das posições do par de esferas e compilação do 
erro de distância entre centros (SSE) e apalpação (???? 1 e 2). Última coluna expõe 
o ângulo entre o vetor (?????????????? = ??????) e o eixo Z no SCO (?????????). Os erros 
possuem escalas de cores do verde (menor) ao vermelho (maior). Os ângulos 
possuem escala reversa de cores. 

Cor # ?????? ?????? ?????? ????????? 
 1 0,03 0,14 0,09 87° 
 2 0,06 0,13 0,17 89° 
 3 0,12 0,09 0,09 90° 
 4 0,08 0,11 0,08 89° 
 5 0,11 0,14 0,13 59° 
 6 0,13 0,09 0,13 65° 
 7 -0,05 0,11 0,12 67° 
 8 0,03 0,10 0,09 68° 
 9 0,10 0,09 0,12 46° 
 10 0,12 0,09 0,11 40° 
 11 0,16 0,11 0,10 27° 
 12 0,06 0,09 0,09 36° 
 13 0,17 0,26 0,11 89° 
 14 0,17 0,17 0,11 58° 
 15 0,21 0,16 0,11 23° 
 16 0,12 0,11 0,07 51° 

Máximo 0,21 0,26 0,17 - 



244 

 
Figura 153 – Gráfico do SSE e PE ???? ângulo do vetor distância das esferas 
relativo à ?? para as 16 diferentes posições do par de esferas no ar. 

Par de esferas – Água 

As figuras 154 e 155 mostram o sistema durante uma das medições 
das esferas na água. Já a figura 156 mostra as imagens obtidas pelo 
sistema e pela terceira câmera durante a medição #11. Os mapas de fase 
obtidos são expostos na figura 157. 

 
Figura 154 – Par de esferas durante uma das medições na água. 

-0,20

-0,10

0,00

0,10

0,20

0,30

20° 30° 40° 50° 60° 70° 80° 90°

Er
ro

 [m
m

]

LPv ? Z [°]

SSE PE1 PE2



245 

 
 

  
Figura 155 – Foto durante medição do par de esferas onde é possível ver a tela do 
notebook com a imagem obtida pelo sistema estéreo (esquerda). Detalhe das 
esferas (direita). 

   
Figura 156 – Imagem obtida pela câmera esquerda, central e direita durante a 
medição #11. 

 
Figura 157 – Mapas de fase obtidos para a medição #11. 

Na água, foram adquiridas 23 posições aleatórias do par de esferas, 
abrangendo todo volume de medição, sendo que quatro medições o 

300
[rad]

25020015010050



246 

extrapolam (número 1, 21, 22 e 23). As esferas ajustadas às medições na 
água (Refra) podem ser vistas na figura 158. Já a figura 159 mostra 
também as nuvens de pontos obtidas. Nota-se uma boa distribuição das 
medições dentro do volume de medição. A estimativa do erro de escala, 
dada pelo erro de distância entre esferas (??????), o erro de apalpação (????) 
e o ângulo em relação ao eixo (???) são expostos na tabela 41. Os dados 
foram plotados em relação ao ângulo de orientação das esferas na figura 
160. O maior ?????? para o modelo SVP e Refra foi de 0,26 mm, 
respectivamente para as posições #13 e #23, ambas com ângulo pequeno 
em reação ao eixo ?? (?????????), o que pode indicar um maior erro de escala 
na profundidade (coordenada ??). Dentre as medições fora do volume de 
medição, duas delas apresentaram um erro maior do que as outras, sendo 
essas as de número 22 e 23, posicionadas em torno de 100 mm mais 
afastadas do sistema. 

  

  
 

Figura 158 – Resultado de medição do par de esferas na água (Refra) em 23 
posições aleatória e respectivas esferas ajustadas. Do canto esquerdo superior no 



247 

 
 

sentido horário: posições 1 a 5, 6 a 10, 11 a 16 e todas (incluindo os pontos 
medidos). Volume de medição no ar representado pelo cubo. 

 
 

Figura 159 – Vista frontal e em perspectiva de todas 23 medições do par de esfera 
na água (Refra). 

 



248 

Tabela 41 – Legenda de cores das posições do par de esferas e compilação do 
erro de distância entre centros (??????), apalpação (???? 1 e 2) para medição na água 
com modelo SVP e Refra. Última coluna expõe o ângulo entre o vetor distância 
dos centros das esferas (?????????????? = ??????) e o eixo Z no SCO (???????). Os erros 
possuem escalas de cores do verde (menor) ao vermelho (maior). Os ângulos 
possuem escala reversa de cores. 

  Água (SVP) Água (Refra) 

Cor # ?????? ?????? ?????? ????????? ?????? ?????? ?????? ????????? 

 1 0,22 0,13 0,14 89 -0,09 0,16 0,14 89 

 2 0,09 0,10 0,10 88 0,01 0,11 0,10 89 

 3 0,10 0,10 0,09 90 0,09 0,10 0,10 89 

 4 0,00 0,07 0,10 90 0,06 0,07 0,10 89 

 5 0,13 0,12 0,10 66 0,09 0,12 0,10 66 

 6 0,00 0,14 0,11 58 0,04 0,14 0,11 57 

 7 0,11 0,09 0,11 71 0,06 0,10 0,13 72 

 8 0,12 0,09 0,10 48 -0,07 0,15 0,08 48 

 9 0,00 0,15 0,12 82 0,00 0,15 0,12 83 

 10 0,08 0,10 0,12 61 0,15 0,10 0,13 60 

 11 0,16 0,08 0,09 41 0,16 0,08 0,09 42 

 12 0,10 0,12 0,11 40 0,17 0,11 0,11 40 

 13 0,19 0,12 0,10 27 0,26 0,11 0,10 27 

 14 0,06 0,11 0,11 56 0,10 0,12 0,11 56 

 15 0,08 0,15 0,12 52 -0,03 0,15 0,12 53 

 16 0,17 0,09 0,12 49 0,14 0,08 0,15 49 

 17 0,13 0,15 0,10 47 0,15 0,16 0,11 47 

 18 0,12 0,11 0,12 85 0,14 0,11 0,13 86 

 19 0,16 0,10 0,13 55 0,18 0,11 0,14 55 

 20 0,08 0,14 0,11 88 0,00 0,14 0,11 88 

 21 0,22 0,14 0,10 45 -0,16 0,17 0,10 45 

 22 0,03 0,16 0,18 90 -0,02 0,18 0,19 90 

 23 0,26 0,14 0,23 51 0,02 0,15 0,22 52 

Máximo 0,26 0,16 0,23 27 0,26 0,18 0,22 27 



249 

 
 

 
Figura 160 – Gráfico de ?????? e ???? ???? ângulo do vetor distância das esferas 
relativo à ?? para as 23 diferentes posições do par de esferas na água (Refra). 

Comparação entre os erros no ar e na água 

As tabelas 42 e 43 compilam os erros de escala (??????) e apalpação 
(???? = max (????1, ????2)) obtidos durantes os ensaios com as esferas no ar 
e na água. Os gráficos das figuras 161 e 162 expõe, respectivamente, em 
ordem de aquisição e ângulo em relação à ??, o erro da distância entre 
centros e apalpação para a medição no ar e água (Refra). Não foram 
plotados os resultados com o modelo SVP, pois estes são bem próximos 
aos obtidos com o modelo Refra. Nota-se uma tendência em torno de 
0,1 mm maior na água do que a obtida no ar. O erro de escala na água 
aparenta flutuar mais e possui valores extremos maiores, chegando a um 
mínimo e máximo respectivamente de -0,16 mm e 0,26 mm contra -
0,05 mm a 0,21 mm no ar. Foram plotados também os histogramas de 
?????? (Figura 163) e ???? (Figura 164) no ar e água (Refra). 

Tabela 42 –Valor máximo, mínimo, médio e desvio padrão dos erros de distância 
entre centros (??????) em milímetros obtido para os três casos de medição. 

?????? Ar Água (SVP) Água (Refra) 
Min -0,050 -0,001 -0,160 
Max 0,208 0,255 0,255 

Médio 0,100 0,112 0,063 
?? 0,065 0,070 0,100 

-0,30

-0,20

-0,10

0,00

0,10

0,20

0,30

20° 30° 40° 50° 60° 70° 80° 90°

Er
ro

 [m
m

]

LPV ? Z [°]

SSE - Água PE1 - Água PE2 - Água



250 

Tabela 43 – Valor máximo, mínimo, médio e desvio padrão dos erros de 
apalpação (????) em milímetros obtido para os três casos de medição. 

???? Ar Água (SVP) Água (Refra) 
Min 0,09 0,09 0,09 
Max 0,26 0,23 0,22 

Médio 0,13 0,13 0,14 
?? ???? 0,04 0,03 0,03 

 
Figura 161 – ?????? e ???? no ar e na água para cada aquisição. ?????? mínimos e 
máximos indicados. 

-0,05

0,21
0,27

-0,15

-0,3

-0,2

-0,1

0,0

0,1

0,2

0,3

1 3 5 7 9 11 13 15 17 19 21 23

Er
ro

 [m
m

]

Aqui s i ção #

SSE - Ar PE - Ar
SSE - Água PE - Água



251 

 
 

 
Figura 162 – ?????? e ???? da medição do par de esferas no ar e na água ???? o ângulo 
de orientação das esferas em relação a ?? no SCO. 

 
Figura 163 – Histogramas normalizados do ?????? no ar e na água. 

-0,3

-0,2

-0,1

0,0

0,1

0,2

0,3

20° 30° 40° 50° 60° 70° 80° 90°

Er
ro

 [m
m

]

LPV ? Z [°]

SSE - Ar PE - Ar
SSE - Água PE - Água

0%

5%

10%

15%

20%

25%

30%

35%

40%

Fr
eq

uê
nc

ia
 n

or
m

al
iz

ad
a 

[%
]

Fai xa de erro SSE [mm]

SSE Ar % SSE Água %



252 

 
Figura 164 – Histograma do erro de apalpação (????) no ar e na água. 

O gráfico da figura 165 compara o erro da distância entre centros 
(??????) para os três casos de medição, no ar, na água (SVP) e na água 
(Refra) em relação ao ângulo entre o vetor centros e o eixo ??. 

Conforme previamente descrito, o erro de apalpação (????) é um 
erro extremo, dado pela máxima variação do erro obtido na nuvem de 
pontos de cada esfera, descontado três pontos a cada mil. Esse erro não 
fornece uma real noção da variação do erro nas medições. Sendo assim, 
foi plotado o histograma (Figura 166) de todos os erros, já removidos os 
piores pontos. Nota-se que os histogramas para o ar e água são 
relativamente parecidos, sendo que o desvio padrão no ar foi de 0,016 mm 
contra 0,019 mm e 0,020 na água (SVP e Refra). Para um intervalo de 
confiança de 2??, 95% dos valores estão no intervalo de ±0,032 mm no ar 
e ±0,040 mm na água. 

0%

10%

20%

30%

40%

50%

60%

70%

(0  0,05] (0,05  0,1] (0,1  0,15] (0,15  0,2] (0,2  0,25] (0,25  0,3]

Fr
eq

uê
nc

ia
 n

or
m

al
iz

ad
a 

[%
]

Fai xa de erro PE [mm]

PE Ar % PE Água %



253 

 
 

 
Figura 165 – Erro da distância entre centros das esferas (??????) para as medições 
no ar, água (SVP) e água (Refra) em relação ao ângulo entre o vetor centros e o 
eixo ??. 

 
Figura 166 – Histograma de desvios (????) das medições do par de esferas no ar, 
água (SVP) e água (Refra). Erro dado pela distância normal de cada ponto medido 
em relação à superfície da esfera de raio fixo ajustada. 

6.8 COMPARAÇÃO DE TODOS OS RESULTADOS OBTIDOS 

Os resultados obtidos nas avaliações previamente descritas foram 
compilados no gráfico de barras da figura 167. Os dados estão divididos 
em três grupos: 1. Erro aleatório ou de apalpação; 2. Desvio padrão dos 
erros sistemáticos e 3. Erros sistemáticos máximos. Nota-se que, de um 

-0,3
-0,2
-0,1
0,0
0,1
0,2
0,3

20 30 40 50 60 70 80 90 100

SS
E 

 [m
m

] 

Ângul o em rel ação ao ei xo Z [°]
SSE Ar SSE - Água (SVP) SSE - Água (Refra)

0

5

10

15

20

25

30

-0,15 -0,10 -0,05 0,00 0,05 0,10 0,15
Erro [mm]

Ar                   -0,13 / 0,13 / 0,02 / 4.953.336
Água (S VP)    -0,11 / 0,11 / 0,02 /  6.809.946
Água (R efra) - 0,11 / 0,11 / 0,02 / 6.903.744

Mi n Max       ?? Pontos



254 

modo geral, a aproximação por modelo SVP foi suficiente para a 
compensação dos efeitos da refração, tendo resultados similares aos 
obtidos com o modelo físico de refração (Refra). Conforme ilustra a 
tabela 44, os resultados obtidos na água tendem a um aumento no erro.  

 
Figura 167 – Compilação dos resultados obtidos com a medição no ar, água (SVP) 
e água (Refra). 

0,00 0,10 0,20 0,30 0,40

Pl ano pos . al eat. ??

Pl ano des l . cont. ??

Es feras  ??

Es feras  SSE ??

Pl ano des l . cont. Td ??

Desl. C ont. Td max

Esferas  SSE max

Esferas  PE max

Plano PE max

Desl. C ont. Td max %

Esferas  SSE max %

Val or [mm] e [%]

Ar

Água (S VP)

Água (R efra)

Erros de apalpação

?? dos erros sistemáticos

Erros sist.
máximos



255 

 
 

Tabela 44 – Compilação dos resultados (em milímetros e %) e comparação da 
diferença relativa entre Água (Refra) e Ar. 

Item Ar Água (SVP) 
Água 

(Refra) 
Água (Refra)/Ar 

[%] 

Plano pos. aleat. ?? 0,019 0,037 0,031 63,2% 
Plano desl. cont. ?? 0,022 0,035 0,035 59,1% 

Esferas ?? 0,016 0,019 0,020 25,0% 
Esferas SSE ?? 0,065 0,070 0,100 55,0% 

Plano desl. cont. Td ?? 0,072 0,104 0,111 54,7% 

Desl. Cont. Td max 0,235 0,396 0,404 72,3% 

Esferas SSE max 0,208 0,255 0,255 22,8% 

Esferas PE max 0,256 0,227 0,219 -14,5% 

Plano PE max 0,178 0,413 0,331 86,0% 

Desl. Cont. Td max % 0,15% 0,32 % 0,30% 103,1% 

Esferas SSE max % 0,21% 0,26 % 0,26% 22,8% 

6.9 BALANÇO DE INCERTEZAS 

Existem diversos fatores que influenciam na incerteza de medição 
de um sistema de visão estéreo ativo com projeção de franjas no ar e na 
água. A tabela 45 faz uma compilação destes fatores, os quais foram 
divididos entre os com maior contribuição no erro sistemático/escala e no 
erro aleatório. 



256 

Tabela 45 – Principais fontes de incerteza de um sistema de visão estéreo ativo 
com projeção de franjas utilizado no ar e através de interfaces de refração (ex.: 
medição na água). 

Meio 
Erro sistemático  

ou de escala Erro aleatório 

Ar 

• Qualidade do padrão de 
calibração 

• Qualidade da lente 
• Ângulo e distância entre as 

câmeras 
• Método de calibração 
• Temperatura (alterações 

devido ao aquecimento do 
equipamento ou 
temperatura ambiente e do 
objeto mensurado) 

• Ruído no sensor da câmera 
• Resolução do sensor 
• Qualidade da lente 
• Resolução e potência do 

projetor 
• Vibração 

Água 

• Todos a cima 
• Alterações no índice de 

refração (temperatura, 
salinidade, pressão) 

• Imperfeições na janela 
• Aberrações cromáticas 

• Todos a cima 
• Partículas em suspensão 
• Espalhamento 
• Influência de iluminação 

externa como o efeito 
caustico dinâmico na 
superfície da água 
(flickering) 

Como o erro de medição sofre diretamente com o índice de 
refração da água, considerou-se uma variação de temperatura de ±2°C. 
Esta variação tem influência no índice de refração da água (???2 =
2 × 10?4) e na dimensão dos objetos calibrados utilizados na avaliação 
do sistema. A seguir são descritas as fontes de incerteza o balanço 
resultante. 

Componente sistemática - Erro de escala relativo (?????? em %) 

O erro de escala, ou erro sistemático do sistema, depende da 
distância entre pontos. Sendo assim, foi considerado separado do balanço 
de incertezas. O erro de escala foi definido com base no erro da distância 



257 

 
 

entre esferas (??????). Apesar do erro relativo (%) máximo obtido nos 
deslocamentos controlados do padrão plano (0,33%) ser maior que o 
máximo ?????? relativo (0,26%), optou-se pelo uso do ??????, uma vez que na 
avaliação do deslocamento relativo a distorção dos pontos devido ao erro 
sistemático pode alterar significativamente a posição do plano ajustado, 
influenciando negativamente o resultado. 

Como a variação térmica altera o índice de refração e 
consequentemente o ??????, avaliou-se qual a sua variação com a mudança 
do índice de refração. As aquisições foram então reprocessadas com os 
diferentes índices de refração (índice obtido na calibração ±????2). A 
variação entre eles foi de ± 0,015% (valor absoluto já em %). Por fim, o 
erro de escala relativo final foi considerado como a soma: 0,257% +
0,015%, obtendo-se: 

?????? = 0,272% em relação à maior distância 3D do objeto 
medido. 

A seguir são descritos os componentes aleatórios do balanço de 
incerteza. 

1. Repetibilidade natural (??????) 
O erro aleatório do sistema foi considerado como o desvio padrão 

dos desvios obtidos na medição das esferas, onde foram medidos quase 7 
milhões de pontos. Considerando o coeficiente de expansão de 2 para 
95,45% de confiabilidade, tem-se: 

???? = 2 × 0,020 = 0,040 mm, em um total de 6.903.744 pontos. 
Como o número de graus de liberdade é muito alto, considerou-se como 
infinito. Dividindo ???? pelo menor valor do coeficiente de Student, 
obtém-se a incerteza padrão: 

?????? =
0,040
2

= 0,020 mm. 

2. Variação de Re devido à variação do índice de refração (????????) 
Os valores obtidos de repetibilidade podem variar com o índice de 

refração. Sendo assim, as aquisições das esferas foram reprocessadas com 
??2 = ??2 ± ????2. A variação na repetibilidade foi de 0,0020 mm, 
considerando distribuição retangular, então divide-se o valor por ?3 para 
obter a incerteza padrão: 



258 

???????? =
0,0020
?3

= 0,0012 mm. 

3. Erro de forma do padrão de esferas (??????) 
O erro de forma das esferas combinada com a incerteza da máquina 

de medir por coordenadas (MMC) é de 0,055 mm. Como no cálculo do 
erro de apalpação utiliza-se o raio, a incerteza foi dividida pela metade. A 
incerteza padrão obtida foi de: 

?????? =
0,0275
?3

= 0,0159 mm. 

4. Deriva térmica do padrão – Distância entre esferas (????????) 

A incerteza da distância das esferas utilizada no cálculo do ?????? 
devido à variação de temperatura (??? = ±2°C) durante os experimentos 
foi considerada como uma fonte de incerteza aleatória. A equação da 
dilatação térmica linear é dada por: 

 ??? = ?? ? ?? ? ??? , (37) 

sendo ?? = ???? = 99,283 mm a distância entre esferas; ?? = 22 ? 106(
m
mK

) 
o coeficiente de dilatação térmica do alumínio e ??? = ±2°C a variação 
de temperatura considerada. Tem-se então: 

22 ? 106 ? 99,283 ? 2 = 0,0044 mm. 

A incerteza padrão obtida foi de: 

 ???????? =
0,0044
?3

= 0,0025 mm. 

5. Deriva térmica do padrão – Diâmetro das esferas (????????) 

No caso do erro aleatório de apalpação, considerou-se a variação 
do raio da esfera devido à temperatura. Utilizando a equação (47), sendo: 
?? = ????/2 = 25,059 mm e o coeficiente de dilatação térmica do aço ?? =
14 ? 106( m

mK
) Chega-se a: 

14 ? 106 ? 25,059 ? 2 = 0,0007 mm, 

A incerteza padrão obtida foi de: 

 ???????? =
0,0007
?3

= 0,0004 mm. 



259 

 
 

Balanço de incertezas do erro aleatório 

Uma vez calculados os parâmetros de maior influência no erro 
aleatório (ou sistemático não relativo), realizou-se o balanço de incertezas 
exposto na tabela 46. 

Tabela 46 – Balanço de incerteza da componente aleatória e erro sistemático não 
proporcional à distância medida. 

Símbolo Fonte de incerteza Correção ?? Dist. ?? ?? 
Contrib. 

% 

???? 
Repetibilidade 

natural  
0 0,0400 Normal 0,0200 ? 60,6% 

?????? Variação de Re (??? ? ???) 
0 0,0020 Retangular 0,0012 ? 0,2% 

???? Esfericidade do padrão de esferas 
0 0,0275 Retangular 0,0159 ? 38,2% 

?????? 
Distância entre 

esferas (???) 
0 0,0044 Retangular 0,0025 ? 1,0% 

?????? 
Diâmetro das 
esferas (???) 

0 0,0007 Retangular 0,0004 ? 0,0% 

?? Incerteza combinada 
0 0,05 - 0,0257 ? - 

A incerteza combinada expandida foi de ???? = 0,05 mm. De posse 
do erro de escala relativo (??????) e da incerteza combinada da componente 
aleatória (????) do sistema, pode-se dizer que o resultado de medição de 
um ponto 3D no espaço distante ?? de outro ponto é dado por: 

?? = (?? ± [?? × ?????? + ????]) mm ou ?? = (?? ± [?? × 0,27% +
0,05]) mm. 

A figura 168 mostra o gráfico de erro máximo obtido (?????? + ????). 
Fica claro que a componente sistemática é a maior influência no erro de 
medição do sistema. 



260 

 
Figura 168 – Gráfico do erro máximo para medições na água com o modelo de 
refração (Refra). Nota-se que a componente aleatória é quase insignificativa se 
comparada ao erro sistemático relativo. 

6.10 AVALIAÇÃO COM OBJETOS DE REFERÊNCIA 

A seguir são comparados os resultados de medição com os objetos 
de referência (cabeça de manequim e cavidade preenchida com solda) 
obtidos com o sistema no ar, na água com o modelo SVP e com a 
modelagem física da refração (Refra). Conforme o balanço de incerteza 
realizado anteriormente, espera-se que 95% dos pontos medidos na água 
com o modelo de refração (Refra) estejam dentro do intervalo do gráfico 
de erro máximo da figura 168. As imagens e respectivos dados 
informativos utilizados na comparação seguem o padrão descrito na 
tabela 47. O desvio padrão é fornecido no software GOM sendo referente 
às distâncias (desvios ou erros) dos pontos medidos à superfície de 
referência (obtida na calibração da peça). O tempo de processamento está 
no formado “minutos:segundos” (mm:ss). 

Tabela 47 – Padrão seguido nas figuras das comparações ar/água. 
Ar Água (SVP) Água (Refra) 

Malha de cor cinza Malha de cor verde Malha de cor azul 

?? / N° de pontos / mm:ss ?? / N° de pontos / mm:ss ?? / N° de pontos / mm:ss 

-1,2
-1,0
-0,8
-0,6
-0,4
-0,2
0,0
0,2
0,4
0,6
0,8
1,0
1,2

0 50 100 150 200 250 300 350

In
ce

rt
ez

a 
 [m

m
] 

Ma i or distância no volume medido [mm]

Sist. Sist. + Aleat.



261 

 
 

6.10.1 Cabeça de manequim 
A cabeça de manequim foi medida tanto no ar quanto na água em 

três posições diferentes: frontal (face), lateral e traseira. A figura 169 
mostra a configuração do experimento durante a medição da parte frontal 
na água. Na medição dentro da água, foi necessário inseri-la de cabeça 
para baixo devido ao comprimento do “pescoço” da peça. A figura 170 
mostra a vista superior e um detalhe das franjas projetadas na face. Em 
ambas as figuras é possível ver claramente o trajeto do feixe de luz do 
projetor. A configuração das medições da parte lateral e traseira podem 
ser vistas na figura 171. A seguir os resultados obtidos são expostos. 

 
Figura 169 – Cabeça de manequim durante medição na água. É possível notar o 
trajeto da luz do projetor. 

  
Figura 170 – Vista superior e detalhe de franjas projetadas sobre a face de 
manequim. 



262 

  
Figura 171 – Medição da parte lateral e posterior da cabeça de manequim. 

Frontal (Face) 

A figura 172 mostra as imagens obtidas pelo sistema durante a 
aquisição da parte frontal (face) da cabeça de manequim no ar e na água. 

 
Figura 172 – Imagens adquiridas pelo sistema durante a medição da face no ar e 
na água (baixo). 

O resultado obtido no ar e na água (Refra) são expostos na figura 
173. O desvio obtido no ar (Figura 174) possui desvio padrão de 0,04 mm 



263 

 
 

contra 0,07 mm na água, para ambos os modelos (Figura 175). Nota-se 
(ver histograma) uma dispersão dos pontos um pouco maior no caso da 
modelagem Refra. A maior diferença entre as medições da face na água e 
no ar é o erro de escala que pode ser notado na região do pescoço, que 
fica em torno de 60 mm de distância da fase, sendo que as medições foram 
ajustadas à medição de referência pela região da face e não do pescoço, 
justamente com o intuito de verificar o erro de escala da face ao pescoço. 

 
Figura 173 – Resultado de medição no ar e na água (Refra) da face de manequim. 



264 

 

 

0,04 / 1.765.551 / 00:29  
Figura 174 – Desvio do resultado de medição frontal da cabeça de manequim no 
ar e visão (em recorte) do sistema durante aquisição. 

0,15

0,12

0,09

0,06

0,03

-0,06

-0,03

-0,09

-0,12

-0,15

0,00

[mm]



265 

 
 

 
Água (SVP) 

0,07 / 1.738.480 / 00:21 
Água (Refra) 

0,07 / 1.755.642 / 06:43 
Figura 175 – Desvio do resultado de medição da face da cabeça de manequim na 
água com método SVP e Refra. Nota-se o maior tempo de processamento no 
método Refra devido a necessidade do cálculo do caminho da luz pelas interfaces 
de refração. 

Lateral 

A lateral da cabeça de manequim inclui a orelha, que é uma região 
complexa, com partes não visíveis (sombras) para uma das câmeras ou 
com obstrução da projeção. O resultado de medição na água (Refra) pode 
ser visto na figura 176 e os desvio no ar e água nas figuras 177 e 178. 



266 

 
Figura 176 – Resultado de medição da parte lateral esquerda da face de manequim 
na água (Refra). 



267 

 
 

 

 

 

Ar 
0,05 / 2.504.217 / 00:29 

 

Figura 177 – Desvio do resultado de medição lateral da cabeça de manequim no 
ar e visão (em recorte) do sistema durante aquisição. 

0,15

0,12

0,09

0,06

0,03

-0,06

-0,03

-0,09

-0,12

-0,15

0,00

[mm]



268 

 
Água (SVP) 

0,05 / 2.149.066 / 00:24 
Água (Refra) 

0,05 / 2.147.156 / 09:15 
Figura 178 – Desvio do resultado de medição lateral da cabeça de manequim na 
água com método SVP e Refra (mesma da figura 176). 

Posterior 

A parte posterior da cabeça de manequim é uma região com 
variações suaves na superfície. O desvio do resultado obtido no ar e na 
água podem ser vistos nas figuras 179 e 180. Nota-se pouca variação no 
desvio padrão, que passa de 0,03 mm no ar para 0,04 mm na água. 

0,15

0,12

0,09

0,06

0,03

-0,06

-0,03

-0,09

-0,12

-0,15

0,00

[mm]



269 

 
 

 

 

Ar 
0,04 / 1.905.018 / 00:31 

 

Figura 179 – Desvio do resultado de medição posterior da cabeça de manequim 
no ar e visão (em recorte) do sistema durante aquisição. 

0,15

0,12

0,09

0,06

0,03

-0,06

-0,03

-0,09

-0,12

-0,15

0,00

[mm]



270 

 
Água (SVP) 

0,03 / 1.167.449 / 00:37 
Água (Refra) 

0,03 / 1.684.223 / 07:05 
Figura 180 – Desvio do resultado de medição posterior da cabeça de manequim 
na água com método SVP e Refra. 

6.10.2 Calibração SVP no ar utilizada para medições na água 
A aquisição da face na água também foi processada utilizando a 

modelagem SVP com parâmetros obtidos no ar. A figura 181 expõe os 
resultados obtidos com esses parâmetros e também com a modelagem 
SVP na água e Refra. Na imagem fica claro que o uso do modelo SVP 
obtido no ar sem nenhum tipo de ajuste é inviável, pois a medição 
resultante sofre com um fator de escala (em torno de 1,33) e também com 
a perda da correspondência entre pontos na triangulação inversa, que 
causa o efeito de duplicação perpendicular à direção de maior 
sensibilidade do sistema (sentido de projeção das franjas). No caso, no 
eixo ??. Este efeito pode ser facilmente notado na duplicação dos alvos 
circulares no resultado de medição. 

[mm]
0,15

0,12

0,09

0,06

0,03

-0,06

-0,03

-0,09

-0,12

-0,15

0,00

[mm]



271 

 
 

 
Figura 181 – Vista frontal e lateral dos resultados de medição da face de 
manequim na água utilizando o modelo SVP com parâmetros obtidos no ar 
(vermelho) e na água (verde) e com modelo de refração (Refra) obtido na água 
(azul). 

6.10.3 Placa com cavidade preenchida com cordões de solda 
A placa com réplica de defeito por cavitação preenchida com 

cordões de solda, foi medida tanto o ar quanto na água, conforme ilustram 
as figuras 182 e 183. A figura 184 mostra as imagens obtidas pelo sistema 
durante as aquisições em ambos os meios. Deve-se atentar que a peça não 
estava numa mesma distância do sistema. 

Ar SVP

Refra SVP
Água



272 

  
Figura 182 – Medição da cavidade preenchida com cordões de solda no ar e na 
água. 

 
Figura 183 – Vista frontal da cavidade preenchida com cordões de solda 
posicionada no interior do tanque para a medição. 



273 

 
 

  

  
Figura 184 – Imagens adquiridas pela câmera esquerda e direita no ar e na água 
(baixo) em posições (??) distintas. 

A figura 185 mostra as nuvens de pontos obtidos no ar e na água e 
tem o intuito de mostrar o posicionamento da peça dentro do volume de 
medição no ar. Conforme pode-se notar na imagem, foi necessário 
posicionar a peça mais distante do sistema na água, pois devido à refração, 
a altura máxima (??) é menor na água do que no ar (ver seção 6.5). 



274 

 
Figura 185 – Posicionamento da peça no ar (esq.) e na água (dir.) e cubo referente 
volume de medição no ar. 

O resultado de medição no ar e na água podem ser vistos 
respectivamente nas figuras 186 e 187. Já a figura 188 mostra em detalhe 
uma parte das medições, onde pode-se notar que existe um maior ruído 
na medição na água. Para obter um valor quantitativo desse ruído, 
selecionou-se uma região das medições (triangulo na figura 186) onde foi 
ajustado um plano polinomial de 3ª ordem (análise feita no software GOM 
Inspect 2016). O desvio dos pontos desse plano ajustado é exposto na 
tabela 48. Nota-se que o erro na água se aproxima do dobro do erro no ar. 

100
-100

-100

-50

0

Z

Y

0

X

0

50

100

-100100

100-100

-50

-100

Y

0

0Z

-50

50

X

0

100

50 -100100



275 

 
 

 
Figura 186 – Resultado de medição no ar - cavidade preenchida com cordões de 
solda. 



276 

 
Figura 187 – Resultado de medição na água (Refra) – cavidade preenchida com 
cordões de solda. 

   
Figura 188 – Comparação de parte da medição no ar e na água (Refra) (direita). 
Nota-se maior ruído na medição na água. 



277 

 
 

Tabela 48 – Análise do ruído da medição na área indicada na figura 186. Valores 
em milímetros. 

Erro Ar Água 
Mínimo -0,07 -0,12 
Máximo 0,07 0,12 

? 0,016 0,025 
Posição ?? aproximada 70 -70 

As malhas foram ajustadas à medição de referência. Para o ajuste, 
utilizou-se uma região que engloba os cordões de solda e 
aproximadamente 10 mm de seu entorno. Isso foi feito para permitir 
visualizar melhor os erros nas bordas das medições. O mapa de desvio 
obtido com a medição no ar, assim como a área utilizada para o ajuste das 
medições, pode ser visto na figura 189. Na figura 190 compara-se os 
desvios nas medições na água com o modelo SVP e Refra. Nota-se que a 
medição no ar possui uma área em ???? um pouco maior do que o volume 
de medição em torno de ± 25 mm.  

 
 

0,05 / 5.654.072 / 00:22  
Figura 189 – Comparação entre medições obtidas no ar e região utilizada para o 
ajuste. 

0,30

0,23

0,15

0,08

-0,15

-0,08

-0,23

-0,30

0,00

[mm]

+0,22

+0,22



278 

 
0,09 / 4.913.091 / 00:22 0,07 / 4.808.409 / 11:11 

Figura 190 – Comparação entre medições obtidas na água com modelo SVP e 
Refra. 

6.11 COMPARAÇÃO DA CALIBRAÇÃO COM E SEM 
OTIMIZAÇÃO 

Conforme descrito anteriormente (seção 6.4), a calibração dos 
parâmetros de refração realiza a otimização das variáveis: ??, ??0, ??2, sendo 
que os índices de refração (????) são os mesmos para ambas. Estes 
parâmetros também foram obtidos indiretamente, sendo ?? e ??0 extraído 
dos parâmetros extrínsecos de padrões colados nas duas janelas do tanque 
e ??2 medido com um refratômetro.  

Para avaliar o erro de medição obtido com a otimização completa 
contra os valores de referência, foram definidas mais duas calibrações de 
teste, uma otimizando somente o eixo das câmeras (??) e outra sem 
otimização alguma, utilizando apenas os valores obtidos indiretamente. 
Para tal, optou-se por comparar os desvios obtidos na medição da placa 
preenchida com cordões de solda, uma vez que que abrange toda a área 
de medição do sistema na água, possui uma região complexa central 
(cordões de solda) e também região periférica com superfície suave. O 
ajuste das medições sobre a superfície de referência foi realizado da 
mesma forma do que na avaliação anterior com a peça, sendo utilizada 
apenas a região com solda somada a uma pequena parte periférica. 

A figura 191 e a tabela 49 expõem os resultados obtidos com as 
três calibrações. Nota-se que a otimização completa obteve o melhor 
resultado, seguida pela otimização somente de ?? e por último utilizando 

0,30

0,23

0,15

0,08

-0,15

-0,08

-0,23

-0,30

0,00

[mm]
-0,38

-0,15

-0,39

-0,50

-0,50

-0,15
-0,15

-0,50
+0,40



279 

 
 

somente os valores de referência, onde o erro máximo chega a quase 
2 mm e o desvio padrão é quase cindo vezes maior do que com a 
otimização completa. 

Realizou-se também a otimização somente de ??2 (resultado não 
plotado na figura). O resultado obtido foi em torno de duas vezes pior do 
que com a otimização somente de ??. Com base nos resultados aqui 
expostos, o uso dos parâmetros obtidos sem a realização de nenhuma 
otimização não é aconselhado. Deve-se atentar que os resultados obtidos 
aqui estão limitados pela resolução da câmera e qualidade do padrão 
colado na janela do tanque. É possível que, com uma câmera e padrão de 
alta qualidade se obtenha melhores resultados com a medição sem 
otimização. 



280 

 
Figura 191 – Comparação dos desvios obtidos da medição da placa com cavidade 
preenchida com solda utilizando: a) Otimização completa (??, ??0, ??2), b) Parcial 
(somente ??) ou c) Nenhuma (valores de referência). Canto superior direito: 
detalhe da diferença de posição visível entre as medições, à frente resultado 
obtido com b), no meio a) e mais atrás com c). 

Tabela 49 – Comparação dos desvios obtidos da medição da placa com cavidade 
preenchida com solda utilizando: a) Otimização completa (??, ??0, ??2), b) Parcial 
(somente ??) ou c) Nenhuma (valores de referência). 

Otimização  a) (??, ??0, ??2) b) ?? c) - 
Max 0,57 0,74 1,97 
Min -0,26 -0,60 -1,84 
?? 0,05 0,08 0,24 



281 

 
 

6.12 OUTROS EXEMPLOS DE MEDIÇÃO 

A seguir são expostas as medições somente na água com o modelo 
de refração (Refra) de trechos de tubo PVC e de riser. Estas medições 
servem como exemplo de aplicação de um sistema óptico subaquático na 
medição de tubulações submersas na indústria do óleo &amp;amp; gás. 

6.12.1 Tubo de PVC amassado 
A figura 192 mostra a configuração do experimento durante a 

medição do tubo de PVC de 305 mm (12”) de diâmetro nominal. Imagens 
obtidas pelo sistema podem ser vistas na figura 193. Foram medidos um 
total de 3.325.575 pontos e o tempo de processamento foi de 8 min. O 
tubo possui sua região central amassada e marcas circulares causadas pela 
ferramenta durante seu amassamento. Estas marcas e seu resultado de 
medição podem ser vistas em detalhes na figura 194. Conforme ilustra a 
figura 195, mediu-se uma região em torno de 200×200 mm². Um cilindro 
foi ajustado ao resultado (Figura 197) para visualização da diferença em 
relação à medição em mapa de cores, o diâmetro obtido foi de 312 mm 
(12,3”). Deve-se notar que, devido à própria deformação da peça (falta de 
rigidez) não faz sentido comparar o diâmetro obtido com o nominal do 
tubo. O ruído da medição (Figura 196) ficou em torno de ± 0,1 mm. Por 
fim, o mapa de distância da medição é exposto na figura 198. 

 
Figura 192 – Medição de trecho de tubo amassado de PVC de 305 mm (12”) de 
diâmetro. 



282 

 
Figura 193 – Imagens do tubo de PVC obtida pelo sistema durante a medição na 
água. 

  
Figura 194 – Detalhe de artefato na região central do tubo medido. Foto ???? 
resultado de medição na água (Refra). 



283 

 
 

 
Figura 195 – Vista frontal do resultado de medição de tubo de PVC na água 
(Refra). Área em ???? de quase 200 × 200 mm². 



284 

 
Figura 196 – Análise do ruído da medição no tubo de PVC na água (Refra). 
Ajustado plano polinomial de 3ª ordem e obtida a distância de cada ponto ao 
plano. Escala de cores representa todos os pontos. Nota-se um erro máximo em 
torno de ± 0,1 mm. 



285 

 
 

  
Figura 197 – Resultado de medição na água (Refra) de tubo de PVC e cilindro 
ajustado de 312,0 mm de diâmetro. 

 
Figura 198 – Resultando de medição do tubo de PVC amassado de 305 mm (12”) 
de diâmetro. Total de pontos: 3.325.575. Tempo de processamento: 8 min. Tempo 
para criação da malha: 6 min. Diâmetro do cilindro ajustado: 312,0 mm. Medição 
na água (Refra). 

6.12.2 Trecho de riser de 6” (152 m) de diâmetro nominal 
interno ... 

Realizou-se a medição de um trecho de riser com 6” (154 mm) de 
diâmetro nominal interno (Figura 199). Imagens obtidas pelo sistema 



286 

podem ser vistas na figura 200, onde é possível notar a grande variação 
de tonalidade de cor da superfície (regiões muito escuras ou reflexivas) 
assim como o reflexo na parte central do tubo. Estes fatores dificultam a 
medição com projeção de franjas e, como consequência, pode-se perder 
pontos (regiões de falha) ou degradar o mapa de fase devido aos reflexos 
(regiões com maior ruído). Devido à cor escura da peça, utilizou-se um 
valor de modulação mínima menor (20 ao invés de 100). Uma seção do 
diâmetro externo do tubo foi medida em MMC, sendo obtido 
169,1 ± 0,7 mm. A figura 201 mostra o resultado de medição e um 
cilindro ajustado, com diâmetro resultante de 169,2 mm, que está bem 
próximo do valor de referência obtido com a MMC. O resultado em 
detalhes pode ser visto na figura 202. O total de pontos medidos foi de 
1.424.862 em 3 min e 20 s. 

Deve-se notar que os problemas encontrados não estão 
relacionados com os efeitos da medição subaquática e sim a limitações da 
própria técnica de projeção de franjas, sendo que a amostra de riser possui 
todas as características indesejáveis, como regiões escuras e reflexivas. 
Todavia, com o uso de filtros passa banda, medições em diferentes 
ângulos e tempos de exposição pode ser possível melhorar a qualidade 
final da medição. Como alternativa, pode-se utilizar outras técnicas de 
identificação de pontos homólogos, como a projeção de padrões 
aleatórios com laser ou mesmo a correlação pela própria textura da peça. 

 
Figura 199 – Medição de seção de riser de 6” (154 mm) de diâmetro. 



287 

 
 

 
Figura 200 – Imagens obtidas pelo sistema estéreo durante medição de seção de 
riser de 6” (154 mm) de diâmetro. Pode-se notar reflexo na parte central do tubo. 

 
Figura 201 – Resultado de medição de riser de riser de 6” (154 mm) de diâmetro 
na água (Refra). Cilindro ajustado ao resultado. Diâmetro médio obtido de 
169 mm. 



288 

 
Figura 202 – Resultado de medição de riser de riser de 6” (154 mm) de diâmetro 
na água (Refra). Nota-se maior ruído devido ao reflexo (Figura 200) em duas 
faixas próximo a região central da medição e também falhas devido a regiões com 
cor escura ou reflexivas. Processamento: 3 min 38 s. Total de pontos: 1.424.862. 

6.13 AVALIAÇÕES NÃO REALIZADAS 

Em (PINTO, 2010) foi feita a avaliação da resolução ?? do sistema 
estéreo aqui utilizado, sendo obtida uma resolução em ?? de 0,1 mm, com 
erro de deslocamento de 11%. Já para deslocamentos de 0,01 mm o erro 
foi de 56%. No presente trabalho a resolução e o erro na medição de 
inclinação não foram avaliados, todavia os experimentos aqui descritos 
foram capazes de mostrar em detalhes a capacidade de medição do 
sistema no ar e na água. Para o balanço de incertezas considerou-se a 
resolução utilizada na varredura em ?? de 0,01 mm. 

6.14 PROBLEMAS ENCONTRADOS 

Algumas das dificuldades/problemas encontrados são listados a 
seguir: 



289 

 
 

Reflexos 

Dependendo do posicionamento da peça, seu reflexo pode ser visto 
na parede do tanque e/ou na superfície da água, conforme ilustra a figura 
203. Como consequência, seu reflexo também pode ser “medido”. Para 
contornar esse problema, a área de medição pode ser definida de forma 
que a procura por valores válidos em ?? não projete (ou projete muitos 
poucos) pontos na área com reflexo. Outra solução é a delimitação de uma 
região de interesse (ROI) no mapa de fase. Para medições fora do 
laboratório, o reflexo nas paredes do tanque pode ser descartado, todavia, 
ainda existe a possibilidade de interferência da medição com reflexo na 
superfície da água. Para tal, acredita-se que o uso de polarizadores pode 
reduzir ou até eliminar este efeito. 

 
Figura 203 – Imagens adquiridas da câmera esquerda e direita durante medição 
do plano padrão. Nota-se o reflexo na parede do tanque e na superfície da água. 

Tempo de exposição (shutter) da câmera 

Quando o shutter foi ajustado para valores maiores do que 100 ms 
notou-se que o mapa de fase era degradado. Este problema está 
provavelmente ligado ao batimento entre a frequência da câmera e a de 
projeção. É necessário utilizar tempos de exposições mais altos devido a 
perda da intensidade da luz projetada na água. Como soluções futuras, 
pode-se utilizar um projetor mais potente, câmera com maior 
sensibilidade e realizar a sincronia da aquisição com a projeção. 

6.15 DISCUSSÃO 

A análise dos resultados mostra um aumento da incerteza de 
medição na água, o que é algo esperado, uma vez que mais variáveis são 



290 

adicionadas ao cálculo da triangulação, além de limitações físicas como 
o espalhamento (scattering) da luz na água, acarretando principalmente 
numa perda de nitidez. Ademais, como não se utilizou filtros passa-banda, 
existe o efeito do espalhamento do espectro de luz (aberrações 
cromáticas) devido à refração, o que também degrada a qualidade da 
imagem obtida pelo sistema. 

Como o ângulo de visão da câmera não é muito grande (horizontal: 
46,3° vertical: 35,7°), a compensação dos efeitos da refração com o ajuste 
do comprimento focal e dos coeficientes de distorção da lente mostrou-se 
satisfatória, tendo resultados similares aos obtidos com a modelagem 
física da refração. Conforme mostrado em (TREIBITZ; SCHECHNER; 
SINGH, 2008) e detalhadamente em (KANG; WU; YANG, 2012), quanto 
maior o ângulo de visão, mais difícil é a compensação da refração 
utilizando o modelo SVP, todavia, dependendo do ângulo de visão e da 
distância entre o objeto e o sistema estéreo, a aproximação por SVP é 
adequada.  

Em (BRÄUER-BURCHARDT et al., 2015b) foi feita a avaliação 
de um sistema que utiliza os mesmos princípios de medição, sendo que a 
modelagem utilizada considera que o eixo da câmera está normal à janela 
de visão. Para compensar o efeito do desalinhamento, os autores utilizam 
um modelo de correção de distorções, o que realmente reduz os erros de 
forma significativa, conforme os resultados apresentados no artigo. 
Todavia, o autor do presente trabalho acredita que, com uma modelagem 
mais adequada, considerando a inclinação entre o eixo da câmera e a 
janela, possivelmente resultaria em resultados um pouco melhores. 
Devido à grande similaridade dos sistemas, pode-se utilizar os resultados 
obtidos em (BRÄUER-BURCHARDT et al., 2015b)  como base de 
comparação, a qual é exposta na tabela 50.  Os erros aleatórios são 
bastante similares, assim como a piora ao utilizar o sistema na água, que 
foi em torno de 50%. No caso do erro de escala, note-se um grande 
aumento de 250% em relação ao erro no ar no sistema portátil. Em 
contraste, o aumento obtido no presente trabalho foi de 23%. 
Possivelmente, com uma melhor modelagem do sistema portátil, o 
aumento do erro relativo ao ar seria menor. Entretanto, deve-se atentar 
para outros fatores que podem ter influenciado o erro que não a 
modelagem, como por exemplo: movimento do protótipo durante a 
medição, uma vez que o mesmo é portátil; turbidez da água e outros 
fatores relacionados à operação fora do laboratório.  



291 

 
 

Tabela 50 – Comparação dos resultados obtidos na tese com sistema de medição 
similar. 

Método 

Erro de escala 
(esferas) [%] 

Erro aleatório (??) 
[mm] 

Água Relativo ao obtido no ar Água 
Relativo ao 
obtido no ar 

Presente trabalho 0,26% 23% 0,04 59% 
(BRÄUER-BURCHARDT 

et al., 2015b) 0,35% 250% 0,03 50% 

Após a análise dos dados pode-se afirmar que os resultados obtidos 
estão condizentes com o estado da arte na medição com sistema de visão 
estéreo através de interfaces planas de refração (AIPR). Dá-se um passo 
além com as técnicas aqui desenvolvidas, que permitem a realização da 
triangulação inversa AIPR de forma adequada, com pequena incerteza e 
eficiência computacional. Somando-se a isso, realizou-se uma análise e 
comparação detalhada do uso da modelagem física e da aproximação por 
SVP na medição AIPR. 

 





293 

 
 

7 CONCLUSÕES 

Na presente tese realizou-se o desenvolvimento e avaliação de 
técnicas que possibilitam a medição de formas 3D com alta densidade de 
pontos e pequena incerteza com sistema estéreo óptico ativo com projeção 
de franjas em meio subaquático utilizando a triangulação inversa. Para tal, 
desenvolveram-se técnicas inovadoras, incluindo métodos para a 
calibração dos parâmetros referentes à modelagem fisicamente correta da 
refração e algoritmos que possibilitam a realização da triangulação 
inversa através de múltiplas interfaces planas de refração. Para a 
validação dos conceitos desenvolvidos, além do desenvolvimento teórico 
e de uma detalhada avaliação metrológica do sistema, realizou-se a 
comparação da modelagem de refração fisicamente correta com o modelo 
de câmera pinhole (ou SVP) e distorção 2D e com a performance no ar. 

Neste capítulo são sintetizadas as principais contribuições e 
resultados obtidos, as conclusões auferidas e também são apresentadas 
sugestões para trabalhos futuros. 

7.1 PRINCIPAIS CONTRIBUIÇÕES 

A seguir são listadas as principais contribuições acadêmicas e 
inovações da tese. 

Principais contribuições acadêmicas: 

• Levantamento bibliográfico sobre o estado da arte da 
identificação de pontos correspondentes em imagens obtidas 
por sistemas estereoscópicos; técnicas de melhoria na 
obtenção de imagens subaquáticas; técnicas e equipamentos de 
medição subaquática, incluindo além de sistemas ópticos, 
sonares e sistemas híbridos (sonar e óptico).  

• Levantamento bibliográfico sobre estado da arte de modelos 
fisicamente corretos de projeção e calibração de câmeras com 
visão através de interfaces planas de refração. 

• Biblioteca de software (.dll) em C++ para o cálculo da 
triangulação inversa tanto no ar quanto através de interfaces 
planas de refração assim como muitos scripts em MATLAB 
organizados em pastas conforme sua função. 



294 

• Projeto e montagem de bancada de ensaio envolvendo um 
tanque de água com janelas inclinadas e de padrões calibrados, 
incluindo um par de esferas e um padrão plano. Estes itens 
estão agora disponíveis no laboratório para a realização de 
outros experimentos envolvendo principalmente a medição 
óptica de formas 3D e ensaios subaquáticos. 

• Avaliação da influência da alteração de parâmetros de refração 
nas incertezas de medição nos algoritmos e sistema 
desenvolvidos. Foram avaliadas a influência da variação do 
índice de refração devido a mudança de temperatura e 
salinidade da água; alteração da distância entre câmera e janela 
(parede de vidro) do tanque; e alteração na espessura do vidro 
na janela do tanque. 

• Avaliação do desempenho dos algoritmos desenvolvidos 
usando como referência objetos com geometria conhecida e 
medições no ar. 

• Comparação da modelagem fisicamente correta da refração 
(Refra) com a aproximação por ajuste do comprimento focal e 
de distorções de lente (calibração SVP na água). 

Principais contribuições inovadoras: 

• Desenvolvimento de técnicas e algoritmos inéditos que 
possibilitam a realização da triangulação inversa (InvT) 
através de interfaces planas de refração: 

• ????????????????????????: Método para a Projeção Inversa Através de 
Interfaces Planas de Refração. Pode ser utilizado para ?? 
interfaces não necessariamente paralelas. 

• ????????????????????????????: Algoritmo inovador para o cálculo da 
projeção direta de forma iterativa a partir da minimização do 
erro da projeção inversa (realiza com o método 
????????????????????????). O erro é dado pela distância mínima do 
último raio projetado inversamente ao ponto 3D em questão. 
O ponto projetado na imagem é corrigido com base no vetor 
erro até que seja atingido um erro máximo tolerado ou o 
número máximo de iterações. O método mostrou-se 
aproximadamente três vezes mais rápido do que a solução 
analítica com um polinômio de ordem 12.  



295 

 
 

• ????????????: Aprimoração do método varredura em ?? com 
melhoria da resolução de forma incremental (??????????) 
(FANTIN; ALBERTAZZI; PINTO, 2007), proporcionando 
uma maior tolerância a descontinuidades no mapa de fase 
Detecta se os valores do módulo da diferença de fase 
discretizados vizinhos ao ponto de mínimo são válidos ou não. 
Caso não sejam, aumenta a faixa de procura para o próximo 
refino em até um número máximo de pontos discretizados (nos 
experimentos da tese utilizou-se 5) anteriores e posteriores ao 
ponto de mínima. Com este método foi possível reduzir (se não 
eliminar) a ocorrência de perda de pontos na medição devido 
a descontinuidades no mapa de fase, especialmente no caso de 
alvos de cor escura colados na superfície do objeto, conforme 
comprovado nos resultados práticos da tese. 

• Calibração de parâmetros de refração por 
correspondência estéreo 2D-3D: Pares de pontos 2D 
correspondentes são projetados inversamente (método 
????????????????????????) com uma estimativa inicial dos parâmetros de 
refração do sistema. Pontos 3D do padrão são ajustados aos 
pontos 3D obtidos da triangulação dos pares de pontos 2D. Os 
parâmetros de refração calibrados serão os que resultam num 
mínimo erro, definido por dois parâmetros: 1) distância entre 
pontos 3D triangulados e os referentes pontos 3D do padrão e 
2) distância mínima entre os pares de feixes triangulados. 

7.2 COMPARAÇÃO DAS TÉCNICAS DESENVOLVIDAS EM 
RELAÇÃO AO ESTADO DA ARTE 

O algoritmo desenvolvido na tese (????????????????????????????) possui uma 
série de aspectos positivos quando comparado com os outros métodos 
estudados: 

• Pode ser utilizado para interfaces paralelas ou não paralelas. 
• Aproximadamente três vezes mais rápido para ?? = 3 (três 

meios com índice de refração diferentes) (avaliado no 
MATLAB). Converge rapidamente (5 ± 3 iterações) mesmo 
para uma reduzida tolerância de 0,001 mm, referente à 
distância entre o caminho óptico obtido iterativamente e o 
ponto 3D em questão. 



296 

• Pode ser utilizado para qualquer número de meios, ao contrário 
das soluções analíticas onde não foram encontradas soluções 
para mais do que três meios. Deve-se lembrar que a solução 
analítica para ?? = 2 é uma equação de ordem 4 (GLAESER; 
SCHRÖCKER, 2000) e para ?? = 3 equação de ordem 12 
(AGRAWAL et al., 2012).  

• Equacionamento bem definido, vetorial e simples se 
comparado à solução iterativa de sistema não linear de 
equações (KOTOWSKI, 1988) e também a solução analítica 
(AGRAWAL et al., 2012), que possui extensas linhas de 
código de difícil análise/leitura descrevendo o polinômio para 
?? = 3. 

Como o algoritmo ???????????????????????????? realiza o cálculo do caminho 
óptico através de interfaces planas de refração, seu custo computacional 
é maior do que a projeção no ar, que é simplesmente uma linha reta. Sendo 
assim, pode-se dizer que o tempo de processamento é uma das principais 
limitações do método, ficando em torno de 15 vezes mais lento do que a 
aproximação por SVP. 

Existem diversos métodos de calibração dos parâmetros de 
refração, entretanto, procurou-se desenvolver na tese um método robusto, 
de simples implementação e que possa ser aplicado para ?? interfaces. 
Como resultado, chegou-se ao método de calibração que obtém os 
parâmetros de refração a partir da minimização do erro dos pontos 
triangulados em relação ao padrão e também na distância mínima entre 
feixes triangulados, melhorando a correspondência entre pontos. A tabela 
51 faz uma breve síntese do estado da arte dos métodos de calibração dos 
parâmetros de refração. 



297 

 
 

Tabela 51 – Síntese comparativa dos métodos de calibração dos parâmetros de 
refração com suas principais limitação e aspectos positivos. 
Método Limitações  Aspectos Positivos 

(A
G

R
A

W
A

L
 e

t a
l.,

 2
01

2)
 

Matemática envolvida extremamente 
complexa baseada em teoremas de 
álgebra linear. 
 
Difícil reprodução em laboratório dos 
resultados descritos. 
 
Considera apenas interfaces de 
refração paralelas. 

Se beneficia da restrição matemática 
que todo o caminho óptico da refração 
se encontra em um mesmo plano de 
refração (POR) para o caso de 
interfaces paralelas. 
 
Utiliza conceitos de álgebra linear para 
obter solução ótima com apenas oito 
pontos. 

(J
O

R
D

T
-

SE
D

L
A

Z
E

C
K

; K
O

C
H

, 
20

12
) 

Limitada avaliação do erro 3D. 

Otimização utilizando diferença entre 
pontos na imagem. 
 
Mais robustos a possíveis mínimos 
locais. 

(B
R

Ä
U

E
R

-B
U

R
C

H
A

R
D

T
 e

t 
al

., 
20

15
b)

 

Requer correção da distorção extra 
pois considera eixo da lente normal à 
interface de refração. 
 
Requer objeto padrão calibrado, como 
par de esferas. 
 
Requer identificação de pontos 
correspondentes absoluta (ex.: mapa 
de fase horizontal e vertical). 

Não requer identificação de pontos na 
imagem (utiliza mapas de fase, 
medição 3D). 
 
Utiliza uma própria medição como 
erro/custo para minimização. 
 
Amplos resultados práticos. 

(C
H

E
N

; Y
A

N
G

, 
20

14
) 

Limitada avaliação do erro 3D. 
 
Considera interfaces de refração 
paralelas. 

Não necessita conhecer a posição 
relativa 3D dos pontos do objeto, 
apenas a correspondência entre pontos 
2D, pois se beneficia de restrição 
matemática inerente da refração em 
sistemas estéreos AIPR paralelas 
mostrada pelos autores. 

B
U

SC
H

IN
E

L
L

I, 
20

17
 

(P
re

se
nt

e 
te

se
) 

Necessita conhecer a posição relativa 
dos pontos 3D do padrão. 

Simples implementação. 
 
Pode ser utilizado para interfaces 
paralelas e não paralelas. 
 
Avaliação prática comprova uma boa 
estimação dos parâmetros de refração. 



298 

7.3 PRINCIPAIS CONCLUSÕES DO TRABALHO 

A triangulação inversa (InvT) possui uma série de vantagens em 
relação à triangulação convencional, uma vez que é orientada ao objeto 
ao invés do sensor da câmera, possibilitando assim a definição prévia do 
volume de medição e resolução, sendo obtida uma nuvem de pontos com 
malha regular. No melhor conhecimento do autor da presente tese não 
existe outro trabalho que realize a medição óptica subaquática de qualquer 
espécie (interfaces planas ou não) utilizando a triangulação inversa. A 
principal desvantagem da InvT é seu custo computacional elevado devido 
ao maior número de projeções necessárias para a procura por pontos 
válidos. Esta desvantagem se agrava no caso da projeção através de 
interfaces de refração devido à maior complexidade do cálculo do 
caminho óptico, que não é trivial e segue o princípio de Fermat, não sendo 
mais uma única multiplicação de matrizes. Sendo assim procurou-se 
estudar e desenvolver métodos para realizar essa projeção de forma 
eficiente, culminando com o algoritmo iterativo ????????????????????????????, que 
faz a projeção direta através de ?? interfaces não necessariamente paralelas 
de refração, reduzindo o erro de maneira iterativa da projeção inversa, a 
qual é obtida com o método ????????????????????????. Além destes algoritmos 
inovadores, também se aprimorou o método de refino em ?? (??????????) 
concedendo-o uma maior tolerância a descontinuidades nos mapas de 
fase, sendo o método resultante nomeado de ??????????2. 

O uso do sistema calibrado no ar para medições na água sem 
nenhum tipo de compensação é inviável. Apesar deste tipo de comparação 
ser realizada em alguns artigos, na presente tese foi feita apenas para 
demonstração no caso da medição da face do manequim, uma vez que o 
erro é muito grande (~33%), obtendo um resultado em posição incorreta, 
visivelmente maior e com perda da geometria epipolar.  

Na análise da medição do padrão de esferas note-se uma maior 
componente de erro sistemático no eixo ?? do sistema de coordenadas do 
objeto (SCO), sendo ainda mais perceptível no mapa de desvios da face 
do manequim na região do pescoço. Todavia, deve-se considerar que 
existe a possibilidade que parte desse erro seja devido à deformação da 
peça causada pela água em seu interior ou posição de aquisição (ponta 
cabeça), que foram necessárias para possibilitar sua medição no tanque. 

De uma maneira geral a compensação da refração por SVP teve 
erros semelhantes ao modelo fisicamente correto de refração (Refra). 



299 

 
 

Dentre as diferenças observadas entre os modelos, pode-se destacar a 
medição da placa com cavidade preenchida com solda, onde os erros nas 
bordas da medição com modelo SVP foram bem maiores do que os com 
modelo Refra, sendo em torno de -0,3 mm a -0,5 mm em todas as quatro 
bordas contra +0,4 mm apenas na borda inferior esquerda com o modelo 
Refra. Este efeito é esperado uma vez que o erro da aproximação por SVP 
é diretamente proporcional ao ângulo de visão (TREIBITZ et al., 2012). 

Sucederam-se extensos experimentos comparando os resultados 
obtidos com o sistema, realizando medições no ar e na água utilizando as 
técnicas desenvolvidas, assim como a aproximação por modelo SVP. A 
tabela 52 compila os principais resultados obtidos na avaliação do sistema 
no ar e na água. 

Tabela 52 – Resumo da avaliação do sistema no ar e água. 

Parâmetro Ar 
Água 
SVP 

Água 
Refra 

Aumento 
relativo 

Refra/Ar 
Erro de escala (??????) 0,21% 0,26% 0,26% 23% 

Ruído (?? desvio esfera) 0,016 mm 0,019 mm 0,020 mm 25% 

Tempo de processamento 28 
típico (ex: face manequim) 

30 s 30 s 6 min 1.100% 

Os resultados mostram um aumento da ordem de 25% na incerteza 
de medição na água em relação ao ar. Este efeito já era esperado, uma vez 
que a medição na água insere mais parâmetros a serem considerados para 
o cálculo dos pontos 3D. Além disto, existe a degradação do sinal devido 
a efeitos como o espalhamento (scattering) na água e aberrações 
cromáticas em consequência da refração da luz branca projetada. Apesar 
dos resultados utilizando a aproximação por SVP serem similares aos 
obtidos com a modelagem física (Refra) deve-se notar que a última é 
válida para qualquer configuração do sistema, sendo que o mesmo não 
pode ser dito para a aproximação por SVP, que pode apresenta erros 

                                                        
 
 
28 Testes realizados em um computador com: processador Intel i7 4770 @ 3,4 GHz; RAM 8 GB; 
placa de vídeo NVIDIA GTX 770; Windows 10 64 bits. 



300 

significativos comparado com a modelagem física, como por exemplo, 
quando o ângulo de visão é maior. 

As análises da variação dos parâmetros de refração após a 
calibração mostram que a alteração do índice de refração na água devido 
à variação de temperatura em torno de ± 5°C não é problemática. Todavia, 
a alteração da salinidade (de água doce para salgada) tem grande impacto 
no índice de refração, aumentando muito a incerteza de medição 
(~ 370%). Concluiu-se também que não existe a necessidade da medição 
da espessura do vidro para realizar a calibração, mesmo se este valor não 
for otimizado (caso do presente trabalho), podendo-se utilizar 
simplesmente o valor nominal, uma vez que o erro será compensado com 
a variação dos outros parâmetros otimizados. Além disto, a alteração de 
± 1 mm da espessura do vidro após a otimização influencia menos que 
3% no erro residual de calibração. 

O tempo de processamento é a principal limitação da técnica aqui 
desenvolvida. No entanto, a mesma pode ser superada com o uso do 
processamento paralelo em placa de vídeo (GPU) em conjunto com outras 
técnicas de minimização da quantidade de pontos testados, como a 
melhoria incremental de resolução não apenas em ??, mas também em ?? 
e ?? e com limites de procura de forma livre ao invés de um paralelepípedo. 

7.4 SUGESTÕES PARA TRABALHOS FUTUROS 

Com o conhecimento adquirido durante o desenvolvimento da tese 
e com os resultados obtidos sugere-se aqui possíveis trabalhos futuros: 

• Avaliação com pequena incerteza da posição real da primeira 
interface de refração (janela do tanque) com o uso por exemplo 
de câmera e lente de alta resolução e padrão de alta qualidade, 
braço de medição (referenciado por uma peça medida também 
com o sistema estéreo) ou outro sistema que possua incerteza 
3D desprezível para a aplicação (? 0,01 mm). 

• Comparação prática entre a aproximação por SVP e modelo 
físico de refração com lentes de menor comprimento focal e 
com as janelas em diferentes distâncias e inclinações em 
relação ao eixo da câmera. 

• Implementação e avaliação do método de calibração descrito 
em (CHEN; YANG, 2014) para interfaces planas de refração, 



301 

 
 

que não requer conhecimento da posição relativa dos pontos 
3D de um padrão, apenas a correspondência 2D nos pares de 
imagens. 

• Desenvolvimento de código para processamento em placa de 
vídeo (GPU) da triangulação inversa através de interfaces 
planas de refração. 

• Implementação da melhoria gradual da resolução nos outros 
eixos (??????????????) com limites de procura de forma livre. 

• Calibração do projetor através de interfaces planas de refração 
para auxílio na medição e também para sinalização, da mesma 
forma realizada no ar por (PINTO, 2010). 

• Sincronização entre câmeras e projetor, possibilitando uma 
aquisição muito mais rápida e de qualidade, o que é 
praticamente indispensável para o uso de um sistema portátil 
para uso subaquático. 

• Adição de filtros passa-banda nas câmeras e projetor 
monocromático, diminuindo a influência de iluminação 
externa (incluindo o efeito cáustico que ocorre em águas rasas) 
e aberrações cromáticas devido à refração. 

• Estudo do uso de polarizadores para diminuir/eliminar 
problemas de reflexo em superfícies espelhadas, por exemplo 
em risers com revestimento reflexivo. 

• Desenvolvimento de sistema com mais câmeras, diminuindo o 
problema de regiões com sombra e melhorando a identificação 
de pontos correspondentes.  

• Desenvolvimento de protótipo portátil, possibilitando 
medições em campo. 

• Avaliação do sistema com diferentes níveis de turbidez, 
simulando medições em campo. 

• Avaliação do sistema em água salgada. 
 





303 

 
 

REFERÊNCIAS 

2G Robotics. . Disponível em:&amp;lt;http://www.2grobotics.com&gt;. Acesso em: 
18 ago. 2015.  
ABBATE, G.; BERNINI, U. The temperature dependence of the refractive 
index of water. Journal of Physics D: Applied Physics, v. 11, p. 1167–
1172, 1978.  
AGRAWAL, A. et al. A theory of multi-layer flat refractive geometry. 
2012 IEEE Conference on Computer Vision and Pattern Recognition. 
Anais...IEEE, jun. 2012. 
ALBERTAZZI G., JR., A. et al. An endoscopic optical system for inner 
cylindrical measurement using fringe projection. (C. Quan, A. Asundi, 
Eds.)Proc. SPIE 7155, Ninth International Symposium on Laser Metrology, 
715514. Anais...Singapore: 29 set. 2008. 
ALBERTAZZI G., JR., A. et al. Development and application of a 
photogrammetric endoscopic system for measurement of misalignment 
and internal profile of welded joints in pipelines. (P. H. Lehmann, 
Ed.)Proc. SPIE 7389, Optical Measurement Systems for Industrial 
Inspection VI, 73891W. Anais...15 jun. 2009. 
ALLEY, D.; MULLEN, L.; LAUX, A. Compact, Dual-Wavelength, Non-
Line-of-Sight (NLOS) Underwater Imager. OCEANS 2011. 
Anais...2011. 
ALLEY, D.; MULLEN, L.; LAUX, A. Compact optical system for 
imaging underwater and through the air/sea interface. (W. W. Hou, R. 
Arnone, Eds.)1 jun. 2012. 
ARETE. Streak Tube Imaging LIDAR (STIL). . Disponível em: 
&lt;http://www.arete.com/arete_innovation/streak_tube_imaging_lidar_stil.asp
x&gt;. Acesso em: 12 nov. 2013.  

ASUNDI, A.; WENSEN, Z. Fast Phase-Unwrapping Algorithm Based on a 
Gray-Scale Mask and Flood Fill. Applied Optics, v. 37, n. 23, p. 5416, 10 
ago. 1998.  

AUSTRALIA, N. Nauticam Australia - Underwater Housings for 
Digital SLR cameras - Innovation Underwater. . Disponível em: 
&lt;http://www.nauticam.com.au/products/slr-accessories/ports/index.html&gt;. 
Acesso em: 5 set. 2013.  

BASHKATOV, A. N.; GENINA, E. A. Water refractive index in 
dependence on temperature and wavelength: a simple approximation. 



304 

(V. V. Tuchin, Ed.)Proc. SPIE 5068, Saratov Fall Meeting 2002: Optical 
Technologies in Biophysics and Medicine IV, 393 (October 14, 2003). 
Anais...14 out. 2003. 
BASS, M. et al. Handbook of optics: Volume 1 - Fundamentals, techniques, 
and design. Choice Reviews Online, v. 32, n. 10, p. 32-5715-32–5715, 1 
jun. 1995.  

BAY, H.; TUYTELAARS, T.; VAN GOOL, L. SURF: Speeded Up Robust 
Features. In: LEONARDIS, A.; BISCHOF, H.; PINZ, A. (Eds.). . 
Computer Vision – ECCV 2006 Lecture Notes in Computer Science. 
[s.l: s.n.]. v. 3951p. 404–417.  

BELCHER, E.; HANOT, W.; BURCH, J. Dual-Frequency identification 
Sonar (DIDSON). Proceedings of the 2002 International Symposium on 
Underwater Technology. Anais...2002. 

BENNETT, S.; LASENBY, J. ChESS – Quick and robust detection of 
chess-board features. Computer Vision and Image Understanding, v. 
118, p. 197–210, jan. 2014.  
BIANCO, G. et al. A comparative analysis between active and passive 
techniques for underwater 3D reconstruction of close-range objects. 
Sensors (Basel, Switzerland), v. 13, n. 8, p. 11007–31, jan. 2013.  
BOUGUET, J.-Y. Camera Calibration Toolbox for Matlab. . Disponível 
em:&amp;lt;http://www.vision.caltech.edu/bouguetj/calib_doc/index.html&gt;. 
Acesso em: 7 nov. 2013.  
BRÄUER-BURCHARDT, C. et al. Handheld underwater 3D sensor 
based on fringe projection technique. (F. Remondino, M. R. Shortis, 
Eds.)21 jun. 2015.a. 
BRÄUER-BURCHARDT, C. et al. Underwater 3D Surface Measurement 
Using Fringe Projection Based Scanning Devices. Sensors, v. 16, n. 1, p. 
13, 23 dez. 2015.b.  
BRÄUER-BURCHARDT, C.; KÜHMSTEDT, P.; NOTNI, G. Combination 
of Air- and Water-Calibration for a Fringe Projection Based Underwater 
3D-Scanner. In: Lecture Notes in Computer Science (including subseries 
Lecture Notes in Artificial Intelligence and Lecture Notes in 
Bioinformatics). [s.l: s.n.]. v. 9257p. 49–60.  
BROWN, D. C. Close-range camera calibration. Photogrammetric 
Engineering, v. 37, n. 8, p. 855–866, 1971.  

BRUCE. Camera obscura photo - Abandoned East Baltimore 
Rowhomes. . Disponível em: 
&lt;https://www.flickr.com/photos/stealw0rker/6798504017&gt;. Acesso em: 1 



305 

 
 

out. 2015.  

BRUNO, F. et al. Experimentation of structured light and stereo vision for 
underwater 3D reconstruction. ISPRS Journal of Photogrammetry and 
Remote Sensing, v. 66, n. 4, p. 508–518, jul. 2011.  
BUSCHINELLI, P. D. V et al. Underwater 3D shape measurement using 
inverse triangulation through two flat refractive surfaces. OCEANS 
2016 MTS/IEEE Monterey. Anais...IEEE, set. 2016. 
CAIN, C.; LEONESSA, A. Laser based rangefinder for underwater 
applications. 2012 American Control Conference (ACC). Anais...IEEE, 
jun. 2012. 
CAMPOS, R. et al. Trinocular system for 3D motion and dense structure 
estimation. Instrumentation viewpoint, v. 36, n. 8, p. 45, 2009.  

CAMPOS, R. G. AREM’s Project Homepage. . Disponível em: 
&lt;http://arem.udg.edu&gt;. Acesso em: 18 nov. 2013.  
CHEN, M.; HE, Z.; AO, F. Study and implementation for range-gated 
underwater laser imaging system. (L. Zhou, Ed.)Proc. SPIE 6625, 
International Symposium on Photoelectronic Detection and Imaging 2007. 
Anais...26 set. 2007. 
CHEN, X.; YANG, Y.-H. Two-View Camera Housing Parameters 
Calibration for Multi-layer Flat Refractive Interface. 2014 IEEE 
Conference on Computer Vision and Pattern Recognition. Anais...IEEE, 
jun. 2014. 

CHU, T. C.; RANSON, W. F.; SUTTON, M. A. Applications of digital-
image-correlation techniques to experimental mechanics. Experimental 
Mechanics, v. 25, n. 3, p. 232–244, set. 1985.  
CODAOCTOPUS. CodaOctopus. . Disponível em: 
&lt;http://www.codaoctopus.com/&gt;. Acesso em: 18 nov. 2013.  
COMPUTAR. M0814-MP2?: Manual Iris: Megapixel Monofocal Lenses: 
Products. . Disponível em:&amp;lt;https://computar.com/product/552/M0814-
MP2&gt;. Acesso em: 1 maio. 2017.a.  
COMPUTAR. M0814-MP2 Specifications, 2017.b. . Disponível em: 
&lt;https://computar.com/file?id=161&gt; 

DA SILVA MACIEL, L.; ALBERTAZZI, A. G. Swarm-based algorithm 
for phase unwrapping. Applied Optics, v. 53, n. 24, p. 5502, 20 ago. 2014.  
DE FRANÇA, J. A. et al. Revisiting Zhang’s 1D calibration algorithm. 
Pattern Recognition, v. 43, n. 3, p. 1180–1187, mar. 2010.  



306 

DOLEREIT, T.; KUIJPER,  A. Converting Underwater Imaging into 
Imaging in Air. Proceedings of the 9th International Conference on 
Computer Vision Theory and Applications, v. 1, p. 96–103, 2014.  
DRAP, P. et al. The ROV 3D Project: Deep-Sea Underwater Survey Using 
Photogrammetry: Applications for Underwater Archaeology. ACM Journal 
on Computing and Cultural Heritage, v. 8, n. 4, p. 21:1-21:23, 2015.  

EBAY. Hasselblad Biogen 4.5/38 Super Wide Lens Carl Zeiss 
Unterwasservorsatz II - ebay item. . Disponível em: 
&lt;http://www.ebay.com/itm/Hasselblad-Biogen-4-5-38-Super-Wide-Lens-
Carl-Zeiss-Unterwasservorsatz-II-
/151093249984?pt=Camera_Lenses&amp;amp;hash=item232ddc07c0&amp;amp;nma=true&amp;amp;si
=JvjpuAh3HgCnV2lQOOI2XG1ZUMk%3D&amp;amp;orig_cvip=true&amp;amp;rt=nc&amp;amp;_trks
id=p2047675.l2557&gt;. Acesso em: 28 ago. 2013.  
EKSTRAND, L. et al. High-resolution, High-speed, Three-dimensional 
Video Imaging with Digital Fringe Projection Techniques. Journal of 
Visualized Experiments, n. 82, p. 50421, 3 dez. 2013.  
EL-MELEGY, M. T. Nonmetric lens distortion calibration: closed-form 
solutions, robust estimation and model selection. Proceedings Ninth IEEE 
International Conference on Computer Vision, p. 554–559  vol.1, 2003.  
EMBRY, C. et al. SS MTS: Subsea Monitoring - High Resolution 3D 
Laser Imaging for Inspection, Maintenance, Repair, and Operations. 
Proceedings of Offshore Technology Conference. Anais...The Offshore 
Technology Conference, abr. 2012. 
FANTIN, A. V. Medição de Formas Livres por Topogrametria. [s.l.] 
Universidade Federal de Santa Catarina, 1999. 

FANTIN,  A. V. et al. Measurement and stitching of regular cloud of 
points. (P. S. Huang, T. Yoshizawa, K. G. Harding, Eds.)SPIE 7066, Two- 
and Three-Dimensional Methods for Inspection and Metrology VI. 
Anais...28 ago. 2008. 

FANTIN,  A. V.; ALBERTAZZI, A.; PINTO, T. L. Efficient mesh 
oriented algorithm for 3D measurement in multiple camera fringe 
projection. (W. Osten, C. Gorecki, E. L. Novak, Eds.)Proc. SPIE 6616, 
Optical Measurement Systems for Industrial Inspection V. Anais...18 jun. 
2007. 
FENG, S. et al. High-speed real-time 3-D coordinates measurement based 
on fringe projection profilometry considering camera lens distortion. Optics 
Communications, v. 329, p. 44–56, out. 2014.  

FN Diving webpage - Inspection. . Disponível em: 



307 

 
 

&lt;http://www.fndiving.com/inspection&gt;. Acesso em: 21 nov. 2013.  

FRANÇA, J. A. DE et al. Calibração binocular com gabaritos 1D sem 
restrição demovimentos. Sba: Controle &amp;amp; Automação Sociedade 
Brasileira de Automatica, v. 22, n. 3, p. 229–237, jun. 2011.  
GENESIS. Riser Analysis. . Disponível em: 
&lt;http://www.genesisoilandgas.com/assets/images/pictures/services/pic_riser
_analysis.jpg&gt;. Acesso em: 19 jun. 2017.  
GENG, J. Structured-light 3D surface imaging: a tutorial. Advances in 
Optics and Photonics, v. 3, n. 2, p. 128, 31 mar. 2011.  
GLAESER, G.; SCHRÖCKER, H.-P. Reflections on Refractions. Journal 
for Geometry and Graphics, v. 4, n. 1, p. 1–18, 2000.  

GLASSNER, A. S. An introduction to ray tracing. 1. ed. [s.l.] Academic 
Press, 1989.  
GODDIO, F. Sunken Civilizations: Alexandria. . Disponível em: 
&lt;http://www.franckgoddio.org/projects/sunken-
civilizations/alexandria.html&gt;. Acesso em: 18 ago. 2015.  
GOM. GOM - ATOS Compact Scan. . Disponível em: 
&lt;http://www.gom.com/metrology-systems/system-overview/atos-compact-
scan.html&gt;. Acesso em: 29 jul. 2015.  
GROSSBERG, M. D.; NAYAR, S. K. The Raxel Imaging Model and Ray-
Based Calibration. International Journal of Computer Vision, v. 61, n. 2, 
p. 119–137, fev. 2005.  
GUI, L. et al. Reconstruction with Underwater Stereo Vision. Proceedings 
of the International Conference on Logistics, Engineering, Management 
and Computer Science, n. MAY 2014, p. 0–5, 2014.  

GUIMARÃES, P. Flat vs. Dome port test on wide focal length lens for 
3D applications. . Disponível em:&amp;lt;http://steadi3d.com/flat-vs-dome-port-
test-on-wide-focal-length-lens-for-3d-applications/&gt;. Acesso em: 12 ago. 
2015.  

HAERTEL, M. E. M. Perfilômetro óptico externo para dutos expostos a 
corrosão. [s.l.] Universidade Federal de Santa Catarina, 2009. 
HAERTEL, M. E. M. et al. Development of an optical system for 
geometric inspection of external surface of pipelines. (A. A. S. Awwal, 
K. M. Iftekharuddin, Eds.)Proc. SPIE 8498, Optics and Photonics for 
Information Processing VI. Anais...15 out. 2012. 
HAERTEL, M. E. M. Sistema trinocular baseado em triangulação 
inversa para aquisição simultânea da geometria e textura da superfície 



308 

interna de dutos. [s.l.] Universidade Federal de Santa Catarina, 2015. 

HAERTEL, M. E. M.; PINTO, T. L. F. DA C.; ALBERTAZZI, A. 
Trinocular stereo system with object space oriented correlation for inner 
pipe inspection. Measurement, v. 73, p. 162–170, set. 2015.  
HAMZAH, R. A.; HAMID, A. M. A.; SALIM, S. I. M. The Solution of 
Stereo Correspondence Problem Using Block Matching Algorithm in 
Stereo Vision Mobile Robot. 2010 Second International Conference on 
Computer Research and Development. Anais...IEEE, 2010. 
HANER, S. et al. Joint Under and Over Water Calibration of a 
Swimmer Tracking System. Proceedings of the International Conference 
on Pattern Recognition Applications and Methods. Anais...SCITEPRESS - 
Science and and Technology Publications, 2015. 
HANER, S.; ASTR, K. Absolute Pose for Cameras Under Flat 
Refractive Interfaces. The IEEE Conference on Computer Vision and 
Pattern Recognition (CVPR). Anais...2015. 
HANNAH, M. J. Computer Matching of Areas in Stereo Images. [s.l.] 
Stanford University, 1974. 
HARRIS, C.; STEPHENS, M. A Combined Corner and Edge Detector. 
Procedings of the Alvey Vision Conference 1988. Anais...Alvey Vision 
Club, 1988. 
HARTLEY, R. I. An algorithm for self calibration from several views. 
Proceedings of IEEE Conference on Computer Vision and Pattern 
Recognition CVPR-94. Anais...IEEE Comput. Soc. Press, 1994. 

HARTLEY, R.; ZISSERMAN, A. Multiple View Geometry in Computer 
Vision. 2. ed. [s.l.] Cambridge University Press, 2004.  
HECHT, E. Optics. 4. ed. [s.l.] Addison-Wesley, 2001.  
HEIKKILA, J.; SILVEN, O. A four-step camera calibration procedure 
with implicit image correction. Proceedings of IEEE Computer Society 
Conference on Computer Vision and Pattern Recognition. Anais...IEEE 
Comput. Soc, [s.d.] 
HOANG, T. et al. Generic gamma correction for accuracy enhancement in 
fringe-projection profilometry. Optics Letters, v. 35, n. 12, p. 1992, 15 jun. 
2010.  

HOFMANN, A. C. H. Sistema Endoscópico Estereoscópico para 
Medição Geométrica de Uniões Soldadas de Dutos. [s.l.] Universidade 
Federal de Santa Catarina, 2006. 

HORN, B. K. P. Closed-form solution of absolute orientation using unit 



309 

 
 

quaternions. Journal of the Optical Society of America A, v. 4, n. 4, p. 
629, 1987.  

HURTOS, N.; CUFI, X.; SALVI, J. Calibration of optical camera 
coupled to acoustic multibeam for underwater 3D scene reconstruction. 
OCEANS’10 IEEE SYDNEY. Anais...IEEE, maio 2010. 

HydroOptix. . Disponível em:&amp;lt;http://www.hydrooptix.com&gt;. Acesso em: 
28 ago. 2013.  
IVANOFF, A.; LE GRAND, Y.; CUVIER, P. Optical System for 
Distortionless Underwater VisionParis, France, 1952. . Disponível em: 
&lt;http://www.google.com/patents/US2730014&gt; 
JACOBSON, M. Absolute Orientation - Horn’s method. . Disponível em: 
&lt;https://www.mathworks.com/matlabcentral/fileexchange/26186-absolute-
orientation-horn-s-method&gt;. Acesso em: 19 jun. 2017.  
JAFFE, J. et al. Underwater Optical Imaging: Status and Prospects. 
Oceanography, v. 14, n. 3, p. 64–75, 2001.  

JORDT-SEDLAZECK, A.; KOCH, R. Refractive Calibration of 
Underwater Cameras. Lecture Notes in Computer Science, v. 7576, n. 
ECCV (5), p. 846–859, 2012.  
JORDT, A.; KÖSER, K.; KOCH, R. Refractive 3D reconstruction on 
underwater images. Methods in Oceanography, v. 15–16, p. 90–113, abr. 
2016.  
KANG, L.; WU, L.; YANG, Y. Y.-H. Experimental study of the influence 
of refraction on underwater three-dimensional reconstruction using the SVP 
camera model. Applied Optics, v. 51, n. 31, p. 7591–7603, 1 dez. 2012.  
KAWAHARA, R.; NOBUHARA, S.; MATSUYAMA, T. Underwater 3D 
Surface Capture Using Multi-view Projectors and Cameras with Flat 
Housings. IPSJ Transactions on Computer Vision and Applications, v. 
6, n. 0, p. 43–47, 2014.  
KNIGHT, D. W. Optical characteristics of the flat underwater lens port. 
. Disponível em:&amp;lt;http://www.camerasunderwater.info/optics/flat-port-
theory&gt;. Acesso em: 25 jun. 2017.  
KOCAK, D. et al. Remote sensing using laser projection 
photogrammetry for underwater surveys. IEEE International IEEE 
International IEEE International Geoscience and Remote Sensing 
Symposium, 2004. IGARSS ’04. Proceedings. 2004. Anais...IEEE, 2004. 
KOTOWSKI, R. Phototriangulation in Multi-Media Photogrammetry. Int’l 
Archives of Photogrammetry and Remote Sens- ing, XXVII, 1988.  



310 

KRANHOUSE, J.; ROGERS, J. R. Panoramic reverse Galilean telescope 
optics for an underwater diving mask, 2003. . Disponível em: 
&lt;http://www.google.com/patents/US6612693&gt; 
LEICA. Leica ScanStation P20 Datasheet, 2013. . Disponível em: 
&lt;http://www.leica-
geosystems.com/downloads123/hds/hds/ScanStation_P20/brochures-
datasheet/Leica_ScanStation_P20_DAT_us.pdf&gt; 
LEONE, A.; DIRACO, G.; DISTANTE, C. A Stereo Vision Framework for 
3-D Underwater Mosaicking. In: Stereo Vision. [s.l.] InTech, 2008.  

LG. LG HS101 Pocket Projector, 2007. . Disponível em: 
&lt;http://www.projectorcentral.com/pdf/projector_spec_3774.pdf&gt; 
LIRA, S. A. Análise de correlação: abordagem teórica e de construção 
dos coeficientes com aplicações. [s.l.] Universidade Federal do Paraná, 
2004. 
LOWE, D. G. Distinctive Image Features from Scale-Invariant Keypoints. 
International Journal of Computer Vision, v. 60, n. 2, p. 91–110, nov. 
2004.  
LUHMANN, T. Close range photogrammetry for industrial applications. 
ISPRS Journal of Photogrammetry and Remote Sensing, v. 65, n. 6, p. 
558–569, nov. 2010.  
MARQUÉS, R.; MARTÍN, F.; SOROLLA, M. Metamaterials with 
Negative Parameters: Theory, Design, and Microwave Applications. 
[s.l: s.n.].  

MELLISH, B. Principle of a pinhole camera. . Disponível em: 
&lt;https://commons.wikimedia.org/wiki/File:Pinhole-camera.png&gt;. Acesso 
em: 1 out. 2015.  

METRIC, S. Sound Metric webpage. . Disponível em: 
&lt;http://www.didson.com&gt;. Acesso em: 18 nov. 2013.  
MILLARD, R. C. AND SEAVE, G. An index of refraction algorithm for 
seawater over temperature, pressure, salinity, density, and wavelength. 
Deep Sea Research Part A. Oceanographic Research Papers, v. 37, n. 
12, p. 1909–1926, 1990.  
MIRALLÈS, F. et al. Laser scanning system for inspecting large underwater 
hydroelectric structures. Journal of Electronic Imaging, v. 19, n. 2, p. 
23015, 1 abr. 2010.  
MUTTO, C. D. et al. Current Advancements in Stereo Vision. [s.l.] 
InTech, 2012.  



311 

 
 

NEGAHDARIPOUR, S. Epipolar Geometry of Opti-Acoustic Stereo 
Imaging. IEEE Transactions on Pattern Analysis and Machine 
Intelligence, v. 29, n. 10, p. 1776–1788, out. 2007.  
NEGAHDARIPOUR, S.; FIROOZFAM, P. An ROV Stereovision System 
for Ship-Hull Inspection. IEEE Journal of Oceanic Engineering, v. 31, n. 
3, p. 551–564, jul. 2006.  

New Nexus Glass Dome Ports|Underwater Photography Guide. . 
Disponível em:&amp;lt;http://www.uwphotographyguide.com/nexus-glass-dome-
ports&gt;. Acesso em: 5 set. 2013.  

NEWTON, I.; BALDWIN, R. A.; FRYER, J. G. Underwater 
Photogrammetry. In: Non-Topographic Photogrammetry. 2. ed. [s.l.] 
Asprs Pubns, 1989. p. 147–166.  
NGUYEN, H. et al. Real-time, high-accuracy 3D imaging and shape 
measurement. Applied Optics, v. 54, n. 1, p. 9–17, 2015.  
NICOSEVICI, T. et al. Efficient three-dimensional scene modeling and 
mosaicing. Journal of Field Robotics, v. 26, n. 10, p. 759–788, 2009.  

NISTER, D. An efficient solution to the five-point relative pose problem. 
IEEE Transactions on Pattern Analysis and Machine Intelligence, v. 26, 
n. 6, p. 756–770, jun. 2004.  

PINTO, C.; JR, A. A. G. 3D active stereo measurement in a regular mesh 
with random pattern and laser speckle projection. 22nd International 
Congress of Mechanical Engineering (COBEM 2013). Anais...2013. 

PINTO, T.; KOHLER, C.; ALBERTAZZI, A. Regular mesh measurement 
of large free form surfaces using stereo vision and fringe projection. Optics 
and Lasers in Engineering, v. 50, n. 7, p. 910–916, jul. 2012.  
PINTO, T. L. F. DA C. Medição óptica, comparação e sinalização de 
superfícies com forma livre de grande extensão. [s.l.] Universidade 
Federal de Santa Catarina, 2010. 
POINTGREY (FLIR). Flea2 2.0 MP Mono FireWire 1394b (Sony 
ICX274). . Disponível em:&amp;lt;https://www.ptgrey.com/flea2-2-mp-mono-
firewire-1394b-sony-icx274-camera&gt;. Acesso em: 1 maio. 2017.  
QUAN, X.; FRY, E. S. Empirical equation for the index of refraction of 
seawater. Applied optics, v. 34, n. 18, p. 3477–80, 20 jun. 1995.  

RAMALINGAM, S.; STURM, P.; LODHA, S. K. Theory and Calibration 
for Axial Cameras. In: Computer Vision–ACCV 2006. [s.l: s.n.]. v. 3851p. 
704–713.  

RICHARDSON, D. et al. High-Resolution 3D Laser Imaging for 



312 

Inspection, Maintenance, Repair, and Operations. Offshore Technology 
Conference. Anais...Offshore Technology Conference, 6 maio 2013. 

SABATER, N.; ALMANSA, A.; MOREL, J.-M. Meaningful Matches in 
Stereovision. IEEE Transactions on Pattern Analysis and Machine 
Intelligence, v. 34, n. 5, p. 930–942, maio 2012.  

SALVI, J.; PAGÈS, J.; BATLLE, J. Pattern codification strategies in 
structured light systems. Pattern Recognition, v. 37, n. 4, p. 827–849, abr. 
2004.  
SANSONI, G.; CAROCCI, M.; RODELLA, R. Three-dimensional vision 
based on a combination of gray-code and phase-shift light projection: 
analysis and compensation of the systematic errors. Applied Optics, v. 38, 
n. 31, p. 6565, 1 nov. 1999.  
Savante. . Disponível em:&amp;lt;http://www.savante.co.uk/&gt;. Acesso em: 29 set. 
2015.  
SCHAFFER, M. et al. Fast 3D shape measurements using laser speckle 
projection. (P. H. Lehmann, W. Osten, K. Gastinger, Eds.)Measurement. 
Anais...23 maio 2011. 
SCHAFFER, M. et al. Statistical patterns: an approach for high-speed and 
high-accuracy shape measurements. Optical Engineering, v. 53, n. 11, p. 
112205, 29 abr. 2014.  
SCHARSTEIN, D. et al. High-Resolution Stereo Datasets with Subpixel-
Accurate Ground Truth. In: JIANG, X.; HORNEGGER, J.; KOCH, R. 
(Eds.). . GCPR 2014: Pattern Recognition. [s.l.] Springer Link, 2014. p. 
31–42.  
SCHARSTEIN, D.; SZELISKI, R. A Taxonomy and Evaluation of Dense 
Two-Frame Stereo Correspondence Algorithms. International Journal of 
Computer Vision, v. 47, n. 1/3, p. 7–42, 2002.  

SCHECHNER, Y. Y.; KARPEL, N. Recovery of Underwater Visibility and 
Structure by Polarization Analysis. IEEE Journal of Oceanic 
Engineering, v. 30, n. 3, p. 570–587, jul. 2005.  

SCHREIER, H.; ORTEU, J.-J.; SUTTON, M. A. Image Correlation for 
Shape, Motion and Deformation Measurements. Boston, MA: Springer 
US, 2009. v. 1 
SCOPOS. Scopos webpage - Invastigator. . Disponível em: 
&lt;http://www.scopos.no&gt;. Acesso em: 21 nov. 2013.  
SEDLAZECK, A. J.; KOCH, R. Perspective and Non-perspective Camera 
Models in Underwater Imaging–Overview and Error Analysis. Lecture 



313 

 
 

Notes in Computer Science, v. 7474, p. 212–242, 2012.  

SWAMINATHAN, R.; GROSSBERG, M. D.; NAYAR, S. K. A 
perspective on distortions. 2003 IEEE Computer Society Conference on 
Computer Vision and Pattern Recognition, 2003. Proceedings., v. 2, p. 
II-594-601, 2003.  

SWIRSKI, Y. et al. Stereo from flickering caustics. 2009 IEEE 12th 
International Conference on Computer Vision. Anais...IEEE, set. 2009. 
SWIRSKI, Y. et al. Underwater stereo using natural flickering 
illumination. OCEANS 2010 MTS/IEEE SEATTLE. Anais...IEEE, set. 
2010. 
SWIRSKI, Y. et al. CauStereo: Range from light in nature. Applied Optics, 
v. 50, n. 28, p. F89, 1 out. 2011.  

SWIRSKI, Y.; SCHECHNER, Y. Y. CauStereo: structure from 
underwater flickering illumination. (R. Liang, Ed.)Proc. SPIE 8480, The 
Nature of Light: Light in Nature IV. Anais...11 out. 2012. 

SWIRSKI, Y.; SCHECHNER, Y. Y. 3Deflicker from motion. IEEE 
International Conference on Computational Photography (ICCP). 
Anais...IEEE, abr. 2013. 
SZELISKI, R. Computer Vision: Algorithms and Applications. 1. ed. 
London: Springer London, 2011.  
TAN, C. et al. Range gated imaging system for underwater robotic 
vehicle. OCEANS 2006-Asia Pacific. Anais...IEEE, 2007. 
TELEDYNE BlueView. . Disponível em:&amp;lt;http://blueview.com&gt;. Acesso 
em: 18 nov. 2013.  

TREIBITZ, T. et al. Flat Refractive Geometry. IEEE Transactions on 
Pattern Analysis and Machine Intelligence, v. 34, n. 1, p. 51–65, 13 jan. 
2012.  
TREIBITZ, T.; SCHECHNER, Y. Y. Turbid scene enhancement using 
multi-directional illumination fusion. IEEE transactions on image 
processing?: a publication of the IEEE Signal Processing Society, v. 21, 
n. 11, p. 4662–7, nov. 2012.  
TREIBITZ, T.; SCHECHNER, Y. Y.; SINGH, H. Flat refractive 
geometry. 2008 IEEE Conference on Computer Vision and Pattern 
Recognition. Anais...IEEE, jun. 2008. 
TRIGGS, B. et al. Bundle Adjustment — A Modern Synthesis 1 
Introduction. 2010. 



314 

VDI/VDE-2634. Optical 3D-measuring systems VDI. In: VDI/VDE 
guidelines. [s.l.] VDI/VDE guidelines, 2008. p. 1–3.  

VILARNAU, N. H. Integration of optical and acoustic sensor data for 
3D underwater scene reconstruction. [s.l.] University of Girona, 2009. 
WALDRON, D.; MULLEN, L. Underwater optical ranging: A hybrid 
LIDAR-RADAR approach. OCEANS 2009, MTS/IEEE Biloxi - Marine 
Technology for Our Future: Global and Local Challenges. Anais...Biloxi, 
MS: IEEE, 2009. 
WANG, Y.; ZHANG, S. Optimal pulse width modulation for sinusoidal 
fringe generation with projector defocusing: reply to comment. Optics 
Letters, v. 35, n. 24, p. 4121–4123, 15 mar. 2010.  
WANG, Y.; ZHANG, S. Superfast multifrequency phase-shifting technique 
with optimal pulse width modulation. Optics Express, v. 19, n. 6, p. 5149, 
14 mar. 2011.  
WOZNIAK, B.; DERA, J. Light Absorption and Absorbents. 1. ed. [s.l: 
s.n.].  

YAU, T.; GONG, M.; YANG, Y.-H. Y. Underwater Camera Calibration 
Using Wavelength Triangulation. cv-foundation.org, p. 2499–2506, 2013.  
YPMA, T. J. Historical Development of the Newton–Raphson Method. 
SIAM Review, v. 37, n. 4, p. 531–551, dez. 1995.  
YU, S. et al. Development of High-Resolution Acoustic Camera based 
Real-Time Object Recognition System by using Autonomous 
Underwater Vehicles. OCEANS 2006. Anais...IEEE, set. 2006. 
ZHANG, S. Recent progresses on real-time 3D shape measurement using 
digital fringe projection techniques. Optics and Lasers in Engineering, v. 
48, n. 2, p. 149–158, fev. 2010.  
ZHANG, Z. Camera Calibration. In: HALL, P. (Ed.). . Emerging Topics in 
Computer Vision, Prentice Hall Professional Technical Reference. [s.l: 
s.n.]. p. 4–43.  

ZHENGYOU ZHANG. Flexible camera calibration by viewing a plane 
from unknown orientations. Proceedings of the Seventh IEEE 
International Conference on Computer Vision. Anais...Kerkyra: IEEE, 
1999. 

ZHENGYOU ZHANG. Camera calibration with one-dimensional objects. 
IEEE Transactions on Pattern Analysis and Machine Intelligence, v. 26, 
n. 7, p. 892–899, jul. 2004.  

ZUCCHELLI, M. Optical flow based structure from motion. [s.l.] Royal 



315 

 
 

Institute of Technology, 2002. 

ZUMBRUNN, R. Automated fast shape determination of diffuse 
reflecting objects at close range by means of structured light and digital 
phase measurement. Proc. ISPRS Intercommission Conference on Fast 
Proc. of Photogrammetric Data. Anais...Interlaken, Switzerland: 1987. 

ZUO, C. et al. High-speed three-dimensional profilometry for multiply 
objects with complex shapes. Optics Express, v. 20, n. 17, p. 19493, 2012.  
ZUO, C. et al. High-speed three-dimensional shape measurement for 
dynamic scenes using bi-frequency tripolar pulse-width-modulation fringe 
projection. Optics and Lasers in Engineering, v. 51, n. 8, p. 953–960, ago. 
2013.  





317 

 
 

APÊNDICE A – PRINCÍPIO DE FERMAT E PROJEÇÃO 
DIRETA PARA TRÊS MEIO 

A.1 PRINCÍPIO DE FERMAT 

A forma moderna do princípio de Fermat diz que: “um feixe de luz 
indo do ponto ?? ao ponto ?? deve percorrer o caminho óptico (OPL, 
optical path length) que é estacionário em respeito a variações do 
caminho”. Em suma, o OPL é um extremo, podendo ser tanto um mínimo 
quanto um máximo e as vizinhanças desse ponto pouco variam (HECHT, 
2001). Um exemplo de quando o OPL é um máximo é no caso da reflexão 
interna em um espelho elíptico causada por uma fonte de luz pontual em 
seu centro, a luz irá percorrer tanto o menor quanto o maior caminho 
óptico. Existem materiais com índice de refração negativo (metamaterial), 
nesse caso o OPL adotado pela luz pode ter valores nulos ou negativos 
(MARQUÉS; MARTÍN; SOROLLA, 2007). Nos casos práticos de 
refração de interesse da presente proposta de tese, pode-se considerar que 
o OPL será sempre um mínimo. 

A figura 204 ilustra três casos diferentes para a luz percorrer do 
ponto ?? ao ??. A equação geral para o OPL em um meio que varia seu 
índice de refração com a distância para a luz percorrer do ponto ?? ao ?? é 
dada por (38) (caso (a) da figura 204), que é uma integral de linha. 
Conforme o princípio de Fermat, nos pontos em que sua derivada é igual 
a zero, obtém-se o OPL para percorrer entre os pontos ?? e ??. 

 
Figura 204 – Caminho óptico da luz para: (a) o índice de refração é diferente em 
cada posição (caso genérico); (b) índice de refração é diferente em “i-ésimos” 
discretos meios e (c) em um único meio. 

 ?? = ? ??(??) ????
??

??
 . (38) 



318 

Em um sistema com meios de refração discretos (figura 205 e caso 
(b) e (c) da figura 204), pode-se reescrever (38) como: 

 ?? = ????? ????

??

??=0

 . (39) 

A.2 DEDUÇÃO DA LEI DE SNELL 

A figura 205 ilustra o caminho óptico traçado pela luz ao passar 
por três meios de propagação diferentes, no caso, ar, vidro e água. A 
câmera é representada pelo triângulo na imagem, onde é indicado seu 
centro de projeção ??, comprimento focal ??, plano imagem (base do 
triangulo) e eixo ??. O vetor obtido pelo ponto central da câmera e o ponto 
?? no plano imagem possui direção ??0 e faz a interseção com a primeira 
interface de refração no ponto ??1. A direção do feixe seguinte (??1) é dada 
pela lei de Snell. O processo se repete até a obtenção do último feixe.  

 
Figura 205 –Modelagem bidimensional do caminho óptico entre o ponto ?? no 
sensor da câmera e ?? (ponto de interesse) (esquerda). Parametrização do caminho 
óptico em triângulos de altura ???, base ???? e hipotenusa ???? (direita). 

No caso da projeção direta (objeto?imagem), em contraste com a 
projeção inversa, onde se conhece a direção do primeiro feixe (??0), é 
necessário realizar o cálculo do caminho de menor tempo percorrido pela 
luz entre ?? e ??, conforme o princípio de Fermat descrito na seção 

??

??2
??2

??1
??1

??0
??0 = ??

??1

??0

??1

??2

??

??

???
??

??

??

?1
??1

??0

?0

??2

?2

??0

??1

??2

??0 =



319 

 
 

anterior. Para uma melhor visualização dos componentes do caminho 
óptico, para cada meio ??, pode-se definir triângulos de altura ???, base ???? 
e hipotenusa ????, conforme a imagem da direita na figura 205. 

 Para obter o comprimento do caminho óptico deve-se minimizar a 
equação (39): 

 ?? = min
??????+

?????????

??

??=0

= min
??????+

??????????2 + ????
2

??

??=0

 . (40) 

Utilizando a equação (39) para dois meios (1 e 2): 

 ?? = ??1???1
2 + ??1

2 + ??2???2
2 + ??2

2 , 

derivando ?? em relação a ??1 e igualando a zero, obtem-se: 

 
????
????1

= 0 ? ??1
??1

???12 + ??1
2
? ??2

??2

???22 + ??2
2

= 0 , 
 

 

 
??1

???12 + ??1
2
??1 =

??2

???22 + ??2
2
??2 

, (41) 

como ??2 = ?? ? ??1: 
??1

???12 + ??1
2
??1 =

?? ? ??1

?(?? ? ??1)2 + ??2
2
??2 

, (42) 

 e como: 
??????(????) =

????

?????2 + ????
2
 

, (43) 

obtem-se a lei de Snell (14):  ??????(??1)??1 = ??????(??2)??2.   

De forma alternativa, expandindo a equação (42) obtém-se um 
polinômio de ordem 4: 



320 

??(??) = ????4 ? 2??????3 + ????? + ??1
2 ?

??1
2

??2
???2  

(44) 

+2??1
2???? ? ??1

2??2 = 0 , 

sendo, ?? = ??1, ?? =  ??2/??1 e ?? =
1
??2
? 1. Das quatro possíveis soluções 

para (44), a de interesse está no intervalo [0,w]. Dedução baseada em 
(GLAESER; SCHRÖCKER, 2000). 

É interessante notar que como o índice de refração é dado pela 
velocidade da luz no vácuo dividida pela velocidade da luz no meio (???? =
?? ?????? ), dividindo ?? pela velocidade da luz, obtém-se o tempo de 
propagação. Sendo assim, dividindo (39) por ??: 

???????? =
??
??
?
??
??
?

1
?????
????

??

??=0

? ?
????
?????

??

??=0

 

 ???????? =
??
??

  . (45) 

A.3 MENOR CAMINHO ÓPTICO PARA TRÊS MEIOS DE 
PROPAGAÇÃO 

Para três meios de propagação (duas interfaces de refração), tem-
se duas incógnitas. Conforme a equação (41) obtem-se o seguinte sistema 
de duas equações: 

?
?
?

?
?

??2
???2

2 + ??2
2

 ??2 =
?? ? ??0 ? ??2

?(?? ? ??0 ? ??2)2 + ??1
2

  ??1 Meio 2 para o 1

?? ? ??0 ? ??2
?(?? ? ??0 ? ??2)2 + ??1

2
 ??1 =

??1
???02 + ??0

2 
 ??0 Meio 1 para o 0

 (46) 

Sendo que: ?? = ??0 + ??1 + ??2 e ??0, ??1, ??2 ? ?+. 

Expandindo a equação (46) obtém-se uma equação de ordem 12 
(YAU; GONG; YANG, 2013)  (AGRAWAL et al., 2012), sendo possível 
realizar a projeção direta (objeto?imagem) em uma câmera através de 
duas interfaces placas de refração (três meios). 



321 

 
 

APÊNDICE B – PARÂMETROS DO SISTEMA ÓPTICO 
ESTÉREO 

As câmeras, lentes e projetor que compõe o sistema óptico estéreo 
ativo utilizado nos experimentos da tese são expostos nas figuras 206, 207 
e 208 e suas respectivas especificações nas tabelas 53, 54 e 55. Esse 
sistema foi desenvolvido anteriormente na tese (PINTO, 2010). 

Câmeras 

 
Figura 206 – Câmera Flea 2 da antiga Point Grey (comprada pela Flir) do sistema 
estéreo. 



322 

Tabela 53 – Principais especificações das câmeras do sistema estéreo 
(POINTGREY (FLIR), 2017). 

Fabricante Point Grey (Flir) 
Modelo FL2-20S4M-C 
Sensor CCD 

Cor Mono 
Obturador (shutter) Global 

Interface Firewire B 
Formato do sensor 1/1,8” 
Resolução espacial 1624 × 1224 pixel² 

ADC (analógico para digital) 12 bits 
Centro da imagem 812, 612 
Tamanho do pixel 4,4 × 4,4 µm² 

Frequência máxima na resolução nativa 15 Hz 
Tempo de exposição 0,02 ms a &gt; 10 s 

Acoplamento da lente C-Mount 

Lentes 

 
Figura 207 – Lente de 8 mm da Computar utilizada no sistema estéreo 
(COMPUTAR, 2017a). 



323 

 
 

Projetor 

Tabela 54 – Especificações da lente de 8 mm da Computar utilizada no sistema 
estéreo (COMPUTAR, 2017b). 

Fabricante Computar 
Modelo M0814-MP2 

Comprimento focal 8 mm 
Formato de sensor máximo (8,8× 6,6) mm²  ? 11 mm 

Abertura máxima 1:1,4 
Tamanho para filtro M30.5  P = 0,5 mm 

Dimensão ?33,5 mm  × 28,2 mm 

Ângulo de visão (formato de 
sensor ½) 

Diagonal 51,9° 
Horizontal 42,5° 

 Vertical 32,4° 

 
Figura 208 – Projetor LG / HS101 do sistema estéreo (LG, 2007). 

Tabela 55 – Especificações do projetor LG / HS101 (LG, 2007). 

Fabricante / Modelo LG / HS101 
Resolução (800 × 600) pixels 

Tipo de lâmpada RGB LED 
Brilho 100 ANSI lumen 

Contraste 2 000:1 
Dimensões (154 × 117 × 50) mm³ 





325 

 
 

APÊNDICE C – OBTENÇÃO DA POSIÇÃO DAS JANELAS DO 
TANQUE POR PARÂMETROS EXTRÍNSECOS 

Com o intuito de conhecer a posição e orientação das janelas em 
relação às câmeras do sistema (??0

??, ??0
??, ????, ????) e compara-los com os 

valores obtidos durante a calibração, utilizou-se a terceira câmera para 
calcular os parâmetros extrínsecos de padrões de círculos colados sobre a 
superfícies das janelas (Figura 209). Para tal, é necessário calibrar a 
terceira câmera e também adquirir uma foto com todas as câmeras de uma 
mesma pose “??” do padrão de calibração, que torna possível relacionar os 
sistemas de coordenadas (SC) das três câmeras. A figura 210 ilustra as 
transformações de SC necessárias para obtenção das matrizes ????. Os 
procedimentos para obtenção dos valores de referência da primeira 
interface de calibração foram: 

• Posicionamento de uma terceira câmera com visão a ambas as 
janelas do tanque. 

• Calibração da terceira câmera (ou central). 
• Obtenção da imagem do padrão (pose “??”) vista com as três 

câmeras ao mesmo tempo. 
• Cálculo de ????????, ???????? e ????????: Matriz de parâmetros extrínsecos 

da imagem obtida anteriormente para as três câmeras. 
• Cálculo de ????1????  e ????1???? : Matriz de parâmetros extrínsecos da 

imagem do padrão na parede esquerda e direita (?? e ??) do 
tanque para o sistema de coordenadas da terceira câmera. 

• Cálculo de ????1????  e ????1???? : Matrizes que relacionam o sistema de 
coordenadas do padrão na parede esquerda e direita do tanque 
para o SC das respectivas câmeras. Para obter essas matrizes 
são realizadas as seguintes conversões de SC (Figura 210):  

• ????1???? : Sistema de coordenadas do padrão na parede do tanque 
direito (??) para o da terceira câmera. 

• (????????)?1: Sistema de coordenadas da terceira câmera para o da 
pose de referência. 

• ????????: Sistema de coordenadas da pose de referência para o da 
câmera direita. 



326 

O mesmo procedimento é feito para a janela esquerda (??). As 
equações resultantes são: 

 ????1??
?? = ????????(????????)?1????1??

??  , (47) 

 ????1??
?? = ????????(????????)?1????1??

??  . (48) 

 
Figura 209 – Imagem obtida pela terceira câmera dos padrões de círculos colados 
nas janelas (pose 1?? e pose 1??) do tanque utilizada para a obtenção da orientação 
e distância de referência. 

 
Figura 210 – Esquemático da transformação de coordenadas para a obtenção da 
posições e orientação das janelas no tanque. 

????????

????1??
??

Pose “??” de referência do padrão

????1??
?? = ???????? ???????? ?1????1??

??

????????
????????

????1??
??

????1??
??

Pose “1??” na interface de 
refração

????1??
?? = ???????? ???????? ?1????1??

??

???????? ?1



327 

 
 

De posse das matrizes de transformação do SC do padrão nas 
janelas, a distância (??0) e orientação (??) da primeira interface de refração 
pode ser obtida para cada uma das câmeras. Por definição, o eixo da 
câmera (??) possui direção inversa ao vetor normal à superfície. O vetor 
normal pode ser obtido pela multiplicação da matriz de rotação [?? =
????(1: 3,1: 3)] pelo ponto [0 0 1]??, que é o mesmo que a última coluna da 
matriz de rotação. A distância do centro de projeção à interface de 
refração (??0) é o comprimento do vetor com direção ??, com início no 
centro de coordenadas e fim na interseção com a interface de refração, ou 
o vetor translação ?? projetado em ?? (??0 = ?? ? ??). 

A tabela 56 compara as orientações das janelas do tanque obtidas 
na calibração dos parâmetros de refração (seção 6.4) e com os parâmetros 
extrínsecos do padrão colado nas mesmas. 

Deve-se notar que as pequenas diferenças de ângulos (0,04° e -
0,20°) expostos na tabela 56 não indicam necessariamente que os vetores 
possuem direções semelhantes, mas sim que possuem ângulos 
semelhantes em relação ao eixo ??. 

Tabela 56 – Comparação entre eixos e distâncias as janelas de referência e os 
obtidos na calibração. Dimensões em milímetros. 

Sím-
bolo 

Referência Valor após minimização Diferença 

Câmera ?? Câmera ?? Câmera ?? Câmera ?? Câmera ?? Câmera ?? 

?? ?
?0,01406
0,00382
0,99989

? ?
0,00773
0,01160
0,99990

? ?
?0,01504
0,00278
0,99988

? ?
?0,00995
0,00334
0,99994

? ?
?0,00098
?0,00659
?0,00001

? ?
?0,01768
?0,00827
0,00004

? 

????? 0,83° 0,80° 0,88° 0,60° 0,05° -0,20° 

??0 18,608 18,763 16,938 16,496 -1,670 -2,267 

 



Medição Óptica de Formas 3D em Meio 
Subaquático Através de Interfaces Planas de 

Refração Utilizando Triangulação Inversa
Universidade Federal de Santa Catarina – UFSC

Programa de Pós-Graduação em Engenharia Mecânica – PósMEC

Orientador: prof. Armando Albertazzi Gonçalves Jr., Dr. Eng.
Coorientador: prof. Tiago Loureiro Figaro da Costa Pinto, Dr. Eng.

Florianópolis, 11 de outubro de 2017

Pedro de Deus Vieira Buschinelli - pvb@labmetro.ufsc.br

Tese



2

1.   Introdução

2.   Medição Óptica de Formas 3D

3.   Medição Óptica de Formas 3D em Meio Subaquático

4.   Triangulação Inversa em Meio Subaquático
• Modelagem dos parâmetros de refração (PR)
• Projeção inversa
• Calibração dos PR
• Medição com triangulação inversa / Projeção direta

5.   Resultados Experimentais

6.   Conclusões

Tópicos

1.   Introdução

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Medição geométrica subaquática – Áreas de aplicação

Diversas áreas de interesse:

3

• Geologia: mapeamento do 
fundo do oceano

Formação geológica em Galápagos

• Biologia: mapeamento de corais, medição de peixes

• Arqueologia: medição de artefatos, naufrágios

Civilização submersa de Alexandria (GODDIO, 2004)
Esfinge de granito Vasos de um naufrágio

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Medição geométrica subaquática – Áreas de aplicação e motivação

• Indústria do óleo &amp;amp; gás e naval
Inúmeros equipamentos, estruturas, tubulações, propulsores...

4
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa

Motivações:
• Diversas áreas de aplicação incluindo O&amp;amp;G
• Desafios da medição em meio subaquático
• O Labmetro desenvolve projetos na área de O&amp;amp;G em 

parceria com a Petrobras há quase 20 anos



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Objetivo Geral

Desenvolver e validar técnicas para realizar a calibração e

medição com um sistema óptico estéreo ativo através de

interfaces planas de refração utilizando a triangulação inversa

5
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Objetivos Específicos

• Levantamento bibliográfico (incluindo: medição óptica subaquática e 
modelagem da refração)

• Desenvolvimento de algorítimo para calibração dos parâmetros de refração

• Desenvolvimento de triangulação inversa através de interfaces planas de 
refração

• Avaliação metrológica do sistema

• Avaliação do desvio de medição de objetos de forma complexa calibrados

6
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa



7
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa

1.   Introdução

2.   Medição Óptica de Formas 3D

3.   Medição Óptica de Formas 3D em Meio Subaquático

4.   Triangulação Inversa em Meio Subaquático
• Modelagem dos parâmetros de refração (PR)
• Projeção inversa
• Calibração dos PR
• Medição com triangulação inversa / Projeção direta

5.   Resultados Experimentais

6.   Conclusões

Tópicos

1.   Introdução

2.   Medição Óptica de Formas 3D



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Modelo Pinhole (SVP)

8

(MELLISH, 2003)

Câmera escura

Nomenclaturas comuns:
Pinhole – Single View Point (SVP) – Câmera central

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

(BRUCE, 2012)

Modelo Pinhole (SVP)

9

Furo numa janela

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Modelo Pinhole (SVP)

10

Modelo 
computacional 

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

Modelo físico



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Modelo Pinhole (SVP)

11

?? =
??
??
??

??????

[?? ??]

??????
?? =

??
??

??
??

(??0, ??0)
f

??
??

??
??

Projeção ? Semelhança de triângulos

??
??
1

= ?? ?? ??

??
??
??
1

??
??????????????

??

?? =
?? 0 ??0
0 ?? ??0
0 0 1

Matriz de calibração 

Parâmetros intrínsecos

2. Projeção

1. SCO ? SCC

Parâmetros extrínsecos

Rotação e translação
?? ??

Adaptado de (ZHANG, 2004) ?? = ?? ?? ?? ??
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Modelo Pinhole + distorção de lente (SVP) – Calibração
Obter:
• Parâmetros intrínsecos (??, ??0, ??0), extrínsecos (????) 
• Parâmetros de distorção da lente

Calibração baseada em objeto 2D (plano) – Tipo tabuleiro de xadrez
• A partir de uma série de imagens é possível calibrar a câmera (ZHENGYOU ZHANG, 1999)

• Não é necessário conhecer a posição do plano

• Padrão pode ser feito de maneira simples

• Toolbox  para  Matlab  www.vision.caltech.edu/bouguetj/calib_doc/ (BOUGUET,  2013)

12

(BOUGUET,  2013)

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Sistemas de visão estéreo
• Percepção 3D ? Visão da mesma cena por ao menos dois pontos de visão diferente (visão estéreo)

• Passivo ? Duas câmeras (ou mais)

• Ativo ? Utiliza sistema de projeção 
Sistema de projeção ? Auxilia na identificação de pontos correspondentes

13

(GOM, 2015)

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

(homólogos)



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Identificação de pontos correspondentes (homólogos)

14

Identificação sem projeção (passiva)
• Detecção de bordas
• Correlação espacial

Adaptado de (HOFMANN, 2006)

Identificação com projeção (ativa)
• Correlação espacial, temporal, 

espaçotemporal, outros...
• Projeção de franjas ? Utilizada no 

trabalho

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Projeção de franjas

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa 15

Projeção de franjas senoidais

Fa
se

2??

In
te

ns
id

ad
e

ex.: 8 passos

Projeção Graycode

? Remove ambiguidades de fase

?

=

+

0

300
Fase [rad]

150

Mapa de fase (absoluta)



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Triangulação – Direta ???? Inversa

16

????

??

????

Triangulação direta ou convencional Triangulação Inversa

Grade regularGrade irregular

???? ????
????

??

????
???? ????

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Triangulação Inversa

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa 17

??

??

??

??x

????

???? ??

Malha ????

Medição:

1. Selecionado um ponto na malha ????

2.   Pontos 3D são projetados varrendo a coordenada ??

3. Avaliação de correspondência: O ponto com cota ??
com melhor correspondência é selecionado. Se
correspondência &gt; limiar ? ponto 3D válido

4. Decisão:
• Se toda malha ???? foi varrida, finaliza.
• Se não, volta a “1” (outro ponto na malha ????

é varrido em Z)

Configuração:
• Define-se volume de medição
• Define-se resoluções ??x, ???? e ????

Câmera 
DireitaCâmera 

Esquerda

c??

????



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Triangulação Inversa 

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa 18

Principais vantagens

• Volume de medição e resolução pré-definidos

• Grade e distribuição dos pontos regular

• Facilidade na definição do nível de detalhamento na medição

Principal limitação

• Tempo de processamento ? Número de pontos 3D a serem testados se válidos ou não



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Triangulação inversa – Identificação de ponto 3D válido

19

Pontos de procura em Z 
para [X  Y] = [0  0] 

projetados nas imagens

Mapas de fase das duas câmeras

0
20
40
60
80

100
120
140
160

-100 -50 0 50 100

M
ód

ul
o 

da
 d

ife
re

re
nç

a 
de

 
fa

se
  [

ra
d]

 

Z [mm]

Mínima diferença de fase

X
Y

Z

Câmera “??”

Câmera “??”

Projetor
????

????

???? ???? Pontos na curva de 
procura com menor 
diferença de fase

Cota ?? válida encontrada = -28,06 mm !!

Ponto 3D definido
[0,0   0,0   -28,06] 

Processo se 
repete para toda 
grade XY

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Triangulação Inversa - Resultado típico

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa 20

Nuvem de pontos (detalhe)

Resultado de medição no ar obtido na tese

Malha

Grade regular

0,1

0,1

Objeto



21
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa

1.   Introdução

2.   Medição Óptica de Formas 3D

3.   Medição Óptica de Formas 3D em Meio Subaquático

4.   Triangulação Inversa em Meio Subaquático
• Modelagem dos parâmetros de refração (PR)
• Projeção inversa
• Calibração dos PR
• Medição com triangulação inversa / Projeção direta

5.   Resultados Experimentais

6.   Conclusões

Tópicos

2. Medição Óptica de Formas 3D

3. Medição Óptica de Formas 3D em Meio Subaquático



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Técnicas típicas de medição subaquática

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa 22

Manual Sonar típico Sonar 3D
Sonar

(EchoPilot, 2016)

Óptico
Mais detalhes, menor incerteza
Aplicação: distâncias menores (visibilidade/absorção)

Visão estéreo

(Bräuer-Burchardt, et. al, 2015)
(2G Robotics,2016)

Triangulação laser



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Propagação da luz na água

23

Degradação do sinal
Desafios

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

?????? ??1 ??1 = ?????? ??2 ??2
• Lei de Snell (HECHT, 2001)

Refração

• Princípio de Fermat
Caminho óptico de menor tempo

• Absorção

• Difusão ou dispersão (scattering)

Absorção Vs comprimento de onda

400 500 600 700
Comprimento de onda [nm]

Pr
of

un
di

da
de

 [m
]

50

100

0

(Sea Grant, 2012)



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Tipos de janela de visão

24

(SEDLAZECK; KOCH, 2012)

Plana Domo

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

(GUIMARÃES, 2012)



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Tipos de janela de visão

25

(SEDLAZECK; KOCH, 2012)

Plana Domo

Características:

• Fácil fabricação
• Grande disponibilidade
• Visão através de um aquário
• Imagem mais próxima (magnificação)

Ex.: ar/água, magnificação de ~ 33%

• Possibilita o uso de grande angulares
• Menor distorção
• Difícil alinhamento
• Mais frágil (a choques)
• Imagem virtual curvada e mais próxima

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Interface plana• Não pode ser 100% corrigida por 
correção radial (2D) ? Distorção 3D!

• Objetos visíveis no ar são oclusos na 
água e vice-versa

Erro da correção da 
distorção

[

Geometria plana de refração – Distorção devido a refração

26

Adaptado de (TREIBITZ et al., 2012)

??

??

??1

?? (água)

?? (????)

??2

Lente

Função correção distorção radial 

(??á??????
??????????????

??????)

Podemos modelar a refração 
como distorção radial?

Água

Ar

Sensor
Plano imagem

??1(á??????)
??2(á??????)

??1(????) ??2(????)
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Geometria plana de refração – Distorção devido a refração

27

(TREIBITZ et al., 2012)

Visão da câmera

Experimento

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Aproximação pelo modelo SVP

Quando é valida a aproximação por SVP (pinhole + distorção 2D)?
Fatores que favorecem a aproximação por SVP:

• Pequeno ângulo de visão
• Objetos distantes
• Alinhamento (perpendicular) do eixo da câmera com a interface
• Distância do objeto não varia, objeto perpendicular à câmera

28

(TREIBITZ et al., 2012)

(AGRAWAL et al., 2012)

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



29
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa

1.   Introdução

2.   Medição Óptica de Formas 3D

3.   Medição Óptica de Formas 3D em Meio Subaquático

4.   Triangulação Inversa em Meio Subaquático
• Modelagem dos parâmetros de refração (PR)
• Projeção inversa
• Calibração dos PR
• Medição com triangulação inversa / Projeção direta

5.   Resultados Experimentais

6.   Conclusões

Tópicos

3.   Medição Óptica de Formas 3D em Meio Subaquático

4. Triangulação Inversa em Meio Subaquático



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Representação da câmera e interfaces de refração

30

Ar

Água

Câmera “??” Câmera “??”

Projetor

??0

??1

??2Água

Ar

Vidro

????

Interface 
de refração
(Ar/Vidro)

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

Interface 
de refração
(Vidro/Água)

??

??????

Invólucro

Modelagem da refração (fisicamente correta) (Refra)



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Modelagem da refração através de interfaces planas

Símbolo Descrição
?? Eixo da câmera axial
?? Número de meios

??0, … , ???? Índices de refração
??0, … , ?????1 Distâncias das interfaces

31

??

?

??0

??1

?????1

?

??
????

?????1

??1

??0

?? ??????Parâmetros de Refração (PR)

Se todas interfaces são paralelas
? Feixes (visão aparente) cruzam num mesmo eixo A ? Câmera axial
? Eixo “??” é normal às interfaces e inicia no centro de projeção (??)
? Caminho óptico (para qualquer ponto na imagem) é contido em um mesmo plano

(AGRAWAL et al., 2012)

?? Eixo da câmera axial

? ?

Adaptado de (AGRAWAL et al., 2012)

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

?? interfaces

??



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Método para a Projeção Inversa Através de Interfaces Planas de Refração (????????????????????????)

Procedimento:
1.  ??0: ????,  mesmo que: ??0 = ???1??
2.  ??1: Interseção ??0 e 1ª interface
3.  ??1: Forma vetorial da Lei de Snell (GLASSNER, 1989)
4.  Processo é repetido até obter ???? e ????

Método desenvolvido pode ser utilizado para n interfaces não 
necessariamente paralelas

32

??2

??1

????

??1

??0

?
Se as interfaces são paralelas
• ???1 = ???2 = ? = ????? = ???

?????????? ???? ?????????? ?? = ?
??=0

??

???? ?? (32)•

??0

??1

?????1

??

??0

??1

?????1

????

??

?

Método de raytracing desenvolvido (MATLAB e C++)

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

????

??

(Normal de todos planos)

???1



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Calibração dos parâmetros de refração (PR)

1. Calibração no ar: pinhole + distorção (SVP)

2. Aquisição de pares de imagens do padrão na água

Padrão com pontos conhecidos e facilmente identificáveis (ex.: tabuleiro de 
xadrez)

33

3. Correção da distorção da lente (calib. ar) e 
identificação dos pontos 2D

4. Os Parâmetros de Refração (PR) serão os que minimizam o erro do algoritmo 
de Calibração por Correspondência Estéreo 2D-3D desenvolvido...

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Calibração de parâmetros de refração por correspondência estéreo 2D-3D
Método de calibração desenvolvido:
1.   Estimativa inicial PR

2.   Projeção inversa

3.   Obtenção dos pontos de mínima 
distância entre feixes (??1 e ??2) e ponto 
médio ??

4.   Os pontos do padrão são ajustados 
aos triangulados (HORN, 1987)

5.   Cálculo das distâncias entre os 
pontos obtidos e os do padrão

• Processo se repete até encontrar os 
PR que resultem num mínimo erro

• Erro: Distância entre feixes (??1??2) e 
distância dos pontos triangulados 
aos pontos do padrão

34

????
?? =?

????

????
????1

??2
??1

??

3
4

??

5

??

?PR (????? ????? ??)

(??’s) Pontos 3D triangulados

(??’s) Pontos 3D do padrão (conhecidos)

2

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Modelo para medição com Triangulação Inversa

35

??1

????

??0

??1

?
????

??

??

X

??x

????

????

Malha ????

??2

??????

??

????

????
????

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

Projeção direta – Princípio de Fermat
Soluções analíticas:
• 2 Meios ? Polinômio de ordem 4 

(GLAESER; SCHRÖCKER, 2000)

• 3 Meios ? Polinômio de ordem 12! 
(AGRAWAL et al., 2012)

• Mais de 3 meios = ???

Método iterativo desenvolvido na tese



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Algoritmo iterativo desenvolvido na tese

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa 36

??

??
????

??1
??2

??

Algoritmo Iterativo para a Projeção Através de Interfaces Planas de Refração
(????????????????????????????)

???? = ??
1
??????

??????
??????

(36) Fator de escala (reduz nº iter)
Caso Med. Água: ?? = 1,33

Projeção
??2=?

??1 =?

Projeção direta

1.  Estimativa inicial: Projeção direta no ar (??1)

2.  Projeção inversa do ponto estimado

3.  Cálculo do vetor de erro 3D ????: Distância ?? ao raio projetado

4.  Verificação do erro e iterações
???? ? ??????????????????? OU ???????????????? ? ????????????á???

• Se sim: Finaliza. Retorna o ponto ?? na imagem
• Se não: Incrementa o número de iterações e continua

5.  Cálculo do vetor de correção 2D ????

6.  Retorna à 2.

?????

• ~3 × mais rápido que a solução analítica
• Converge geralmente em 5±3 iterações 

(Tolerância utilizada = 0,001 mm)
Comparação no MATLAB
Caso de 3 meios
i7 4770K

??=?

??



37
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa

1.   Introdução

2.   Medição Óptica de Formas 3D

3.   Medição Óptica de Formas 3D em Meio Subaquático

4.   Triangulação Inversa em Meio Subaquático
• Modelagem dos parâmetros de refração (PR)
• Projeção inversa
• Calibração dos PR
• Medição com triangulação inversa / Projeção direta

5.   Resultados experimentais

6.   Conclusões

Tópicos

4.   Triangulação Inversa em Meio Subaquático

5. Resultados Experimentais



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Avaliação Prática ? Objetivos

38

Exemplos de aplicação
• Medição de trecho de riser e tubo como exemplo de aplicação na indústria de O&amp;amp;G

• Calibrar e avaliar no ar com modelo pinhole (SVP)

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

Até onde o sistema estéreo ativo utilizado pode chegar ?

A aproximação dos efeitos da refração por modelo SVP é adequada ?

Modelo geral de refração e técnicas desenvolvidas na tese funcionam bem ?

• Calibrar e avaliar na água com modelo pinhole (SVP)

• Calibrar e avaliar na água com modelo fisicamente correto de refração (Refra)



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Setup - Sistema estéreo utilizado e montagem

39

Câmera ??

Câmera ??

Projetor

Câmera Central 
(auxiliar)

??

??

??

~300 mm

Sistema estéreo ativo desenvolvido e validado em (PINTO, 2010)

Resolução típica:
????: 0,1 mm

????: 0,01 mm

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Configuração para medição subaquática

40

Ar

Água

Montagem no laboratório para 
validação da teoria

Ar

Água

Câmera “??” Câmera “??”

Projetor

Possível concepção de protótipo

Tanque com paredes inclinadas

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Tanque de água com paredes inclinadas

41

800

40040°

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Fotos da montagem para medição subaquática

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa 42



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Calibrações – Esclarecendo

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa 43

Caso
Calibração Medição

Meio
Restrições

Meio Tipo

1
Ar SVP

Ar Nenhuma ?

2 Água Inviável ?

3
Água

SVP
Água

Depende de...
ex.: Ang vis. limitado

4 Refra Nenhuma ?

Técnicas utilizadas:
• SVP: Pinhole + distorção de lente
• Refra: Calibração SVP no ar + modelagem da refração



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

0%

5%

10%

15%

0,00 0,20 0,40 0,60 0,80

Fr
eq

uê
nc

ia
 %

Erro [pi xel ]

Míni mo: 0,001
Má xi mo: 0,745

Mé di o: 0,118
??: 0,076

Pontos : 4.224

Calibração no ar
• Adquiridas 24 poses do padrão
• Obtenção:

• Parâmetros Intrínsecos (?? e coef. de distorção)
• Extrínsecos (????)

44

0%

5%

10%

15%

0,00 0,20 0,40 0,60 0,80

Fr
eq

uê
nc

ia
 %

Erro [pi xel ]

Míni mo: 0,002
Má xi mo: 0,551

Mé di o: 0,127
??: 0,078

Pontos : 4.224

-100

600

203231257
1

1927
21

13
1226

0

500

Y

6

100

400

23

2
9

514

2210

Z

300

 

29
16

24

X
Y

200

Z

200

Right Camera
30

100

X

100 0

-100
0

Y
Z XLeft Camera

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

Câmera central

Câmera ??Câmera ??



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Medição na água   – Calibração no Ar (SVP) ???? Calibração na água (Refra)

45

Referência

Calib. Ar (SVP) e Med.  Água

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

O que acontece se medir na água com a calibração no ar??

• Perda da geometria epipolar 
gera duplicações em ??

• Magnificação
• Deformação
• Posição incorreta



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Calibrações – Esclarecendo

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa 46

Caso
Calibração

Meio da medição Restrições
Meio Tipo

1 Ar SVP Ar Nenhuma ?

2 Ar SVP Água Inviável ?

3 Água SVP Água
Depende de

ex.: Ang vis. limitado

4 Água Refra Água Nenhuma ?

Técnicas utilizadas:
• SVP: Pinhole + distorção de lente
• Refra: Calibração SVP no ar + modelagem da refração

Ar (SVP)

Água (SVP)

Água (Refra)



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Calibração na água (SVP)

47
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa

Par de imagens em uma das poses adquiridas

Visão câmera central auxiliar



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Calibração – Comparação: Ar (SVP) ???? Água (SVP) 

48

?????? ? 8 mm ??Á?????? ? 11 mm

Relação: ??Á??????
??????

? 1,33 ? ??Á??????

Distância focal:

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

Correção de distorções da lente muito maior na calibração na água



49

Calibração dos parâmetros de refração (Refra)

= ?

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

????

??????

????????????

??á??????

??0
??

??1
??

????

??0
??

??1
??

Câmera direita (??)Câmera esquerda (??)



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Calibração dos parâmetros de refração
• Utilizadas 9 imagens na água
• Minimização realizada com função de resolução de sistema não linear por 

mínimos quadrados “lsqnonlin” do MATLAB

50
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa

13

5
-100 1521

X
c12

-50

8 2
23

Camera R
Y

c
0 Z c

14

Y

50

         
              

       

500 200400 100

Z X

300

X
c

Camera L
Y

c

Z
c

0200
100 -100

0

 

 

  

   

       

      

      

      

      

      

      

      

      

      

Todas as poses (calculadas após 
calibração)

Par de imagens em uma das 9 poses 
adquiridas



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Calibração dos parâmetros de refração

Parâmetro de
Refração

Estimativa inicial e limites Valor após minimização

Câmeras (?? e ??)
Limite 

inferior
Limite 

superior
Câmera ?? Câmera ??

????? 0,00° 0,00° 10,00° 0,88° 0,60°
??0 20,000 1,000 60,000 16,938 16,496
??1 6,00 (nominal) Constante 6,00

??0 (ar) 1,0000 Constante 1,0000
??1 (vidro) 1,5200 Constante 1,5200
??2 (água) 1,3300 ± 0,0500 1,3381

51
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa

Parâmetros de refração 
otimizados destacados

Valores tabelados

????

??????

????????????

??á??????

??0
??

??1
??

????

??0
??

??1
??

Câmera direita (??)Câmera esquerda (??)



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Avaliação do volume de medição

• Medição de um plano com ~ 300×400 mm² em cinco posições ?? no 
ar e na água

52

160 × 200 × 250 mm3

Cubo com face frontal a 30 mm do SCO

200 × 200 × 200 mm3

8.000.000 mm3 8.000.000 mm3

?? × ?? × ???? × ?? × ??

Ar Água

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Ar SVP

Água 
SVP

Água 
Refra

Medição – Plano numa mesma posição no ar e na água

53
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa

Ar Água

Câmera esquerda (??)

?Medição com calibração 
SVP resulta em posição 
incorreta do objeto



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Plano em diferentes posições rotacionadas em ????

54

• Medição do plano em 6 poses diferentes no ar e 18 na água

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

Resultados obtidos na águaAquisição na água

Plano diferentes posições (??)
0,019

0,037
0,031

0,00 0,05

   

Valor [mm]

Ar
Água (SVP)
Água (Refra)



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Plano em poses rotacionadas em ????
• Maior diferença SVP ???? Refra para poses rotacionadas
• Posição 18 (Z ? 230 mm)

55

0,40

0,30

0,20

0,10

-0,20

-0,10

-0, 30

-0,40

0,00

[mm]

-0,37

-0,34

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

Água (SVP)
-0,40 / 0,38 / 0,13

Min. /  Max. /  ??

Água (Refra)
-0,23 / 0,23 / 0,07

Min. /  Max. /  ??

Mapa de desvios
• Desvios representados por mapa de cores
• Distância: ponto medido ? referência
• No caso, distância a um plano matemático

Histograma



56

Avaliação com par de esferas

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Avaliação com par de esferas (VDI/VDE)

57

??????: Erro de espaçamento entre esferas ou sphere-spacing error
Boa estimativa do erro sistemático

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa

???? = 99,283 ± 0,006

????2 = 50,143 ± 0,053????1 = 50,117 ± 0,031

Parâmetros avaliados com o sistema:

????: Erro de apalpação ou probing error
Estimativa conservadora do erro aleatório

??: Desvio padrão e histogramas normalizados do erro
Boa estimativa do erro aleatório

Cotas calibradas em MMC:
• Diâmetros (????1 e ????2)
• Distância entre centros (????)

???? = |???????? ? ????????|

????????

????????
Esfera ajustada
Diâmetro Livre

(pico-vale)

Valores em mm



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Avaliação com par de esferas – Água

58
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Avaliação com par de esferas

59
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa

Posições adquiridas na água

0,00 0,10 0,20 0,30

Esferas SSE max

Esferas PE max

Valor [mm]

Ar
Água (SVP)
Água (Refra)



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Avaliação com par de esferas

60
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa

0

5

10

15

20

25

30

-0,15 -0,10 -0,05 0,00 0,05 0,10 0,15
Erro [mm]

Ar                   -0,13 / 0,13 / 0,016 / 4.953.336
Água (S VP)    -0,11 / 0,11 / 0,019 / 6.809.946
Água (R efra) - 0,11 / 0,11 / 0,020 /  6.903.744

Mi n Max       ?? Pontos



61

Avaliação com objetos
de referência

e exemplos de medição

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Cabeça de manequim – Face 

62
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Avaliação com peças calibradas – Malha

63

Água (Refra)Ar
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Avaliação com peças calibradas – Mapa de desvios

• Cabeça de manequim Face/Lateral

64

Água (Refra)
0,05 / 2.147.156 / 09:15
?? /   N° pontos   / mm:ss

Ar
0,05 / 2.504.217 / 00:29
?? /  N° pontos   / mm:ss

0,15

0,12

0,09

0,06

0,03

-0,06

-0,03

-0,09

-0,12

-0,15

0,00

[mm]

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Avaliação com peças calibradas – Mapa de desvios

• Cabeça de manequim Face/Lateral

65

0,15

0,12

0,09

0,06

0,03

-0,06

-0,03

-0,09

-0,12

-0,15

0,00

[mm]

Água (Refra)
0,05 / 2.147.156 / 09:15
?? /   N° pontos   / mm:ss

Água (SVP)
0,05 / 2.149.066 / 00:24
?? /  N° pontos   / mm:ss

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Avaliação com peças calibradas

• Réplica de defeito por cavitação preenchida com cordões de solda

66

250 mm

3
0
0
 m

m

Resultado de medição na
água (Refra)

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Avaliação com peças calibradas

• Réplica de defeito por cavitação preenchida com cordões de solda

67

Água (Refra)Ar

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

[mm]
0,30

0,23

0,15

0,08

0

-0,08

-0,15

-0,23

-0,30

Avaliação com peças calibradas
• Réplica de defeito por cavitação preenchida com cordões de solda

Água (Refra)
0,07 / 4.808.409 / 11:11
?? /   N° pontos   / mm:ss

Ar
0,05 / 5.654.072 / 00:22
?? /  N° pontos   / mm:ss

68
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Avaliação com peças calibradas

69

0,30

0,23

0,15

0,08

-0,15

-0,08

-0,23

-0,30

0,00

[mm]
-0,38

-0,15

-0,39

-0,50

-0,50

-0,15
-0,15

-0,18
+0,40

Água (SVP)
0,09  / 4.913.091 / 00:22

Água (Refra)
0,07 / 4.808.409 / 11:11

?? / N° pontos / mm:ss ?? / N° pontos / mm:ss
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa

• Erro com modelo SVP aumenta nas bordas !!!
• Corrobora com o fato de que o erro SVP (água) aumenta com o ângulo de visão



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Exemplos de medição subaquática

• Trecho de riser de ? 154 mm (6”)

70

Água (Refra)

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Exemplos de medição subaquática
• Tubo de PVC amassado – ? 305 mm (12”)

71

-1,5

-3,0

-4,5

-6,0

-11,0

-9,0

-7,5

0,7

[mm]

Água (Refra)

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa



72
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa

1.   Introdução

2.   Medição Óptica de Formas 3D

3.   Medição Óptica de Formas 3D em Meio Subaquático

4.   Triangulação Inversa em Meio Subaquático
• Modelagem dos parâmetros de refração (PR)
• Projeção inversa
• Calibração dos PR
• Medição com triangulação inversa / Projeção direta

5.   Resultados experimentais

6.   Conclusões

Tópicos

5.   Resultados experimentais

6. Conclusões



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Geral
• Medição de formas 3D com alta densidade de pontos com sistema estéreo óptico 

ativo em meio subaquático utilizando a triangulação inversa

• Incerteza estimada: Ar: ± (0,21% + 0,016) mm. Água (Refra): ± (0,26% + 0,020) mm

• Água ? SVP ???? Refra:
• Resultados próximos (devido ao ângulo de visão e bom alinhamento câmeras/tanque)

• Placa com solda ? erros nas bordas com modelo SVP maiores do que os com modelo 
Refra

• Maiores diferenças devem ocorrer ? maiores ângulos de visão e/ou inclinação em 
relação à interface de refração

• Refra pode ser utilizado para qualquer caso!

• Artigo apresentado em congresso internacional IEEE Oceans 2016 – Monterrey EUA

• Artigo submetido em revista internacional (A2) – IEEE Journal of Oceanic Engineering

73
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Principais contribuições inovadoras

• Desenvolvimento de técnicas e algoritmos inéditos que possibilitam a 
realização da triangulação inversa através de interfaces planas de refração:

• ????????????????????????: Projeção Inversa Através de Interfaces Planas de Refração. 
Pode ser utilizado para ?? interfaces.

• ????????????????????????????: Cálculo da projeção direta de forma iterativa a partir da 
minimização do erro da projeção inversa (realiza com o método ????????????????????????). 
Mais rápido que solução analítica. Converge rapidamente.

• ????????????: Varredura em ?? com maior tolerância a descontinuidades no mapa de 
fase

• Calibração de parâmetros de refração por correspondência estéreo 2D-3D

74
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Outras contribuições

• Biblioteca (.dll) em C++  e scripts em MATLAB (InvT, refração, projeção)

• Bancada de ensaio (tanque de água com janelas inclinadas e de padrões 
calibrados)

• Influência da alteração de parâmetros de refração nas incertezas de medição

• Avaliação do desempenho dos algoritmos desenvolvidos com objetos de 
geometria conhecida e medições no ar

75
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa



Introdução Medição Óptica 3D Medição Óptica 3D Subaquática Triangulação Inv. Subaquática Resultados Conclusões

Sugestões para trabalhos futuros

• Processamento paralelo em placa de vídeo (GPU) para redução do tempo de 
medição ? Solucionar a principal limitação (tempo de processamento)

• Comparação entre SVP e modelo de refração com lentes de menor 
comprimento focal e com as janelas em diferentes distâncias e inclinações

• Adição de filtros passa-banda nas câmeras e projetor monocromático, 
diminuindo a influência de iluminação externa e aberrações cromáticas 
devido à refração

• Desenvolvimento de protótipo portátil possibilitando medições em campo

• Avaliação do sistema com diferentes níveis de turbidez, simulando medições 
em campo

76
Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 

Utilizando Triangulação Inversa



77

Obrigado !
pvb@labmetro.ufsc.br

Tese - Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração 
Utilizando Triangulação Inversa


	Buschinelli, Pedro - Tese v10 (Final - Impressa)
	Medição Óptica de Formas 3D em Meio Subaquático Através de Interfaces Planas de Refração Utilizando Triangulação Inversa
	Agradecimentos
	Resumo
	Abstract
	Lista de figuras
	Lista de tabelas
	Lista de siglas e abreviaturas
	Lista de símbolos
	? Gerais
	? Modelo de câmera SVP
	? Modelo de distorção de lentes
	? Triangulação Inversa
	? Modelo de refração
	? Modelo de magnificação janela plana e domo
	? Correlação e projeção de franjas
	? Padrões

	Sumário

	1 Introdução
	1.1 Motivação
	1.2 Objetivos gerais
	1.3 Objetivos específicos
	1.4 Considerações importantes
	1.5 Estrutura do documento

	2 Medição óptica de formas 3D
	2.1 Modelo de câmera pinhole
	2.2 Calibração de câmera pinhole e distorções
	2.2.1 Tipos de calibração
	1D - Calibração baseada em linha
	2D - Calibração baseada em objeto 2D (plano)
	3D - Calibração baseada em objeto 3D
	Autocalibração

	2.2.2 Correção de distorções

	2.3 Outras modelagens de câmeras
	2.4 Sistemas de visão estéreo
	2.4.1 Triangulação direta (Clássica) e geometria epipolar
	2.4.2 Triangulação inversa
	Vantagens da triangulação inversa
	Limitações da triangulação inversa e possíveis soluções
	Varredura com incremento de resolução – Refino em ? (?????)
	Minimização 1D


	2.5 Identificação de pontos correspondentes
	2.5.1 Identificação sem projeção (passiva)
	2.5.2 Identificação com projeção (ativa)
	Correlação espaçotemporal – Padrões aleatórios
	Projeção de franjas (phase shifting)
	Codificação - Luz estruturada
	Compilação de técnicas de projeção de luz estruturada



	3 Medição óptica de formas 3D em meio subaquático
	3.1 Propagação da luz em meio subaquático
	3.1.1 Degradação do sinal
	3.1.2 Melhoria do sinal de luz
	3.1.3 Refração e lei de Snell

	3.2 Tipos de janela de visão (interface ar/água)
	3.2.1 Janela plana (flat port)
	3.2.2 Janela domo (dome port)
	3.2.3 Janela totalmente corretiva (fully corrective port)
	3.2.4 Lentes para uso subaquático (lentes “molhadas”)

	3.3 Sistemas de medição em meio subaquático (ópticos e acústicos) .......
	3.3.1 Triangulação laser
	3.3.2 LiDAR - Light Detection and Ranging
	3.3.3 Fotogrametria
	3.3.4 Structure from Motion (SfM)
	3.3.5 Estereoscopia ativa e passiva
	3.3.6 Sonar
	3.3.7 Sistemas híbridos (sonar + óptico)

	3.4 Calibração de câmeras para uso subaquático
	3.4.1 Modelo para uma interface plana de refração
	3.4.2 Modelo para múltiplas interfaces planas de refração
	3.4.3 Modelo para Interface domo
	3.4.4 Aproximação utilizando SVP
	3.4.5 Comparação das técnicas de calibração

	3.5 Discussão

	4 Triangulação inversa através de interfaces planas de refração
	4.1 Modelagem geral
	4.2 Triangulação inversa
	4.2.1 Compilação dos parâmetros utilizados
	4.2.2 Volume de medição – Cálculos relacionados
	4.2.3 Triangulação inversa
	4.2.4 Refino em Z (ZScan)
	4.2.5 Refino em Z com maior tolerância a descontinuidades (ZScan2)
	4.2.6 Refino em XY
	4.2.7 Medição com volume de procura de forma livre (???????) ....

	4.3 Projeção através de interfaces planas de refração
	4.3.1 Método para a projeção inversa através de interfaces planas de refração (InvProjRefra)
	4.3.2 Algoritmo iterativo para a projeção através de interfaces planas de refração (IteraProjRefra)

	4.4 Calibração dos parâmetros de refração
	4.5 Visão geral da proposta

	5 Materiais e métodos
	5.1 Configuração dos experimentos
	5.2 Sistema óptico estéreo ativo com projeção de franjas
	5.3 Procedimentos e configuração de processamento
	5.4 Calibração
	5.4.1 Padrão de calibração da câmera
	5.4.2 Calibração no ar (SVP)
	5.4.3 Calibração na água (SVP)
	5.4.4 Calibração na água – parâmetros de refração (Refra)
	Obtenção dos pontos 2D
	Estimativa inicial e valores fixos dos parâmetros de refração
	Minimização da função custo


	5.5 Avaliação do sistema e medições
	5.5.1 Avaliação com plano baseada na VDI/VDE 2634
	5.5.2 Avaliação com par de esferas baseada na VDI/VDE 2634
	5.5.3 Avaliação com objetos de forma complexa calibrados
	Cabeça de manequim
	Placa com cavidade preenchida com cordões de solda

	5.5.4 Objetos não calibrados (exemplos de medição)

	5.6 Visualização e análise dos resultados

	6 Resultados experimentais e discussões
	6.1 Implementação do código para a medição
	6.1.1 Código inicial em MATLAB
	6.1.2 Otimização do código (C++) e avaliação da performance   ...
	6.1.3 Interface final (Labview)

	6.2 Calibração das câmeras no ar (SVP)
	6.2.1 Aquisição das imagens
	6.2.2 Parâmetros obtidos
	6.2.3 Erro de reprojeção

	6.3 Calibração das câmeras na água (SVP)
	6.3.1 Parâmetros obtidos
	6.3.2 Relação com a calibração no ar
	6.3.3 Comparação da correção da distorção

	6.4 Calibração na água – parâmetros de refração (Refra)
	6.4.1 Parâmetros de refração conhecidos
	6.4.2 Aquisição das imagens
	6.4.3 Parâmetros de refração obtidos
	6.4.4 Influência da variação das distâncias
	6.4.5 Influência da variação do índice de refração

	6.5 Avaliação do volume de medição
	6.6 Avaliação com plano
	6.6.1 Plano na mesma posição no ar e na água
	6.6.2 Plano normal em posições controladas (?)
	6.6.3 Plano em poses rotacionadas em ?? (VDI/VDE)
	Plano - Medições no ar
	Plano - Medições na água
	Plano - Comparação das medições


	6.7 Avaliação com par de esferas (VDI/VDE)
	Par de esferas - Ar
	Par de esferas – Água
	Comparação entre os erros no ar e na água

	6.8 Comparação de todos os resultados obtidos
	6.9 Balanço de incertezas
	Componente sistemática - Erro de escala relativo (??? em %)
	1. Repetibilidade natural (,?-??.)
	2. Variação de Re devido à variação do índice de refração (,?-???.)
	3. Erro de forma do padrão de esferas (,?-??.)
	4. Deriva térmica do padrão – Distância entre esferas (,?-?,?-?..)
	5. Deriva térmica do padrão – Diâmetro das esferas (,?-?,?-?..)
	Balanço de incertezas do erro aleatório

	6.10 Avaliação com objetos de referência
	6.10.1 Cabeça de manequim
	Frontal (Face)
	Lateral
	Posterior

	6.10.2 Calibração SVP no ar utilizada para medições na água
	6.10.3 Placa com cavidade preenchida com cordões de solda

	6.11 Comparação da calibração com e sem otimização
	6.12 Outros exemplos de medição
	6.12.1 Tubo de PVC amassado
	6.12.2 Trecho de riser de 6” (152 m) de diâmetro nominal interno ...

	6.13 Avaliações não realizadas
	6.14 Problemas encontrados
	Reflexos
	Tempo de exposição (shutter) da câmera

	6.15 Discussão

	7 Conclusões
	7.1 Principais contribuições
	Principais contribuições acadêmicas:
	Principais contribuições inovadoras:

	7.2 Comparação das técnicas desenvolvidas em relação ao estado da arte
	7.3 Principais conclusões do trabalho
	7.4 Sugestões para trabalhos futuros

	Referências
	Apêndice A – Princípio de Fermat e Projeção direta para três meio
	A.1 Princípio de Fermat
	A.2 Dedução da lei de Snell
	A.3 Menor caminho óptico para três meios de propagação

	Apêndice B – Parâmetros do sistema óptico estéreo
	Câmeras
	Lentes
	Projetor

	Apêndice C – Obtenção da posição das janelas do tanque por parâmetros extrínsecos

	Tese Buschinelli Apresentação v9 (pdf)

</field>
	</doc>
</add>