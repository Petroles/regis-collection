<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.20161</field>
		<field name="filename">3600_000864085.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">
 

 

 

MINISTÉRIO DA EDUCAÇÃO 

UNIVERSIDADE FEDERAL DO RIO GRANDE DO SUL 

Escola de Engenharia 

Programa de Pós-Graduação em Engenharia de Minas, 

Metalúrgica e de Materiais – PPGEM 

 

 

 

 

GEOESTATÍSTICA DE MÚLTIPLOS PONTOS COMO 

FERRAMENTA PARA A MODELAGEM GEOLÓGICA DE 

DEPÓSITOS MINERAIS 

 

 

 

HÉLDER ABEL PASTI 

 

 

 

Dissertação para obtenção do título de 

Mestre em Engenharia. 

 

 

 

 

Porto Alegre 

Maio de 2012



 

 

 

MINISTÉRIO DA EDUCAÇÃO 

UNIVERSIDADE FEDERAL DO RIO GRANDE DO SUL 

Escola de Engenharia 

Programa de Pós-Graduação em Engenharia de Minas, 

Metalúrgica e de Materiais – PPGEM 

 

 

 

 

GEOESTATÍSTICA DE MÚLTIPLOS PONTOS COMO 

FERRAMENTA PARA A MODELAGEM GEOLÓGICA DE 

DEPÓSITOS MINERAIS 

 

 

HÉLDER ABEL PASTI 

 

 

Dissertação realizada no Laboratório de Pesquisa Mineral e Planejamento Mineiro da Escola 

de Engenharia da UFRGS, dentro do Programa de Pós-Graduação em Engenharia de Minas, 

Metalúrgica e de Materiais (PPGEM), como parte dos requisitos para a obtenção do Título de 

Mestre em Engenharia. 

 

Área de Concentração: Metalurgia Extrativa e Tecnologia Mineral. 

 

 

 

 

Porto Alegre 

Maio de 2012



ii 

 

 

 

 

 Esta Dissertação foi julgada adequada para obtenção do Título de Mestre em 

Engenharia e aprovada em sua forma final, pelo Orientador e pela Comissão Examinadora do 

Curso de Pós-Graduação. 

 

 

 

 

Orientador: Prof. Dr. Joao Felipe Coimbra Leite Costa. 

 

 

 

Banca Examinadora: 

 

Prof. Dr. Luiz Eduardo Varella 

 

Prof. Dr. Jair Carlos Koppe 

 

Prof. Dr. Vanessa Cerqueira Koppe 

 

 

 

 

 

 

      Prof. Dr. Telmo Roberto Strohaecker 

      Coordenador do PPGEM 



iii 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

O caos é uma ordem por decifrar 

José Saramago 

 

 

 

 



iv 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Dedico este trabalho à minha família: 

meus pais, Chico Pasti e Isabel, 

meus irmãos Bruno e Matheus, 

à Rúbia, esposa, amiga, 

companheira inseparável e incansável. 



v 

 

 

Agradecimentos 

 

Ao Professor Dr. João Felipe C. L. Costa por apostar e depositar sua confiança em mim, 

dando oportunidade para fazer parte do Laboratório de Pesquisa Mineral e Planejamento 

mineiro (LPM). 

Ao Dr. Alexandre Boucher, pelo incentivo e apoio incondicional para a realização deste 

trabalho. 

Mais uma vez, agradeço ao Professor Dr. João Felipe C. L. Costa pela orientação na 

elaboração deste trabalho, pelos ensinamentos, discussões técnicas e pela amizade.  

Aos bolsistas de iniciação científica Pablo Koury, o Pablito, e Marcel Bassani, pela 

dedicação e disponibilidade.  

Ao amigo e colega de profissão Daniel Hilário, pelo suporte em informática, indo desde 

a montagem de computadores, passando pela instalação de sistemas operacionais, compilação 

de programas, até o aprendizado de linguagens de programação. 

Aos professores do Departamento de Engenharia de Minas e do Programa de Pós-

Graduação em Engenharia de Minas, Metalúrgica e de Materiais (PPGEM).  

A todos os colegas e do LPM que ajudam a manter em destaque o nome da instituição e 

deste Departamento de Engenharia de Minas (DEMIN/UFRGS).  

À Companhia Vale do Rio Doce, por disponibilizar o banco de dados para este trabalho. 

À CAE Datamine Brasil Ltda, pela parceria com o LPM e todo suporte necessário na 

utilização do Datamine Studio. 

Ao Conselho Nacional de Desenvolvimento Científico e Tecnológico (CNPq) pelo 

auxilio financeiro. 



vi 

 

 

Lista de Figuras e Tabelas 

Figura 1.1. Representação dos nós considerados em cada grid múltiplo, visando captar 

padrões de larga escala ao redor do nócentral em vermelho: (a) nós distantes 20 m 

entre si; (b) distâncias de 40 m entre cada nó e (c) distância de 80 m entre cada nó. 13 

Figura 2.1. Seção vertical esquemática do depósito estudado (fonte: MBR, 2005). ................ 19 

Figura 2.2. Mapa de localização das amostras. Em vermelho, amostras de estéril. Em azul, 

minério (itabiritos e hematitas). .................................................................................. 22 

Figura 2.3. Distribuição espacial das seções verticais utilizadas para condicionar as 

simulações (à esquerda). Seção vertical típica (à direita) contendo minério (azul) e 

estéril (vermelho), com blocos de tamanho 10x10 metros gerados por extrusão. ..... 23 

Figura 2.4. Modelo geológico de referência. Vista isométrica (no alto). Duas seções 

horizontais em dois níveis de Z: seção=1115 (centro) e Z=1335 (abaixo). Estéril está 

representado em azul claro e o minério em verde. ..................................................... 24 

Figura 2.5. Menus e abas com os parâmetros do algoritmo Tetris, utilizado para gerar a 

imagem-referência (TI). ............................................................................................. 27 

Figura 2.6. Configuração definitiva da Imagem-referência utilizada para as simulações. (a) TI 

3D; (b) seção ao longo do eixo Z e (c) seção perpendicular ao eixo X. ..................... 28 

Figura 2.7. Imagem mostrando a imagem-referência (TI) utilizada para as simulações em cada 

grid lateral, isto é, para o setor esquerdo e setor direito. ............................................ 29 

Figura 2.8. À esquerda estão as SV (do lado esquerdo da pg) e ZI (do lado direito) criado a 

partir daquele número de seções disponíveis. ............................................................ 31 

Figura 2.9. À esquerda, blocos dentro de cada zona de incerteza (cenário com 40, 20 e 10 

seções verticais); à direita, região considerada real fora das zonas de incerteza (ZI).

 .................................................................................................................................... 32 

Figura 2.10. (a) Seção vertical construída com blocos de 2x2x2m, contendo itabiritos (azul), 

hematitas (amarelo) e estéril (vermelho); (b) seção vertical com blocos de 



vii 

 

 

10x10x10m contendo minério (itabiritos e hematitas, em azul) e estéril, em 

vermelho. .................................................................................................................... 33 

Figura 2.11. (a) Imagem em perspectiva das seções verticais fora das ZI junto com os furos de 

sonda utilizados como dados de condicionamento das simulações. Minério em verde 

e estéril e azul; (b) Imagem representando os dados da seção vertical fora da ZI 

juntamente com os furos de sonda naquela SV. Minério em verde e estéril em cinza.

 .................................................................................................................................... 34 

Figura 2.12. Fluxograma com as principais etapas necessárias para executar o trabalho. ....... 35 

Figura 3.1. Modelos 3D e seções de: (a) modelo de referência; e realização 31 para (b) cenário 

com 40 seções verticais; (c) cenário com 20 seções verticais; (d) cenário com 10 

seções verticais. .......................................................................................................... 38 

Figura 3.2. Proporções globais de minério em cada realização para os três cenários avaliados: 

(a) 40 seções; (b) 20 seções e (c) 10 seções. .............................................................. 39 

Figura 3.3. Mapa (E-type map) ilustrando a probabilidade de cada bloco ser considerado 

minério (azul) ou estéril (vermelho) para (a) cenário de simulação condicionada por 

40 seções verticais, (b) condicionado por 20 seções verticais e (c) condicionado por 

10 seções verticais. ..................................................................................................... 41 

Figura 3.4. Histograma dos mapas E-type para os três cenários avaliados (global, à direita e 

dentro das ZI, à esquerda).(a) cenário de simulação condicionada por 40 seções 

verticais, (b) condicionado por 20 seções verticais e (c) condicionado por 10 seções 

verticais. ..................................................................................................................... 42 

Figura 3.5. Seção vertical do (a) modelo de referência e realização nº 25 das simulações para 

o cenário de condicionamento utilizando (b) 40 seções, (c) 20 seções e (d) 10 seções 

verticais. Estéril em vermelho escuro e minério em laranja. Em azul claro estão as 

amostras de minério e vermelho claro as amostras de estéril nos furos de sondagem.

 .................................................................................................................................... 43 

Figura 3.6. Proporções, para cada cenário avaliado, entre a realização 25 e os dados de 

condicionamento. Em azul, estéril e em vermelho, minério. ..................................... 44 



viii 

 

 

Figura 3.7. Variação dos recursos disponíveis. Em azul, cenário utilizando 10 seções verticais; 

em verde, utilizando 20 seções e em vermelho utilizando 40 seções verticais. ......... 45 

 

Tabela 2.1. Parâmetros para a construção dos grids de simulação no SGeMS. ....................... 26 

Tabela 3.1. Tempo necessário para execução das principais etapas. ....................................... 48 

 



ix 

 

 

Lista de Abreviaturas e Glossário 

 

3D = 3 (três) dimensões; tridimensional. 

BD = Banco de Dados contendo furos de sondagem. 

CPU = Unidade Central de Processamento (Central Processing Unit). 

E-Type map = Mapa com a média dos valores simulados em cada ponto do grid. 

Grid = volume (malha 3D) que delimita a região de estudo e/ou região simulada. 

HD = Hard Data (conjunto de dados contendo todos os furos de sondagem acrescidos de 

pontos de seções verticais). 

MG = Múltiplos Grids (Multiples Grids) 

MGR = Modelo Geológico de Referência. 

MPS = multiple point simulation (simulação por múltiplos pontos). 

MW = Moving Window (algoritmo de janelas móveis). 

RAM = Memória de Acesso Aleatório (Random Memory Access). 

SGeMS = Stanford Geostatistical Modeling Software. 

SNESIM = Single Normal Equation Simulation, algoritmo de MPS. 

Search three = árvore de busca. 

SV = Seções Verticais. 

TI = Training Image, é uma imagem característica do depósito. Tradução livre: “imagem-

referência”. 

ZI – Zona de Incerteza (uncertainty zone). 



x 

 

 

RESUMO 

A modelagem das geometrias de corpos mineralizados é fundamental na avaliação e 

engenharia de qualquer depósito mineral. A construção de geometrias tridimensionais é 

convencionalmente baseada na união de seções verticais e horizontais interpretadas por um 

geólogo ou outro especialista da mina. Em alguns casos mais avançados são utilizados 

métodos geoestatísticos, tais como krigagem e/ou simulação de indicadores, simulações 

truncadas Gaussiana ou Plurigaussiana, as quais permitem automatizar e refinar o processo de 

modelagem. 

No entanto, estes métodos são probabilísticos e utilizam o variograma para representar a 

heterogeneidade geológica. A simulação geoestatística de múltiplos pontos (multiple-point 

simulation – MPS) é uma alternativa para a modelagem geoestatística tradicional baseada em 

variogramas, pois uma representação totalmente explícita dos padrões geológicos (uma 

imagem-referência, training image – TI) é usada no lugar dos variogramas. Embora seja hoje 

utilizada na modelagem de reservatórios de óleo e gás, existem poucos estudos mostrando a 

aplicação dessa técnica em depósitos minerais. A vantagem da abordagem MPS é fornecer 

representação mais realista da geologia através de uma parametrização mais acessível (a 

imagem-referência visual, ao invés do variograma analítico). 

No início dos anos 2000 foi implementado no aplicativo Stanford Geostatistcal 

Modeling Software – SGeMS, o algoritmo de MPS chamado SNESIM (Single Normal 

Equation Simulation Algorithm). Este algoritmo permite a obtenção das probabilidades 

condicionais dos pontos a partir das proporções obtidas pelo escaneamento da imagem-

referência, não sendo necessário o uso de nenhum tipo de krigagem e nenhuma modelagem de 

variogramas. Ele faz a simulação estocástica de variáveis categóricas sem demandar muita 

CPU e RAM, combinando a flexibilidade e facilidade de condicionamento dos algoritmos 

baseados em pontos, com a habilidade que os algoritmos baseados em objetos têm para 

reproduzir formas. 

A proposta deste trabalho foi aplicar a técnica de simulação geoestatística por múltiplos 

pontos, especificamente o algoritmo SNESIM, para modelar o envelope mineralizado de um 

depósito real de minério de ferro brasileiro localizado no Quadrilátero Ferrífero. As 

simulações foram condicionadas por furos de sondagem e algumas seções verticais 



xi 

 

 

interpretadas por especialistas. Como forma de checar a sensibilidade do método, foram 

avaliados cenários com três conjuntos de dados, cada um deles com diferentes quantidades de 

seções verticais (SV) disponíveis para o condicionamento das simulações. 

Os resultados obtidos permitem afirmar que esta técnica pode ser aplicada para construir 

modelos de corpos mineralizados durante os estágios preliminares de exploração sem 

demandar longos e exigentes processos de modelagem manual. Modelar com MPS minimiza 

o caráter determinista da modelagem tradicional, acrescentando uma interpretação 

probabilística (zona incerteza) sobre a forma e os contatos litológicos reais da jazida. 

Também, pôde-se verificar que a simulação deste tipo de corpo de minério não exige 

uma grande quantidade de seções interpretadas. Algumas seções verticais combinadas com 

amostras de furos de sondagem foram suficientes para simular de forma satisfatória o 

envelope mineralizado do depósito. Ainda assim, é necessário que se tenha computadores 

com razoável capacidade de armazenamento, CPU e RAM. Para efetuar 50 realizações de 

simulação do contato minério/estéril e construir o envelope mineralizado de um depósito, 

considerando três diferentes cenários, o tempo total foi de aproximadamente 13 minutos. 

Outros 4 minutos foram necessários para o pós-processamento. 

 

  



xii 

 

 

ABSTRACT 

Orebody modeling is critical for the evaluation and engineering of mineral deposits. The 

construction of three-dimensional geometries is conventionally based on the union of vertical 

and horizontal sections interpreted by a mine geologist. In more advanced cases, some 

geostatistical methods are used such as indicator kriging and/or simulations, truncated 

Gaussian or Plurigaussian simulations, which allows to automate and refine the modeling 

process. 

However, these methods are probabilistic and uses the variogram to represent the 

geological heterogeneity. The multiple-points geostatistical simulation (MPS) is an alternative 

to traditional variogram-based geostatistical modeling, whereas a fully explicit representation 

of the geological patterns (a training image – TI) is used in place of variograms. Although it is 

now used in modeling of oil and gas reservoirs, there are few studies showing application of 

this technique in mineral deposits. The advantage of the MPS approach are to provide a more 

realistic representation of geology through a more accessible parametrization (the visual 

training image instead of the analytic variogram). 

The MPS algorithm called SNESIM was implemented in the Stanford Geostatistcal 

Modeling Software – SGeMS in the beginning of 2000. Such algorithm allows to retrieve the 

conditional probabilities from proportions obtained by scanning the training image, it is not 

necessary to use any type of kriging and variogram model. The SNESIM algorithm combines 

the flexibility and ease of conditioning of pixel-based algorithms, with the capability of 

object-based algorithms have to reproduce complex shapes to performe stochastic simulation 

of categorical variables, without requiring much CPU and RAM. 

The purpose of this study was to use the MPS technique, specifically the SNESIM 

algorithm, to model the mineralized envelope of a real Brazilian iron ore located in the 

Quadrilátero Ferrífero. The simulations were constrained by boreholes and some vertical 

sections interpreted by experts. In order to check the sensitivity of the method were evaluated 

three sets of data, each one with different amounts of available vertical sections (VS) for 

conditioning the simulations. 

The results revealed that the technique can be applied to model the mineralized body 

during early stages of mine exploration, without demanding many manual modeling 



xiii 

 

 

processes. The MPS modeling process minimizes the deterministic character of traditional 

modeling approach, adding a probabilistic interpretation (uncertainty zones) about the actual 

shape and lithological contacts of the orebody. 

Also, the simulation of this kind of orebody does not require a large amount of 

interpreted sections. A few vertical sections combined with boreholes samples were sufficient 

to simulate the mineralized envelop of the deposit. Nonetheless, it is necessary to have a 

computer with reasonable storage capacity, CPU and RAM. To make 50 simulation outputs of 

the ore/waste contact and build the mineralized envelop, considering three different scenarios, 

a total time of approximately 13 minutes was needed. Other 4 minutes were required for post 

processing the simulations outcomes. 

 



 

 

 

Sumário 

RESUMO ................................................................................................................................................... x 

ABSTRACT ............................................................................................................................................... xii 

Capítulo 1 ................................................................................................................................................ 1 

Introdução .............................................................................................................................................. 1 

1.1. Objetivos ................................................................................................................................. 5 

1.2. Revisão Bibliográfica. .............................................................................................................. 6 

1.2.1. Estado da Arte. ................................................................................................................ 6 

1.2.2. O algoritmo SNESIM (Single Normal Equation Simulation)............................................. 8 

1.2.3. Simulação com Múltiplos Grids (MG). .......................................................................... 12 

1.2.4. Fator Servosystem. ........................................................................................................ 14 

1.3. Organização da Dissertação .................................................................................................. 17 

Capítulo 2 .............................................................................................................................................. 19 

Experimental ........................................................................................................................................ 19 

2.1. Recursos computacionais. ..................................................................................................... 20 

2.2. Banco de Dados, Seções Verticais e Modelo Geológico de Referência ................................ 20 

2.3. Grids de Simulação. ............................................................................................................... 25 

2.4. Gerando a TI (training image – imagem-referência) ............................................................. 26 

2.5. Gerando as Zonas de Incerteza (Uncertainty Zones) (ZI) e Simulando ................................. 29 

2.6. Metodologia .......................................................................................................................... 35 

Capítulo 3 .............................................................................................................................................. 36 

Geração de Modelos com a Geoestatística de Múltiplos Pontos....................................................... 36 

3.1. Resultados e Discussão. ........................................................................................................ 36 

3.1.1. Checagem Visual e de Proporções ................................................................................ 36 

3.1.2. Mapas e Histogramas E-type ......................................................................................... 40 

3.1.3. Gráfico com a variação de recursos e reservas ............................................................. 44 

3.2. Demanda Computacional. ..................................................................................................... 48 

Capítulo 4 .............................................................................................................................................. 49 

Conclusões ............................................................................................................................................ 49 

4.1. Recomendações para Desenvolvimento Futuro ................................................................... 51 

Referências ........................................................................................................................................... 53 

ANEXOS ................................................................................................................................................ 57 



 

 

 

Capítulo 1  

Introdução 

A explotação de bens minerais é atividade essencial para o desenvolvimento econômico 

de qualquer país. O Brasil é hoje um dos maiores produtores e exportadores de diversos bens 

minerais, aparecendo com destaque ao lado de Estados Unidos, China e Rússia. O país é hoje 

o maior produtor e exportador de nióbio e segundo maior exportador de minério de ferro 

(IBRAM, 2010). A produção nacional de minério de ferro em 2009, cerca de 310 Mt, só foi 

menor que a da Austrália (394 Mt). Além de grande produtor e exportador, o Brasil também é 

detentor de grandes reservas deste minério, alcançando 29 bilhões de toneladas, cerca de 18% 

do total mundial (IBRAM, 2010). 

Estes números impressionam, mas sabe-se que são necessários grandes volumes de 

investimentos para colocar os empreendimentos minerais em funcionamento e torná-los 

rentáveis a médio e longo prazo. Tais investimentos estão sempre associados a altos riscos 

devido a fatores diversos, desde políticas de governo, relação com trabalhadores e 

investidores, as características das jazidas, instabilidades do mercado, dentre outros. Nesse 

contexto, a modelagem das geometrias dos corpos mineralizados é fundamental na avaliação e 

engenharia de qualquer depósito mineral. Atualmente, o processo de avaliação de reservas 

minerais se inicia com a construção de modelos computacionais que permitem delinear a 

forma e extensão de fácies litológicas e/ou litoquímicas para em seguida estimar teores, 

trazendo assim subsídios que vão permitir a tomada de decisões nas etapas posteriores de 

planejamento e extração ao longo da vida da mina.  

A avaliação criteriosa dos recursos minerais e reservas de minério, isto é, aquelas 

passíveis de extração de acordo com critérios técnico-econômicos, é extremamente importante 

desde as etapas iniciais. O problema da avaliação de reservas recuperáveis futuras é crucial na 

medida em que tais reservas condicionam tanto o investimento quanto a rentabilidade 

associada a qualquer empresa de mineração (Journel &amp;amp; Kyriakidis, 2004). 



2 

 

 

Entre as ferramentas mais amplamente empregadas na indústria mineral para estimar 

recursos minerais está a construção dos modelos de blocos, os quais são representações dos 

modelos dos depósitos na forma de pequenos cubos ou paralelepípedos, geralmente de 

tamanho regular. Estas formas geométricas fazem a discretização de um sólido maior do 

modelo tridimensional em unidades representativas do todo e suas dimensões tem relação 

direta com a malha de sondagem e os painéis de lavra. 

Os modelos de corpos de minério que servirão de base para os modelos de blocos 

utilizados na indústria mineral estão predominantemente baseados na união de seções 

verticais e horizontais interpretadas por geólogos, ou outros especialistas da mina que fazem o 

delineamento dos contatos entre diferentes classes litológicas/litoquímicas para depois estudar 

a distribuição de teores dentro das massas de rochas. 

No entanto, tem sido constatado com uma frequência cada vez maior que os resultados 

contidos nos modelos de blocos, estimados a partir de furos de sondagem de exploração ou 

desenvolvimento, quando comparados com a produção da mina, apresentam discrepâncias 

significativas. A pobre reconciliação por vezes observada está relacionada a problemas de 

amostragem, análise química de amostras, descrição litológica, controle do planejamento e 

execução da lavra e também com a incerteza na interpretação geológica e na estimativa de 

parâmetros. 

Com relação às incertezas nas interpretações geológicas e processos de estimativa, 

algumas grandes empresas do setor mineral vêm tentando minimizar os efeitos através do uso 

da krigagem de indicadores (Journel, 1982) e, em casos mais refinados, da simulação 

sequencial de indicadores para auxiliar na geração dos modelos de corpos de minério que 

serão posteriormente utilizados para avaliação de recursos e reservas minerais e também para 

quantificar a incerteza associada aos processos de estimativa. 

A simulação condicional surgiu nos anos 70, inicialmente não como forma de 

quantificação da incerteza, mas como uma alternativa para lidar com a grande suavização 

gerada na krigagem. Percebeu-se na época, que para muitas aplicações a reprodução de 

padrões de variabilidade espacial, refletida pelos dados que eram então modelados por 

variogramas, era mais importante do que a precisão local (Journel, 2005). 

Gómez-Hernández (2005) afirma que a simulação estocástica é uma alternativa para a 

krigagem. Na simulação, o objetivo não é obter uma estimativa que minimiza localmente 



3 

 

 

alguma diferença quadrática, mas sim gerar realizações prováveis da distribuição espacial do 

atributo de uma forma consistente com os dados amostrais e com as propriedades estatísticas 

inferidas a partir deles e utilizadas para definir a função espacial aleatória. 

De um modo geral, as técnicas de simulação geoestatística, assim como as técnicas de 

estimativa, têm como objetivo representar a distribuição espacial de uma variável. Ambos os 

resultados são gerados a partir dos mesmos dados, isto é, o número   de amostras disponíveis 

no momento das previsões. No entanto, elas diferem na forma de apresentação dos resultados. 

Por exemplo, a simulação objetiva reproduzir o histograma e o modelo variográfico inferido 

dos dados amostrais. Em relação a um atributo estimado, um atributo simulado é mais fiel na 

reprodução da variabilidade espacial e, consequentemente, das estruturas espaciais dos 

valores reais (Deutsch, 2002). 

Desta forma, ao se construir modelos tridimensionais de depósitos minerais, e 

considerando os vultosos investimentos necessários para determinar a viabilidade econômica 

das minas, deve-se sempre levar em conta os diversos benefícios oriundos da utilização de 

técnicas geoestatísticas para auxiliar na construção de tais modelos. Com essas técnicas pode-

se quantificar a incerteza dos processos de modelagem, além da possibilidade de se integrar 

dados primários e secundários. 

Jazidas de minério de ferro como as do Quadrilátero Ferrífero, por exemplo, têm grande 

variedade na geologia e composição dos minérios, podendo ser encontrados na mesma região 

desde hematita pura (70% de teor de ferro) até itabiritos friáveis, mais pobres em ferro e ricos 

em sílica, cujo teor médio de ferro fica em torno de 50%. Já, os depósitos de Carajás são mais 

homogêneos, com teor médio de ferro de 60% e tendo a hematita como minério predominante 

(DNPM, 2011). 

Para lidar com a variabilidade e complexidade de depósitos como aqueles do 

Quadrilátero Ferrífero é de grande importância para a indústria mineral gerar modelos 3D 

com alta escala de detalhes (alta resolução). Segundo Deutsch (2002), gerar modelos que 

sejam consistentes com os dados disponíveis pode parecer razão suficiente para considerar a 

modelagem geoestatística do reservatório (ou corpo de minério), mas reconciliar todos os 

dados primários e secundários disponíveis para gerar um modelo numérico tem muitos outros 

benefícios, entre os quais: i) a possibilidade de transferência de resultados entre diferentes 

áreas do conhecimento, ii) uma ferramenta para dar atenção a incógnitas cruciais, e iii) um 



4 

 

 

veículo para apresentar variações espaciais que podem encarecer ou impedir uma determinada 

estratégia de produção. 

Outras razões elencadas por Deutsch (2002), para a geração de modelos 3D de alta 

resolução em reservatórios de óleo, utilizando simulação geoestatística podem ser utilizadas 

de forma análoga para trabalhos de modelagem voltados à outros tipos de depósitos minerais: 

? Há necessidade de se ter estimativas confiáveis do volume/massa do depósito. Estes 

volumes in situ são importantes para determinar a viabilidade econômica de produção, 

distribuir os lucros entre os investidores, comparar os resultados econômicos para 

depósitos alternativos (diferentes realizações), determinar o tamanho apropriado das 

instalações de produção (investimento inicial), dentre outros; 

? A localização da malha de sondagem deve ser ótima economicamente e robusta com 

relação às incertezas na descrição do depósito. Múltiplas realizações geoestatísticas 

tornam possível avaliar a incerteza ao redor de furos e permite a seleção de locações 

de furos de sondagem com melhoria do beneficio da informação adicional; 

? Muitas vezes há a necessidade de reconciliar a abundância de dados secundários com 

um número limitado de dados primários de furos de sonda. Os modelos geoestatísticos 

permitem que diferentes tipos de dados possam ser representados em um formato 

comum, por exemplo, dados sísmicos podem ser representados na escala e unidade 

dos dados primários. 

? Decisões importantes devem ser tomadas na presença de incertezas significativas: 

quantos furos ou sondagens adicionais? Qual a localização dos furos? 

Os argumentos apresentados ao longo das páginas anteriores ajudam a explicar, em 

parte, porque é cada vez mais frequente o uso de técnicas geoestatísticas nos trabalhos de 

pesquisa, modelagem, planejamento de lavra, avaliação de recursos e reservas, entre outras 

etapas dos empreendimentos de mineração. Esta tendência do setor mineral estimulou o 

desenvolvimento de uma grande variedade de algoritmos de estimativa e simulação, os quais 

vêm sendo implementados em diversos softwares, tanto os comerciais (Isatis
®
, Datamine 

Studio
®
, Minesight

®
), quanto os gratuitos (GSLib e SGeMS, por exemplo). Uma das 

consequências diretas é o aumento significativo da quantidade e qualidade dos modelos 

construídos durante diferentes fases dos empreendimentos. 



5 

 

 

Entre as técnicas geoestatísticas recentemente desenvolvidas e implementadas está a 

simulação geoestatística de múltiplos pontos (multiple-point simulation – MPS). Tal técnica é 

uma alternativa para a modelagem tradicional baseada em variogramas, pois utiliza uma 

representação totalmente explícita dos padrões geológicos (uma imagem-referência ou 

training image – TI) no lugar dos variogramas. A MPS apresenta bons resultados ao simular 

variáveis em depósitos complexos, mesmo a partir de dados escassos. Embora seja hoje 

utilizada na modelagem de alguns reservatórios de óleo e gás, existem poucos estudos 

voltados a outros tipos de depósitos, nos quais sua aplicação é promissora. 

1.1. Objetivos 

Esta dissertação tem como objetivo principal contribuir para o desenvolvimento de 

novas técnicas de modelagem da geometria de depósitos, avaliando o uso da Simulação 

Geoestatística de Múltiplos Pontos (multiple-point simulation – MPS) como ferramenta para 

construção de modelos tridimensionais de depósitos minerais. 

Para alcançar tal meta, foram traçados objetivos específicos, listados abaixo: 

? Investigar a aplicabilidade da MPS para a modelagem geológica 3D de um depósito de 

minério de ferro brasileiro; 

? Identificar possíveis dificuldades em termos de preparação e uso do banco de dados, 

recursos computacionais necessários, tempo para efetuar as simulações e tempo 

necessário para o pós-processamento dos resultados; 

? Desenvolver uma sequência de etapas para utilizar a MPS na modelagem da geometria 

de depósitos minerais; 

? Comparar os resultados gerados com a MPS com aqueles gerados através da 

modelagem tradicional, que utiliza interpretações e desenhos feitos por especialistas. 



6 

 

 

1.2. Revisão Bibliográfica. 

1.2.1. Estado da Arte. 

Muitos estudos publicados nos últimos anos vêm mostrando as mais variadas aplicações 

para a simulação geoestatística condicional. Tais técnicas têm sido utilizadas para auxiliar a 

modelagem tridimensional de reservatórios de óleo (Deutsch, 2002; Strebelle, 2000a, 2002) e 

na avaliação e classificação de recursos e reservas minerais (Journel &amp;amp; Kyriakidis, 2004). No 

Brasil, recentemente a simulação condicional tem sido aplicada para auxiliar na modelagem 

3D de depósitos minerais (Souza, 2007); em análises de sensibilidade no sequenciamento de 

lavra (Peroni, 2002); na avaliação da variabilidade in situ de parâmetros físicos e químicos de 

minérios (Gambin, 2003); na otimização para locação de furos de sondagem em campanhas 

prospectivas (Koppe, 2009); para quantificar a incerteza das estimativas e auxiliar no 

dimensionamento de pilhas de homogeneização (Gambin et al, 2005; Abichequer et al, 2011); 

no estudo e redução da variabilidade de teores das pilhas e aperfeiçoamento de estratégias de 

homogeneização de pilhas (Beretta, 2010; Costa et al, 2008; Marques, 2010). 

No entanto, embora as técnicas geoestatísticas sejam suficientes para resolver grande 

parte dos problemas de modelagem de litologias e teores, elas são pobres para caracterizar 

depósitos com escassez de dados amostrais. Essas técnicas também não produzem bons 

resultados em depósitos com grande variabilidade ou com alto grau de complexidade na sua 

formação, pois são baseadas em dados de furos de sonda, informações sobre a geologia local e 

variogramas, todos mesclados às interpretações feitas por especialistas, ou seja, estão 

baseadas essencialmente em estatísticas de pares de amostras. 

Torna-se então necessário ultrapassar as barreiras que limitam a qualidade e variedade 

dos atuais modelos 3D. Isso pode ser alcançado com a utilização de ferramentas que integram, 

de forma eficiente e simultânea, os dados de furos de sonda e análises químicas (dados 

primários) com as informações complementares (dados secundários) a respeito da área 

pesquisada, indo além dos modelos gerados por estatísticas de pares de amostras, e 

considerem múltiplos pontos simultaneamente, aumentando de forma significativa a 

confiabilidade nos resultados. A simulação geoestatística de múltiplos pontos (MPS) permite 

a integração de dados múltiplos e a análise simultânea da semelhança (ou diferença) de 

diversas amostras. 



7 

 

 

As informações secundárias (complementares) podem ser obtidas através de qualquer 

fonte que permita aumentar o conhecimento geológico da área estudada, desde a sísmica, a 

perfilagem geofísica, mapas de probabilidade, entre outros. O benefício alcançado será maior 

se dados secundários (soft data) forem considerados simultaneamente aos dados primários 

(hard data). 

De acordo com (Remy et al, 2009), antes da introdução da geoestatística de múltiplos 

pontos existiam dois conjuntos de algoritmos de simulação para a modelagem de fácies: os 

baseados em pixels
1
 (pixel-based) e os baseados em objetos (object-based). Os algoritmos 

baseados em pixels constroem as realizações simuladas um pixel por vez, desta forma 

apresentam grande flexibilidade para o condicionamento com dados de diversos suportes e de 

diferentes tipos, no entanto podem ser lentos e têm dificuldades em reproduzir formas 

geométricas complexas, principalmente se a simulação deste pixel é condicionada por 

estatísticas bipontuais. Por outro lado, algoritmos baseados em objetos constroem as 

realizações inserindo, no grid de simulação, um objeto ou padrão de cada vez. Desta forma, 

eles são rápidos e fiéis à geometria do objeto, no entanto tais algoritmos têm dificuldade de 

condicionar a dados locais de diferentes suportes, principalmente se os dados são densos, 

como no caso de dados sísmicos. 

Basicamente, a MPS visa substituir a construção de um sistema de krigagem 

observando-se uma distribuição condicional extraída de uma imagem representativa da área 

sob estudo. Ou seja, os algoritmos MPS emprestam as estatísticas de alta ordem de um 

modelo explícito visualmente e estatisticamente, uma imagem-referência (Journel &amp;amp; Zhang, 

2006). 

O primeiro conceito de um algoritmo de simulação geoestatística de múltiplos pontos 

foi apresentado por Guardiano &amp;amp; Srivastava (1993), que propuseram a abordagem da equação 

normal única (single normal equation) para simular sequencialmente os nós dentro de uma 

malha (grid), simultaneamente condicionados às informações ao redor de locais informados.  

Strebelle (2000a, 2000b, 2002) explica que o algoritmo proposto por Guardiano &amp;amp; 

Srivastava (1993) consiste na simulação de indicadores onde todas as probabilidades 

                                                           
1
 Pixel: aglutinação de Picture e Element. É o menor elemento num dispositivo de exibição (como por exemplo 

um monitor), ao qual é possível atribuir-se uma cor. De uma forma mais simples, um pixel é o menor ponto que 
forma uma imagem digital, sendo que o conjunto de milhares de pixels forma a imagem inteira. Extraído de: 
http://pt.wikipedia.org/wiki/Pixel. 

http://pt.wikipedia.org/wiki/Pixel


8 

 

 

condicionais necessárias são obtidas de proporções correspondentes lidas da imagem-

referência. No entanto, a alta demanda computacional (RAM e CPU) foi o fator limitante para 

a implementação e ampliação dos trabalhos nos anos 90. 

De acordo com Ortiz (2008), em linhas gerais, para se gerar modelos geológicos 

utilizando técnicas que consideram a geoestatística de múltiplos pontos é necessária a 

existência de dados de condicionamento (imagens-referência, por exemplo). A partir desses 

serão calculadas estatísticas relevantes, combinadas a um algoritmo de simulação para impor 

as estatísticas vinculadas aos dados de condicionamento. Por último, deve-se utilizar 

ferramentas de validação para garantir que os modelos compartilhem a aparência e também 

propriedades estatísticas solicitadas posteriormente. 

Journel (2005) afirma que uma das grandes vantagens do uso de imagens de 

treinamento é o fato de o especialista poder facilmente refutá-la ou aceitá-la; o mesmo não se 

pode dizer em relação a modelos variográficos sem significado geológico. Inferir um 

variograma a partir de uma nuvem de pontos esparsos e então aceitar incondicionalmente as 

estatísticas de alta ordem implícitas para, digamos, um modelo de função Gaussiana 

Aleatória, não é algo mais objetivo do que inferir as mesmas estatísticas de alta ordem a partir 

de uma Imagem-referência visualmente explícita. 

Foi a partir dos estudos do início dos anos 90, que Strebelle (2000, 2002) apresentou um 

algoritmo para simulação estocástica de variáveis categóricas que, sem demandar muita CPU 

e RAM, combinando a flexibilidade e facilidade de condicionamento dos algoritmos baseados 

em pontos, com a habilidade que os algoritmos baseados em objetos têm para reproduzir 

formas. O autor afirma que, idealmente, um algoritmo deste tipo deve ser baseado em pixels, 

incluir estatísticas de múltiplos pontos para permitir a reprodução de formas, ser rápido 

(portanto não-iterativo) e ser geral, de modo que um novo programa não precisa ser escrito 

para acomodar qualquer nova geometria aleatória. 

1.2.2. O algoritmo SNESIM (Single Normal Equation Simulation) 

O algoritmo proposto por Strebelle permite a obtenção das probabilidades condicionais 

dos pontos a partir das proporções obtidas pelo escaneamento da imagem-referência, não 

sendo necessário o uso de nenhum tipo de krigagem e nenhuma modelagem de variogramas. 

Ele faz uma busca de padrões na TI, considerando que o nó central do elipsoide de busca é 



9 

 

 

desconhecido. Para cada ponto visitado, ele armazena as informações de valor e posição 

espacial dos pontos vizinhos. O processo é executado em toda a TI e o número de vezes que 

cada padrão ocorre é armazenado para se calcular a frequência de cada padrão. A varredura da 

TI se faz apenas uma vez e os padrões ficam armazenados em uma estrutura dinâmica 

chamada pelo autor de search three, ou árvore de busca. A partir dos padrões, se constrói a 

curva de distribuição de probabilidades, obtendo de forma direta um modelo estocástico que 

representa a continuidade espacial do corpo de minério. A implementação completa do 

programa é apresentada abaixo (traduzido e adaptado de Strebelle, 2000a, 2000b, 2002): 

Considere um atributo  , tendo   possíveis estados           .   é uma 

propriedade categórica. Um evento de dados    de tamanho   centrado no local   é definido 

por: 

? A geometria da localização dos   dados, definida por   vetores       

     ; 

? Os   valores dos dados                . 

Um modelo de dados com o padrão geométrico    abrange apenas a geometria dos 

dados anteriores. O evento de dados    é dito “associado” com o padrão geométrico   . 

Em seus trabalhos, Strebelle (2000a, 2000b, 2002) explica que o princípio deste 

algoritmo de simulação é o mesmo da simulação sequencial de indicadores, SISIM (Alabert, 

1987; Deutsch &amp;amp; Journel, 1998): os pontos da área são visitados de forma aleatória e depois 

de simulados eles são considerados um referencial verdadeiro e que vai condicionar, em uma 

mesma realização, a simulação dos demais pontos do grid. 

De acordo com Strebelle (2000a, 2000b, 2002), as abordagens baseadas em variogramas 

fazem a krigagem em cada nó   desconhecido, para então construir a função de distribuição 

acumulada de probabilidades (cpdf – cumulative probability distribution function) naquele 

local e extrair um valor da curva para atribuir uma fácies categórica a  . A probabilidade 

condicional de ocorrência do estado    em   pode ser indicada por           

                 , ou                   . Na krigagem, o condicionamento para o 

evento global de dados    é aproximado por uma combinação linear dos   condicionantes de 

     em cada datum      , tomado um de cada vez. Tal característica impede que técnicas 

baseadas em variogramas modelem características não lineares ou de longo alcance. A 



10 

 

 

geoestatística de múltiplos pontos contorna esse problema ao fazer uso de uma imagem-

referência (training image – TI) daquele depósito e estimar diretamente a exata distribuição 

de probabilidades condicionadas a   , como definido pela relação de Bayes: 

                    
                     

        
 

Onde: 

?          é inferida pelo escaneamento da imagem-referência e contando o 

número total       de réplicas de formação (training replicates) do evento de 

condicionamento de dados    (mesma configuração geométrica e mesmos 

valores de dados de   ). 

? De forma similar,                      é inferida pela contagem do número 

       de réplicas de formação associadas ao valor      igual a    que foram 

encontradas entre todas as réplicas       anteriores. 

A distribuição de probabilidades condicionada a    é então identificada para a 

proporção de fácies obtidas a partir dos valores centrais das   -réplicas da formação: 

                    
      

      
 (1) 

A grande contribuição de Strebelle em relação à proposta de Guardiano &amp;amp; Srivastava 

(1993) foi o uso da árvore de busca, o que diminuiu de forma expressiva o tempo de 

processamento, já que a imagem-referência é varrida (escaneada) uma única vez. 

Primeiro, define-se uma janela de dados W, a qual tipicamente é um elipsoide com 

dimensões e direções de anisotropia que consideram características geométricas gerais dos 

padrões das fácies da formação. Apenas as amostras de dados originais e os nós previamente 

simulados que estejam dentro desta janela centrada em  , serão considerados para condicionar 

a simulação em  . Dado o padrão de dados   , que cobre todos nós localizados nessa janela 

de busca, uma árvore de busca sequencialmente estruturada é construída armazenando os 

números       de ocorrências de qualquer evento de dados associado com   , que pode ser 

realmente encontrado na imagem-referência, bem como os correspondentes números        

de ocorrência de    associados ao valor central igual a   . Durante a simulação, a imagem-



11 

 

 

referência não precisa ser escaneada novamente: as cpdf locais são obtidas diretamente da 

árvore de busca. 

Nos trabalhos iniciais de Strebelle (2000a, 2000b, 2002), bem como em Remy et al 

(2006), pode-se obter discussões mais detalhadas sobre o funcionamento da árvore de busca. 

Em grande detalhe, o algoritmo SNESIM proposto por Strebelle (2000b) procede da 

seguinte forma: 

1. Define uma janela W de busca de dados, e constrói a search tree 

correspondente ao modelo de dados    que abrange aquela vizinhança; 

2. Atribuir os dados dos hard data para os nós mais próximos do grid. Define um 

caminho aleatório visitando apenas uma vez cada nó   não amostrado; 

3. Em cada local   não amostrado, considere os dados de condicionamento 

realmente presentes no modelo    centrado em  . Seja      o número desses 

dados de condicionamento, e     o evento de dados correspondente. Obtém-se, 

a partir da search three, a distribuição de probabilidade condicional para    . 

Se nenhuma réplica de     foi armazenada na árvore de busca, ou seja, 

nenhuma réplica     pode ser encontrada na imagem-referência, então o ponto 

de referência mais distante é descartado, reduzindo o número de dados de 

condicionamento para       ; as proporções condicionadas a este evento de 

dados menor       são novamente extraídas a partir da árvore de busca, e 

assim por diante. Se o número de dados cai para       , e nenhuma réplica de 

    foi encontrada, a probabilidade condicional                    é 

substituída pela probabilidade marginal    da categoria  . 

4. Extrai-se um valor simulado para o nó   a partir da cpdf anterior. Este valor 

simulado é então adicionado aos s-dados que serão utilizados para condicionar 

a simulação em todos os demais nós subsequentes. 

5. Move para o próximo nó ao longo do caminho aleatório e repete o terceiro e o 

quarto passo. 



12 

 

 

6. Repetir o procedimento até que todos os nós do grid sejam simulados. Uma 

imagem estocástica é então gerada. Reinicia-se o processo inicial a partir do 

passo 2 com um caminho aleatório diferente para gerar uma outra realização. 

A partir do detalhamento apresentado acima, o processo de simulação implementado 

através do SNESIM permite obter uma imagem estocástica que representa o corpo de minério 

a partir da busca de padrões geométricos contidos em uma imagem-referência. Entretanto, 

uma única árvore de busca não é capaz de contemplar todos os possíveis padrões e 

características geológicas da TI, já que pode haver estruturas de maior ou menor escala e/ou 

formatos não lineares. Strebelle utilizou a abordagem de simulação por múltiplos grids 

(multiple grid simulation) apresentada por Tran (1994) para dar flexibilidade ao algoritmo 

durante a construção da(s) árvore(s) de busca e assim conseguir captar padrões mais 

complexos. 

1.2.3. Simulação com Múltiplos Grids (MG) 

O uso de múltiplos grids é um artificio para garantir a reprodução dos padrões de 

grande escala/dimensão, mas utilizando um número razoável de nós durante a simulação. A 

partir da janela de busca definida para a busca por padrões e armazenamento na árvore de 

busca, pode-se definir novos grids (múltiplos do grid original) para que o algoritmo busque 

por padrões em escalas maiores. 

Cada multigrid gera um novo grid com um subconjunto de nós (células/blocos) do grid 

original. Em cada MG se faz uma subamostragem do grid anterior, em um fator de 2 ao longo 

de cada direção. Considerando que o grid original    tem um número   de nós, o MG 

imediatamente posterior será composto por nós com o dobro do espaçamento entre si, ou seja, 

haverá menos blocos compondo o   . Por exemplo: se originalmente a distância entre nós é 

de 10 metros, no primeiro MG ela aumenta para 20 m; no segundo, será 40 m; no terceiro será 

de 80 m, e assim por diante. 

Embora o número de nós de cada MG diminua em relação ao grid original, as elipses de 

busca dos MG continuam com o mesmo número de nós da elipse original, o que implica em 

um aumento de suas dimensões, permitindo a captura de estruturas de maior escala sem 

aumentar o tamanho da árvore de busca. Em cada MG, os dados primários são realocados 

para o nó mais próximo antes de iniciar a varredura do grid. A Figura 1.1 ilustra, de forma 



13 

 

 

aproximada, a configuração de nós de grid para os elipsóides de busca de três MG 

consecutivos, considerando um grid qualquer. 

 (a) 
 

 (b) 
 

 (c) 

Figura 1.1. Representação dos nós considerados em cada grid múltiplo, visando captar padrões de larga escala ao redor do 

nócentral em vermelho: (a) nós distantes 20 m entre si; (b) distâncias de 40 m entre cada nó e (c) distância de 80 m entre cada 

nó. 



14 

 

 

Definido o número total de MG desejados, o algoritmo executa a varredura do grid de 

maior escala; armazena-se os padrões na árvore de busca desse MG; simula o valor dos nós 

para essa configuração de grid e elipse de busca e congela os valores simulados. Em seguida, 

se readicionam os nós do MG imediatamente inferior e se inicia a varredura para este grid 

menor usando uma janela de busca menor; nova árvore de busca e nova simulação; mais 

alguns valores são simulados e congelados; nova re-adição de nós considerando o MG 

imediatamente inferior e assim se procede até que todos os múltiplos grids tenham sido 

varridos e os nós simulados. Termina-se a primeira realização da simulação e então o 

processo é reiniciado. 

1.2.4. Fator Servosystem 

Além do uso de múltiplos grids para garantir um resultado satisfatório, outro importante 

parâmetro é o fator servosystem (servosystem factor): este parâmetro de simulação permite 

corrigir/alterar a proporção das variáveis de acordo com a liberdade dada. Tenta-se aproximar 

as proporções simuladas às proporções marginais informadas ou então à proporção dos HD, 

ou mesmo ajustar à proporção da TI. Dessa forma, o parâmetro permite certa flexibilidade na 

reprodução das estatísticas presentes nos histogramas dos dados, permitindo a geração de uma 

variedade maior de resultados, se for esse o desejo do modelador. 

Embora haja grande variedade de parâmetros e utilidades para se trabalhar com a 

simulação de múltiplos pontos na versão do SNESIM implementada no SGeMS, nem todos 

esses parâmetros serão detalhados neste trabalho, apenas os essenciais para a execução do 

algoritmo. Maiores detalhes podem ser obtidos nas páginas 169 a 191, na seção de algoritmos 

de múltiplos pontos do livro-guia de uso da versão 2.1 do SGeMS (Remy et al., 2009).  

A partir do trabalho pioneiro de Strebelle, uma serie de estudos vem sendo publicados 

mostrando aplicações, limitações e inovações da MPS. Abaixo, são listados alguns desses 

trabalhos, ordenados por ano de publicação: 

2000 – Sebastien Strebelle (2000a, 2000b) defende sua Tese de Doutorado, e divulga os 

resultados do desenvolvendo o SNESIM, mostrando sua aplicação para a modelagem de 

reservatórios de óleo e gás; 

2001 – Jef Caers (2001) propõe o uso de ferramentas-padrão de reconhecimento, como 

as redes neurais, para se “emprestar” estruturas geológicas de imagens-referência (training 



15 

 

 

images) na forma de estatísticas de múltiplos pontos (análise da imagem, extração de padrões 

e reconhecimento de padrões); 

2002 – Deutsch (2002) publica livro tratando da modelagem geoestatística de 

reservatórios de óleo e gás; Sinclair &amp;amp; Blackwell (2002) publicam o livro em que evidenciam 

o uso da geoestatística para consolidar a Estimativa de Inventários Minerais; Strebelle publica 

os resultados da sua Tese em artigo da Mathematical Geology; 

2003 – Krishnan &amp;amp; Journel (2003) publicam artigo na Mathematical Geology 

mostrando recentes desenvolvimentos na geoestatística, comparando medidas de 

conectividade espacial (variogramas e múltiplos pontos);  

2004 – Neste ano Journel &amp;amp; Kyriakidis (2004) publicam livro mostrando a aplicação da 

simulação geoestatística como ferramenta para avaliação de reservas minerais; No mesmo 

ano, ocorre o Congresso Internacional de Geoestatística em Banff, Canadá; Ortiz &amp;amp; Deutsch 

(2004) publicam trabalho no periódico Mathematical Geology falando da simulação de 

indicadores considerando estatísticas de múltiplos pontos;  

2005 – Começam a ser publicados diversos trabalhos apresentados durante o Congresso 

de Geoestatística de 2004: Journel (2005) discute o advento da MPS; Liu et al,  (2005) 

apresentam um fluxograma para aplicação da MPS; Harding et al. (2005), descrevem de 

forma sucinta o que é uma imagem-referência e apresentam um fluxograma operacional e 

alguns avanços do uso da técnica para modelagem de fácies deposicionais em depósitos de 

óleo; Okabe &amp;amp; Blunt (2005) constroem um mapa 3D de porosidade utilizando MPS; Maharaja 

(2005) aplica a MPS para gerar modelos simulados do delta de um rio; Strebelle &amp;amp; Zhang 

(2005) apresentam modelos não estacionários de MPS; Arpat &amp;amp; Caers (2005) apresentam um 

novo algoritmo de MPS para reprodução de padrões; Strebelle &amp;amp; Remy (2005) discutem o 

pós-processamento de modelos de múltiplos pontos para melhorar a reprodução de padrões; 

2006 – Boogaart (2006) discute algumas teorias sobre MPS; Journel &amp;amp; Zhang (2006) 

falam da necessidade de se utilizar um modelo prévio de múltiplos pontos; Liu (2006) 

apresenta aplicação prática do algoritmo SNESIM para fazer simulação geoestatística; 

2007 – Ortiz et. al (2007) apresentam um sistema interativo de escalonamento da TI 

para adequar suas estatísticas a proporções univariadas de fácies; Souza (2007), compara 



16 

 

 

resultados da modelagem de corpos mineralizados utilizando métodos tradicionais e 

simulação geoestatística; 

2008 – Boucher &amp;amp; Stright (2008), apresentam um novo algoritmo que redimensiona a 

TI para que ela fique no mesmo suporte de outros dados utilizados na simulação com o 

SNESIM. Os autores também introduzem o conceito de particionamento da árvore de busca 

(search tree partitioning); Boisvert et. al (2008), apresentaram uma metodologia para 

construção de TIs em depósitos de veios; 

2009 – Huysmans &amp;amp; Dassargues (2009) aplica o conceito de MPS para modelar o fluxo 

subterrâneo; 

2010 – neste ano acontece o congresso internacional MININ 2010, no Chile. Parra &amp;amp; 

Ortiz (2010) apresentam a MPS condicional unilateral para variáveis categóricas; Hurtado &amp;amp; 

Ortiz (2010) fazem a quantificação de incertezas na tonelagem de recursos, considerando 

MPS; 

2011 – Hajizadeh et. al (2011) propuseram um algoritmo MPS para reconstruir modelos 

3D de espaço poroso a partir de imagens 2D.  

Os trabalhos listados acima, embora não abramjam a totalidade dos trabalhos 

relacionados a MPS, mostram a rápida aceitação da técnica por especialistas do setor. No 

entanto, nota-se que as aplicações, na maioria das vezes, estão focadas a estudos teóricos, com 

banco de dados de cunho didático, e quase sempre voltadas à indústria do petróleo. Não 

existem, até onde conseguimos apurar, trabalhos voltados à aplicação da técnica de MPS em 

depósitos minerais distintos do petróleo, ou mesmo trabalhos que utilizem bancos de dados 

reais, daí a necessidade de estudos que apliquem a MPS para modelar o envelope 

mineralizado de depósitos minerais reais. 



17 

 

 

1.3. Organização da Dissertação 

Esta dissertação está dividida em capítulos e ao final são apresentados também alguns 

dados através de Anexos. Abaixo, de forma sucinta, é apresentado o conteúdo de cada 

capítulo: 

O Capitulo 1, O presente capítulo faz uma breve contextualização do problema e justificativa 

para o trabalho; em seguida, são apresentados as metas e objetivos do trabalho; 

finalmente, é feita uma breve revisão bibliográfica (estado da arte) sobre a utilização da 

simulação geoestatística na modelagem de geometrias 3D para em seguida focar no uso 

da técnica de simulação geoestatística de múltiplos pontos, detalhando o algoritmo 

desenvolvido por Strebelle; 

O Capitulo 2 apresenta a parte experimental do trabalho. Neste capitulo, o banco de dados e o 

modelo geológico de referência são apresentados. Também é detalhada a metodologia 

desenvolvida para o trabalho, desde o preparo e verificação dos dados, grids para as 

simulações, formas de obtenção da imagem-referência (training image – TI) e geração 

das zonas de incerteza (ZI). 

O Capitulo 3 apresenta e discute os resultados obtidos no trabalho, identificando os benefícios 

de se gerar modelos utilizando MPS, entre eles o menor gasto de tempo, possibilidade 

de se avaliar a incerteza da modelagem, estudos de variação nos recursos disponíveis, 

além de algumas comparações com o MGR. Neste capítulo também são salientadas 

algumas dificuldades para aplicação da técnica, o esforço computacional exigido. 

O Capitulo 4 apresenta as conclusões do trabalho e sugestões de trabalhos futuros baseados no 

tema desta Dissertação. 

Visando auxiliar na difusão do tema abordado e disseminar o conhecimento adquirido em 

relação à técnica aplicada, no último tópico do trabalho, após as referências, são 

disponibilizados alguns scripts em linguagem Python utilizados para automatizar os 

procedimentos, listados abaixo: 

? Script Python para importar as seções verticais para o SGeMS e  copiar o valor 

dos pontos de cada arquivo importado para o grid de simulação; 



18 

 

 

? Script para criar as propriedades com 20 e 10 seções verticais apenas (a de 40 

seções já é o default) 

? Script para criar as uncertainty zones em cada grupo de seções verticais, 

copiando os resultados para os grids laterais; 

? Script para criar arquivos de hard data composto pelos furos de sonda e pontos 

das seções verticais que caem fora das uncertainty zones (criar e exportar a 

informação para arquivos com valores separados por vírgulas (comma separated 

value – csv), em seguida importar o arquivo na forma de pointset); 

? Script para gerar a TI utilizada; 

? Script para simulação e postsim (snesim rodando separado em cada grid lateral e 

o resultado é copiado para o grid maior, em seguida, os dados do modelo de 

referencia são copiados para os pontos não simulados e se faz o postsim); 

? Script para gerar os thresholds das curvas de classificação de recursos. 



 

 

 

Capítulo 2  

Experimental 

O depósito mineral objeto de estudo neste trabalho trata-se de um depósito de minério 

de ferro localizado no Quadrilátero Ferrífero (MG), na borda oeste da Sinclinal Moeda. Nesta 

região, os depósitos são compostos basicamente por formações ferríferas bandadas (BIFs – 

Banded Iron Formations) de itabiritos enriquecidos, oxidados, metamorfizados e 

heterogeneamente deformados (MBR, 2005). O itabirito quartizitico é a rocha predominante 

nesta região. O ferro está presente, principalmente, na forma de hematita, magnetita e martita. 

A geometria de depósito é controlada pela presença de dobras de segunda ordem da 

Sinclinal Moeda, com direção NE-SW. Falhas transversas à direção de maior continuidade 

demarcam os diferentes corpos que compõem o complexo mineral na região estudada (Figura 

2.1). 

Embora a empresa que forneceu os dados tenha identificado mais de 30 tipologias de 

minério, para este trabalho os elementos estruturais foram simplificados, como será detalhado 

mais adiante. 

 

Figura 2.1. Seção vertical esquemática do depósito estudado (fonte: MBR, 2005). 



20 

 

 

2.1. Recursos computacionais. 

Como o processo de construção da árvore de busca do algoritmo SNESIM armazena a 

estrutura de dados na memória RAM, quanto mais nós de grid existirem no grid, mais 

memória e tempo serão necessários para construir a estrutura dinâmica de dados e 

efetivamente simular.  Inicialmente se optou por trabalhar com um grid de simulação 

contendo mais de 150 milhões de blocos de dimensão 2x2x2 metros, por isso os testes iniciais 

exigiram máquinas muito potentes, alcançando 24 GB de RAM e processador com 8 núcleos 

(Intel
®
 Core i7 com 3.90 GHz), executando o SGeMS em sistema operacional Windows

®
 7 

ou Ubuntu
®
 10.04, ambos em plataforma 64 bits. Ainda assim, o tempo de execução das 

simulações e o tamanho final dos arquivos eram proibitivos, exigindo que se buscassem novas 

alternativas. 

Dentre as ações para solucionar tal problema, optou-se por utilizar um grid de simulação 

com blocos de tamanho mais próximo ao que se tem de fato na mina, isto é, 10x10x10 metros, 

totalizando cerca de 1,2 milhões de blocos. Essas mudanças permitiram realizar o trabalho em 

maquinas com preços e configurações mais acessíveis, e não um supercomputador. Todos os 

resultados apresentados aqui foram gerados em um computador portátil (notebook) com 6 GB 

de memória RAM DDR3 1066 MHz, Processador Intel
®
 Core i5-2410M 2.30 GHz 

(velocidade turbo de 2.90 GHz), com 4 Threads, 3 MB de Smart Cache; sistema operacional 

Windows
®
 7 Professional 64 bits. As simulações foram executadas em versão 64 bits do 

SGeMS desenvolvida para Windows. 

2.2. Banco de Dados, Seções Verticais e Modelo Geológico de Referência 

O banco de dados (BD) utilizado contém dados de descrição tipológica e análise 

química de 2176 amostras contidas em 195 furos de sondagem perfurados entre 1975 e 2004. 

Ele contém os seguintes campos: 

? Identificação do Furo; 

? Número da Amostra; 

? Ano de Coleta; 

? Tipo de Coleta; 



21 

 

 

? Coordenadas locais do centro de cada amostra nas direções X, Y e Z; 

? Tipologia a que pertence cada amostra (mais de 30 tipos, entre itabiritos, hematitas e 

materiais estéreis); 

? Análise Química em três frações granulométricas para os elementos químicos Fe, Al, 

Mn, P, e Si, e Perda por Calcinação (PPC) em cada fração. 

Além do arquivo contendo dados collar, assay e geology, foram fornecidos 40 arquivos 

do tipo string oriundos do programa Datamine Studio
©

. Tais arquivos se referem à 

interpretação geológica da Mina do Sapecado, representada em seções verticais (SV) 

espaçadas regularmente de 50 metros. Cada seção é composta por diversas linhas que 

delimitam uma ou mais tipologias presentes. A área está referenciada em coordenadas locais e 

as seções verticais interpretadas estão localizadas entre as posições -5550 metros e -7500 

metros ao longo do eixo X. 

O terceiro conjunto de dados fornecido trata-se do modelo geológico da mina estudada. 

Este arquivo é um modelo de blocos do ano de 2005 que contém dados de geologia e 

estimativa de teores em um total de aproximadamente 695 mil blocos de tamanho 10x10x10 

metros. Tal modelo foi referendado por auditores externos e utilizado pela mineradora para o 

planejamento de lavra e avaliação de recursos e reservas minerais. Ou seja, trata-se de um 

modelo geológico válido, construído de forma tradicional, e que será utilizado como modelo 

geológico de referência (MGR) para comparação e discussão dos resultados quando possível. 

Como já citado anteriormente, este trabalho visa gerar modelos geológicos 

tridimensionais. Mais especificamente, visa definir a região do provável contato entre minério 

e estéril, isto é, modelar o envelope mineralizado. Desta forma, as informações de análises 

químicas das amostras (teores) não foram utilizadas. Apenas os dados de coordenadas, 

identificação de furos e descrição das tipologias de minério foram selecionados e 

armazenados em um novo arquivo. Um total de 17 amostras que não continham descrição das 

litologias foram removidas do BD. 

Os estudos deste trabalho foram conduzidos aplicando a implementação do algoritmo 

SNESIM disponível no programa Stanford Geostatistical Modeling Software – SGeMS 

(versão 2.5 beta). Para que pudesse ser importado no SGeMS, o BD sofreu uma adequação, 

onde os dados alfanuméricos de descrição litológica foram transformados em códigos 



22 

 

 

numéricos. As diversas tipologias foram rearranjadas em dois grandes grupos: minério 

(composto por itabiritos e hematitas, receberam o indicador numérico = 0) e estéril (indicador 

numérico = 1), como pode-se observar no mapa de localização dos furos (Figura 2.2). 

 

 

Figura 2.2. Mapa de localização das amostras em seção paralela ao plano horizontal. Em vermelho, amostras de estéril. Em 

azul, minério (itabiritos e hematitas). 

O mesmo aconteceu com as seções verticais disponibilizadas para o estudo. Ainda 

dentro do Datamine Studio
®
 (versão 3.20), elas foram ajustadas para agrupar itabiritos e 

hematitas no grupo minério e os diversos materiais estéreis na categoria estéril. Esse ajuste 

permitiu gerar, por extrusão, sólidos ao redor do centro de cada seção, totalizando 40 

pequenos corpos com espessura de 10 metros (dimensão ao longo do eixo X). 

A partir dos sólidos gerados por extrusão, fez-se um modelo de blocos para armazenar 

as informações de cada seção. Os blocos também tem tamanho 10x10x10 metros. Ao final do 

processo, tem-se 40 pequenos modelos de blocos, um para cada seção vertical, cada um deles 

com espessura total de 1 bloco e centro geométrico dos blocos coincidindo com a coordenada 

X da seção. Estes modelos foram importados no SGeMS (Figura 2.3) na forma de arquivos de 

pontos (pointset) para que pudessem ser utilizados no condicionamento das simulações. 



23 

 

 

 (a) 
 

 (b) 

Figura 2.3. Distribuição espacial das seções verticais utilizadas para condicionar as simulações (a). Seção vertical típica (b) 

contendo minério (azul) e estéril (vermelho), com blocos de tamanho 10x10 metros gerados por extrusão. 

O modelo de referência, MGR, também sofreu os mesmos ajustes efetuados nas SV e 

BD, ou seja, as diversas tipologias armazenadas foram agrupadas em minério (indicador 0) e 

estéril (indicador 1), como mostra a Figura 2.4. As informações de estimativa de teores e 

densidade não foram utilizadas. 

Os trabalhos de verificação e preparo do banco de dados fornecido foram executados no 

Microsoft Excel 2010
©

 e também no SGeMS. Já, as seções verticais e o modelo de referência 

foram, inicialmente, ajustados no Datamine Studio
©

 e então importados no SGeMS. 



24 

 

 

 (a) 
 

 (b) 
 

 (c) 

Figura 2.4. Modelo geológico de referência. Vista isométrica (a). Duas seções horizontais em dois níveis de Z: seção=1115 

(b) e Z=1335 (c). Estéril está representado em azul claro e o minério em verde. 



25 

 

 

Como se verifica no modelo de blocos mostrado acima, o minério é, simplificadamente, 

um corpo maciço ligeiramente curvo, quase alinhado com o eixo X (East), cuja largura é 

praticamente constante. Ao longo do plano YZ, pode-se dizer que este corpo maciço tem a 

forma de um trapézio, com a base maior recortada pela superfície do solo, acrescido de 

algumas inserções de rocha estéril. 

A abordagem adotada aqui assume que, em um modelo de corpo de minério construído 

de forma tradicional, a incerteza está na definição do contato entre as litologias. 

Especificamente para este estudo de caso, trata-se do contato entre minério e estéril, sem 

diferenciações entre tipologias.  

Desta forma, para modelar o provável envelope mineralizado e, consequentemente, 

gerar o modelo 3D do corpo de minério, torna-se necessário modelar apenas o contato entre 

minério e estéril, não sendo necessário modelar a forma de todo o corpo de minério. 

2.3. Grids de Simulação 

Completada a etapa de adequação dos arquivos necessários ao trabalho, procedeu-se às 

etapas de preparo dos cenários de simulação. 

A fim de permitir os trabalhos de modelagem do envelope mineralizado foi criado um 

grid para executar as simulações, nomeado “large_coarse_grid”. Considerando as 

características do depósito, este grid foi segmentado em dois outros grids menores paralelos 

ao longo do eixo X, chamados “left_coarse_grid” e “right_coarse_grid”, os quais foram 

utilizados para simular separadamente os contatos do depósito. Ao final do processo, os 

resultados de simulação em cada grid foram mesclados e copiados para o grid inicial, de 

forma a reconstruir a provável geometria do depósito.  

A Tabela 2.1 mostra os principais parâmetros para a construção dos grids. É importante 

ressaltar que na versão utilizada o SGeMS solicita a coordenada do centro geométrico da 

célula mais à esquerda do grid, diferente do Datamine Studio
©

, que solicita a coordenada do 

vértice inferior esquerdo do grid. 

 

 



26 

 

 

Tabela 2.1. Parâmetros para a construção dos grids de simulação no SGeMS. 

 

Dimensão do bloco 

X / Y / Z (m) 
Ox / Oy / Oz nº de Blocos X / Y / Z 

coarse_large_grid 10 / 10 / 10 -7610 / 595 / 1095 211 / 140 / 43 

left_coarse_grid 10 / 10 / 10 -7610 / 805 / 1095 211 / 56 / 43 

right_coarse_grid 10 / 10 / 10 -7610 / 1365 / 1095 211 / 56 / 43 

 

2.4. Gerando a TI (training image – imagem-referência) 

De acordo com Harding et al. (2005), desde que a imagem-referência seja 

suficientemente rica, com um bom conhecimento da geologia representado corretamente, uma 

única TI pode ser utilizada e múltiplos cenários de probabilidade de facies podem ser 

incorporados a ela. Considerando este argumento, apenas uma TI foi utilizada neste trabalho. 

A TI foi gerada utilizando um algoritmo gerador de TIs, o Tetris, ferramenta presente 

em uma das versões beta do SGeMS disponibilizada para os trabalhos desta dissertação. 

Trata-se de um algoritmo de simulação baseado em objetos. O Tetris simula a interação entre 

formas geométricas predefinidas com o intuito de criar uma imagem que seja representativa 

do depósito a ser estudado. Informalmente, pode-se dizer que, a partir de informações sobre a 

forma geométrica, dimensão e proporção de ocorrência de cada forma, o algoritmo constrói 

um pseudo-depósito tridimensional da área. 

A TI utilizada tem a forma senoidal ao longo do eixo X e um meio círculo ao longo do 

plano YZ, visando imitar a forma geral do corpo de minério do depósito estudado. Esta TI foi 

construída no mesmo suporte do grid de simulação, isto é, com blocos de tamanho 

10x10x10m e representa características geológicas gerais do depósito a ser reproduzido. É 

importante ressaltar que a TI não precisa estar georreferenciada às coordenadas do depósito e 

pode, inclusive, ter dimensões diferentes dele, no entanto, a ela deve ser construída no mesmo 

suporte do depósito. Na Figura 2.5, são apresentados os parâmetros do algoritmo utilizados 

para gerar a TI utilizada neste trabalho. Por conveniência (maior praticidade e fácil 

visualização), a TI foi gerada no mesmo grid onde foram executadas as simulações do contato 

minério/estéril. Assim, foi possível ajustar a parte superior da TI para que ela tivesse a mesma 

forma da topografia do depósito e também os mesmos limites laterais do MGR (Figura 2.6). 



27 

 

 

  

   

Figura 2.5. Menus e abas com os parâmetros do algoritmo Tetris, utilizado para gerar a imagem-referência (TI). 



28 

 

 

 (a) 
 

 (b) 
 

 (c) 

Figura 2.6. Configuração definitiva da Imagem-referência utilizada para as simulações. (a) TI 3D; (b) seção ao longo do eixo 

Z e (c) seção perpendicular ao eixo X. 

A TI gerada tem uma evidente repetição de padrões. Trata-se de uma grande massa 

contínua de minério na parte central, circundada por grandes massas continuas de estéril. 

Posto isso, não há necessidade de utilizar toda a TI, pode-se selecionar uma parte menor de 

todo o corpo. Fez-se essa seleção isolando uma parte da TI representativa do contato 

minério/estéril do lado esquerdo e outra para o contato do lado direito da seção no plano YZ. 



29 

 

 

Essa decisão tornou o processo de simulação mais fácil e mais rápido, uma vez que o 

algoritmo vai precisar varrer (scan) um volume menor para obter as informações necessárias à 

construção da árvore de busca (Figura 2.7). 

  

Figura 2.7. Imagem mostrando a imagem-referência (TI) utilizada para as simulações em cada grid lateral, isto é, para o setor 

esquerdo e setor direito. 

2.5. Gerando as Zonas de Incerteza (Uncertainty Zones) (ZI) e Simulando 

Como este trabalho visou modelar o contato minério/estéril, foi necessário delimitar a 

região da provável localização deste contato. Assim, a primeira resposta que se procura é para 

a seguinte pergunta: qual o tamanho (volume, dimensões) da região onde está o provável 

contato minério/estéril? Para respondê-la assumiu-se inicialmente que: 

i. A porção central (minério) e as bordas (estéril) do modelo geológico tradicional estão 

corretas, e não necessitam ser modeladas/avaliadas; 

ii. A partir do contato minério/estéril em cada lado do “trapézio” do MGR e SV, uma 

faixa inicial de 50 m foi arbitrariamente definida como zona de incerteza. 

A simulação dos blocos de minério e estéril foi restrita às porções do depósito 

consideradas incertas, isto é, ao longo da zona do contato minério/estéril. Essa zona de 

incerteza (ZI – uncertainty zone, em inglês) foi determinada pela execução do algoritmo de 

janelas móveis (moving window) entre seções verticais consecutivas. Em cada ponto visitado, 

se a janela continha tanto blocos de minério quanto estéril, os pixels (blocos/células) dentro da 

janela eram definidos como incertos e posteriormente simulados. Quando os pixels das seções 



30 

 

 

eram todos minério (ou estéril), então os pixels da janela também eram considerados minério 

(ou estéril) e não precisavam ser simulados. 

Visando checar a sensibilidade do método, três conjuntos diferentes de seções verticais 

foram utilizados: 40, 20 e 10 seções, regularmente espaçadas em 50, 100 e 200 m, 

respectivamente (Figura 2.8). É importante ressaltar que cada conjunto de SV gerou um 

diferente domínio de simulação. A janela de busca utilizada no algoritmo foi um elipsoide 

com azimute 90º, rake e dip 0º, 30 m de comprimento para o eixo menor e 50 m para o 

intermediário, formando uma elipse, e eixo maior com tamanho variável, de acordo com o 

número de SV disponíveis: 60 m para seções regularmente espaçadas em 50 m; 110 m para 

seções espaçadas em 100 m e 210 m para seções espaçadas em 200 metros. 

 (a) 

 (a’) 
 
 



31 

 

 

(b) 

(b’) 

(c) 

(c’) 

Figura 2.8. As imagens identificadas com (a), (b) e (c) referen-se às SV. As zonas de incerteza – ZI criadas a partir de cada 

número específico de seções verticais disponíveis estão identificadas por (a’), (b’), e (c’). 



32 

 

 

Os volumes resultantes que caracterizam as zonas de incerteza do contato 

minério/estéril são mostrados em perspectivas na Figura 2.9. Estes três cenários permitem 

também investigar o efeito causado pelo aumento da quantidade de informação disponível 

para condicionar os modelos simulados. 

  
 

  
 

  

Figura 2.9. À esquerda, blocos dentro de cada zona de incerteza (cenário com 40, 20 e 10 seções verticais); à direita, região 

considerada real fora das zonas de incerteza (ZI). 

Para condicionar as simulações, foram utilizadas as amostras dos furos de sondagem e 

também as 40 seções verticais interpretadas. Outra opção seria integrar as SV como um mapa 

de probabilidades no condicionamento das simulações, no entanto esta opção não foi avaliada. 

Embora seja preferível usar um modelo de resolução muito alta (blocos de 2x2x2 metros, por 

exemplo) para reproduzir com maior precisão o contato entre as litologias, a decisão foi de 



33 

 

 

construir, a partir das SV, um modelo com suporte mais “grosseiro”, que preencheu o volume 

a ser modelado com células de tamanho 10x10x10 metros. Tal suporte está mais próximo 

daquele adotado para a modelagem usando interpretação geológica empregado na área 

estudada (Figura 2.10). 

(a) 

(b) 

Figura 2.10. (a) Seção vertical construída com blocos de 2x2x2m, contendo itabiritos (azul), hematitas (amarelo) e estéril 

(vermelho); (b) seção vertical com blocos de 10x10x10m contendo minério (itabiritos e hematitas, em azul) e estéril, em 

vermelho. 

É importante frisar que, dentro das zonas de incerteza, apenas as amostras de furos de 

sonda foram utilizadas para condicionar as simulações. Em cada cenário avaliado, os blocos 

das SV que estavam localizados dentro das ZI foram removidos, sendo considerados como 

dados reais apenas os valores dos blocos que estavam fora de cada uma das ZI geradas. Estes 

blocos considerados reais serviram para manter a continuidade espacial do corpo de minério 

nos blocos localizados entre as seções e também para delinear a geometria potencial do 

contato minério/estéril dentro das ZI nestes locais em que havia SV disponível (Figura 2.11). 



34 

 

 

(a) 

 (b) 

Figura 2.11. (a) Imagem em perspectiva das seções verticais fora das ZI junto com os furos de sonda utilizados como dados 

de condicionamento das simulações. Minério em verde e estéril e azul; (b) Imagem representando os dados da seção vertical 

fora da ZI juntamente com os furos de sonda naquela SV. Minério em verde e estéril em cinza. 

Considerando que as simulações foram feitas de forma separada para o contato do lado 

direito e esquerdo, os dados de condicionamento também foram devidamente adequados, ou 

seja, apenas dados dentro dos limites de cada grid (left e right_side_grid) foram fornecidos ao 

algoritmo para condicionar as simulações efetuadas em cada setor. 

Completada a etapa de simulação, os resultados obtidos em cada grid lateral foram 

copiados para o grid maior e então se pôde fazer o pós-processamento, finalizando a forma 

geométrica dos modelos 3D, construindo mapas E-type e as curvas de variação dos recursos 

minerais. Os resultados finais foram confrontados com o modelo geológico de referência 

construído de forma tradicional. 



35 

 

 

2.6. Metodologia 

A metodologia deste trabalho seguiu a sequência de ações descrita abaixo e pode ser 

resumida e ilustrada, de forma simplificada, no fluxograma da Figura 2.12: 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figura 2.12. Fluxograma com as principais etapas necessárias para executar o trabalho. 

Preparação das 

Amostras 

? Exclusão de amostras sem os dados de litologias ou 

fora da área de interesse; 

? Codificação de litologias das amostras e do MGR: 

minério, código = 0 e estéreis código = 1; 

? Importação das amostras e MGR para o SGeMS. 

Preparação dos arquivos 

string do Datamine Studio
®

 

? Simplificação das strings das seções verticais para exibir apenas a 

linha do contato minério/estéril interpretado; 

? Extrusão de sólidos de cada seção; 
? Armazenamento destes dados em modelo(s) de bloco(s); 

? Importação do(s) modelo(s) no SGeMS. 

Recebimento / 

Aquisição de Dados 

Amostras de furos de sondagem; 

modelo de blocos do depósito 

(modelo de referência) e arquivos 

string de seções verticais da área. 

Gerar zonas de 

incerteza (ZI) 

? Moving Window + Python Scripts nas seções; 

? 3 cenários: utilizando 10, 20 e 40 seções; 

? Pontos das seções fora das ZI foram considerados dados reais e combinados com furos de 

sondagem para gerar o HD (hard data); 

? Dentro das ZI, apenas as amostras e furos de sonda foram consideradas dados reais; os pontos 

pertencentes às seções, nestas zonas, foram removidos. 

Criação da TI e 

Simulações 

? Gerar objeto 3D que seja uma representação do depósito sob estudo (sinusóide ao longo 

do eixo X); 

? Fazer 50 realizações de simulação, em cada grid lateral, utilizando a MPS; 

? Os pontos das seções verticais que estão fora das zonas de incerteza são utilizados 

juntamente com os furos de sonda para condicionar a simulação (hard data). 

Pós-processamento 
? As simulações são executadas de forma separada em cada grid menor e 

depois os resultados são mesclados no grid maior; 

? Faz-se então o pós-processamento das simulações, gerando mapas e-type, 

avaliação do volume de recursos disponíveis, etc. 

Criar o(s) Grid(s) 

para Simulações 

? Grid contemplando toda a área de estudo; 

? Dois grids menores para simular individualmente os contatos de um lado e outro da área; 

? Foram copiados para todos os grids criados: os furos de sondagem, as SV e o MGR. 



 

 

 

Capítulo 3  

Geração de Modelos com a 
Geoestatística de Múltiplos Pontos. 

3.1. Resultados e Discussão. 

Os modelos simulados foram confrontados com o modelo geológico de referência (MGR) 

através de histogramas para verificar as proporções minério/estéril e inspeções visuais de seções 

e modelos 3D para analisar configurações equiprováveis da distribuição espacial dos blocos de 

minério (ou estéril). 

Além de comparações com o MGR, os resultados obtidos em cada cenário foram 

comparados entre si, a fim de avaliar e embasar as discussões sobre a influência exercida pela 

quantidade de dados utilizados para condicionar as simulações. 

3.1.1. Checagem Visual e de Proporções 

Através da comparação visual entre modelos simulados e MGR, pode-se notar que as 

características gerais de forma do envelope mineralizado e do contato entre as litologias foram 

reproduzidas satisfatoriamente. A Figura 3.1 mostra algumas vistas em perspectiva e seções de 

modelos simulados e também do MGR. Os modelos simulados referem-se à realização número 

31 de cada um dos cenários avaliados. Verifica-se que há maior variabilidade no contato 

minério/estéril dos modelos simulados se comparados ao MGR, mas é possível identificar a 

presença dos padrões que definem este envelope mineralizado. 



37 

 

 

  
(a) 

  
(b) 

 

  
(c) 

 



38 

 

 

  
(d) 

Figura 3.1. Modelos 3D e seções de: (a) modelo de referência; e realização 31 para (b) cenário com 40 seções verticais; (c) 

cenário com 20 seções verticais; (d) cenário com 10 seções verticais. 

A Figura 3.2 mostra a flutuação da proporção global de minério para os três cenários 

avaliados. Esta proporção flutua aproximadamente entre 65,5% e 67,5%. Os modelos simulados 

apresentam maior percentual de minério do que o MGR (em torno de 62% de minério). Estas 

diferenças entre MGR e modelos simulados podem estar ligadas ao fato de haver maior 

proporção de amostras de minério tanto nos dados de condicionamento quanto na imagem-

referência. Uma vez que o fator servosystem não foi utilizado, a proporção final das simulações 

vai se aproximar da proporção dos dados primários (HD), que é composto por pontos de SV e 

também furos de sondagem. Caso o objetivo fosse reproduzir fielmente as características do 

MGR, as discrepâncias encontradas poderiam ser minimizadas ao utilizar um valor positivo para 

o fator servosystem, ou mesmo alterando a forma e proporção mineiro/estéril da imagem-

referência, por exemplo. 

(a) 
 

64,50%

65,00%

65,50%

66,00%

66,50%

67,00%

67,50%

68,00%



39 

 

 

(b) 
 

(c) 

Figura 3.2. Proporções globais de minério em cada realização para os três cenários avaliados: (a) 40 seções; (b) 20 seções e (c) 10 

seções. 

Pode-se notar na Figura 3.2 que as flutuações entre os modelos são maiores na medida em 

que se diminui o número total de SV disponíveis para o condicionamento. Além disso, a 

proporção máxima e mínima é diferente em cada cenário avaliado. 

No entanto, é importante ressaltar que o MGR foi obtido de forma tradicional, ou seja, 

baseado principalmente na interpretação de seções verticais/horizontais, por isso ele não deve ser 

visto como uma representação real ou uma referência verdadeira como a que se obtém de dados 

exaustivos. Assim, uma interpretação possível para as diferenças encontradas pode estar 

relacionada ao fato de o MGR subestimar o volume de minério durante o seu processo 

construtivo. Se necessário, as simulações poderiam ser repetidas com outras TIs, cujas 

proporções minério/estéril fossem diferentes da apresentada, para quantificar melhor o volume 

de incerteza do corpo de minério e variações na forma do contato entre as litologias. 

 

64,50%

65,00%

65,50%

66,00%

66,50%

67,00%

67,50%

68,00%

64,50%

65,00%

65,50%

66,00%

66,50%

67,00%

67,50%

68,00%



40 

 

 

3.1.2. Mapas e Histogramas E-type 

Para cada cenário avaliado, foi construído um mapa de probabilidades (mapa E-type) a 

partir da média, em cada ponto, do conjunto das 50 realizações. A Figura 3.3 mostra, para cada 

cenário estudado, o mapa com a probabilidade que cada bloco tem para ser denominado 

minério/estéril. Vê-se, que o volume da zona de incerteza, derivada das seções, foi suficiente 

para incluir a zona de transição entre os dois litotipos, principalmente para os cenários com 20 e 

40 seções verticais. Isso pode ser observado pela clara definição de zonas em ciano e vermelho 

dentro do volume de transição, em blocos onde não há incerteza. Os blocos que tem algum nível 

de incerteza estão na faixa de transição entre minério e estéril, por isso receberam cores 

intermediárias na escala mostrada. Pode-se afirmar que as informações de padrão da TI 

combinadas com os furos de sonda e SV reduziram aquela zona de incerteza inicialmente 

modelada com o algoritmo de janelas móveis. 

(a) 

(b) 



41 

 

 

(c) 

Figura 3.3. Mapa (E-type map) ilustrando a probabilidade de cada bloco ser considerado minério (azul) ou estéril (vermelho) para 

(a) cenário de simulação condicionada por 40 seções verticais, (b) condicionado por 20 seções verticais e (c) condicionado por 10 

seções verticais. 

Na medida em que o número de SV utilizadas para gerar a ZI aumenta, há também um 

controle mais rígido sobre a geometria final da zona de incerteza e, consequentemente, do 

contato minério/estéril, resultando em muitas células com probabilidade 0 ou 1 de serem 

considerada minério, conforme mostram os histogramas dos mapas de probabilidades da Figura 

3.4. 

  (a) 
 



42 

 

 

  (b) 
 

  (c) 

Figura 3.4. Histograma dos mapas E-type para os três cenários avaliados (global, à direita e dentro das ZI, à esquerda).(a) cenário 

de simulação condicionada por 40 seções verticais, (b) condicionado por 20 seções verticais e (c) condicionado por 10 seções 

verticais. 

As simulações reproduziram de forma satisfatória os principais padrões do envelope 

mineralizado. A Figura 3.5 apresenta seção vertical na posição X = -6310 do modelo de 

referência e também da realização número 25 de cada um dos cenários analisados. As amostras 

de minério dos furos de sondagem presentes nesta região foram representadas pelos pontos em 

ciano (azul claro), enquanto as amostras de estéril estão em vermelho claro. Os furos de 

sondagem mostrados estão na posição X = -6300 para permitir que fossem visualizados 

simultaneamente às SV. 



43 

 

 

(a) 
 

(b) 
 

(c) 
 

(d) 

Figura 3.5. Seção vertical do (a) modelo de referência e realização nº 25 das simulações para o cenário de condicionamento 

utilizando (b) 40 seções, (c) 20 seções e (d) 10 seções verticais. Estéril em vermelho escuro e minério em laranja. Em azul claro 

estão as amostras de minério e vermelho claro as amostras de estéril nos furos de sondagem. 

Pode-se perceber que as simulações mostram um contato arredondado e pouco regular 

(Figura 3.5 b, c e d), diferente do modelo de referência, cujo contato minério/estéril é uma linha 

com ângulo constante (Figura 3.5 a), onde se pode identificar claramente o formato trapezoidal 

com base maior recortada pela superfície topográfica. 



44 

 

 

Além da checagem visual comparando MGR e modelos simulados, as proporções 

minério/estéril entre dados de condicionamento e os modelos também foi checada. Pode-se notar 

que tais proporções foram reproduzidas de forma satisfatória, como mostra a Figura 3.6 

 

Figura 3.6. Proporções, para cada cenário avaliado, entre a realização 25 e os dados de condicionamento. Em azul, estéril e em 

vermelho, minério. 

3.1.3. Gráfico com a variação de recursos e reservas 

As variações no volume de minério entre os cenários avaliados também foi comparada. 

Para isso, fez-se a variação do critério de classificação de cada bloco, em cada cenário. A cada 

modelo de probabilidade (E-type map) foram aplicados diferentes valores mínimos de chance 

(threshold) para atribuir a categoria minério ao bloco. Por exemplo, um valor de referência de 

0,50 indica que todos os blocos com pelo menos 50% de probabilidade de ser minério serão 

considerados como minério. Um valor de referência de 0,10 forneceria uma massa de minério 

bastante otimista, enquanto um valor de referência de 0,90 seria mais pessimista. Figura 3.7 

mostra tais resultados para todos os cenários estudados (com 40 seções, 20 seções e 10 seções, 

espaçadas em 50 metros, 100 metros e 200 metros, respectivamente). 

0%

20%

40%

60%

80%

realiz. 25
H.D.

realiz. 25
H.D.

realiz. 25
H.D.

Condicionamento 40 SV

Condicionamento 20 SV

Condicionamento 10 SV



45 

 

 

 

Figura 3.7. Variação dos recursos disponíveis. Em azul, cenário utilizando 10 seções verticais; em verde, utilizando 20 seções e 

em vermelho utilizando 40 seções verticais. 

O gráfico da variação de recursos apresentado acima mostra que entre o critério mais 

rigoroso e o mais otimista (menos rigoroso), a massa total de minério do envelope mineralizado 

pode diminuir em aproximadamente 20% (considerando o cenário com 10 seções verticais 

apenas). 

As diferenças entre cada cenário mostram que quanto menos dados disponíveis e quanto 

menor for o nível de rigor para classificar o bloco, maior será a quantidade de minério, ou seja, 

se há menos dados condicionando os resultados, os modelos simulados tendem a superestimar as 

massas de minério. 

Para os critérios de classificação de recursos menos rigorosos (abaixo de 50% de 

probabilidade), as diferenças de massa entre cada cenário avaliado mostram que: se há menos 

dados condicionando os resultados, os modelos simulados tendem a superestimar as massas de 

minério. Isso acontece porque, geralmente, se tem mais informações sobre minério nos furos de 

sondagem, uma vez que o alvo da pesquisa é o minério, não o estéril. O algoritmo sempre tenta 

reproduzir a proporção dos dados primários informados e como há menos informações sobre 

estéril nesses dados, ele será mal representado nos modelos simulados. À medida em que se 

acrescentam mais seções verticais, se passa a ter mais informações sobre o estéril (proporção 

geral, proporção local e distribuição espacial), e a quantidade total de minério (e estéril) é 

redistribuída nos dados e consequentemente nos modelos simulados. 

380.000

400.000

420.000

440.000

460.000

480.000

500.000

520.000

10% 20% 30% 40% 50% 60% 70% 80% 90%



46 

 

 

Ainda assim, para o critério mais otimista (chamar de minério blocos com ao menos 10% 

de probabilidade de ser minério), as diferenças entre o cenário com 40 seções e o cenário com 10 

seções verticais fica no entorno de 4%. É uma diferença muito pequena. Dependendo da fase do 

empreendimento e do nível de rigor na classificação dos recursos, não é necessário utilizar um 

grande número de seções verticais para condicionar as simulações, diminuindo substancialmente 

o tempo despendido com a modelagem e interpretação de seções verticais. 

As diferenças de massa entre os cenários tende a ficar menos significativa na medida em 

que o critério de classificação se torna mais rigoroso. Considerando a situação em que blocos 

com ao menos 60% de chance de ser minério serão classificados como minério, quase não há 

diferença de massa entre os três cenários avaliados. Apenas para os critérios mais rigorosos 

(70%, 80% e 90% de probabilidade) o cenário com 10 seções tem massa menor de minério que 

os demais. As maiores diferenças ocorrem para o critério mais rigoroso de classificação: 

aproximadamente 8% e 6% menos massa que os cenários com 40 e 20 seções, respectivamente. 

Se ao comparar os cenários com 10 e 40 seções é possível notar apenas uma pequena 

diferença na massa total de minério, ao comparar o cenário de 20 seções com o de 40 seções, 

essas diferenças praticamente não existem. 

Isso significa que bastaria utilizar um conjunto de 20 seções interpretadas, espaçadas 

regularmente em 100 metros entre si, além de furos de sondagem dispostos em malha 

aproximadamente regular de 100 x 100 metros para se chegar a modelos satisfatórios do corpo 

de minério utilizando a geoestatística de múltiplos pontos. Esses modelos, construídos durante as 

fases iniciais de exploração e estudos de viabilidade econômica, demandam menos tempo gasto 

para interpretar e modelar seções verticais, eliminam a necessidade de modelagem de 

variogramas, podem evitar gastos excessivos com campanhas de sondagem e auxiliam de forma 

indireta na alocação de novos furos, já que os mapas E-type fornecem uma medida da extensão e 

forma das zonas de maior ou menor incerteza a respeito de cada litologia. 

Ainda que um dos objetivos iniciais deste trabalho fosse comparar o MGR com as 

simulações por MPS, ao longo do desenvolvimento dessa dissertação foi possível perceber que 

esta comparação deve ser feita com cuidado. Os modelos são construídos com metodologias 

diferentes, o que exige, em cada caso, uma preparação peculiar dos dados a serem utilizados, de 



47 

 

 

forma que eles sejam capazes de evidenciar as informações necessárias para o processo de 

modelagem. 

Nesse sentido, o contato minério/estéril desenhado próximo à superfície topográfica é mais 

preciso do que aquele desenhado a 200 metros de profundidade, já que há maior certeza sobre a 

geologia das litologias aflorantes se comparada à geologia de rochas em subsuperficie. Assim, as 

ZI geradas de forma artificial deveriam captar este gradiente ao longo do eixo Z, sendo menores 

(mais estreitas) na superfície e mais largas na base. 

Da mesma forma, deve-se estar atento à configuração dos furos de sondagem que contém 

amostras dentro das zonas de incerteza e sua influência na simulação dentro dessas ZI. 

Geralmente, os furos tem comprimento associado à espessura do corpo mineralizado. Assim que 

ultrapassam o contato entre duas litologias, a perfuração é interrompida. Entretanto, ao gerar as 

ZI a partir das seções interpretadas, surge um espaço vazio (valor incerto dos blocos) entre a 

última amostra do furo de sondagem e o limite externo da zona de incerteza, como ilustrado na 

Figura 2.11, mostrada no capítulo anterior. 

Durante os processos de simulação, estas amostras localizadas no final do furo acabam 

influenciando o valor dos blocos ao seu redor, ainda que se saiba de antemão que os blocos 

abaixo da última composta pertencem a outra litologia. Ao utilizar esta configuração tendenciosa 

no condicionamento das simulações, o resultado pode ter um viés e acabar gerando mais 

minério( ou estéril), caso haja um grande número de compostas dos furos de sondagem 

localizados dentro das ZI. Para lidar de maneira adequada com este inconveniente, é importante 

que os próximos estudos considerem prolongar de forma artificial os furos até que alcancem o 

limite externo da ZI, atribuindo o valor adequado de litologia a essas novas compostas artificiais, 

isto é, atribuir ao bloco a mesma litologia encontrada nos blocos do limite externo da ZI naquele 

local onde está o furo. 

  



48 

 

 

3.2. Demanda Computacional. 

Em relação à demanda computacional, há grande exigência de RAM e processamento para 

a execução dos trabalhos. A pasta de projeto do SGeMS contendo todos os resultados de 

simulações, os arquivos iniciais e de pós-processamento, possui cerca de 2,5 GB, sem considerar 

os arquivos exportados para programas como o Microsoft Excel
©

, GSLIB
©

 (Deutsch &amp;amp; Journel, 

1998), Datamine Studio
®
 ou qualquer outra plataforma que se queira utilizar para visualização, 

checagem e apresentação dos resultados. 

Para efetuar 50 realizações em cada um dos três cenários avaliados, em um grid com 

aproximadamente 1,2 milhões de blocos, foi preciso utilizar um computador com 6 GB de 

memória RAM e processador de dois núcleos com velocidade de 2.30 GHz. O tempo necessário 

para executar as principais etapas, considerando os três cenários avaliados, está sumarizado na 

Tabela 3.1: 

Tabela 3.1. Tempo necessário para execução das principais etapas. 

 

Tempo (s) 

Gerar ZI 95 

Criar TI 8 

Carregar o projeto 230 

Simulações* 675 

Pós-processamento* 220 

Salvar arquivos do projeto 290 
* tempo total para os três cenários avaliados (50 

realizações em cada). 

 



 

 

 

Capítulo 4  

Conclusões 

Com este estudo foi possível mostrar que a simulação geoestatística de múltiplos pontos 

(MPS) pode ser aplicada para construir modelos de corpos mineralizados durante os estágios 

preliminares de exploração sem demandar longos e exigentes processos de modelagem manual. 

Os modelos simulados exigem menor esforço (em tempo e custo) do que abordagem tradicional. 

Esta técnica tem grande potencial de aplicação na indústria mineral, pois já vem sendo 

aplicada com sucesso na indústria do petróleo. No entanto, é preciso levar em conta que a 

escassez de dados primários é muito mais severa na indústria petrolífera. Sendo assim, as 

imagens-referência têm papel importante no processo de simulação e podem interferir 

substancialmente nos resultados, por isso é corriqueiro gerar diversas TIs para um mesmo 

reservatório, criando uma gama maior de modelos para embasar as decisões e quantificar a 

incerteza associada à modelagem geológica dos reservatórios de óleo e gás. 

Por outro lado, ainda que se tenham poucos dados disponíveis, na maior parte dos 

depósitos minerais essa quantidade de dados é sempre maior que os disponíveis na modelagem 

de reservatórios. Assim, a TI tem influência menor, enquanto os dados primários e dados 

secundários utilizados no condicionamento tem papel muito mais decisivo no resultado final da 

modelagem dos corpos mineralizados durante as fases iniciais de exploração. 

Quando as ZI são geradas a partir de seções verticais interpretadas, é importante que se 

façam estudos sobre as variações na espessura dessas ZIs ao longo do eixo Z (mais estreitas 

próximo à superfície e mais largas conforme aumenta a profundidade), buscando representar o 

nível de conhecimento a respeito da geologia, que varia de acordo com a profundidade. 

A metodologia apresentada foi aplicada a um depósito de minério de ferro em 3D e 

permitiu avaliar a incerteza sobre os volumes para cada fácies modelada. Tal processo minimiza 

o caráter determinista da modelagem tradicional, acrescentando uma interpretação probabilística 



50 

 

 

(zona incerteza) sobre a forma e os contatos litológicos reais da jazida. Se houver incerteza 

significativa em relação à potencial forma do corpo de minério, vários cenários podem ser 

criados usando diferentes imagens-referência (training images). 

Também, foi possível constatar que a simulação deste tipo de corpo de minério não exige 

uma grande quantidade de seções interpretadas. Algumas seções verticais combinadas com 

amostras de furos de sondagem foram suficientes para simular de forma satisfatória o envelope 

mineralizado do depósito. De uma perspectiva mais ampla, o número de secções necessárias para 

um depósito particular vai depender da complexidade geométrica dos padrões de contato, da 

densidade de furos e do nível aceitável de tolerância ao risco, dada a fase de desenvolvimento do 

depósito (exploração inicial versus quasi produção). 

Embora resulte em poucas diferenças ao final das simulações, a integração de mais seções 

para o delineamento inicial da zona de incerteza claramente diminui a incerteza sobre a 

geometria do corpo mineralizado. Isto é, ao aumentar a quantidade de seções utilizadas para 

gerar a ZI, a forma desta ZI se aproxima mais da forma e dimensão real do contato 

minério/estéril. 

Em termos computacionais, o algoritmo SNESIM tornou possível a aplicação dos 

conceitos de MPS, mas ainda assim há grande exigência de RAM e processadores para a 

execução dos trabalhos. É necessário o uso de máquinas com requisitos específicos, acima do 

que comumente se encontra em computadores domésticos. Para efetuar a simulação do envelope 

mineralizado (contato minério/estéril) de um depósito real em um grid com aproximadamente 

1,2 milhões de blocos, foram necessários ao menos 6 GB de memória RAM, processador de dois 

núcleos com 2.30 GHz e cerca de 10 GB de espaço no disco rígido para armazenar os resultados. 

Considerando que todos os scripts de simulação já tenham sido escritos e os dados estejam 

preparados (grids prontos, BD e SV ajustadas, HD pronto), o tempo total para efetuar 50 

realizações nos três cenários estudados foi de aproximadamente 13 minutos. Outros 4 minutos 

foram necessários para executar os scripts de pós-processamento que permitiram gerar mapas de 

probabilidades (E-type) e fazer a classificação de recursos disponíveis. 

Neste trabalho, a simulação, e consequentemente a varredura de padrões executada pelo 

SNESIM, ocorreu em cerca de 1/3 do total de blocos, pois o volume das zonas de incerteza é 



51 

 

 

menor que o volume total do depósito. Assim, embora este pareça ser um tempo pequeno para a 

execução dos scripts e obtenção de resultados, é importante estar atento ao fato de que esses 

números vão se alterar na medida em que o modelo de depósito se torne mais complexo, com 

mais litologias sendo representadas, ou com o aumento do número de blocos simulados.  

Outro importante ponto a ser destacado está relacionado às etapas de preparo dos dados 

para execução do algoritmo. Deve-se ressaltar que, para a atual versão do SGeMS, disponível 

gratuitamente
2
, é necessário que os dados de condicionamento informados pela opção Hard 

Data, sejam arquivos de ponto (pointset); a propriedade da TI precisa estar armazenada na forma 

de um grid; os mapas de probabilidade, quando utilizados, precisam conter valores de 

probabilidade de ocorrência de cada uma das litologias no mesmo ponto, sempre com soma das 

frações igual a um, e devem ser informados para todos os nós do grid de simulação; o programa 

não exporta os resultados automaticamente com informações de coordenadas de cada ponto, por 

isso é necessário criar scripts em linguagem Python para realizar esta tarefa de alguma forma. 

Com isso, outra contribuição deste trabalho foi estabelecer uma sequência de etapas 

necessárias para trabalhos com MPS, apresentando em detalhes os passos para o preparo e 

adequação dos dados que serão utilizados no SGeMS. 

Como complemento do trabalho foram gerados diversos scripts em linguagem de 

programação Python que permitem automatizar as principais rotinas, desde a importação de 

dados e geração das zonas de incerteza, até as simulações e pós-processamento, tornando as 

atividades menos tediosas e mais rápidas. 

4.1. Recomendações para Desenvolvimento Futuro 

Por não ter sido possível avaliar todas as possibilidades do algoritmo SNESIM e todas as 

funcionalidades do aplicativo SGeMS, os estudos e aplicações desta técnica em depósitos 

minerais reais não devem se encerrar com este trabalho. 

Os próximos passos deste projeto envolvem considerar simultaneamente mais litotipos, 

conduzindo a uma maior complexidade da geometria do corpo de minério, bem como aumentar a 

                                                           
2
 www.sourceforge.com/sgems 

http://www.sourceforge.com/sgems


52 

 

 

complexidade e até o número de TIs, além de avaliar a integração de outros tipos de dados de 

condicionamento, como por exemplo mapas de probabilidades e informações sobre proporções 

verticais das litologias. 



 

 

 

Referências 

Abichequer, L. a., Costa, J. F. C. L., Pasti, H. a., &amp;amp; Koppe, J. C. (2011). Design of 

blending piles by geostatistically simulated models — A real case reconciliation. 

International Journal of Mineral Processing, 99(1-4), 21-26. Elsevier B.V. 

doi:10.1016/j.minpro.2011.02.002 

Alabert, F. G. (1987). Stochastic Imaging of Spatial Distribution Using Hard and Soft 

Information. Stanford University. 

Arpat, G. B., &amp;amp; Caers, J. (2005). A MULTIPLE-SCALE, PATTERN-BASED 

APPROACH TO SEQUENTIAL SIMULATION. In O. Leuangthong and C. V. 

Deutsch (Ed.), Geostats Banff 2004 (pp. 255-264). Springer. 

Beretta, F. S. (2010). Redução da variabilidade da qualidade do carvão entre pilhas de 

homogeneização utilizando simulação geoestatística. Universidade Federal do Rio 

Grande do Sul. Retrieved from 

http://www.lume.ufrgs.br/bitstream/handle/10183/25073/000749995.pdf?sequence

=1 

Boisvert, J. B., Leuangthong, O., Ortiz, J. M., &amp;amp; Deutsch, C. V. (2008). A methodology 

to construct training images for vein-type deposits. Computers &amp;amp; Geosciences, 34, 

491-502. doi:10.1016/j.cageo.2007.04.007 

Boogaart, K. G. V. D. (2006). Some theory for Multiple Point Statistics?: Fitting , 

checking and optimally exploiting the training image. International Association for 

Mathematical Geology (pp. 3-6). Liege. 

Boucher, A., &amp;amp; Stright, L. (2008). Downscaling with training image and search tree 

partitioning. In J. M. Ortiz &amp;amp; X. Emery (Eds.), Geostats (p. 10). Santiago, Chile: 

Springer Netherlands. 

Caers, J. (2001). Geostatistical reservoir modelling using statistical pattern recognition. 

Journal of Petroleum Science and Engineering, 29(3-4), 177-188. 

doi:10.1016/S0920-4105(01)00088-2 

Costa, J. F. C. L., Pilger, G. G., Marques, D. M., &amp;amp; Koppe, J. C. (2008). 

Aperfeiçoamento da estratégia de homogeneização em pilhas chevron utilizando 

simulação geoestatística. Revista Escola de Minas, 61(3), 291-296. Retrieved from 

http://www.scielo.br/pdf/rem/v61n3/a05.pdf 

DNPM (Departamento Nacional de Produção Mineral). (2011). Sumario Mineral 2011 

(pp. 1-105). Brasília, Brazil. Retrieved from 

https://sistemas.dnpm.gov.br/publicacao/mostra_imagem.asp?IDBancoArquivoArq

uivo=6350 

Deutsch, C. V. (2002). Geostatistical Reservoir Modeling (p. 376). New York: Oxford 

University Press. 



54 

 

 

Deutsch, C. V., &amp;amp; Journel, A. G. (1998). Geostatistical Software Library and User’s 

Guide (2nd ed., p. 369). New York: Oxford University Press. 

Gambin, F. (2003). Aperfeiçoamento da Estratégia de Homogeneização de Minérios 

Utilizando Simulação Geoestatística. Universidade Federal do Rio Grande do Sul. 

Gambin, F., Costa, J. F. C. L., &amp;amp; Koppe, J. C. (2005). Estratégia de controle de 

qualidade de minérios na lavra utilizando simulação geoestatística, 58(3), 193-200. 

Guardiano, F. B., &amp;amp; Srivastava, R. M. (1993). Multivariate Geostatistics: Beyond 

Biavariate Moments. In A. Soares (Ed.), Geostatistics Troia  ’92 (pp. 133-144). 

Gómez-Hernández, J. J. (2005). geostatistics. In Y. RUBIN &amp;amp; S. S. HUBBARD (Eds.), 

Water Science and Technology Library Series (Vol. 50, pp. 59-83). Springer 

Netherlands. 

Hajizadeh, A., Safekordi, A., &amp;amp; Farhadpour, F. a. (2011). A multiple-point statistics 

algorithm for 3D pore space reconstruction from 2D images. Advances in Water 

Resources, 34(10), 1256-1267. Elsevier Ltd. doi:10.1016/j.advwatres.2011.06.003 

Harding, A., Strebelle, S., Levy, M., Thorne, J., Xie, D., Leigh, S., &amp;amp; Preece, R. (2005). 

Reservoir facies modelling: new advances in mps. In O. Leuangthong &amp;amp; C. V. 

Deutsch (Eds.), Geostats Banff 2004 (pp. 559-568). Springer Netherlands. 

Hurtado, S., &amp;amp; Ortiz, J. M. (2010). Quantifying Uncertainty in Resources Tonnage 

Using Multiple Point Geostatistical Simulation. MININ (p. 9). Santiago, Chile. 

Huysmans, M., &amp;amp; Dassargues, A. (2009). Application of multiple-point geostatistics on 

modelling groundwater flow and transport in a cross-bedded aquifer ( Belgium ). 

Hydrogeology Journal, 17(8), 1901-1911. doi:10.1007/s10040-009-0495-2 

IBRAM. (2010). Informações e Análises da Economia Mineral Brasileira - 5
a
 Edição. 

(p. 28). Brasília, Brazil. Retrieved from 

http://www.ibram.org.br/sites/1300/1382/00001157.pdf 

Journel, A. G. (1982). The Indicator Approach to Estimation of Spatial Distributions. In 

SME-AIME (Ed.), 17th APCOM (International Symposium on the Application of 

Computers and Mathematics in the Mineral Industry) (pp. 793-806). Golden, 

Colorado, USA. 

Journel, A. G. (2005). Beyond covariance: the advent of multiple-point geostatistics. 

Geostats Banff 2004 (pp. 225-233). Santiago, Chile: Springer Netherlands. 

Journel, A. G., &amp;amp; Kyriakidis, P. C. (2004). Evaluation of mineral reserves?: a simulation 

approach (p. 216). New York: Oxford University Press. 

Journel, A. G., &amp;amp; Zhang, T. (2006). The Necessity of a Multiple-Point Prior Model. 

Mathematical Geology, 38(5), 591-610. doi:10.1007/s11004-006-9031-2 



55 

 

 

Koppe, V. C. (2009). Metodologia para Comparar a Eficiência de Alternativas para a 

Disposição de Amostras. Universidade Federal do Rio Grande do Sul. 

Krishnan, S., &amp;amp; Journel, A. G. (2003). Spatial Connectivity?: From Variograms to 

Multiple-Point Measures 1. Mathematical Geology, 35(8), 915-925. 

Liu, Y. (2006). Using the Snesim program for multiple-point statistical simulation. 

Computers &amp;amp; Geosciences, 32, 1544-1563. doi:10.1016/j.cageo.2006.02.008 

Liu, Y., Harding, A., Gilbert, R., &amp;amp; Journel, A. G. (2005). A workflow for multiple-

point geostatistical simulation. Geostats Banff 2004, 245-254. 

Maharaja, A. (2005). Stochastic modeling of the rhine-meuse delta using multiple-point 

geostatistics. In O. Leuangthong &amp;amp; C. V. Deutsch (Eds.), Geostats Banff 2004 

(Vol. 1, pp. 653-659). Santiago, Chile: Springer Netherlands. 

Marques, D. M. (2010). Desenvolvimento de um Algoritmo para Simular a 

Variabilidade do Minério em Pilhas de Homogeneização. Universidade Federal do 

Rio Grande do Sul. 

Okabe, H., &amp;amp; Blunt, M. (2005). MULTIPLE-POINT STATISTICS TO GENERATE 

PORE SPACE IMAGES. In O. Leuangthong &amp;amp; C. V. Deutsch (Eds.), Earth 

Science (pp. 763-768). Springer. 

Ortiz, J. M. (2008). An overview of the challenges of multiple- point geostatistics. In J. 

M. Ortiz &amp;amp; X. Emery (Eds.), Geostats (p. 10). Santiago, Chile: Springer 

Netherlands. 

Ortiz, J. M., &amp;amp; Deutsch, C. V. (2004). Indicator Simulation Accounting for Multiple-

Point Statistics. Mathematical Geology, 36(5), 545-565. 

doi:10.1023/B:MATG.0000037736.00489.b5 

Ortiz, J. M., Lyster, S., &amp;amp; Deutsch, C. V. (2007). Scaling multiple-point statistics to 

different univariate proportions. Computers &amp;amp; Geosciences, 33(2), 191-201. 

doi:10.1016/j.cageo.2006.06.009 

Parra, A., &amp;amp; Ortiz, J. M. (2010). Multiple – Point Conditional Unilateral Simulation for 

Categorical Variables. MININ (pp. 413-421). Santiago, Chile. 

Peroni, R. (2002). Análise da sensibilidade do seqüenciamento de lavra em função da 

incerteza do modelo geológico. Universidade Federal do Rio Grande do Sul. 

Remy, N., Boucher, A., &amp;amp; Wu, J. (2006). SGeMS User ’ s Guide Chapter 1 General 

Overview. 

Remy, N., Boucher, A., &amp;amp; Wu, J. (2009). Applied Geoestistics with SGeMS - A User’s 

Guide (First., p. 264). New York: Cambridge University Press. 

Sinclair, A. J., &amp;amp; Blackwell, G. H. (2002). Applpied Mineral Inventory Estimation (pp. 

1-381). Cambridge: Cambridge University Press. 



56 

 

 

Souza, F. S. de. (2007). Uso de Métodos Geoestatísticos no Auxílio à Modelagem 

Geológica. Universidade Federal do Rio Grande do Sul. 

Strebelle, S. (2000a). Sequential Simulation Drawing Structures from Training Images. 

UMI. Stanford. 

Strebelle, S. (2000b). New multiple-point statistics simulation implementation to reduce 

memory and cpu-time demand. Training (p. 6). San Ramon. 

Strebelle, S. (2002). Conditional Simulation of Complex Geological Structures Using 

Multiple-Point Statistics. Mathematical Geology, 34(1), 1-21. 

Strebelle, S., &amp;amp; Remy, N. (2005). Post-processing of multiple-point geostatistical 

models to improve reproduction of training patterns. In O. Leuangthong &amp;amp; C. V. 

Deutsch (Eds.), Geostats Banff 2004 (pp. 979-988). Springer Netherlands. 

Strebelle, S., &amp;amp; Zhang, T. (2005). Non-stationary multiple-point geostatistical models. 

In O. Leuangthong &amp;amp; C. V. Deutsch (Eds.), Geostats Banff 2004 (pp. 235-244). 

Santiago, Chile: Springer Netherlands. 

Tran, T. T. (1994). Improving variogram reproduction on dense simulation grids. 

Computers &amp;amp; Geosciences, 20(7-8), 1161-1168. doi:10.1016/0098-3004(94)90069-

8 

 

 

 

 

 

 

 

 

 

 

 



 

 

 

 

 

 

 

 

ANEXOS



58 

 

 

1) Importação das seções verticais para o SGeMS. 

# after preparing the Data in the properly format and when the 

destination SGeMS grid is ready, than it is possible to import the 

dataset and/or sections files to the SGeMS project. 

 

import sgems 

# import the vertical sections in ascii/gslib format to sgems 

for i in range(40): # times to repeat the Load command (i starts in 0 

and ends in 39) 

  temp = 5550+50*I # 50 is the default offset distance between 

consecutive sections 

  print temp 

# the full path of files location 

  filename = 

"D:/Helder/Documents/POS/TRABALHO_PRATICO/Sapecado/sapecado_datamine/s

ecoes_e_modelos_blocos10m/secao"+str(temp)+"_10m.dat" 

  print filename # use this command to visualize the file name during 

the import process 

  sgems.execute("LoadObjectFromFile "+filename+"::csv") # load the 

object and set manually each needed information (type of importation; 

sgems new property name) 

# the new property name was set to: secaoNNNN_10m. The NNNN means the 

section position along the X axis (from coordinates -5550 to -7500). 

print "done importing process" # a warning when the load process ends 

 

# than, all imported  data are copied to the simulation grid into a 

new one property which contain all vertical sections information. 

 

for i in range(40): 

  temp = 5550+50*i 

  #print temp 

  sgems.execute("CopyProperty  

secao"+str(temp)+"_10m::ZONE::coarse_large_grid::data-section::0::0") 

print "done pointsets coping" 

Com esse script se faz a importação, no formato pointset, de cada arquivo de texto com 

os dados das seções verticais e então os dados são copiados para o grid geral de 

simulação. 

  



59 

 

 

2) Gerar as propriedades com número reduzido de seções verticais. 

import sgems 

grid = "coarse_large_grid" 

data = sgems.get_property(grid, "data-section_each50m") 

xdata = sgems.get_property(grid, "_X_") 

nan = sgems.nan() 

newprop1 = "data-section_each100m" 

newprop2 = "data-section_each200m" 

for i in range(21): 

  temp = -7550+100*i 

  print temp 

  for j in range(len(data)): 

    if xdata[j] == temp: 

      data[j] = nan 

sgems.set_property(grid, newprop1, data) 

for k in range(10): 

  temp_0 = -7500+200*k 

  temp_1 = -7500+200*(k+1) 

  print temp_0 

  print temp_1 

  for m in range(len(data)): 

    if temp_0 &amp;lt;xdata[m] &amp;lt;temp_1: 

      data[m] = nan 

sgems.set_property(grid, newprop2, data) 

print "done" 

 

 

 

 



60 

 

 

3) Gerar as zonas de incerteza no grid maior e copiar os resultados para os grids 

laterais. 

import sgems 

import time 

startall = time.time() # this command is used to get the real time 

start1 = startall 

nan = sgems.nan() #sgems not available data (not a number notation) 

coarse = "coarse_large_grid" 

refer = "refer_model_geobody" 

left = "left_coarse_grid" 

right = "right_coarse_grid" 

offsets = 3 # number of scenarios (offset distances between 

consecutive considered sections) to be evaluated 

buffersize = 1 # number of tested different sizes of the ellipsoid 

along the median axis  

data = sgems.get_property(coarse,refer) 

# reference distances and name of properties that will be created  

props =  { '50m' : '50m_sections_buffer', 

   '100m' : '100m_sections_buffer', 

   '200m' : '200m_sections_buffer' } 

#step to run moving window algorithm for all offsets (50, 100 and 

200m) and for all buffers which the offsets were applied 

for j in range(buffersize): 

  buf = 50 - 20*(j) 

  for i in range (offsets): 

    dist = int(50*2**i) 

    position = dist+10 

    print position 

    sgems.execute('RunGeostatAlgorithm  

moving_window::/GeostatParamUtils/XML::&lt;parameters&gt; &amp;lt;algorithm 

name="moving_window" /&gt;    &amp;lt;Input_data  grid="'+coarse+'" region="" 

property="data-section_each'+str(dist)+'m"  /&gt;    &amp;lt;prefix_out  

value="'+str(dist)+'m_sections_buffer'+str(buf)+'_" /&gt;     

&lt;filter_type  value="Moving Average"  /&gt;    &amp;lt;is_neigh_rect  value="0"  

/&gt;    &amp;lt;is_neigh_ellipsoid  value="1"  /&gt;    &amp;lt;size_x  value="" /&gt;     

&lt;size_y  value="" /&gt;    &amp;lt;size_z  value="" /&gt;    &amp;lt;neigh_ellipsoid  

value="'+str(position)+' '+str(buf)+' 30  90 0 0" /&gt;    

&lt;filter_filename  value="" /&gt;    &amp;lt;Sobel_orientation  value="XY"  /&gt;     

&lt;sigma  value="" /&gt;    &amp;lt;Filtsim_def_size_x  value="" /&gt;     

&lt;Filtsim_def_size_y  value="" /&gt;    &amp;lt;Filtsim_def_size_z  value="" /&gt;   

&lt;/parameters&gt;   ') 

    print "done buffer of "+str(buf)+"m using "+str(dist)+"m sections 

offset" 

print "ok moving window algorithm" 

end1 = time.time() 



61 

 

 

elapsed1 = end1 - start1 

min1 = elapsed1/60 

print "Your stuff took", elapsed1, "seconds to run the MW algorithm, 

which is the same as", min1, "minutes" 

#make adjusts in the average_property (generated from moving window) 

to clear cells above sueface and out lateral limits of the reference 

model 

start2 = time.time() 

for r in range(buffersize): 

  buf = 50 - 20*r 

  for dist, name in props.items(): 

    buffprop = ""+name+""+str(buf)+"_Moving_average" #get the average 

property for each offset of each chosen buffer 

    print buffprop 

    buffer = sgems.get_property(coarse,buffprop) 

    for m in range(len(data)):  #scan all points inside the reference 

model property 

      if data[m] == nan : buffer[m] = nan # make a test: if the 

reference is nan, then the average property will be too. 

    sgems.set_property(coarse, ""+name+""+str(buf)+"_final", buffer) 

#store results in the average property and loop 

# get each moving window property generated by the algorithm and copy 

it to the side grids (left and right grids) 

# then, set regions inside buffers, create a mask grid from that 

region and create a trend property into this "region test" grid 

    sgems.execute("CopyProperty  

"+str(coarse)+"::"+name+""+str(buf)+"_final::"+str(left)+"::"+name+""+

str(buf)+"_final::1::1") 

    sgems.execute("CopyProperty  

"+str(coarse)+"::"+name+""+str(buf)+"_final::"+str(right)+"::"+name+""

+str(buf)+"_final::1::1") 

 

    sgems.execute("SetRegionFromPropertyIf 

"+coarse+"::"+name+""+str(buf)+"::"+name+""+str(buf)+"_final::0.001::0

.999") 

    sgems.execute("SetRegionFromComplement 

"+coarse+"::"+name+""+str(buf)+"::complement_"+dist+"_buffer"+str(buf)

+"") 

    sgems.execute("CreateMgridFromCgrid  

"+coarse+"::gridtest_"+dist+"_"+str(buf)+"::"+name+""+str(buf)+"") 

    sgems.execute("CreateTrend  gridtest_"+dist+"_"+str(buf)+"::X") 

 

    sgems.execute("SetRegionFromPropertyIf 

"+left+"::"+name+""+str(buf)+"::"+name+""+str(buf)+"_final::0.001::0.9

99") 

    sgems.execute("CreateMgridFromCgrid  

"+left+"::left_gridtest_"+dist+"_"+str(buf)+"::"+name+""+str(buf)+"") 



62 

 

 

    sgems.execute("CreateTrend  

left_gridtest_"+dist+"_"+str(buf)+"::X") 

 

    sgems.execute("SetRegionFromPropertyIf 

"+right+"::"+name+""+str(buf)+"::"+name+""+str(buf)+"_final::0.001::0.

999") 

    sgems.execute("CreateMgridFromCgrid  

"+right+"::right_gridtest_"+dist+"_"+str(buf)+"::"+name+""+str(buf)+""

) 

    sgems.execute("CreateTrend  

right_gridtest_"+dist+"_"+str(buf)+"::X") 

  print "final buffer-zone properties using", buf,"m width were 

completed" 

  print "regions with buffer of", buf, "m were done" 

end2 = time.time() 

elapsed2 = end2 - start2 

min2 = elapsed2/60 

print "took", elapsed2, "seconds, which is the same as", min2, 

"minutes to make adjusts in the uncertainty zones and create the UZ 

regions" 

# if all average properties was correctly created, then the regions 

were too. 

# And, consequently, the test grids and his trend property were 

correctly generated too. 

# So, we can delete these grid objects 

#If some problem occurs during one of these above steps, the program 

can crash or an error message will be show. 

for a in range(offsets): 

  b = 50*2**a 

  print b,"m" 

  for c in range(buffersize): 

    d = 50 - 20*c 

    print d 

    sgems.execute("DeleteObjects  gridtest_"+str(b)+"m_"+str(d)+"") 

    sgems.execute("DeleteObjects  

left_gridtest_"+str(b)+"m_"+str(d)+"") 

    sgems.execute("DeleteObjects  

right_gridtest_"+str(b)+"m_"+str(d)+"") 

 

print "gridtests objects created and deleteds" 

print "algorithm finished" 

endall = time.time() 

elapsed = endall - startall 

print "total time took is",elapsed , "seconds"  

  



63 

 

 

4) Criar arquivos de Hard Data composto pelos furos de sonda e pontos das seções 

verticais que caem fora das ZI. 

import sgems 

import time 

start = time.time() 

gridname = "coarse_large_grid" 

dataset = "dataset_geral" 

nan = sgems.nan() 

path = 

"D:/Helder/Documents/POS/TRABALHO_PRATICO/Sapecado/sapecado_Sgems/simu

lations_coarse_grids/" # a destination folder where our resulting 

files will be saved 

#get information from dataset (pointset file of boreholes) 

Xdset = sgems.get_property(dataset,"_X_") #this information will not 

be used in the script 

Ydset = sgems.get_property(dataset,"_Y_") #this information will not 

be used in the script 

Zdset = sgems.get_property(dataset,"_Z_") #this information will not 

be used in the script 

dset = sgems.get_property(dataset,"new_codes") 

#copy data from pointset file to the simulation grid 

sgems.execute("CopyProperty 

"+dataset+"::new_codes::"+gridname+"::boreholes::0::0") 

print "done copy of "+str(dset)+" from dataset to "+str(gridname)+"" 

#get information from the new property of grid 

for i in range(1): 

  buffer = 50 - 20*i #we need get properties information for each 

buffer used 

  x = sgems.get_property(gridname,"_X_") 

  y = sgems.get_property(gridname,"_Y_") 

  z = sgems.get_property(gridname,"_Z_") 

  ymax = max(y) 

  ymin = min(y) 

  data = sgems.get_property(gridname,"boreholes") 

  for j in range(3): 

    lag = 50*2**j 

    print lag 

    region = ""+str(lag)+"m_sections_buffer"+str(buffer)+"" 

    print "inside region", region 

    contact = sgems.get_region(gridname, region) 

    filename = "data_inside_b"+str(buffer)+"_e"+str(lag)+"_allbh.dat" 

#create a file name were we will store (write) data 

    file = open(""+path+""+filename+"","w")  #create the file 



64 

 

 

file.write("data_inside_b"+str(buffer)+"_e"+str(lag)+"_allbh.dat\n") 

#write a description line 

file.write("4\nX\nY\nZ\nallbh_inside_b"+str(buffer)+"_e"+str(lag)+"\n"

) #write a gslib format header (4 lines with their properties names) 

# create the complete file (with all boreholes data) 

#write in the file the vertical sections values that are "true" (i.e., 

outside buffer zone and inside lateral limits) 

    for n in range(len(z)): 

      if data[n]&amp;lt;&gt; nan and contact[n]: 

        xx = x[n] 

        yy = y[n] 

        zz = z[n] 

        tt = data[n] 

        file.write(str(xx)+" "+str(yy)+" "+str(zz)+" "+str(tt)+"\n") 

    file.close() 

    print "write the "+str(filename)+" and "+str(filename2)+" file" 

# at this point, a gslib file was created in the specified file of 

computer and now we can to Load the files as new pointset objects into 

the project folder. 

print "loading files as pointset..." 

#load the created files to import it into SGEMS as pointset object 

for j in range(3): 

  lag = 50*2**j 

  for i in range(1): 

    buffer = 50 - 20*i 

    filename = "data_inside_b"+str(buffer)+"_e"+str(lag)+"_allbh.dat" 

    sgems.execute("LoadObjectFromFile  

"+str(path)+""+str(filename)+"::gslib")    

    print "file", filename, "was loaded" 

#when importing the files to SGeMS, is needed to set a property name 

(whe used the same name of .dat files) 

#after correct importation, the new pointset file (composed by 

boreholes and information from Vertical Sections outside buffers) can 

be copied to the simulation grid. 

    sgems.execute("CopyProperty 

data_inside_b"+str(buffer)+"_e"+str(lag)+"_allbh::allbh_inside_b"+str(

buffer)+"_e"+str(lag)+"::"+gridname+"::allbh_inside_b"+str(buffer)+"_e

"+str(lag)+"::1::1") 

    print "done copies" 

print "done" 

 

Este script exporta a informação desejada para arquivos csv, em seguida os mesmos são 

importados novamente para o SGeMS na forma de arquivos de pontos (pointset). 

 

  



65 

 

 

5) Gerar a TI utilizada. 

import sgems 

import time 

startall = time.time() 

start1 = startall 

nan = sgems.nan() 

coarse = "coarse_large_grid" 

refer = "refer_model_geobody" 

left = "left_coarse_ti" 

right = "right_coarse_ti" 

ti = "sim_TI" 

data = sgems.get_property(coarse,refer) 

# creating the sinusoid that will be used as the Training Image for 

mimic iron ore deposit features. 

sgems.execute('RunGeostatAlgorithm  

TetrisTiGen::/GeostatParamUtils/XML::&lt;parameters&gt; &amp;lt;algorithm 

name="TetrisTiGen" /&gt;    &amp;lt;Grid value="'+coarse+'" region=""  /&gt;     

&lt;Seed  value="96317" /&gt;    &amp;lt;Nb_Realizations  value="1" /&gt;     

&lt;Property  value="'+ti+'" /&gt;    &amp;lt;XmlFile&gt;  &amp;lt;Tetris&gt;  &amp;lt;Objects 

numObjects="1"&gt;   &amp;lt;ObjectManager numElements="1" numOperations="0" 

type="Element" name="Object 1"&gt;    &amp;lt;Element value="1" 

name="Sinusoid"&gt;     &amp;lt;ShapeManager type="Sinusoid" name="Sinusoid" 

code="1"&gt;      &amp;lt;Dimension&gt;       &amp;lt;width&gt;        &amp;lt;CDF 

name="Constant"&gt;         &amp;lt;mean&gt;          &amp;lt;Params value="80" 

name="Constant"/&gt;         &amp;lt;/mean&gt;        &amp;lt;/CDF&gt;       &amp;lt;/width&gt;        

&lt;thick&gt;        &amp;lt;CDF name="Constant"&gt;         &amp;lt;mean&gt;           

&lt;Params value="35" name="Constant"/&gt;         &amp;lt;/mean&gt;        &amp;lt;/CDF&gt;        

&lt;/thick&gt;       &amp;lt;amplitude&gt;        &amp;lt;CDF name="Constant"&gt;          

&lt;mean&gt;          &amp;lt;Params value="8" name="Constant"/&gt;         &amp;lt;/mean&gt;         

&lt;/CDF&gt;       &amp;lt;/amplitude&gt;       &amp;lt;wavelength&gt;        &amp;lt;CDF 

name="Constant"&gt;         &amp;lt;mean&gt;          &amp;lt;Params value="375" 

name="Constant"/&gt;         &amp;lt;/mean&gt;        &amp;lt;/CDF&gt;       &amp;lt;/wavelength&gt;        

&lt;length&gt;        &amp;lt;CDF name="Constant"&gt;         &amp;lt;mean&gt;           

&lt;Params value="700" name="Constant"/&gt;         &amp;lt;/mean&gt;        &amp;lt;/CDF&gt;        

&lt;/length&gt;      &amp;lt;/Dimension&gt;      &amp;lt;Rotation&gt;       &amp;lt;ax&gt;        &amp;lt;CDF 

name="Constant"&gt;         &amp;lt;mean&gt;          &amp;lt;Params value="0" 

name="Constant"/&gt;         &amp;lt;/mean&gt;        &amp;lt;/CDF&gt;       &amp;lt;/ax&gt;        

&lt;ay&gt;        &amp;lt;CDF name="Constant"&gt;         &amp;lt;mean&gt;          &amp;lt;Params 

value="0" name="Constant"/&gt;         &amp;lt;/mean&gt;        &amp;lt;/CDF&gt;        

&lt;/ay&gt;       &amp;lt;az&gt;        &amp;lt;CDF name="Constant"&gt;         &amp;lt;mean&gt;           

&lt;Params value="90" name="Constant"/&gt;         &amp;lt;/mean&gt;        &amp;lt;/CDF&gt;        

&lt;/az&gt;      &amp;lt;/Rotation&gt;      &amp;lt;Translation&gt;       &amp;lt;dx&gt;        &amp;lt;CDF 

name="Constant"&gt;         &amp;lt;mean&gt;          &amp;lt;Params value="-30" 

name="Constant"/&gt;         &amp;lt;/mean&gt;        &amp;lt;/CDF&gt;       &amp;lt;/dx&gt;        

&lt;dy&gt;        &amp;lt;CDF name="Constant"&gt;         &amp;lt;mean&gt;          &amp;lt;Params 

value="-15" name="Constant"/&gt;         &amp;lt;/mean&gt;        &amp;lt;/CDF&gt;        

&lt;/dy&gt;       &amp;lt;dz&gt;        &amp;lt;CDF name="Constant"&gt;         &amp;lt;mean&gt;           

&lt;Params value="35" name="Constant"/&gt;         &amp;lt;/mean&gt;        &amp;lt;/CDF&gt;        

&lt;/dz&gt;      &amp;lt;/Translation&gt;     &amp;lt;/ShapeManager&gt;    &amp;lt;/Element&gt;    

&lt;/ObjectManager&gt;  &amp;lt;/Objects&gt;  &amp;lt;Simulations numSimulations="1"&gt;    

&lt;Simulation name="Simulation 1"&gt;    &amp;lt;ObjectSimulated type="No 

Stacking" name="Object 1"/&gt;    &amp;lt;Stop target="1" type="count"/&gt;     

&lt;positioning type="Bottom to Top"/&gt;   &amp;lt;/Simulation&gt;  &amp;lt;/Simulations&gt;  



66 

 

 

&lt;/Tetris&gt; &amp;lt;/XmlFile&gt;  &amp;lt;/parameters&gt;    ') 

#inverting values to assign 0 for ore and 1 for waste cells 

image = sgems.get_property(coarse,""+str(ti)+"__real0") # by defaut, 

SGeMS set the sufix identifying the number of outcome from 

simulations: _real## 

for i in range(len(image)): 

  if image[i] == 0: image[i] = 1 

  else: image[i] = 0 

sgems.set_property(coarse,""+str(ti)+"__real0_", image) 

#adjust the final object-based TI to lateral and surface limits, i.e, 

assing sgems,nan() to cells out of the reference model limits 

image2 = sgems.get_property(coarse,""+str(ti)+"__real0_") 

for v in range(len(data)):   

  if data[v] == nan : image2[v] = nan 

sgems.set_property(coarse, ""+str(ti)+"_final", image2) 

end1 = time.time() 

elapsed1 = end1 - start1 

min1 = elapsed1/60 

print "took", elapsed1, "seconds to make the final TI in the grid 

called", str(coarse) 

#copy the final TI property to the lateral grids (left and right side 

grids) 

sgems.execute("CopyProperty  

"+coarse+"::"+str(ti)+"_final::"+left+"::"+str(ti)+"_final::1::1") 

sgems.execute("CopyProperty  

"+coarse+"::"+str(ti)+"_final::"+right+"::"+str(ti)+"_final::1::1") 

end2 = time.time() 

elapsed2 = end2 - start1 

min2 = elapsed2/60 

print "Your stuff to run TI construction, adjusts and copies to minor 

grids took", elapsed2, "seconds, which is the same as", min2, 

"minutes" 

  



67 

 

 

6) Simulação e pós-processamento. 

import sgems 

import time 

nan = sgems.nan() 

start = time.time() 

gridname = { 'right' : 'right_coarse_grid', 

   'left' : 'left_coarse_grid' } 

targetgrid = "coarse_large_grid" 

refermodel = "refer_model_geobody" 

realiz = 50 

offsets = 1 

buffersize = 1 

distance = {   'd1' : '50m', 

                    'd2' : '100m', 

                    'd3' : '200m' } 

for l,g in gridname.items(): 

# test if the simulation grid is the left or right then use the 

correct hard data proportion 

  if str(l) == "right": 

    ore = 0.78 

    waste = 0.22 

  else: 

    ore = 0.66 

    waste = 0.34     

  for p,n in distance.items(): 

    for i in range(buffersize): 

      a = 50 - 20*i 

      sgems.execute('RunGeostatAlgorithm  

snesim_std::/GeostatParamUtils/XML::&lt;parameters&gt; &amp;lt;algorithm 

name="snesim_std" /&gt;    &amp;lt;Cmin  value="1" /&gt;     

&lt;Constraint_Marginal_ADVANCED  value="0" /&gt;     

&lt;resimulation_criterion  value="-1" /&gt;    &amp;lt;resimulation_iteration_nb  

value="1" /&gt;    &amp;lt;Nb_Multigrids_ADVANCED  value="3" /&gt;     

&lt;Debug_Level  value="0" /&gt;    &amp;lt;Subgrid_choice  value="1"  /&gt;     

&lt;Previously_simulated  value="4" /&gt;    &amp;lt;expand_isotropic  value="1"  

/&gt;    &amp;lt;expand_anisotropic  value="0"  /&gt;    &amp;lt;aniso_factor  value="    

" /&gt;    &amp;lt;Use_Affinity  value="0"  /&gt;    &amp;lt;Use_Rotation  value="0"  /&gt;     

&lt;Hard_Data  

grid="'+str(l)+'_allbh_vs_e'+str(n.strip("m"))+'_b'+str(a)+'" 

region="" property="code"  /&gt;    &amp;lt;use_pre_simulated_gridded_data  

value="0"  /&gt;    &amp;lt;Use_ProbField  value="0"  /&gt;     

&lt;ProbField_properties count="0"   value=""  /&gt;    &amp;lt;TauModelObject  

value="1 1" /&gt;    &amp;lt;use_vertical_proportion  value="0"  /&gt;     

&lt;GridSelector_Sim value="'+str(g)+'" 

region="'+str(n)+'_sections_buffer'+str(a)+'"  /&gt;     

&lt;Property_Name_Sim  value="simul_allbh_b'+str(a)+'_vs_e'+str(n)+'" /&gt;     



68 

 

 

&lt;Nb_Realizations  value="'+str(realiz)+'" /&gt;    &amp;lt;Seed  value="211175" 

/&gt;    &amp;lt;PropertySelector_Training  grid="'+str(l)+'_coarse_ti" 

region="sim_TI_buffer'+str(a)+'m" property="sim_TI_final"  /&gt;     

&lt;Nb_Facies  value="2" /&gt;    &amp;lt;Marginal_Cdf  value="'+str(ore)+' 

'+str(waste)+'" /&gt;    &amp;lt;Max_Cond  value="80" /&gt;    &amp;lt;Search_Ellipsoid  

value="30 20 15  0 0 90" /&gt; &amp;lt;/parameters&gt;   ') 

      print "simulation done" 

# copy the simulation outcomes from each grid (left and right) to the 

large grid 

      for j in range(realiz): 

        print "J value is", j 

        outcome = 

"simul_allbh_b"+str(a)+"_vs_e"+str(n)+"__real"+str(j)+"" 

        print outcome 

        sgems.execute("CopyProperty  

"+str(g)+"::"+str(outcome)+"::"+str(targetgrid)+"::"+str(outcome)+"::0

::0") 

      print "outcome copies are done for the grid named", g,", the 

distance of", n,"and the buffer of", a 

simulation = time.time() 

##------------------------------##--------------------------- 

#make postsim after copy outcomes from left and right grids to the 

large grid. 

postin = time.time() 

for p,n in distance.items(): 

  for i in range(buffersize): 

    a = 50 - 20*i 

    sgems.execute('RunGeostatAlgorithm  

Postsim::/GeostatParamUtils/XML::&lt;parameters&gt; &amp;lt;algorithm 

name="Postsim" /&gt;    &amp;lt;Hard_Data value="'+targetgrid+'" region=""  /&gt;     

&lt;props count="'+str(realiz)+'"   

value="simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real0;simul_allbh_b'+st

r(a)+'_vs_e'+str(n)+'__real1;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__r

eal10;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real11;simul_allbh_b'+st

r(a)+'_vs_e'+str(n)+'__real12;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__

real13;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real14;simul_allbh_b'+s

tr(a)+'_vs_e'+str(n)+'__real15;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'_

_real16;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real17;simul_allbh_b'+

str(a)+'_vs_e'+str(n)+'__real18;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'

__real19;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real2;simul_allbh_b'+

str(a)+'_vs_e'+str(n)+'__real20;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'

__real21;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real22;simul_allbh_b'

+str(a)+'_vs_e'+str(n)+'__real23;simul_allbh_b'+str(a)+'_vs_e'+str(n)+

'__real24;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real25;simul_allbh_b

'+str(a)+'_vs_e'+str(n)+'__real26;simul_allbh_b'+str(a)+'_vs_e'+str(n)

+'__real27;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real28;simul_allbh_

b'+str(a)+'_vs_e'+str(n)+'__real29;simul_allbh_b'+str(a)+'_vs_e'+str(n

)+'__real3;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real30;simul_allbh_

b'+str(a)+'_vs_e'+str(n)+'__real31;simul_allbh_b'+str(a)+'_vs_e'+str(n

)+'__real32;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real33;simul_allbh

_b'+str(a)+'_vs_e'+str(n)+'__real34;simul_allbh_b'+str(a)+'_vs_e'+str(

n)+'__real35;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real36;simul_allb

h_b'+str(a)+'_vs_e'+str(n)+'__real37;simul_allbh_b'+str(a)+'_vs_e'+str



69 

 

 

(n)+'__real38;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real39;simul_all

bh_b'+str(a)+'_vs_e'+str(n)+'__real4;simul_allbh_b'+str(a)+'_vs_e'+str

(n)+'__real40;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real41;simul_all

bh_b'+str(a)+'_vs_e'+str(n)+'__real42;simul_allbh_b'+str(a)+'_vs_e'+st

r(n)+'__real43;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real44;simul_al

lbh_b'+str(a)+'_vs_e'+str(n)+'__real45;simul_allbh_b'+str(a)+'_vs_e'+s

tr(n)+'__real46;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real47;simul_a

llbh_b'+str(a)+'_vs_e'+str(n)+'__real48;simul_allbh_b'+str(a)+'_vs_e'+

str(n)+'__real49;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real5;simul_a

llbh_b'+str(a)+'_vs_e'+str(n)+'__real6;simul_allbh_b'+str(a)+'_vs_e'+s

tr(n)+'__real7;simul_allbh_b'+str(a)+'_vs_e'+str(n)+'__real8;simul_all

bh_b'+str(a)+'_vs_e'+str(n)+'__real9"  /&gt;    &amp;lt;etype  value="1"  /&gt;     

&lt;etype_prop  value="mean_allbh_50realiz_b'+str(a)+'_vs_e'+str(n)+'" /&gt;     

&lt;cond_var  value="0"  /&gt;    &amp;lt;iqr  value="0"  /&gt;    &amp;lt;quantile  

value="0"  /&gt;    &amp;lt;prob_below  value="0"  /&gt;    &amp;lt;prob_above  

value="0"  /&gt;    &amp;lt;mean_above  value="0"  /&gt;    &amp;lt;mean_below  

value="0"  /&gt;  &amp;lt;/parameters&gt;   ') 

    print "e-type mean for buffer", a, "meters and sectios offset of", 

n, " are finished" 

##------------------------------------##----------------------------- 

#make adjusts (fill cells out buffer zone) in the resulting e-type 

objects and simulations outcomes 

adj = time.time() 

print "starting ajust in the resulting maps and outcomes" 

for b in range(offsets): 

  lag = 50*2**b 

  print "B values is", b 

  for s in range(buffersize): 

    a = 50 - 20*s 

    print "A value is", a 

    data = sgems.get_property(targetgrid, refermodel) 

    z = sgems.get_property(targetgrid, "_Z_") 

    region = "complement_"+str(lag)+"m_buffer"+str(a)+"" 

    #print "the region (buufer zone) is", region 

    contact = sgems.get_region(targetgrid, region) 

    mean = sgems.get_property(targetgrid, 

"mean_allbh_50realiz_b"+str(a)+"_vs_e"+str(lag)+"m")     

    for i in range(len(z)): 

      if z[i]&amp;lt;= 1095: mean[i] = nan 

      elif contact[i]: 

        mean[i] = data[i] 

      elif mean[i] == nan: 

        mean[i] = data[i] 

    sgems.set_property(targetgrid, 

"mean_allbh_50realiz_b"+str(a)+"_vs_e"+str(lag)+"m",mean) 

    print "done ajust in mean map" 

  



70 

 

 

    for j in range(realiz): 

      print "the J value is", j 

      propname = 

"simul_allbh_b"+str(a)+"_vs_e"+str(lag)+"m__real"+str(j)+"" 

      prop = sgems.get_property(targetgrid, propname) 

      print "the region (buufer zone) is",region 

      for i in range(len(z)): 

        if z[i]&amp;lt;= 1095: prop[i] = nan 

        elif contact[i]: 

          prop[i] = data[i] 

        elif prop[i] == nan: 

          prop[i] = data[i] 

      sgems.set_property(targetgrid, 

"simul_allbh_b"+str(a)+"_vs_e"+str(lag)+"m__real"+str(j)+"", prop) 

      print "done ajust in", propname 

postend = time.time() 

#------------------------------------##------------------------------- 

#deleting properties to save disk space 

for l, g in gridname.items(): 

  for p, n in distance.items(): 

    for j in range(buffersize): 

      a = 50 - 20*j 

  #deleting properties 

      print "deleting simulation outcomes for RAM optimization" 

      for i in range(realiz): 

        sgems.execute("DeleteObjectProperties  

"+str(g)+"::simul_allbh_b"+str(a)+"_vs_e"+str(n)+"__real"+str(i)+"") 

        sgems.execute("DeleteObjectProperties  

"+str(g)+"::mean_allbh_50realiz_b"+str(a)+"_vs_e"+str(n)+"") 

      print "simulated objects and mean maps of "+str(g)+" were 

deleted" 

#------------------------------------##------------------------------- 

final = time.time() 

sim = simulation - start 

postsim = postend-postin 

ajust = final - adj 

total = final - start 

print "the time took to run simulatios is", sim, "seconds" 

print "the time took to run the post process simulation is", postsim, 

"seconds" 

print "the time took to run simulatios adjusts is", ajust, "seconds" 

print "the total time took to run script with all boreholes", total, 



71 

 

 

"seconds" 

print "process completed using all boreholes" 

 

Este script executa o algoritmo SNESIM de forma separada em cada grid lateral e o 

resultado é copiado para o grid maior, em seguida, os dados do modelo de referência 

são copiados para os pontos não simulados e se faz o pós-processamento. 



72 

 

 

7) Gerar os thresholds das curvas de classificação de recursos. 

import sgems 

nan = sgems.nan() 

gridname = "coarse_large_grid" 

offsets = 3 

buffersize = 1 

for l in range(offsets): 

  lag = 50*2**l 

  #print lag 

  for m in range(buffersize): 

    r = 50 - 20*m 

    #print r 

    a = 0 

    for b in range(9): # number of thresholds 

      a+=0.1 

      print a 

      allbh = "mean_allbh_50realiz_b"+str(r)+"_vs_e"+str(lag)+"m" 

      data = sgems.get_property(gridname, allbh) 

      region = sgems.get_region(gridname, 

""+str(lag)+"m_sections_buffer"+str(r)+"") 

      for i in range(len(data)): 

        if region[i]: 

          if data[i]&amp;lt;= a: data[i] = 0  # verify if cell value has xx% or 

less of chance (probability) to be assigned ore (code 0). If it's true, the 

cell value is 0 (zero), else it's a waste cell and his value is 1 (one). 

          else: data[i] = 1 

      sgems.set_property(gridname, 

"model_allbh_b"+str(r)+"_e"+str(lag)+"m_"+str(int(10*(9-

b)))+"%prob_ore",data) 

print "done" 


</field>
	</doc>
</add>