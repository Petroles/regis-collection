<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.09560</field>
		<field name="filename">14541_001025066.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">UNIVERSIDADE FEDERAL DO RIO GRANDE DO SUL ESCOLA DE ENGENHARIA
PROGRAMA DE PÓS-GRADUAÇÃO EM ENGENHARIA ELÉTRICA
VIYILS SANGREGORIO SOTO
ANÁLISE DO IMPACTO DA COMUNICAÇÃO EM REDES WIRELESSHART NO DESEMPENHO DE SISTEMAS DE CONTROLE
VIYILS SANGREGORIO SOTO
ANÁLISE DO IMPACTO DA COMUNICAÇÃO EM REDES WIRELESSHART NO DESEMPENHO DE SISTEMAS DE CONTROLE
Dissertação de mestrado submetida ao Programa de Pós-Graduação em Engenharia Elétrica, da Universidade Federal do Rio Grande do Sul, como requisito parcial à obtenção do título de Mestre em Engenharia Elétrica.
Área de concentração: Controle e automação
Linha de pesquisa: Sistemas de Automação
ORIENTADOR: Dr. Carlos Eduardo Pereira
VIYILS SANGREGORIO SOTO
ANÁLISE DO IMPACTO DA COMUNICAÇÃO EM REDES WIRELESSHART NO DESEMPENHO DE SISTEMAS DE CONTROLE
Esta dissertação foi julgada adequada para a obtenção do título de Mestre em Engenharia Elétrica e aprovada em sua forma final pelo Orientador e pela Banca Examinadora.
Orientador:____________________________________________
Prof. Dr. Carlos Eduardo Pereira, UFRGS
Doutor pela Universidade de Stuttgart - Stuttgart, Alemanha
Banca Examinadora:
Prof. Dr. Dr. João César Netto - PPGC-UFRGS
Doutor pela Universidade Universite Catholique de Louvain, Louvain-la-Neuve, Bélgica
Prof. Dr. Renato Ventura Bayan Henriques - PPGEE-UFRGS
Doutor pela Universidade Universidade Federal de Minas Gerais, UFMG, Brasil.
Prof. Dr. - Walter Fetter Lages - PPGEE-UFRGS
Doutor pelo Instituto Tecnológico de Aeronáutica São José dos campos, ITA, Brasil
Coordenador do PPGEE:_______________________________
Prof. Dr. Valner João Brusamarello
DEDICATÓRIA
Para que pudesse chegar até aqui, muitos foram os momentos em que tive de me privar da companhia daqueles sem os quais eu jamais teria alcançado este instante. Por isso, fica aqui o resultado destes últimos anos dedicados à minha família, que mesmo muito distantes e com as cada vez mais raras visitas, estiveram sempre comigo. Em especial ao meu pai, Vigilio que sempre esteve comigo em todos os momentos da minha vida, com a minha mãe Diana. À minha namorada Nancy Milena Zapata, que sempre me deu muita força e presenciou, mais de perto o final de toda esta trajetória.
AGRADECIMENTOS
Inicialmente meus agradecimentos ao Professor Carlos Eduardo Pereira, pelo apoio e pela oportunidade de trabalho nesta área e pela ajuda e acompanhamento constante que fez possível o desenvolvimento da minha pesquisa.
Aos meus amigos, Rosa Jiménez, Sergio Martinez, pelo apoio em todas as circunstâncias encontradas ao longo do mestrado. Em especial a minha amiga Andrea Gonzáles pelas longas horas de estudo mesmo quando as noites não eram suficientes.
A meus colegas, Camilo Alberto, Gustavo Camilo e Mario pelos gratos momentos compartilhados ao longo destes anos.
Ao meu grande amigo Jamith, por sua amizade incondicional.
À Rochele Albuquerque, por toda a ajuda brindada e sua amizade incondicional.
Finalmente agradeço a meus, colegas, Ivan Muller e Jean Michel Winter, pelo auxilio e pela participação nas atividades desenvolvidas.
Lembrando que a vida é realmente indescritível! Quando pensamos que tudo está bem. Lá vem as lembranças, as saudades. Para todos meus amigos, Gazzu, Katheryn, e Sheva que sempre me ajudaram a lembrar as coisas simples e boas da vida, mesmo quando as noites voavam em nossas tertúlias noturnas.
À minha família que com seu carinho incondicional me deu o incentivo ao longo desta jornada e a força necessária para superar os obstáculos. À Katia quem me ajudou muito e me aconselhou nos momentos mais difíceis no Brasil.
RESUMO
Este trabalho analisa o uso do protocolo I/re/essHART para a implementação de sistemas de controle em laço fechado. São discutidas possíveis arquiteturas de implementação de laços de controle, as quais se diferem basicamente pelo local na arquitetura do sistema de controle em rede em que o controlador será executado. Optou-se pela análise do comportamento do protocolo I//'e/essí IART numa arquitetura que considera o módulo de controle localizado num dispositivo host, o qual se comunica via HART-UDP com o gateway da rede. Para a análise da proposta desta dissertação foram descritos os mecanismos necessários para a realização do laço de controle sobre uma rede I/re/essHART real, em um ambiente que apresenta todas as características de uma instalação industrial. Os resultados obtidos mostram que, com a arquitetura proposta, o laço de controle apresenta latências não determinísticas. Para a realização deste trabalho, foram apresentados dois estudos de caso: (i) o controle de uma válvula comumente utilizada na indústria de petróleo; (ii) e um processo simulado, que considera um controlador baseado em eventos, onde o sinal de controle é calculado de acordo com os tempos de comunicação permitidos pela rede entre o controlador e o processo. Os resultados obtidos mostram que é possível efetuar controle apesar dos atrasos ocasionados pela rede, desde que sejam levados em conta estes atrasos no cálculo do sinal de controle, podendo assim mostrar há degradação no desempenho do sistema sob controle.
Palavras-chave: WirelessHART, HART-over-UDP, Controle em rede, Redes sem fio industriais.
ABSTRACT
This work analyzes the use of }F/re/essHART protocol for the implementation of closed-loop control systems. It discusses possible architectures for implementing control loops, which differ by the location where the controller is executing. For the performance evaluation of the n'/re/ewHART protocol behavior, an architecture that considers the control module located in a device, which communicates via Hart-UDP with the network gateway. The Experimental evaluations presented in this dissertation were performed in a setting that has all the characteristics of an industrial installation. The results showed that in the proposed architecture, the control loop has not deterministic latencies. Two case studies were carried on: (i) the control of a valve commonly used in oil and gas industrial applications; (ii) and a simulated process that considers an event-based controller where the control signal is calculated according to the communication time allowed by the network between the controller and the process. The results show that it is possible to perform control despite network delays, when taking into account the delays in the calculation of the control signal.
Keywords: Electrical Engineering, Signal Processing, Automation and Control, Electronic Instrumentation.
1
2
3
4
SUMÁRIO
introdução.......................................
1.1	Objetivos Do Trabalho.......................
1.2	Organização Do Texto........................
fundamentação teórica.......................
2.1	Redes Sem Fio Para Comunicação Industrial...
2.2	O Protocolo WirelessHART....................
2.2.1	Tipos de Dispositivos da Rede................
2.2.2	Camadas do Protocolo WH......................
2.3	Comandos utilizados.........................
2.3.1	Comando 130 - Escritura da variável de processo .
2.3.2	Comando 131- Leitura da variável de processo.
2.4	Sistemas De Controle.............................
2.4.1	Métricas de Desempenho de Sistemas de Controle
2.4.2	Paradigmas Time-Triggered e Event-Triggered..
sistemas de controle em rede................
3.1	Modelamento de sistemas de controle em rede ...
3.1.1	Arquiteturas de Sistemas de Controle em Rede.
3.2	Principais Efeitos Introduzidos pela Rede...
3.2.1
3.2.2
3.2.3
3.2.4
3.3	Considerações Finais Do Capitulo...............
análise do estado da arte.......................
4.1	Referências de Sistemas de Controle em Rede.....
4.1.1	Referencias de sistemas de controle distribuído.
4.1.2	Referencias de Wireless Network Control Systems.
4.2	Métricas Temporais de Protocolos de Comunicação
4.3
4.4
Atrasos em Malhas de Controle..........................
Estabilidade com Atrasos em NCS........................
Perda de Pacotes em NCS................................
Períodos de Amostragem e Atrasos em Sistemas de Controle
Trabalhos Relacionados com Desempenho de Redes...................
Análise de Sistemas de Controle sobre Rede WH....................
4.4.1	C ontrole no gateway.........................................
4.5 Considerações Finais do Capitulo.................................
4.5.1	Implementação de sistemas de controle sobre rede.............
controle sobre redes wirelesshart com o algoritmo de
15
17
18
19
19
21
22
23
30
30
31
31
32
35
37
37
40
42
42
46
48
48
52
54
54
55
56
57
58
60
62
63
65
5
controle localizado no host
5.1
5.2
5.3
5.4
Introdução.....................
Possíveis Fontes de Atrasos em NCS
Cenário NCS em WH..............
Metodologia Proposta...........
5.4.1 F erramenta HARTControl....
5.5 Simulador Planta...............
67
67
68
71
72
73
5.6	Analise da Metodologia Proposta..............................78
5.6.1 WirelessHART Modo Burst.................................81
5.7 Considerações Finais do Capitulo.............................83
6	INFLUÊNCIA da COMUNICAÇÃO via WIRELESSHART EM SISTEMAS
DE CONTROLE.......................................................84
6.1 Definição dos Experimentos e os Objetivos..........................84
6.1.1	Métricas de Desempenho........................................84
6.1.2	Equipamentos Utilizados.......................................85
6.1.3	Experimento 1.................................................86
6.1.4	Experimento 2.................................................86
RESULTADOS EXPERIMENTAIS..........................................88
6.2.1	Experimento 1.................................................88
6.2.2	Experimento 2.................................................93
6.3	Avaliação do Desempenho em Função da dinâmica do sistema de Controle .... 100
6.4	Comparativo de Implementações de Controle........................103
6.4.1	Controle local...............................................103
6.5	Considerações Finais Do Capitulo.................................105
7	CONCLUSÕES.......................................................106
7.1	Sugestões para trabalhos futuros.................................107
REFERÊNCIAS............................................................108
LISTA DE ILUSTRAÇÕES
Figura 1 Evolução das arquiteturas de controle, desde os sistemas centralizados aos sistemas de controle em rede. (REHG et al., 1999)................................15
Figura 2 Esquema de uma rede típica WirelessHART (CHEN; NIXON; MOK, 2010)........21
Figura 3 Camadas do protocolo WH baseado em (CHEN; NIXON; MOK, 2010).............24
Figura 4 Estrutura do DLPDU do protocolo WirelessHART (CHEN; NIXON; MOK, 2010)............................................................................25
Figura 5 Estrutura de um Superframe (HART COMMUNICATION FOUNDATION, 2010a)...........................................................................26
Figura 6 Estrutura de um	Slot (HART COMMUNICATION FOUNDATION, 2010a).............27
Figura 7 Exemplo de uma rede mesh representada por um grafo (HAN et al., 2011)...28
Figura 8 Diferentes tipos de roteamento por grafos (HAN et al., 2011)............29
Figura 9 Resposta típica ao salto unitário num sistema de segunda ordem..........34
Figura 10 NCS com atrasos de transmissão por	(HESPANHA, 2007)....................38
Figura 11 Detalhe do funcionamento do módulo	sensor (ZHU; YANG, 2008)............38
Figura 12 Detalhe do funcionamento do módulo	controlador (ZHU; YANG, 2008).......39
Figura 13 Detalhe do funcionamento do módulo	atuador (ZHU; YANG, 2008)...........40
Figura 14 Estrutura direta de NCS (TIPSUWAN; CHOW, 2003).........................41
Figura 15 Estrutura indireta de NCS (TIPSUWAN; CHOW, 2003).......................42
Figura 16 Analise dos atrasos. Baseado em (LIAN; MOYNE; TILBURY, 2001)...........43
Figura 17 Diagramas de tempo para os atrasos da comunicação (JIANG et al., 2008).44
Figura 18 Sistema de controle via redes com seus respectivos atrasos de tempo....45
Figura 19 NCS com planta e controlador LTI.......................................46
Figura 20 Arquiteturas NCS, com um canal de realimentação (HESPANHA, 2007).......46
Figura 21 Sistema de controle amostrado (OGATA, 1996)............................49
Figura 22 Desempenho do controle em função do período de amostragem..............50
Figura 23 Sistema de controle em malha fechada com atrasos.......................50
Figura 24 Resposta em frequência do sistema com atrasos..........................51
Figura 25 Efeitos dos atrasos nos sistemas de controle...........................52
Figura 26 Tempo morto entre o sensor e a execução da tarefa de controle (S= sensor,
C=controlador, A=atuador)........................................................68
Figura 27 Efeitos do Jitter em controle acionado por eventos (S= sensor, C=controlador, A=atuador).......................................................................69
Figura 28 Efeito do jitter em tarefas Time Driven (S= sensor, C=controlador, A=atuador). .................................................................................70 Figura 29 Atrasos causados pela falta de sincronização dos relógios (S=sensor,
Figura 35 Interface da ferramenta HC................................................76
Figura 36 Fluxograma genérico das funções dos comandos executados pela thread comunicação.........................................................................76
Figura 37 Estrutura do simulador da planta..........................................78
Figura 38 Rede WH com rotas diretas para o GTW......................................79
Figura 39 Representação dos enlaces entre os vizinhos de cada FD....................80
Figura 40 Tempo de transmissão de mensagens.........................................80
Figura 41 Configuração do Modo Burst................................................81
Figura 42 Superframe com links de transmissão.......................................83
Figura 43 Arquitetura da comunicação entre o módulo controlador e o processo........84
Figura 44 Smart wireless GTW 1420A - Emerson........................................85
Figura 45 Protótipos WH compatíveis com o protocolo.................................85
Figura 46 Atuador utilizado nos experimentos........................................85
Figura 47 Conexão do computador, GTW e os FDs.......................................86
Figura 48 Conexão do computador, GTW e FD...........................................87
Figura 49 Atrasos presentes na Arquitetura Proposta.................................88
Figura 50 Histograma dos atrasos t1 + t2............................................89
Figura 51 Atrasos t1 + t2...........................................................90
Figura 52 Instantes de tempo rk.....................................................90
Figura 53 Histograma de atrasos no laço de controle completo rk.....................91
Figura 54 Atrasos no laço de controle x/&lt;...........................................91
Figura 55 Jitter t/&amp;lt;do laço completo de controle...................................92
Figura 56 Reposta temporal da posição do atuador....................................92
Figura 57 Configuração do laço de controle em rede..................................95
Figura 58 Representação da simulação do controle no True-Time.......................96
Figura 59 Simulação de um WNCS no True-Time.........................................97
Figura 60 Resposta temporal do processo simulado em True-Time.......................98
Figura 61 Sinal de controle gerado pelo algoritmo de Karl-Erik Ârzén no processo simulado............................................................................98
Figura 62 Resposta Temporal da planta simulada com a rede real WH...................99
Figura 63 Jitter do software da planta simulada.....................................100
Figura 64 Histograma do Jitter da planta...........................................100
Figura 65 Resposta temporal e sinal de controle do sistema de primeira ordem com
T = 666.6...........................................................................101
Figura 66 Resposta temporal e sinal de controle do sistema de primeira ordem com
T = 333.3...........................................................................102
Figura 67 Resposta temporal e sinal de controle do sistema de primeira ordem com
T = 303.03..........................................................................102
Figura 68 Resposta temporal e sinal de controle do sistema de primeira ordem com
T = 285.714.........................................................................103
Figura 69 Conexão Logica do controle local.........................................104
Figura 70 Resposta temporal do processo do experimento 2, com controle local.......104
Figura 71 Jitter do período do laço sistema de controle local......................105
LISTA DE TABELAS
Tabela 1 Dados	da	requisição do comando 130................................30
Tabela 2 Dados	de	resposta do comando	130..................................30
Tabela 3 Funções implementadas no comando 130...........................................30
Tabela 4 Dados	de	resposta do comando	131..................................31
Tabela 5 Status	do comando 131..........................................................31
Tabela 6 Influencia dos atrasos na margem de fase do sistema............................51
Tabela 7 Trabalhos relacionados.........................................................64
Tabela 8 Sequência dos time slot........................................................81
Tabela 9 Links para o dispositivo 1, Experimento do Modo Burst..........................82
Tabela 10	Número de slots atribuídos de acordo ao tempo de Burst.......................82
Tabela 11	Resumo estatístico dos atrasos t1 + t2 em ms.................................89
Tabela 12	Resumo estatístico dos atrasos do laço rk....................................90
Tabela 13	Pseudo Código do Algoritmo de ÂRZÉN Implementado.............................94
Tabela 14	Parâmetros do Controlador por eventos........................................94
Tabela 15	Desempenho do sistema de controle através da rede simulada (True-Time).......99
Tabela 16	Desempenho do sistema de controle através da rede WH.........................99
Tabela 17 Estadísticas das métricas de desempenho comparando a constante de tempo do
sistema............................................................................101
LISTA DE ABREVIATURAS
A/D: Analog-Digita
AP: Access Point
CSMA/CD Carrier Sense Multiple Access with Collision Detection
D/A: Digital-Analog
DLPDU: Data Link Protocol Data Unit
DSSS: Direct-Sequence Spread Spectrum
ET: Event-Triggered
FD: Field Device
HCF: Hart Communication Foundation
ISM: Industrial, Scientific and Medical
LLC: Logical Link Control
LTI: Linear time invariant
MAC: Media Access Control
MIMO: Multiple-input Multiple-output
NM: Network Manager
NCS: Networked Control System
PLC: Programmable Logic Controller
PPGEE: Programa de Pós-Graduação em Engenharia Elétrica
RCI: Redes de comunicação Industrial
SISO: Single Input Single Output
TDMA: Time Division Multiple Access
TT: Time-Triggered
UDP: User Datagram Protocol
WNCS: Wireless Networked Control Systems
WH: Wireless HART
W SN: Wireless Sensor Network
1 INTRODUÇÃO
Na década de 90, o mundo começou a presenciar enormes avanços na área tecnológica, em que os circuitos eletrônicos passaram a proporcionar maior eficiência, maior velocidade, mais funcionalidades, maior confiabilidade, menor consumo, menor ocupação de espaço físico e ainda, com reduções de custos. (SMAR EQUIPAMENTOS INDUSTRIAIS LTDA, 2011) .
Na Figura 1, observa-se a evolução das arquiteturas de controle desde os sistemas centralizados, passando pelos distribuídos e culminando com o controle em rede.
Sistemas de controle em Rede.
Sistemas centralizados Sistemas de controle distribuído.
Network Switch
Controllers and Field Devices
TCP/IP (Ethernet)

J
Figura 1 Evolução das arquiteturas de controle, desde os sistemas centralizados aos sistemas de controle em rede. (REHG et al., 1999).
Com o incremento da complexidade dos processos industriais nas últimas décadas e, por conseguinte, do número de cabos nos sistemas de automação, a viabilidade de sistemas cabeados está comprometida devido ao incremento dos custos de aquisição, instalação e manutenção. Na busca de maior eficiência e visando a redução do número de cabos necessários para ligar os pontos de interesses num laço de controle (controlador, sensor e atuador) foram desenvolvidos novos protocolos de comunicação sem fio, como por exemplo ^irelessHART, ISA100.11a e ZigBee PRO (SONG, 2008). Estes novos protocolos apresentam vantagens quando comparados aos dispositivos cabeados. Entre as quais, destacam-se: facilidade de instalação, menores custos de instalação e baixa manutenção. Estas vantagens incentivaram a implementação destes protocolos principalmente em aplicações de monitoramento na indústria, como tem-se evidenciado nos últimos anos (SONG, 2008).
setor, e aumentou-se o uso destas redes, que incialmente foram utilizadas apenas nas tarefas de supervisão de processos. Neste contexto, surge o seguinte questionamento: é possível substituir todos os fios de uma planta industrial, e além do monitoramento, criar malhas de controle? Alguns autores como (SONG et al., 2006) acreditam na eficácia da implantação de redes sem fio para controle industrial, apresentando estudos que comprovam a viabilidade destes sistemas.
A introdução de redes de comunicação na indústria, relacionadas com a área do controle em rede, criou uma nova área chamada “sistema de controle em rede”, ou, em inglês, Networked Control System (NCS). Como o nome já indica, são sistemas de controle distribuídos, onde os sensores, atuadores e controladores estão alocados fisicamente em locais separados e são conectados através de uma rede de comunicação industrial (CALVO, 2005). A introdução de arquiteturas NCS melhora a eficiência, flexibilidade e confiabilidade das aplicações de controle através de fiação reduzida e inteligência distribuída além de reduzir os tempos e custos de instalação, reconfiguração e manutenção.
Ao contrário dos sistemas de controle discreto convencionais, em sistemas de controle em rede, o mesmo meio de comunicação é utilizado para estabelecer várias malhas de controle, além de ser utilizado para outras tarefas independentes. Porém, o fato de utilizar uma ligação em rede não exclusiva para fechar um laço de controle, implica em uma série de inconvenientes inerentes aos NCS que podem influenciar negativamente no monitoramento de variáveis de interesse, prejudicando a tomada de decisão pelos algoritmos de controle e a respectiva atuação.
O primeiro problema característico de tais sistemas é que o compartilhamento do meio de comunicação para a ligação dos pontos de interesse (sensor, controlador e atuador) e os nós da rede reduz a largura de banda disponível para cada dispositivo no instante da transmissão, especialmente quanto maior for o número de dispositivos que competem para a utilização do meio compartilhado. O fato de o meio de comunicação não estar sempre disponível, pode, em alguns casos, impossibilitar a transmissão completa da informação por unidade de tempo desejável, o que implica na limitação da frequência de amostragem e, por sua vez, na determinação do limite inferior do período de amostragem da variável de interesse. No entanto num meio de comunicação compartilhado, nem sempre é possível atingir a frequência de amostragem necessária para que todas as informações sejam transmitidas, e, neste caso, é preciso conceber uma estrutura de controle adequada a esta situação, e deste modo garantir o desempenho do sistema.
A segunda desvantagem, é que o compartilhamento do meio de induz atrasos na comunicação e que obviamente, estes atrasos terão uma influência negativa sobre o desempenho do sistema de controle.
O terceiro problema é a falta de sincronização entre as bases de tempo da rede, as tarefas executadas nos módulos (controlador, sensor e atuador), e os diferentes módulos da rede. Em um sistema de controle discreto convencional presume-se que a amostragem da variável de interesse, o cálculo das ações de controle e sua aplicação no processo controlado estão sincronizadas. Como nem sempre existe uma maneira de sincronizar as duas extremidades de forma permanente, não é possível garantir que os eventos estejam perfeitamente sincronizados. Em condições normais essa falta de sincronização não afetaria o sistema de forma significativa, mas quando são combinadas com os resultados de atraso aleatório, a perda e reutilização da informação pode ser significativa para efeitos de controle.
Existem basicamente duas formas de resolver estes inconvenientes. A primeira forma seria melhorar o desempenho do meio de comunicação em comum aumentando sua largura de banda disponível e, por conseguinte, reduzindo o seu impacto sobre o sistema sob controle. A segunda, e um outro ponto de vista, é supor que o meio de comunicação existente impõe limitações e que é possível superar sua influência, através da concepção de estruturas de controle apropriados (CALVO, 2005).
1.1 Objetivos Do Trabalho
Este trabalho propõe a abordagem dos seguintes temas: i) a descrição do problema de NCS, relacionando os parâmetros que permitam avaliar a influência do meio de comunicação em um sistema de controle em rede; ii) identificação e, se é necessário, desenvolvimento de ferramentas para realizar controle usando redes WH; iii) análise de como a comunicação em redes WH impacta sistemas de controle; iv) efeitos da variação dos atrasos temporais em sistemas de controle baseados neste tipo de rede; v) implementação de um controlador por eventos para compensar os atrasos sofridos na comunicação via rede WH.
1.2	Organização Do Texto
O trabalho está organizado da seguinte forma: no Capitulo 2 são apresentados os conceitos gerais utilizados na dissertação: redes sem fio, o protocolo WH, conceitos sobre sistemas de controle e redes de comunicação. O Capítulo 3 aborda a modelagem de sistemas de controle sobre redes e descreve os principais efeitos introduzidos pelas redes de comunicação. No Capítulo 4 é feita uma análise de trabalhos relacionados às metodologias e métricas para análise de desempenho de sistemas de controle em rede. O Capítulo 5 descreve a proposta de implementação para avaliação de desempenho do sistema oferecendo suporte a aplicações de controle, incluindo a descrição das ferramentas desenvolvidas e os equipamentos utilizados para a implementação dos estudos de caso. No Capítulo 6 é apresentada a arquitetura proposta, os experimentos definidos para a análise como seus objetivos, as simulações da arquitetura proposta realizadas na ferramenta True-Time para o Matlab e todos os resultados obtido através dos experimentos. O trabalho é finalizado com as conclusões, perspectivas da dissertação e trabalhos futuros no Capítulo 7.
2	FUNDAMENTAÇÃO TEÓRICA
Neste capitulo é apresentada uma breve revisão sobre alguns conceitos fundamentais necessários para o entendimento deste trabalho. Inicialmente é descrito o conceito de redes de sem fio para comunicação industrial. Em seguida, é explicado o protocolo WH que é utilizado para analisar o impacto de uma rede sem fio em sistemas de controle, e, finalmente são apresentadas as métricas de desempenho para sistemas de controle.
2.1 Redes Sem Fio Para Comunicação Industrial
O crescimento na utilização de sistemas computacionais distribuídos para automação industrial possibilitou desenvolver melhorias para atender as necessidades de comunicação entre diversos dispositivos e, inclusive, de diferentes fabricantes (protocolos abertos). Conforme (WINTER, 2010), a utilização de redes que permitam a comunicação rápida e confiável entre equipamentos e o uso de mecanismos padronizados é, na atualidade, fator relevante no conceito de produtividade industrial.
Os protocolos de comunicação devem satisfazer alguns requisitos para que sejam adequados para aplicações em ambientes industriais, tais como, determinismo, confiabilidade, segurança e robustez do protocolo. Um dos grandes desafios da comunicação sem fio reside na susceptibilidade aos fenômenos que ocorrem na propagação de ondas eletromagnéticas (OEM), tais como interferências, reflexões, difrações, desvanecimentos e problemas de coexistência com outros protocolos de comunicação que interferem nos enlaces de comunicação baseados em RF (rádio frequência). A literatura apresenta diversas técnicas que podem ser empregadas com o objetivo de atingir um alto nível de confiabilidade das redes sem fio.
Exemplo disto são as redes WH que utilizam os dispositivos de campo (FD- Field Devices) os quais são unidades autônomas constituídas por um micro controlador, uma fonte de energia (uma bateria, em geral), um transceptor de RF e um elemento sensor. Os transceptores implementam técnicas de espalhamento espectral a fim de reduzir o consumo de energia e aumentar a robustez de enlace, reduzindo a perda de dados. O emprego destas técnicas ligado a técnicas de saltos entre canais utilizada em redes como os WH, permitem às redes sem fio um alto grau de robustez, necessário para a coexistência dos protocolos em ambiente industrial.
Custo e tempo são reduzidos, porque não é necessária a instalação de cabos. A maioria dos dispositivos WH são operados por bateria, logo, a instalação e requisitos de serviço são menores dos que os custos de instalação das redes cabeadas.
Devido às limitações de duração da bateria, os nós de uma rede sem fio industrial são construídos visando economia de energia, e sempre que possível assumem um modo de baixo consumo (mais conhecido como modo "dormir", ou, em inglês "sleep"). Em alguns protocolos, como no WH, todos os dispositivos da rede em malha são roteadores de forma que uma falha isolada não degrada de forma significativa o comportamento da rede. Deste modo, a rede de comunicação sem fio industrial tem capacidade de autorestauração, ou seja, se um nó falhar, a rede encontra novos caminhos de comunicação para os pacotes de dados em outra rota. Assim, a rede irá subsistir mesmo que um nó individual perca a capacidade de comunicação. O diagnóstico, autoconfiguração, auto-organização, autorestauração e reparo, são propriedades que têm sido desenvolvidas para esta rede com o objetivo de aumentar sua robustez.
A perda de dados causada pela falha de algum nó sensor pode ser considerada normal para a maioria dos sistemas de rede, mas em aplicações como controle industrial, tais falhas são inaceitáveis devido aos riscos que podem gerar. Dispositivos sem fio para utilização em ambientes industriais devem ser projetados para funcionamento sem interrupção por diversos anos, especialmente quando são utilizados em processos automatizados contínuos (GUTIERREZ et al., 2011). Neste contexto, a utilização de redes de sensores sem fio em aplicações industriais deve prever mecanismos para garantir confiabilidade na comunicação dos dados e robustez para manutenção da rede ativa, mesmo quando é implementada em ambientes fabris (GUNGOR; HANCKE, 2009).
Com o objetivo de atender esta nova área importante para a automação industrial, muitos protocolos de comunicação industrial sem fio foram desenvolvidos nos últimos anos e aprovados pela IEC (GALLOWAY; HANCKE, 2013), como o WH, ISA 100.11 e WIA-PA (Wireless Networks for Industrial Automation - Process Automation) nos padrões 62591, 62734 e 62601 respectivamente. Em (NOGUEIRA, 2009) e (DJIEV, 2003) sao analisadas as características, vantagens e desvantagens de outro protocolo, o ZigBee PRO desenvolvido para aplicações industriais, que implementa a camada física do padrão IEEE 802.15.4 e modifica a funcionalidade da camada de acesso ao meio original deste padrão.
2.2 O Protocolo lI7/?/f7/f.S'.S'HART
O WH é um protocolo desenvolvido pela Hart Communications Foundation (HCF) para uso em aplicações de monitoramento e controle de processos industriais. Como já indicado em seu nome, o protocolo WH é uma extensão do protocolo HART, o qual propicia uma rede segura com as seguintes características:
• Camada Física: IEEE 802.15.4, na faixa Industrial, Scientific andMedical (ISM) de
2,4	GHz;
• Camada de Rede: topologia em malha e roteamento estático por grafos. Os elementos que constituem uma rede WH mesh são apresentados na Figura 2.
• Saltos de canais TDMA, CSMA-CA em conexões compartilhadas assíncronas.
Ponto de' l
Gerenciador da rede, Gateway ■
Dispositivo
Dispositivo de Campo
Dispositivo de Campo
Dispositivo de Campo
Dispositivo de Campo
Figura 2 Esquema de uma rede típica Rzre/e.s.sHART
(CHEN; NIXON; MOK, 2010).
2.2.1	Tipos de Dispositivos da Rede
Uma rede WH inclui os seguintes tipos de dispositivos (SMAR, 2010):
WH Gateway (GTW) - genericamente, o GTW WH é a unidade centralizadora que incorpora as funcionalidades de Gerenciador de Rede (Network Manager), Gerenciador de Segurança (Secur/ty Manager), Ponto de Acesso (Access Po/nt) e do GTW em si.
Access Point - é o transceptor WH instalado no GTW, que permite acesso deste à rede mesh.
Gerenciador de rede ou Network Manager (NM) - distribui, entre outras responsabilidades, a identidade da rede, publicando sua existência; confere chaves de segurança individuais aos instrumentos; atribui uma banda de comunicação a eles; gerencia rotas na comunicação entre eles. É uma aplicação que pode ser incorporada ao GTW WH.
Gerenciador de Segurança - é uma aplicação normalmente incorporada no GTW WH, responsável pela geração e atribuição das chaves criptográficas utilizadas no protocolo.
Adaptador WH - é um instrumento “ponte”, capaz de disponibilizar dados de um instrumento de campo HART 4-20 mA (com fio) ao hospedeiro via WH (sem fio), permitindo então que um instrumento de campo convencional HART faça parte de uma rede WH.
Dispositivos de campo ou Field Devices (FD) - Os dispositivos de campo são conectados ao processo para realizar tarefas de medição e controle. O FD é um produtor e consumidor de pacotes WH e possui capacidade de roteamento para os outros dispositivos da rede. Todos os dispositivos de campo WH devem apresentar uma porta de manutenção que é usado para provisionamento e diagnósticos locais.
Os dispositivos de campo são utilizados em uma vasta gama de aplicações de monitoramento e controle. Alguns exemplos: controle e monitoramento de nível, níveis de emissões e qualidade da água, monitoramento de equipamento de saúde, entre outros. Os dispositivos de campo podem medir níveis de temperatura, pressão, fluxo, pH, densidade, níveis de emissões, vibração, etc., e também podem estar conectados aos elementos finais de atuação, tais como válvulas, agitadores, ventiladores e transportadores.
roteamento. No entanto, pode ser necessário por exemplo, para estender o alcance da rede ou melhorar um enlace deficiente.
Handheld - São dispositivos portáteis utilizados na instalação e manutenção de dispositivos de rede. São equipamentos portáteis operados pelos funcionários da planta.
Quatro dispositivos são fundamentais para o estabelecimento da rede WH: o gerenciador de rede, o GTW, o ponto de acesso, e os dispositivos de campo. Cada um destes elementos tem uma característica específica no funcionamento da rede, como foi mencionado anteriormente. Em primeiro lugar está o gerenciador de rede, o qual é responsável pela configuração, agendamento e gerenciamento das tabelas de roteamento de mensagens da rede através do GTW que está ligado aos dispositivos de campo mediante pontos de aceso.
2.2.2	Camadas do Protocolo WH
Na Figura 3 observa-se a arquitetura do protocolo WH de acordo com o modelo ISO/OSI (Open System Interconnection), o qual inclui cinco camadas das sete do modelo: camada física, camada de enlace, camada de rede, camada de transporte e camada de aplicação. (CHEN; NIXON; MOK, 2010).
Camada Física
A camada física do Protocolo de comunicação sem fio WH está baseada no padrão IEEE 802.15.4-2006, e utiliza 15 dos16 canais (11 ao 25) na faixa de frequências ISM de 2,4 a 2,485 MHz, com intervalos de 5 MHz entre cada canal. Em alguns países o canal 26 é um canal proibido, não sendo, portanto, utilizado pelo WH. Os dispositivos WH devem possuir uma potência transmissão programável de -10, 0, 10 dBm (pelo menos) e uma sensibilidade de -85 dBm, fornecendo uma taxa de dados bruta de 250 kbit/s.
Camada de Enlace
Na camada de enlace encontram-se os meios necessários para a transmissão dos dados entre os dispositivos da rede. Os quadros de tempo são responsáveis pela transferência segura dos pacotes entre dois nós da rede. A camada de enlace está dividida em duas subcamadas: LLC (Logical Link Control e Medium Access Control) e MAC. Na Subcamada LLC estão definidos os quadros, os endereços dos dispositivos e os serviços de segurança da rede para garantir a integridade da informação enviada (HART COMMUNICATION FOUNDATION, 2007).
O enquadramento da DLPDU (Data Link Protocol Data Unit), mostrado na Figura 4, é constituído pelos seguintes campos:
•	Um byte com o valor fixo 0x41;
•	Um byte especificador de endereço;
•	Um byte com o número sequencial;
•	Dois bytes referentes ao identificador de rede;
•	Endereços de destino e origem: podem ser 2 ou 8 bytes, conforme o identificador utilizado (UID ou nickname);
•	Um byte especificador da DLLPDU;
•	O payload DLL;
•	O código de integridade de mensagens (MIC), em quatro bytes;
•	Dois bytes de CRC16 ITU-T;
O tamanho total do pacote pode chegar a 127 bytes.
Figura 3 Camadas do protocolo WH baseado em (CHEN; NIXON; MOK, 2010).
Existem 5 tipos diferentes de DLPDU (WINTER, 2010), baseados neste formato, que são:
ACK(Acknowledgementy. representa a resposta de nível imediato para receber transmissões DLPDU de outras fontes. O ACK contém o código de resposta que indica se o dispositivo receptor aceitou a DLPDU.
Advertise (anúncio): fornece informação para os dispositivos vizinhos que podem agregarse à rede. É utilizado para convidar novos dispositivos a associarem-se à rede. Quando um dispositivo deseja associar-se a rede ele checa por este tipo de DLPDU e usa as informações no payload para sincronizar-se com a rede e iniciar o processo de agregação.
Data: dados de requisições e respostas a comados ou de publicação de variáveis de processo de um nó da rede.
Disconnect: o DLPDU de desconexão é gerado por um dispositivo que está deixando a rede. Implica que o dispositivo não estará mais disponível para comunicação e pode ser removido da lista de vizinhos. Todas as conexões estabelecidas com os vizinhos deste dispositivo são apagadas.
Keep Alive: responsável pela manutenção de conexão entre dispositivos vizinhos. Opayload para este tipo de DLPDU é vazio e é utilizado para manutenção da rede. Além disso, na descoberta de um vizinho, o dispositivo deve emitir periodicamente DLPDUs do tipo Keep Alive para o GTW.
Figura 4 Estrutura do DLPDU do protocolo K/re/ewHART (CHEN; NIXON; MOK, 2010).
Subcamada de controle de acesso ao meio MAC: Nesta subcamada são coordenados os instantes de tempo em que cada um dos dispositivos tem disponível para transmitir ou receber mensagens (HART COMMUNICATION FOUNDATION, 2010a). Na camada de enlace do protocolo HW são usados dois métodos: o primeiro é baseado em TDMA (Time Division Multiple Access') para garantir uma comunicação determinística sem colisões e o segundo, o CSMA (Carrier Sensor Multiple Access'), onde o acesso é disputado probabilisticamente pelos nós da rede.
O TDMA utiliza time slot (slots de tempo) de tempo de 10 ms para realizar as comunicações entre os dispositivos. Estes slots formam os superframes (grupo de slot), com características tais como o número absoluto de slot, denominado Absolute Slot Number (ASN), e os saltos de canais, os quais são realizados entre cada slot para diminuir o efeito da interferência causado por outras redes sem fio. A subcamada MAC é responsável pela propagação dos DLPDUs, e possui tabelas de vizinhos, superframes, links e grafos que configuram a comunicação entre os dispositivos e seus vizinhos. Estas tabelas são criadas e mantidas pelo gerenciador de rede.
Os superframes consistem numa sequência de slot que se repetem de forma periódica. Destaca-se que o período do superframe depende de quantos slot constituem o mesmo. Na Figura 5 observa-se um superframe formado por 21 slot no qual o período completo do ciclo seria de 210 ms. Cada slot de um superframe está enumerado com seu respectivo ASN (HART COMMUNICATION FOUNDATION, 2010a).
Timeslot
Figura 5 Estrutura de um Superframe (HART COMMUNICATION FOUNDATION, 2010a).
Os slot dos superframes têm uma duração e número de slot fixos, formando um ciclo repetitivo que garante o determinismo da rede. Dentro de cada slot de tempo está especificado o momento no qual começa a transmissão das mensagens, em um instante predeterminado dentro do slot. Antes de começar a transmissão da mensagem os dispositivos que estão se comunicando devem configurar os canais de escuta da mensagem adequadamente, para a recepção de pacotes, considerando que o canal que recebe o pacote deve começar a escuta das mensagens antes do tempo predeterminado no slot. Depois de receber a transmissão, o dispositivo emite uma resposta ACK, indicando se recebeu de forma correta os dados. A Figura 6 apresenta a forma como é estruturado de forma completa o slot do protocolo WH.
Figura 6 Estrutura de um Slot (HART COMMUNICATION FOUNDATION, 2010a).
Camada de Rede
A camada de rede do protocolo WH suporta topologias variadas, incluindo malhas ("mesh") e mais de uma técnica de roteamento. Dentro dos dispositivos de uma rede mesh, cada nó deve poder encaminhar pacotes.
A norma WH da HCF define quatro tipos de roteamento, descritos nas subseções a seguir.
Roteamento por proxy
Este tipo de roteamento é utilizado para o ingresso de novos dispositivos a uma rede WH. Depois de ingressar na rede existente os dispositivos são denominados proxys, e funcionam como intermediários entre o NM e os novos dispositivos que podem ser adicionados posteriormente à rede.
Roteamento por fonte
O algoritmo do roteamento é definido na origem, ou seja, no NM de rede. Desta forma, o nó remetente recebe a sequência completa de nós pelos quais o pacote deve ser caminhado. No WH, mais de uma forma de roteamento é possível. No roteamento por fonte, o remetente explicitamente lista a rota no cabeçalho do pacote, identificando cada nó pelo seu endereço (no máximo oito nós). O processo de envio de pacote se inicia com o nó de origem, que fica responsável por buscar em sua tabela de rotas, caminhos que tenham como destino o nó desejado. Uma vez definida a rota, ela é gravada no cabeçalho da mensagem e transmitida para o primeiro nó da rota. O nó, ao receber a mensagem, primeiramente verifica na rota gravada na mensagem se ele é o destino da mensagem. Caso seja, o processo é encerrado, pois a mensagem chegou em seu destino. Caso contrário, o nó passa a mensagem para o próximo nó da rota (JOHNSON; MALTZ, 1996).
Roteamento por Grafos
Um grafo representado pela equação (1), é formado por um conjunto de vértices "V" e um conjunto de arestas "E" que ligam pares de vértices distintos (somente uma aresta ligará qualquer par de vértices). Numa rede WH os vértices representam os dispositivos ou nós da rede, e as arestas são as ligações ou links entre dois dispositivos.
G = (V.E)	(1)
A Figura 7 apresenta uma rede mesh representada por grafo.
Figura 7 Exemplo de uma rede mesh representada por um grafo (HAN et al., 2011).
O método de roteamento por grafos cria uma coleção de caminhos entre os nós da rede, como observa-se na Figura 7 (linhas entre nós), que são utilizados para o envio de um pacote da sua origem até o destino. Da mesma forma que o método de roteamento por fonte é adicionado no cabeçalho do pacote um identificador do grafo, ou Graph id.
O sistema de roteamento por grafos apresenta uma particularidade que permite adicionar diversos caminhos para o envio de uma mensagem. Deste modo caso um dos dispositivos não esteja disponível, a mensagem pode ser encaminha por outro. Na Figura 8 são apresentados diferentes de roteamento por grafos. É possível observar que se pode chegar por diferentes caminhos num mesmo nó, caracterizando redundância de caminhos.
Nestes grafos, a redundância é feita de modo a cada dispositivo receber suas mensagens através de dois ou mais caminhos (grafos de broadcast e downlink), ou enviar seus pacotes através de dois ou mais caminhos (grafo de uplink). A ligação entre os APs e o gateway é considerada confiável e não necessita de redundância. Neste tipo de roteamento, os dispositivos intermediários encaminham os pacotes utilizando o primeiro link de transmissão disponível com qualquer um dos próximos vizinhos, em qualquer um dos superframes.
Figura 8 Diferentes tipos de roteamento por grafos (HAN et al., 2011).
Roteamento por superframes
Neste caso os nodos intermediários são configurados com os links necessários com os vizinhos do superframe até o destinatário final. Os dispositivos WH não precisam ter informações sobre as rotas: o encaminhamento das mensagens é feito através dos links incluídos dentro do superframe.
Camada de Aplicação
os diversos comandos disponíveis, alguns são necessários para o desenvolvimento deste trabalho e são descritos a seguir.
2.3 Comandos utilizados
Através da interface com o GTW e utilizando os comandos definidos na camada de aplicação, é possível obter informações dos dispositivos na rede sem fio. Um exemplo disso é apresentado em (WINTER, 2013) que utilizou o protocolo HART-IP para obter informações sobre a rede tais como dados de vizinhança dos dispositivos presentes na rede. Os comandos são encapsulados sobre UDP para trocar informações com o GTW. Da mesma forma, a aplicação host desenvolvida nesta dissertação é totalmente dependente do uso dos comandos para poder fechar um laço de controle. Para o desenvolvimento deste trabalho, foram utilizados os comandos 130 e 131 para leitura e escritura das variáveis de processos.
2.3.1	Comando 130 - Escritura da variável de processo
O comando 130 realiza a escrita do valor da variável de processo mediante a aplicação desenvolvida. Dados da requisição são apresentados nas tabelas 1,2,3.
Tabela 1 Dados da requisição do comando 130.
Byte	Descrição
0-1	Comando - Especificado na Tabela
2-3	Posição desejada do atuador
Tabela 2 Dados de resposta do comando 130.
Byte	Descrição
0 - 1 2 - 3	Comando - Especificado na Tabela Posição desejada
Tabela 3 Funções implementadas no comando 130.
Bits	Significado
0	Open
1	Close
2	Stop
3	ESD
4	Posicionamento
5	Spare
6	Preset FC closure
7	Preset FC opening
8	Clear alarms
9 - 15	Reservado
2.3.2	Comando 131- Leitura da variável de processo
Este comando realiza a leitura da posição, o torque e o status do dispositivo, conforme a tabela 4.
Tabela 4 Dados de resposta do comando 131.
Byte	Descrição
0 - 1	Status do atuador - Especificado na Tabela 5
2 - 3	Alarmes
4 - 5	Posição atual (expresso em percentual inteiro)
6 - 7	Torque atual
O status do dispositivo retornado no comando 131 é expressado em 16 Bits seguindo a definição a seguir na Tabela 5.
Tabela 5 Status do comando 131.
Bits	Significado
0	Modo de operação local
1	Modo de operação remoto
2	Posição aberta
3	Posição fechada
4	Movimento de abertura (abrindo)
5	Movimento de fechamento (fechando)
6	Motor energizado
7	Falta de fase
8	Sobreaquecimento do motor
9	Atuador sem programação
10	Parada local acionada
11-15	Reservado
2.4	Sistemas De Controle
Atualmente, as técnicas de controle de sistemas podem ser classificadas em dois grandes grupos, clássico e moderna. As técnicas de controle clássica estão baseadas na análise de frequências e amplitudes dos sistemas, avaliando suas condições de estabilidade através de descrições entre entrada-saída (funções de transferência).
O controle clássico fornece os fundamentos para a análise de estabilidade, tais como os conceitos de margem de ganho e margem de fase, que foram propostos para avaliar a estabilidade relativa de sistemas SISO (Single-InputSingle-Output). Toda a análise e projeto de um controlador é feita a partir de um modelo aproximado do sistema real, linear e invariante no tempo (caso não seja linear, são necessárias estratégias de linearização). Enquanto nas técnicas de controle moderno propõe-se análises temporais a partir de modelos matemáticos, obtidos, através de equações
diferenciais, utilizando o conceito de estados para descrever o comportamento do sistema, com a possibilidade de criar controladores não lineares e multivariáveis (OGATA, 2010).
2.4.1	Métricas de Desempenho de Sistemas de Controle
Para analisar as especificações de desempenho é necessário avaliar as propriedades quantitativas e qualitativas do sistema. As propriedades quantitativas são relacionadas com a obtenção da solução do sistema de equações que representa o comportamento dinâmico do modelo matemático do sistema de controle. Enquanto as propriedades qualitativas, também chamadas propriedades do controle, são relacionadas a estabilidade, controlabilidade, observabilidade do sistema (KENNEDY; KOLUMBÁN, 1999).
Espec/f/cações de Desempenho da Resposta Trans/tór/a
Em problemas práticos, os requisitos de desempenho são especificados em termos da resposta do sistema de controle, onde comumente, considera-se sinais de entrada padrão dos tipos, degrau, rampa, aceleração, impulso e senóides. Em geral o desempenho de um sistema é avaliado pela reposta completa do sistema a uma entrada do tipo degrau unitário, pois a resposta de um sistema a uma entrada deste tipo tem uma relação estreita com o desempenho em condições de funcionamento.
A resposta completa y(t) de um sistema de controle é constituída por duas partes: a resposta natural ytr(t) e a resposta em regime permanente yss(t). A Resposta transitória diz respeito à forma como o sistema se comportou após a aplicação de uma nova entrada (se houve oscilação, se a resposta foi lenta demais, etc.) até atingir o estado final. A resposta em regime permanente caracteriza a saída do sistema quando o tempo tende para infinito. Geralmente os seguintes parâmetros são definidos como as métricas para avaliação de desempenho, considerando a resposta ao degrau (OGATA, 2010):
Tempo de subida (zr): é o tempo requerido para que a resposta do sistema se elevar de um valor inicial 0, 5, 10 % até 90, 95 ou 100 % do seu valor em regime permanente.
Tempo Pico (rp): é o tempo necessário para que a resposta atinja o máximo valor da resposta transitória.
Tempo de estabilização ou acomodação (Ts): é o tempo que a resposta transitória leva para ficar muito próxima do valor final (normalmente 5% ou 2% do valor final). Este tempo está relacionado com as constantes de tempo do sistema de controle.
Tempo de atraso (Td): é o tempo que a resposta transitória leva para chegar a 50% do valor final.
Os parâmetros definidos acima são apresentados na Figura 9. Em muitas aplicações, algumas características como sobrepassos muito grandes são inaceitáveis, assim como um grande valor de sobrepasso indica menor estabilidade relativa, isto é, mais próximo de apresentar um comportamento instável. (GOMES DA SILVA. JR; BAZANELLA, 2006).
Restrições temporais de Sistemas de Controle
O desempenho estabelecido para um sistema de controle demanda um determinado comportamento ao longo do tempo do fluxo de informações e do processamento dos algoritmos de controle do sistema. Tal comportamento implica em várias restrições temporárias que devem ser atendidas para que o desempenho desejado do sistema seja alcançado (NETO, 2007). Desta forma, conhecer os requisitos temporais necessários para que o sistema de controle alcance os requisitos de projeto é de vital importância. Estes requisitos implicam especificar, verificar e implementar sistemas ou programas que, mesmo com recursos limitados, apresentam comportamentos previsíveis, atendendo às restrições temporais para alcançar o desempenho do sistema. (JOSEPH; PANDYA, 1985).
Figura 9 Resposta típica ao salto unitário num sistema de segunda ordem.
Aplicações de tempo real são caracterizadas por restrições temporais que devem ser respeitadas para que se tenha o comportamento temporal desejado ou necessário. É assim que entra em consideração o conceito de tarefa, que é uma das abstrações básicas do chamado problema de escalonamento de tarefas num sistema computacional ou de mensagens numa rede. As tarefas ou processos formam as unidades de processamento sequencial que concorrem sobre um ou mais recursos computacionais de um sistema. Toda tarefa de tempo real tipicamente está sujeita a prazos, ou, em inglês “deadlines".
As restrições temporais mais importantes para sistemas em tempo real são: periodicidade, jitter, tempo de resposta do processo de aplicação e sincronização.
Outras restrições temporais são importantes na definição do comportamento temporal (FARINES; FRAGA; RÔMULO, 2000).
Tempo de computação (Computation Time): é o tempo necessário para a execução completa da tarefa.
Tempo de término (Completion Time) é o instante de tempo em que se completa a execução da tarefa.
Tempo de chegada (Arrival Time): o tempo de chegada de uma tarefa é o instante em que o escalonador toma conhecimento de uma ativação dessa tarefa.
Em tarefas periódicas, o tempo de chegada coincide sempre com o início do período da ativação. As tarefas aperiódicas apresentam o tempo de chegada coincidindo com o tempo da requisição do processamento aperiódico.
Tempo de liberação (Release Time) o tempo de liberação de uma tarefa coincide com o instante de sua inclusão na fila de tarefas prontas (ready tasks') do sistema operacional.
2.4.2	Paradigmas Time-Triggered e Event-Triggered
A troca de mensagens entre dispositivos de uma RCI (Rede de comunicação industrial) pode ser classificada em duas categorias, de acordo com a característica da informação. Estas são: Event-Triggered (ET) ou Time-Triggered (TT) Cada uma destas estratégias apresenta vantagens e desvantagens em sistemas de controle em rede. Para estas diferentes características, distintas estratégias de acesso ao meio são utilizadas.
Uma típica rede WH consiste num conjunto de sensores, atuadores e uma aplicação que calcula o sinal de controle. Neste cenário a execução da malha de controle é dividida em três etapas: recuperação de dados pelos sensores, computação do sinal de controle pelo controlador e disposição dos comandos de controle para os atuadores. Além disso, assume-se que o cálculo do controlador acontece em apenas um dispositivo que recupera toda a informação medida pelos sensores, calcula as entradas para todos os atuadores, e divulga estes novos comandos para os nós do atuador. Este cenário típico de uma rede WH correspondente a um sistema decentralizado de controle ET (MAZO; TABUADA, 2011), embora o protocolo WH utiliza políticas de escalonamento baseadas em TDMA, garantindo previsibilidade e determinismo da comunicação, da mesma forma que as arquiteturas TT.
Paradigma Event-Triggered (ET)
ET os canais de realimentação da rede transmitem de forma esporádica, ou seja, apenas no momento que se faz necessário transmitir alguma informação. Nesta estratégia, um sensor transmite quando o valor da variável é modificado, ou seja, que a variável medida excedeu um limite especificado. Em particular, isto significa que somente será transmitida a informação de um sensor Si quando o valor do sensor no instante Si(t) é maior do que um valor delta comparado com o valor no instante Si(t — 1), ou seja, se Si(t) — Si(t — 1) &gt; delta então o valor é transmitido, caso contrário não é feita a transmissão. Entretanto, neste caso, pode ocorrer uma disputa pelo acesso ao meio entre dois (ou mais) componentes que necessitem transmitir mensagens em instantes de tempo muito próximos, o que pode causar um aumento considerável no tempo de transmissão da mensagem. Exemplos deste tipo de política são os protocolos CAN, Ethernet (ALBERT, 2004).
Paradigma Time-Triggered (TT)
Em sistemas TT A competição entre os componentes da rede pelo uso do meio de transmissão é evitada através de políticas de escalonamento baseadas no método TDMA.
Nos últimos anos, vários protocolos de comunicação têm aparecido e anunciam prover um serviço de sincronização de relógio necessário à arquitetura TT. Pode-se citar, como exemplos (KOPETZ; BAUER, 2003), (OBERMAISSER, 2004), (ALESSANDRO et al., 2009):
-	TTP/C;
-	TT-CAN;
-	TTP/A;
-	FlexRay;
-Spider;
-	TT-ETHERNET;
-	SafeBus;
-WirelessHART;
Algumas das vantagens das arquiteturas TT são as garantias temporais oferecidas, baixo jitter e comportamento previsível. Por outro lado, alterações na topologia da rede ou no escalonamento das mensagens são dificultadas. (KOPETZ; GRÜNTEIDI, 1993).
3	SISTEMAS DE CONTROLE EM REDE
Apesar dos sistemas de controle baseados em rede (NCS, Networked Control Systems) constituírem uma área relativamente nova, já existem importantes trabalhos prévios e, por conseguinte, existe uma literatura muito ampla. Com a intenção de ilustrar o tema, foram revisados diversos trabalhos relacionados ao tema.
A seção 3.1 faz menção ao modelamento do problema dos NCS (Real time control of Networked Control Systems), levando em consideração, principalmente, o artigo (ZHU; YANG, 2008), a estabilidade incluindo o modelo de NCS e as métricas temporais de protocolos de comunicação. Finalmente na seção 3.2 são mostrados os efeitos da rede de comunicação sobre os sistemas de controle.
3.1	Modelamento de sistemas de controle em rede
Como já mencionado anteriormente, os NCS têm como característica a existência de um meio de comunicação compartilhado entre o nó de controle e a planta, separando com isto os controladores dos processos. Para a análises de NCS é comum, muitas vezes considerar um simples canal de realimentação “feedback”, porque esta arquitetura ainda captura muitas características principais dos NCS, tais como as limitações da largura de banda, atrasos de comunicação variáveis e perda de pacotes.
Em (HESPANHA, 2007), encontra-se a arquitetura geral mais simples para a análise de NCS. Nesta representação (Ver Figura 10), observa-se os elementos característicos destes sistemas: uma planta Gp, um módulo de controle Gc , uma rede de comunicação de dados, um módulo de atuação e um outro de medição.
Com a inserção das redes nos sistemas de controle e as limitações do meio de comunicação, entra em consideração os efeitos da rede sobre o sistema de controle. Em (JIANG et al., 2008) os autores apresentam uma perspectiva mais ampla sobre como pode ser vista na Figura 10, na qual observa-se além do descrito por (HESPANHA, 2007) dois atrasos importantes, xca e tsc, onde o primeiro é um atraso de atuação e o segundo um atraso de medição. O atraso chamado tsc corresponde ao intervalo de tempo necessário para que a medida feita chegue no controlador e o atraso xca corresponde ao intervalo necessário para que o sinal de controle chegue até o atuador, somado ao tempo de processamento que leva o controlador a gerar o sinal de controle tc .
Figura 10 NCS com atrasos de transmissão por (HESPANHA, 2007) .
Descreve-se a dinâmica da planta Gp, da seguinte forma:
^P(y')	ApXp(t) + BpUp(t), yp(Q Cp(t)Xp(t')	(3)
Em que xp(t) é o vetor de estado da planta e up(t) e yp(t) são os vetores de entrada e saída, respetivamente. Ap, Bp e Cp são matrizes constantes de dimensões apropriadas.
O sinal yp(t) é amostrado periodicamente pelo módulo sensor. A Figura 11, apresenta detalhadamente o funcionamento deste módulo. Conforme está na figura, os pacotes são enviados pela rede a cada instante ikh, e, estes pacotes contém o valor do estado da planta nos instantes ikh.
Escreve-se então:
ys(ikh) = yP(íkh)
(4)
Figura 11 Detalhe do funcionamento do módulo sensor (ZHU; YANG, 2008).
A dinâmica do módulo de controle Gc, pode ser descrita da seguinte forma:
xc(t) = Acxc(t) + Bcuc(t),	yc(t) = Ccxc(t - tc) + Dcuc(t - tc)
(5)
Onde xc(t) é o vetor de estados do controlador, uc(t) é o vetor de entrada e yc(t) é o vetor de saída. Ac , Bc, Cc são matrizes constantes de dimensões apropriadas.
Os pacotes enviados pelo sensor chegam ao controlador com um atraso de tempo Tkc. O módulo controlador é composto por três elementos básicos: um elemento que recebe pacotes de dados de uma rede de comunicação, uma unidade de processamento de dados e um elemento capaz de enviar pacotes de dados através de uma rede de comunicação.
A Figura 12 apresenta em detalhes o funcionamento do módulo controlador. O elemento de recepção interpreta o pacote recebido pela rede e envia o sinal uc(t) para a unidade de processamento.
Escreve-se então:
uc(t) = us(ikh + zskC)	tE[ikh + rskc ,ik+ih + Tskc+1 ]	(6)
Logo após o processamento, o sinal de controle yc(t) é encapsulado em pacotes de dados e enviado pela rede. A equação relacionada ao sistema da Figura 12 é:
ya(ikh + Tk + Tk) = yc(ikh + Tskc +	(7)
Os pacotes enviados pelo módulo de controle chegam ao módulo de atuação após um atraso de tempo Tka. O módulo de atuação é composto por dois elementos básicos: uma unidade que recebe pacotes de dados de uma rede de comunicação e um elemento de atuação que aplica um sinal de entrada para o processo.
up(t) = ua(ikh + Tk +zk + Tka),
t e [ikh + zk ,ik+ih + zk+i ]
(8)
Figura 12 Detalhe do funcionamento do módulo controlador (ZHU; YANG, 2008).
Onde zk = zkc + Tk + zka
(9)
Combinado as equações (3) e (4) tem-se: ys(ikh) = Cpxp (ikh) uma vez que us(ikh + t^c) = ys(ikh), então: us(ikh + TskC) = Cpxp (ikh).
Figura 13 Detalhe do funcionamento do módulo atuador (ZHU; YANG, 2008).
Utilizando a equação (6), conclui-se:
Utilizando a equação (6), conclui-se:
U-cíQ = Cpxp(ikh)	te[ikh + T^c ,ik+1h + Tskc+1 ]	(10)
Combinando as equações (5) e (7) tem-se:
yattkh + rskc + tf) = Ccxc(ikh + Tskc) + Dcuc(ikh + TskC)	(11)
Uma vez que:
Uattkh + rskc + TCk + Tcka) = yattkh + Tsk + xck)	(12)
Pode-se escrever que:
ua(ikh + Tsk +^k + Tcka) = Ccxc(ikh + Tskc) + DcCpxp(ikh)	(13)
Ccxc(ikh + zk ) + DcCpxp(ikh')	(14)
Onde Tk denota o intervalo de tempo desde o instante ikh quando o sensor amostra os dados da planta até o instante em que o atuador recebe o sinal de controle, isto é Tk = Tkc + Tk + Tk°-
3.1.1	Arquiteturas de Sistemas de Controle em Rede
limitações associadas com o meio compartilhado de comunicação. Assim, dependendo da estrutura, existem dois tipos de principais de NCS abordados a seguir; NCS de estrutura direta e estrutura indireta ou hierárquica (TIPSUWAN; CHOW, 2003).
Estrutura Direta
Na configuração de estrutura direta, o conjunto formado pela planta, sensores e atuadores está em uma localização diferente daquela do controlador. Entretanto, os dois sistemas se comunicam diretamente através de uma rede, por onde se dá o fechamento do laço de controle. A Figura 14 ilustra um exemplo deste tipo de configuração.
Figura 14 Estrutura direta de NCS (TIPSUWAN; CHOW, 2003).
Como pode ser observado através da Figura 14, o controlador recebe os dados com informações da planta através de pacotes enviados pela rede. Neste ponto, o controlador irá processar o pacote recebido, calcular o sinal de controle, construir um pacote com a informação calculada e, finalmente, enviar de volta à planta o sinal de controle.
Estrutura Indireta
São usados sensores da planta remota para, calcular um novo ponto de referência, o qual é enviado novamente através da rede para o sistema remoto. O sistema remoto, de posse dessa nova informação, irá realizar as tarefas em laço fechado localmente para atender as novas especificações enviadas pelo controlador principal. Um dos objetivos deste tipo de arquitetura é a redução do trafego de rede, uma vez que a periodicidade de envio de mensagens dos sensores para o controlador principal é reduzida se comparada àquela do laço de controle local. A estrutura indireta para sistemas NCS é mostrada pela Figura 15.
Figura 15 Estrutura indireta de NCS (TIPSUWAN; CHOW, 2003).
Dentro da estrutura hierárquica pode-se considerar que o controlador local pode ser de laço fechado ou de laço aberto. Os sistemas de controle local com laço fechado são utilizados para o controle de grandes plantas industriais, onde há grande número de processos de controle (ou seja, grande número de malhas de controle). É desejável, em muitas ocasiões, ter-se um controle centralizado, onde os operadores da planta tem acesso a todos os processos integrados do sistema, em vez de um subsistema de controle em laço local pequeno, fisicamente separado. A presença de medições remotas é necessária neste caso, mesmo com a possibilidade de derivar a parte da tarefa de controle para o sistema local.
3.2	Principais Efeitos Introduzidos pela Rede
Os atrasos nas malhas de controle podem deixar a planta instável e em caso extremo podem levar a situações perigosas. Por estas razões, é de grande importância para o estudo da planta a ser controlada, o tipo de atrasos que está apresenta. As possíveis causas de atrasos em um sistema de controle podem ser muitas. Entretanto, são efeitos inerentes à rede de comunicação utilizada.
3.2.1	Atrasos em Malhas de Controle
A rede pode introduzir níveis não confiáveis ou não determinísticos de serviço em termos de atrasos, jitter e perdas (SOUCEK; T. SAUTER, 2004). Para o estudo destes atrasos, causados pela rede sobre os NCS, o modelamento destes torna-se importante. Trabalhos relacionados são apresentados na seção 4.2.
Figura 16 Analise dos atrasos. Baseado em (LIAN; MOYNE; TILBURY, 2001).
O Tpre é o tempo necessário para o dispositivo transmissor obter dados do sensor e transformá-los em um formato apropriado para envio pela rede. Este tempo depende de cada dispositivo, e depende do hardware. O Twait é o tempo necessário para que o dispositivo receba permissão para acessar a rede de comunicação e iniciar a transmissão. Este tempo e variável e dependente da estratégia de acesso ao meio utilizada pelo protocolo de comunicação. O Tpos é o tempo necessário pelo receptor para decodificar a mensagem recebida pelo barramento e processar a nova informação disponível (MICHELIN, 2014). E o Ttx é o Tempo de transmissão no canal de comunicação e depende da taxa de transmissão, do tamanho da mensagem e da distância entre dois dispositivos.
Atrasos devido ao tráfego da comunicação
Nesta subseção são apresentadas as considerações dos atrasos para a análise de NCS proposto em (HESPANHA, 2007). Na arquitetura apresentada na Figura 10, observa-se dois nós importantes: o nó sensor e o nó atuador, onde o nó sensor, é formado por um amostrador e um elemento que envia os dados através da rede. Os dados da planta são amostrados a cada íkh onde h é o periodo de amostragem e ik são número inteiros positivos. A cada período de amostragem, o dado estará disponível para o módulo de controle após um atraso de tempo t kc. Posteriormente, o modulo de controle realiza o cálculo do valor da saída e estará disponível para o modulo de atuação.
= TSk+'Ck+ tf?	(15)
(GUPTA; CHO, 2010), e fazem parte de uma área de estudo importante para os sistemas de controle em rede.
Figura 17 Diagramas de tempo para os atrasos da comunicação (JIANG et al., 2008).
De uma outra forma, a arquitetura utilizada por (JIANG et al., 2008) e apresentada na Figura 10 para o estudo de NCS, pode ser compreendida conforme a
um destes tempos para NCS, onde o nó sensor contém uma tarefa periódica, do tipo time-driven, com um tempo de execução de zk que executa uma amostra do processo efetuando a conversão analógico-digital (A/D) e envia esta informação na forma de mensagem com um tempo de transmissão de t£c ao nó controlador. O nó controlador contém uma tarefa event-driven que é ativada quando uma amostra do processo chega na forma de mensagem sob a rede. Esta tarefa compreende no algoritmo de controle com tempo de execução Tk que após sua execução envia uma mensagem com o sinal de controle com um tempo de transmissão de r£a ao nó atuador. O nó atuador é do tipo event-driven, onde contém uma tarefa que é ativada por uma mensagem vinda do nó controlador, com o sinal de controle que executa uma conversão digital analógico (D/A), cujo tempo de comutação é dado por t£.
ri
Sensor ts
k_____4
r	i
Atuador ta
L_______________J
Controlador tc
Figura 18 Sistema de controle via redes com seus respectivos atrasos de tempo.
Em um NCS, o atraso entre a amostragem e atuação na planta física é tido como o atraso total de controle zk e compreende a soma de todos dos atrasos referentes aos tempos de processamento dos nós e aos tempos de transmissão das mensagens, incluindo entre estes, os nós da rede como é mostrado na figura os atrasos são:
3.2.2	Estabilidade com Atrasos em NCS
O artigo de (HESPANHA, 2007) utiliza o modelo apresentado na Figura 19 para a avaliação dos efeitos de amostragem e de atraso sobre a estabilidade dos NCSs. O sistema LTI (Linear Time-Invarianf) encapsula a planta e o controlador linear é invariante no tempo, modelado pelo sistema de tempo contínuo a seguir:
x = Ax + By, y = Cx	(17)
Figura 19 NCS com planta e controlador LTI.
O autor propõe três modelos com um canal de realimentação para avaliar um NCS. No primeiro modelo, o sinal y pode ser considerado como um vetor de medições do sensor, e y como a entrada contínua ao controlador colocado com os atuadores (SAHAI, 2001), como é apresentado na Figura 20 (a). Alternativamente, pode ser visto y como a entrada dos atuadores e y como o sinal de controle calculado por um controlador colocado com os sensores, como na Figura 20 (b). Nos dois casos, x(t) incluiria os estados da planta e do controlador. O diagrama de blocos da Figura 20 também capta o caso de um controlador estático que não é colocado com os sensores nem com os atuadores, conforme pode ser visto na Figura 20 (c).
Figura 20 Arquiteturas NCS, com um canal de realimentação (HESPANHA, 2007).
No modelo de um canal de realimentação apresentado na Figura 19, o sinal y(t) é amostrado em { tk : k E N } e as amostras yk = y(tk), Vk E N são enviadas através da rede. O período de amostragem tk deve garantir a estabilidade do sistema.
Numa rede com atrasos mas sem perdas de pacotes de dados, tem-se:
&amp;amp;	= vk e N
(18)
Porém, as amostras só chegam no destino depois de um atraso (possivelmente variável) de
Tk &gt; 0. Nessas ocasiões y(t) será:
&amp;amp;-i í e [ Wk + y	te [tfc,tfc + Tk+1)
Onde assume-se que o atraso é menor que o intervalo de amostragem, ou seja, tfc + Tk &amp;lt;tfc+i,	Vk e N
Com	■= x(tfc), Vk e N e levando em conta (17) e (19b), pode-se concluir que:
*k+i = e^+i-'^ + e^+i-t*-W (TjByk-i + r (tk+i - tfc - Tk)Bjzk Onde T(s) := JQse^zdz, Vk e K.
Para realizar a análise dos NCS, primeiro é definido um modelo de espaço de estados discreto aumentado apresentado em (22).
z'fc := [*(tj' /fc-iL	Vk eN
Vk e N (a)
(b)
(19)
(20)
(21)
(22)
De (19a) e (21) pode-se concluir,
Zfc+i := $(tfc+i - tfc, Tk)zk,	VkeN
Onde,
0(a,b) ■=
e^a + r (a-b)BC
c
e^(a-È) r (b)B
0
Va, e K
(23)
(24)

Na ausência de atraso, ou seja, quando = 0, Vk e N, o estado zfc não precisa incluir yfc-i então, a função O apresentada em (24) pode definir-se, como em (25)
O(a,0): = e^a r (a)BC, Va &gt; 0	(25)
Quando a planta (17) é instável em malha aberta, (23) é geralmente instável, caso o intervalo entre os tempos de amostragem seja muito grande. Em vista disso, o objetivo principal tem sido dedicar-se a encontrar os limites superiores de tfc+i —	,Va e N nos quais pode ser garantida a
estabilidade. Este limite superior do intervalo de amostragem ou máximo tfc+i — tfc , é às vezes chamados maximum allowable transfer interval (MATI) (WALSH; BUSHNELL, 1999).
ultimo intervalo dependendo do atraso poderia ter-se um ou nenhum da mesma forma. Deste modo, derivar a equação (23) fica muito difícil. Assim todos os resultados revisados nesta seção baseiam-se em uma redução dos NCS a alguma forma de sistema de tempo discreto, como (23); por simplicidade, portanto, irá assumir implicitamente atrasos menores do que um intervalo de amostragem, o seja Tk &amp;lt;tk.
3.2.3	Perda de Pacotes em NCS
Todas as aplicações de NCS dependem fortemente das características do canal de comunicação. O problema da perda de pacotes nas comunicações sem fio é de particular relevância quando a rede é inserida no contexto de um sistema de controle.
As perdas de pacotes numa rede podem ocorrer por diversos motivos tais como: erros durante a transmissão de mensagens, falhas em dispositivos e colisão de pacotes (ZHANG; S.; PHILLIPS, 2001). Até mesmo uma mensagem que sofra algum atraso bastante acentuado pode ser considerada como uma perda de pacote porque pode acontecer que, uma vez que a mensagem chegou no seu destino, esta pode não ter mais valor algum. É possível perder dados na comunicação: do sensor para o controlador e a partir do controlador para o atuador. Se os pacotes são perdidos no primeiro percurso, o controlador não tem a realimentação do processo e o sinal de controle será calculado tendo em conta esta falta de informação, na tentativa de estimar os dados perdidos (ALT, 2003).
3.2.4	Períodos de Amostragem e Atrasos em Sistemas de Controle
A escolha do período de amostragem, assim como atrasos causados pelo sistema de comunicação influência de forma direta o desempenho de sistemas de controle, afetando de forma significativa a funcionalidade do sistema controlado. O período de amostragem depende das características da aplicação de controle e com base nessas características e possível definir o protocolo de rede adequado para poder suprir essas condições. Deve se levar em conta que cada protocolo de rede tem suas características intrínsecas, o que permite avaliar se será adequado para a aplicação.
Impacto da variação do período de amostragem sobre o desempenho de sistemas de controle
SILVA. JR; BAZANELLA, 2006), que definem como regra geral (para um grande número de casos), que o período de amostragem deve ser tal que ocorram ao menos cinco amostras da saída por constante de tempo dominante.
Figura 21 Sistema de controle amostrado (OGATA, 1996).
Através de um modelo de segunda ordem, pode-se avaliar o impacto da amostragem sobre malhas de controle com o uso do modelo apresentado acima. Para exemplificar, foi considerado o sistema a seguir.
100
s(s+10)
(26)
Na Figura 22, é apresentada a resposta ao degrau deste sistema admitindo três valores distintos de amostragem, T= {0,1; 0,05; 0,02}s. As respostas do sistema considerando estas três situações são comparadas com a resposta do sistema funcionando em malha fechada sem a utilização do elemento amostrador-retenedor, conforme pode-se observar na Figura 22.
A análise da Figura 22 leva a conclusão que o efeito dos períodos de amostragem maiores em um sistema de controle em malha-fechada conforme o apresentado, implica em maiores oscilações do sinal de saída do sistema. Tal fenômeno se explica, porque a inclusão do elemento de amostragem e retenção com período igual a T segundos, traz consigo somente o acréscimo de — radianos na fase da função de transferência do sistema de malha-aberta na frequência de w rad/s, mantendo inalterada sua magnitude:
^G(s)Zoh —
OH
zG(s)“T
|zG(s)ZoJ — |zG(s)|
I	~
-----Amostragem 0.1
Amostragem 0.06
Amostragem 0.02
-----TransferFcn
Tempo [s]
0,1	0,2	03	04	0.6	06	07	08	09
Figura 22 Desempenho do controle em função do período de amostragem.
Efeitos dos atrasos nas malhas de controle
Os atrasos nas malhas de controle degradam o desempenho em sistemas de controle. Para o estudo destes atrasos, pode considerar-se o sistema da Figura 23, onde ica e tsc são os atrasos induzidos pela rede de comunicação compartilhada.
Figura 23 Sistema de controle em malha fechada com atrasos.
Existem diferentes tipos de atrasos adicionados por uma rede em NCS tais como atrasos constantes e atrasos aleatórios. Vários estudos sobre sistemas com atrasos constantes já foram realizados, tais como os apresentados por (ZHANG; BRANICKY; PHILLIPS, 2000), que visam estabelecer um critério de estabilidade para garantir o funcionamento do sistema dentro de certas condições. Para sistemas com atrasos aleatórios são necessários algoritmos sofisticados, baseados na análise de estabilidade estocástica, como os apresentados por (HESPANHA, 2007).
em frequência do sistema sob a influência dos atrasos. A figura apresenta o sistema original em azul e o sistema sob a influência com dois atrasos, em vermelho 0,05s e verde, com 0,1s.
Figura 24 Resposta em frequência do sistema com atrasos.
Neste exemplo pode-se avaliar a estabilidade do sistema levando em consideração a margem de ganho e a margem de fase do sistema. A margem de ganho é definida como a diferença entre a referência (0 dB) e o ganho da função na frequência cuja fase é +180 graus (frequência critica ). A margem de fase é definida como a diferença entre a fase da função do sistema na frequência de ganho m0 dB = 0 dB e a fase correspondente à frequência crítica, na fase + 180 graus, que leva o sistema realimentado à instabilidade.
Na Figura 24 é apresentado o sistema original (em azul) e o sistema sob a influência de dois atrasos (em vermelho, 0,05 s e verde, com 0,1 s). Como pode-se perceber, o sistema com maior atraso possui menor margem de fase. Ver Tabela 6.
Tabela 6 Influencia dos atrasos na margem de fase do sistema.
Atraso	Margem de fase (MF °)
0	58
0,05	33
0,1	20
Na resposta temporal do sistema apresentado na Figura 25 também se observa incremento de tempos de acomodação e maior sobrepasso.
Saída do Sistema yfi)
■Transfer sem atraso
- TF con atraso
Amplitude do Sistema y (t)
Tempo [s]
Figura 25 Efeitos dos atrasos nos sistemas de controle.
3.3	Considerações Finais Do Capitulo
Neste capitulo foram apresentados os tópicos principais sobre NCS. Procurou-se investigar um modelo para representar o problema de NCS com redes sem fio e as possíveis arquiteturas que poderiam ser implementadas. Foram consideradas três bases de tempo diferentes que reagem no laço de controle: as bases de tempo do atuador, do controlador e do sensor. Na teoria dos sistemas de controle em rede, o período "T" é definido como o tempo que a rede de comunicação necessita para escrever e ler dados do sistema. Na prática, devido a existência de diferentes frequências de operação em cada um dos nós na arquitetura de NCS, são gerados atrasos adicionais que são considerados no período de amostragem completo.
As RCI introduzem alguns efeitos inerentes à rede: atrasos significativos ao sistema de controle e perda de pacotes. Os atrasos podem levar a instabilidade da planta e criar situações perigosas, por este motivo, investiga-se uma forma de modelar os atrasos presentes num laço completo de controle Tk baseado em (HESPANHA, 2007). Referentes à perda de pacotes existem algumas metodologias presentes na literatura, mas para a rede WH utilizada nesta dissertação, utilizou-se as conclusões de (WINTER, 2013), que mostrou uma confiabilidade de 100%, ou seja,
foi garantida a entrega de dados dentro dos requisitos temporais estabelecidos para uma rede WH em cenários com condições reais de propagação de sinais de rádio frequência. Isto mostra que no caso de se utilizar os mesmos requisitos temporais, não é necessária nenhuma técnica para compensar a perda de pacotes, mas sim para os atrasos presentes no laço. Finalmente é mostrado através de uma simulação feita no Matlab, os efeitos da escolha do período de amostragem e dos atrasos num sistema de controle.
4	ANÁLISE DO ESTADO DA ARTE
Neste capítulo são apresentados estudos sobre NCS e trabalhos relevantes que levam em conta a influência direta da rede no comportamento de sistemas de controle, quando é utilizado um meio de comunicação compartilhado. Atualmente, não são encontrados muitos trabalhos na literatura que fazem uso específico do protocolo WH, e na maioria, são baseados em analises de sistemas e redes simuladas. Desta forma, trabalhos importantes sobre NCS que façam uso de outros protocolos de comunicação são apresentados como base, assim como trabalhos importantes referentes ao protocolo WH que possuam simulações ou implementação física do sistema para a respectiva análise. Os trabalhos relacionados ao estudo de WCNS (Wireless Networked Control Systems) encontrados na literatura podem ser em geral classificados em duas categorias: metodologias de projetos de controle em rede e metodologias temporais de protocolos de comunicação. Finalmente, mas não menos importantes, são apresentados alguns trabalhos sobre o desempenho de redes sem fio.
4.1	Referências de Sistemas de Controle em Rede
As primeiras referências do problema de NCS, foram publicadas em (HALEVI; RAY, 1988), (HALEVI; RAY, 1990), (RAY, 1989) e (RAY; HALEVI, 1988), que descrevem os problemas de NCS, através de modelos discretos e variantes no tempo, os quais permitem garantir estabilidade. Também é apresentada a possibilidade de utilizar diferentes frequências de amostragem no controlador e na planta, considerando um sistema de controle multifrequência.
Uma segunda série de artigos apresentados em (LUCK; RAY, 1990), (LUCK; RAY, 1994), (RAY, 1994) abordam o problema do ponto de vista estocástico, empregando uma análise estatística dos atrasos induzidos pela rede, o que permitiu a criação de uma lei de controle que considera os atrasos. Esta metodologia utiliza informação probabilística para o funcionamento dos sistemas, utilizando um observador e um preditor para estimar os estados e calcular o controle. Esta linha de pesquisa constitui um aporte muito importante para o NCS, embora não seja a linha de pesquisa desta dissertação.
considerados sensores que trabalham por temporização assim como controladores e atuadores por eventos, de tal forma, que o tempo de transmissão não é constante.
4.1.1	Referencias de sistemas de controle distribuído
Outra linha de pesquisa relacionada com o presente trabalho são os sistemas de controle distribuídos. Este tipo de sistema é característico porque, ao contrário dos sistemas de controle convencionais, o elemento que desempenha a tarefa de controle não está localizado num único ponto da malha de controle. Em geral, estes sistemas precisam de algum tipo de comunicação entre os dispositivos que integram a tarefa de controle. Comparado a sistemas de controle centralizados, tais estruturas de controle fornecem maior confiabilidade, flexibilidade e facilidade de manutenção. Os NCS podem ser considerados como parte deste grupo de sistemas de controle no momento.
De acordo com (LUGLI; SANTOS, 2011) a rápida evolução da eletrônica e da engenharia de software e a miniaturização de componentes são os principais fatores e os meios para o desenvolvimento dos sistemas de automação distribuídos com redes de campo industrial, entre estes, os novos protocolos sem fio, tais como WH e ISA100.11a. A diversidade de metodologias para sistemas de controle em rede encontradas na literatura é bastante extensa. Entre alguns trabalhos recentes dedicados a sistemas de controle distribuído e agentes de controle em tempo real destacam-se as seguintes referências: (CERVIN et al., 2003) , (YEPEZ; MARTI; FUENTES, 2002), (ARZEN et al., 2000). No entanto, nos últimos anos, o uso de equipamentos sem fio para monitoramento vem aumentando de forma considerável (SONG, 2008), com a iniciativa do setor industrial de utilizar as redes sem fio para controle. Autores da área como (SONG et al., 2006), (PAJIC et al., 2011) propõem o uso de redes sem fio para controle.
Em (MURRAY; ASTROM; BOYD, 1987), são definidos os sistemas de controle em rede como o futuro dos sistemas de controle. O uso de sistemas de comunicação compartilhados na implementação de sistemas de controle traz novos desafios devido ao fato de que não existe um canal ideal de comunicação (HESPANHA, 2007). Existem vários aspectos principais, mostrados a seguir, que diferenciam o controle tradicional (que possui um canal ideal) do controle baseado em rede, com canal real. Dentre os principais que devem ser considerados estão: canais de banda limitada, amostragem e latências, perda de pacotes e as diferentes arquiteturas de sistemas em redes.
et al., 2010). Estes trabalhos, que são base para esta dissertação, descrevem a arquitetura WH assim como os desafios para a implementação da mesma em sistemas de controle. Com estas novas alternativas para os sistemas de controle industrial, a pesquisa em NCS está em franca ascensão. Prova disso são os diversos trabalhos recentes, como o apresentado em (ZHANG; GAO; KAYNAK, 2013) que aborda os diversos desafios devido às imperfeições induzida pela rede. Considerando tais imperfeições, várias restrições devem ser consideradas na análise e projeto de NCS. Neste artigo, os autores apresentam as principais metodologias sugeridas na literatura para lidar com as restrições típicas induzidas pela rede, ou seja, os atrasos, perdas de pacotes, intervalos de transmissão que variam no tempo e a quantização de dados. Posteriormente foram desenvolvidos novos trabalhos sobre metodologias para sistemas de controle em rede, os quais se complementam e trazem uma grande variedade de metodologias para modelagem, análise e síntese de controladores para NCS, onde cada método proposto considera um certo conjunto dos efeitos introduzidos pelo meio de comunicação.
4.1.2	Referencias de Wireless Network Control Systems
Por exemplo, em (XIN et al., 2014), apresenta dois critérios para encontrar a localização ótima do controlador (OCL) em WNCS baseados na estratégia de controle linear-quadratic-Gaussian. Os critérios propostos no trabalho são aplicáveis às redes One-hop eMulti-hop. Em redes One-hop, o controlador pode ser colocado do lado do sensor ou do lado do atuador. Para redes Multi-hop, onde o controlador pode estar localizado em qualquer um dos sensores, dispositivos de campo, ou atuadores, obtêm-se a condição necessária e suficiente na qual o sistema em laço fechado garante estabilidade. Com base nestes resultados, o problema de OCL é convertido num problema de optimização com um espaço de solução finita, que pode ser resolvido de forma eficiente. Os resultados numéricos apresentam uma relação direita entre a capacidade de recepção de pacotes dos nós (sensor, atuador e cada um dos elementos da rede) e a localização ótima do controlador.
Em (DEMIREL, 2015), é apresentada uma importante análise sobre o desempenho de sistemas de controle em rede com redes sem fio. O trabalho apresenta novas políticas para o envio de pacotes entre o controlador e o sensor considerando redes sem fio Multi-hop. Neste trabalho o autor apresenta conclusões sobre o uso de padrões sem fio industriais WH e ISA100.11), considerando os controladores clássicos e os controladores baseados em eventos, encontrando nestes últimos, melhores resultados. O trabalho também apresenta um estudo importante para
WNCS com atrasos variáveis, mostrando mediante um caso particular de um motor CC os resultados de suas técnicas propostas para à análise.
4.2	Métricas Temporais de Protocolos de Comunicação
Para a análise do desempenho de protocolos de comunicação são utilizadas métricas, como por exemplo, a taxa de utilização da banda disponível, pior tempo de resposta (WCRT - Worst Case Response Time), tempo de latência, perda de pacotes e jitter na transmissão de mensagens sob diferentes condições de trafego e topologias de rede.
Existem diversos trabalhos que abordam esta questão tentando aproximar o uso de protocolos de comunicação em NCS. Por exemplo, em (SANTOS; ATAIDE; VASQUES, 2003), foi realizada uma comparação entres as propriedades temporais das redes de controle CAN e Ethernet. Basicamente, foi avaliada a capacidade para suportar sistemas controlados por computador, através do cálculo do tempo de resposta das mensagens no pior caso. Um pequeno exemplo de um NCS é então utilizado para comparar a capacidade destas redes de controle para satisfazer os requisitos da aplicação utilizada. Neste trabalho, é apresentado o impacto que um sistema de controle sofre ao definir um protocolo com a MAC determinística ou não para a rede de comunicação. Os resultados das simulações mostram que a rede CAN (Controller Area Network) apresenta boas propriedades para a transmissão de mensagens em tempo real, em função de sua característica determinística e atribuição de prioridades sobre as mensagens, que dá flexibilidade para atribuir maior prioridade a mensagens críticas. Os resultados para a rede Ethernet com protocolo de acesso ao meio probabilístico CSMA/CD (Carrier SenseMultiple Access with Collision Detection), apesar de não ser adequada com relação ao determinismo de transmissão de mensagens, pode ser compensada ao utilizar-se taxas de transmissão mais elevadas ou baixa ocupação de rede.
Uma vez que o padrão WH foi ratificado em setembro de 2007, o escalonamento em redes WH foi investigado em alguns trabalhos recentes. Diversos trabalhos têm proposto algoritmos de escalonamento para convergecast assumindo modelos simplificados de rede, tais como: o modelo linear apresentado em (ZHANG; SOLDATI; JOHANSSON, 2009) e redes em árvores (P. SOLDATI, 2009), (ZHANG et al., 2010). Para topologia em árvore, assume-se que a profundidade da árvore não é maior do que o número de canais. Nestes trabalhos não foram considerados fluxos em tempo real com diferentes prioridades e programação de transmissão baseada em prioridade.
comunicação, saltos de canais e lista de canais proibidos. Estas características únicas introduzem novos desafios nas análises dos atrasos fim-a-fim para efetuar controle ou monitoramento numa rede WH. Em (SAIFULLAH et al., 2011), foi explorado o problema da latência nos algoritmos de escalonamento. O objetivo do trabalho é avaliar o tempo de latência fim-a-fim durante a transmissão de mensagens numa rede WH que usa uma política de escalonamento baseado na atribuição de prioridades fixas. Para isto os autores utilizaram uma rede real desenvolvida em (LOUIS, 2011) para os testes. Os experimentos mostram que o atraso estimado com as simulações e os resultados encontrados com a plataforma de testes são altamente eficazes em termos de taxa de aceitação sob várias políticas de escalonamento de prioridade fixa.
Em um outro trabalho apresentado por (SAIFULLAH et al., 2014) foram pesquisados os efeitos da limitação de banda da rede com diversos laços de controle. A escolha da frequência do laço de controle nas redes WH apresenta quatro métodos para resolver o problema existente devido à restrição do atraso máximo da rede. Os algoritmos de solução apresentados no trabalho são: o método do sub-gradiente, o método greedy heuristic, o algoritmo de otimização com restrições com busca simulated annealing (SA) baseado em penalidade, e a seleção da frequência de amostragem como um problema de otimização convexa diferençável, que fornece uma solução de forma fechada por meio de um método de descida do gradiente. Para a avalição dos resultados é utilizada a uma rede real (LOUIS, 2011) e os resultados mostram que o metodo de descida apresenta um maior tempo de execução assim como maior custo no algoritmo de controle. Os metodos SA e greedy heuristic representam os extremos opostos entre o custo do controle e o tempo de execução, enquanto o método de descida do gradiente apresenta um equilíbrio entre o custo do controle e o tempo de execução.
4.3	Trabalhos Relacionados com Desempenho de Redes
Apesar dos benefícios diretos das redes sem fio, uma rede WH apresenta uma série de desafios técnicos (confiabilidade, robustez, consumo de energia, tolerância a falhas, atrasos constantes). Sendo assim, a demanda para o desenvolvimento de ferramentas para avaliar e garantir confiabilidade em malhas de controle torna-se iminente (SANTOS etal., 2014).
cabeadas. Outros erros de comunicação ocorrem devido a atenuação do sinal (influenciada pela distância entre o transmissor e receptor) e o problema de múltiplos caminhos (devido à reflexão, difração e espalhamento do sinal transmitido) (DI MARCO et al., 2014).
Existem trabalhos importantes sobre a confiabilidade de redes WH, entre eles, (PETERSEN; CARLSEN, 2009) onde uma rede WH foi testada utilizando 9 nós e 1 GTW sob condição de coexistência com o padrão IEEE 802.11. Neste trabalho três canais foram utilizados simultaneamente (1,6 e 11), deixando apenas 3 canais WH livres de interferência. No pior caso, foram observados uma média de perda de pacotes de 27% aproximadamente dentro do período em que foi inserida interferência na rede WH. Outra situação empregada foi a geração de interferência por meio de um chirp jamming (linear or nonlinear frequency modulation interference) com o transmissor interferente posicionado a uma distância inferior a um metro do GTW WH, transmitindo em períodos de 10 ms. Neste cenário, a rede WH apresentou total degradação, não havendo nenhuma recepção de dados no GTW e resultando em uma confiabilidade de 0%. Porém, este último caso é improvável dentro de um cenário real, onde a concorrência de redes sem fio seria inviável.
Em (SHAH, 2009), os autores desenvolveram um ambiente de simulação que permite modelar redes WH para avaliação do desempenho de métodos de escalonamento para aplicações de controle, mediante testes com diversos tamanhos da rede considerando a distribuição geográfica da mesma. Desta forma é possível avaliar o desempenho de uma implementação real de um sistema e escolher o melhor algoritmo de escalonamento para o processo desejado avaliando os nós presentes na rede.
Em (NOBRE, 2011), descreve-se a implementação de um módulo de simulação para redes WH, utilizando o simulador de redes NS-3. No trabalho, são avaliadas a probabilidade de perda de pacotes (Packet Error Rate - PER), a probabilidade de que uma informação produzida seja recebida no destino e a duração da bateria nas estações. Os resultados mostram que dentre as topologias utilizadas para teste (estrela, linear e cluster), a topologia linear mostrou-se mais suscetível a ruídos no canal, mas sua probabilidade de sucesso foi mais acentuada que as demais, ou seja, com a implementação de trabalhos que minimizem este impacto, está topologia pode ser uma boa alternativa. Essa proposta também não possibilita obter conclusões aprofundadas sobre redes sem fios reais.
A literatura apresenta muitas pesquisas e resultados envolvendo a análise de alguns parâmetros relacionados ao desempenho de redes IEEE 802.15.4 em relação a outros padrões que
operam na mesma faixa de frequência. Os resultados de desempenho são variados e isso se deve principalmente à dificuldade de caracterizar nos modelos de testes utilizados todos os parâmetros envolvidos em um sistema de comunicação sem fio real. Em (WINTER, 2013) é proposta a avaliação do desempenho do protocolo WH em condições de coexistência com outros padrões que utilizam a mesma faixa de frequência do espectro. Os resultados demonstram que a rede WH é prejudicada sob certas condições de coexistência variando a intensidade da degradação em função do tamanho dos pacotes e do nível de ocupação dos elementos interferentes. No entanto, apesar das perdas registradas, o nível de confiabilidade do protocolo sempre se manteve em 100%, ou seja, garantiu a entrega de dados dentro dos requisitos temporais propostos.
4.4	Análise de Sistemas de Controle sobre Rede WH
Sistemas controlados em rede constituem um conjunto de tópicos de pesquisa em ascensão. Este aumento está diretamente relacionado ao crescente desenvolvimento das redes de comunicação em diversas aplicações industriais, particularmente nos campos de fabricação de produtos e nos processos complexos ou sistemas de controle distribuídos, como o setor de petróleo e gás. A avaliação dos atrasos e da confiabilidade das redes para efetuar controle é indispensável para a indústria. Os estudos atuais estão centrados no problema mais importante em NCS, que são os atrasos gerados pela comunicação.
Pode-se classificar as aplicações rodando em uma planta de processo em 3 grupos: as aplicações de classe C, para monitoramento, da classe B para controle e da classe A, para a segurança. A classe B também pode ser dividida em controle de supervisão, controle de malha aberta, controle de laço fechado e controle crítico. Esta dissertação trata de aplicações de controle de laço fechado (HAN S. , et al., 2010).
Existe uma outra área de pesquisa, com âmbito de aplicação mais vasto e que é dedicada a sistemas de controle em rede em tempo real, para aplicações críticas de controle dentro da classe A, ou em inglês, Real-Time Networked Control Systems ou Time-sensitive Networked Control Systems (ZHEN; CHOW, 2006b) e (ZHEN; CHOW, 2006a). Nas aplicações desenvolvidas para sistemas de controle em rede em tempo real há necessidades temporais, sem as quais os resultados não são considerados corretos. Em Real-Time Networked Control Systems o mais importante não é apenas que o valor calculado esteja correto, mas também o instante de tempo em que os dados calculados estão disponíveis, logo, o algoritmo de controle pode ser considerado dentro de tais sistemas. Para isto, deve se considerar a sincronização entre os elementos de cálculo fisicamente
separados, que são de grande importância quando um meio de comunicação compartilhada está presente.
Vários trabalhos recentes em pesquisa sobre WNCS para redes WH podem ser ressaltados tais como (DE BIABSI; SNICKARS; LANDERNAS, 2008a). Neste trabalho foi desenvolvida a simulação de uma rede WH e aplicados a sistemas de controle em rede com o simulador True-Time. A camada de acesso ao meio do protocolo foi implementada em C++, e mostra o impacto da dessincronia dos relógios no desempenho de sistemas de controle quando comparado ao caso onde não existe sincronia entre o controlador e rede sem fio. Mas nem sempre isto é possível, o trabalho mostra que mediante um controlador de previsão pode-se reduzir significativamente o problema causado pela dessincronia dos relógios. Um segundo trabalho importante relacionado de (DE BIABSI; SNICKARS; LANDERNAS, 2008b) apresenta um comparativo entre o desempenho de redes WH e redes ZigBee utilizando o mesmo ambiente simulado e um número fixo de pacotes perdidos para a análise. Este trabalho constitui uma base para um estudo mais aprofundado do uso do WH para controle de processos em malha fechada. No trabalho, é analisado o comportamento de dois motores CC com taxas de amostragem de 50 ms ou menos, comprovando a viabilidade do controle em rede.
Em (FERRRARI, 2013), também foi implementada uma ferramenta de simulação para redes sem fio WH. Assim como os outros trabalhos recentes, este não possibilita aos interessados obter conclusões sobre o desempenho de uma rede real sobre sistemas de controle. Os mesmos estão sujeitos às funcionalidades do simulador True-Time para avaliar os problemas referentes aos NCS, tais como a coexistência num ambiente industrial e estabilidade da rede. Nos resultados mostrados no trabalho, encontrou-se a distribuição temporal dos períodos de envio de mensagens no laço de controle através da rede, procurando caracterizar o determinismo da comunicação. Como resultado, pode-se observar a degradação de desempenho quando sofre maior interferência, assim como um comparativo nas mesmas condições entre uma rede WH e uma IEE 802.15.4, apresentando a análise da distribuição temporal dos períodos das mensagens de controle e observando, inclusive, a degradação de desempenho com o aumento do tráfego de dados.
Em (SANTOS et al., 2014), é apresentada uma avaliação a qual permite analisar o comportamento de uma rede WH em processos de controle do nível de água em sistemas de tanques acoplados. Neste trabalho, o autor propõe utilizar componentes comercias com o objetivo de desmistificar a utilização tecnologias sem fio em malhas de controle industriais. Os resultados do trabalho mostram laços de controle estáveis para intervalos de amostragem entre 1 e 8 s, revelando que é possível fazer um sistema de controle com equipamentos industriais sem fio, embora com limitações referentes à taxa de transmissão de dados.
Em (HORVATH; YAMPOLSKIY; KOUTSOUKOS, 2015), é abordado o problema de NCS como uma importante classe de Sistemas Cyber físicos (CPS, Cyber-physical systems), abordando o problema como um processo físico controlado através de redes de sensores, atuadores e controladores. Neste trabalho, propõe-se um simulador capaz de representar uma rede mesh sem fio, centralizada, capacidade de tempo real, que inclui um modelo real da camada física. Os resultados são avaliados por um simulador para NCS baseado em redes WH programado em SimPy que difere dos simuladores especializados em redes como NS-2 e OMNet++, pois este pode monitorar e avaliar numericamente os resultados da simulação. Os autores testaram o simulador mediante um sistema MIMO (multiple-input multiple-output) com um controlador preditivo, com as saídas do sistema para um intervalo de controle de 100 ms, considerando atrasos insignificantes.
Para a presente dissertação, foram utilizados os equipamentos desenvolvidos em (MULLER etal., 2010) para realizar um NCS, utilizando uma rede WH que usa um GTW comercial. Embora existam limitações referentes à taxa de transmissão e altas taxas de latência, o controle foi realizado com um controlador por eventos mediante o princípio mostrado pelo (DURAND; MARCHAND, 2009). A abordagem é a melhor alternativa conforme o cenário típico de uma rede e suas características decentralizada de controle ET (MAZO; TABUADA, 2011).
4.4.1	Controle no gateway
Para avaliar vantagens da alocação do módulo de controle dentro do gateway é necessário modificar o gerenciador da rede utilizado nesta dissertação. Para satisfazer isto encontra-se na literatura trabalhos como o apresentado por (HAN et al., 2011). Este trabalho procura satisfazer os requisitos para comunicação em tempo real, propondo algoritmos de roteamento que buscam construir grafos confiáveis de uplink, downlink e broadcast para atender os específicos das redes WH. Nos resultados, os autores mostram uma relação entre o número de nós da rede e a latência, uma análise de roteamento e confiabilidade da rede.
Existem diversas metodologias associadas aos algoritmos de roteamento e escalonamento para redes WH. Em (NOBRE; SILVA; GUEDES, 2015) são apresentados um conjunto de todos os trabalhos mais relevantes. Através das discussões de temas de roteamento, pode-se verificar que este é um campo amplo, em que a variedade dos algoritmos e soluções está crescendo junto com o número de aplicações onde o protocolo WH é aplicado. Por exemplo: aplicações de monitoramento pode usar redes em malha, a fim de melhorar a sua confiabilidade através do uso de redundância espacial (vários caminhos), e aplicações de controle pode usar a redundância temporal (várias cópias dos dados transmitidos). Para outras aplicações, há também a possibilidade de utilizar uma solução híbrida.
Um exemplo é a dissertação de mestrado de (PESONEN, 2010) onde foi implementada uma rede WH através de um Tmote sky, ou modulo sensor sem fio. Como resultado da implementação onde foi priorizado a redundância temporal, os tempos de latência no laço de controle são menores comparados aos oferecidos pelo gateway da Emerson utilizado nesta dissertação. Em contraste outras técnicas para compensar a perda de pacotes devem ser desenvolvidas. Neste caso o controle foi efetuado mediante um controlador LQR com um filtro de Kalman como estimador de estados.
4.5	Considerações Finais do Capitulo
Neste capitulo é apresentada a revisão da literatura envolvendo o estado da arte dos trabalhos de sistemas de controle em rede. Para o desenvolvimento desta dissertação procurou-se investigar os diferentes aspectos dos NCS tais como, compensação de atrasos, estabilidade, perda de pacotes, com o fim de mostrar as diversas técnicas existentes para tratar cada um destes problemas, tanto para redes cabeadas como para redes sem fio. Em seguida, são investigados trabalhos que abordam as métricas temporais para RCI com o objetivo de indagar sobre a origem dos atrasos presentes em NCS e a influência dos algoritmos de escalonamento e a limitação de banda do protocolo empregado. A teoria de WNCS além dos efeitos inerentes à rede, aborda um outro problema: a confiabilidade de uma rede sem fio. Por isso foram investigados alguns trabalhos que analisam a coexistência de redes WH em diferentes âmbitos. Também foram analisados trabalhos de sistemas de controle em redes WH onde se evidencia que, na maioria dos trabalhos relevantes, são utilizados simuladores de rede, excetuando o trabalho (SANTOS et al., 2014).
através de um software hospedeiro, conforme é descrito em 4.5.1, e cujo detalhamento será apresentado no próximo capitulo com suas respectivas justificativas.
Tabela 7 Trabalhos relacionados
Cenário	Características	Conclusões	Referencia
Zigbee, WirelessHart	Cálculos teóricos mediantes	os modelos matemáticos	da rede e dos sistemas.	1.	A melhor estratégia para a arquitetura orientada a eventos é usar o número máximo de retransmissões. 2.	O desempenho de controle também melhora como o número de tentativas de retransmissão. 3.	Para a arquitetura orientada a tempo. Aumentar o número de retransmissões para além de um ponto ótimo piora o desempenho do controle.	(DEMIREL, 2015)
CAN e Ethernet	Simulações	1.	Os resultados das simulações mostram que a rede CAN apresenta boas propriedades para a transmissão de mensagens em tempo real, em função de sua característica determinística e atribuição de prioridades sobre as mensagens, que dá flexibilidade para atribuir prioridade mais alta a mensagens críticas. 2.	Os resultados para a rede Ethernet com protocolo de acesso ao meio probabilístico CSMA/CD (Carrier Sense Multiple Access with Collision Detection), apesar de não ser adequada com relação ao determinismo de transmissão de mensagens, pode ser compensada ao utilizar-se taxas de transmissão mais elevadas.	(SANTOS; ATAIDE; VASQUES, 2003)
WirelessHART	Simulações	e plataforma de teste com rede real	1. Os experimentos mostram que o atraso estimado com as simulações e os resultados encontrados com a plataforma de testes são altamente eficazes em termos de taxa de aceitação sob várias políticas de escalonamento de prioridade fixa.	(SAIFULLAH et al., 2011)
WirelessHART	Simulações em NS- 3	1.	Os resultados mostram que a perda de pacotes para as topologias utilizadas (estrela, linear e cluster), a topologia linear se mostrou a mais suscetível a ruídos no canal, uma vez que para os piores casos, a sua queda na probabilidade de sucesso foi mais acentuada que as demais. 2.	Para topologias lineares é necessário minimizar o impacto do ruído na perda de pactos. 3.	A topologia estrela apresento menor porcentagem de perda de capotes	(NOBRE, 2011)
WirelessHART	WNCS in TrueTime, Simulações	1.	A simulação mostra que existe melhor desempenho no sistema de controle quando estiverem sincronizados o controlador e a rede sem fio. 2.	Quando não é possível a sincronia dos relógios, pode-se reduzir os efeitos mediante um controlador de previsão.	(DE	BIABSI; SNICKARS; LANDERNAS, 2008a)
H'/re/essHART. e ZigBee	WNCS in TrueTime, Simulações	1. E possível efetuar controle em redes WH e ZigBee com taxas de amostragem de 50 ms ou menos.	(DE	BIABSI; SNICKARS; LANDERNAS, 2008b)
HirelessHART	WNCS in TrueTime, Simulações	1.	Como resultado, pode-se observar a degradação de desempenho no sistema de controle quando sofre maior interferência. 2.	Num comparativo nas mesmas condições entre uma rede WH e uma IEE 802.15.4, apresentando a análise da distribuição temporal dos períodos das mensagens de controle e observando, inclusive, a degradação de desempenho com o aumento do tráfego de dados.	Em (FERRRARI, 2013)
HirelessHART	Rede	real, plataforma de teste	1. Os resultados do trabalho mostram laços de controle estáveis para intervalos de amostragem entre 1 e 8 s, e assim mostra que é possível fazer um sistema de controle com equipamentos industriais sem fio, embora haja limitações referentes à taxa de transmissão de dados.	(SANTOS et al., 2014)
HirelessHART	Simulador	para NCS baseado em redes	WH programado	em SimPy	1. Os autores testaram o simulador mediante um sistema MIMO (Multiple-input multipleoutput) com um controlador preditivo e apresentou as saídas do sistema para um intervalo de controle de 100 ms considerando atrasos insignificantes	(HORVATH; YAMPOLSKIY; KOUTSOUKOS, 2015)
Pela análise dos estudos prévios sobre NCS, percebe-se que a maioria dos trabalhos que tratam de WNCS são realizados em plataformas simuladas mediante modelos das redes. E que, só dois utilizam plataformas reais de teste, e nenhum deles aborda o uso de um controlador baseado em eventos em uma rede real para efetuar controle, como será exposto nesta dissertação.
4.5.1	Implementação de sistemas de controle sobre rede
Para esta dissertação, inicialmente foi desenvolvida uma ferramenta em C# que se comunica com uma rede WH que permite criar malhas de controle sobre cada um dos nós participantes da rede, e assim poder analisar o desempenho de um sistema de controle sobre uma rede real. Para o estudo, foram utilizadas as ferramentas providas pelo laboratório LASCAR da UFRGS que serão descritas na subseção 5.6. Para esta análise foi elaborada uma rede, constituída por i) um GTW, comercial da marca Emerson modelo 1420A, ii) quatro FDs WH desenvolvidos nos projetos relacionados do laboratório, iii) uma conexão ethernet UDP entre o computador e o GTW, iv) um atuador para válvulas da COESTER com interface WH.
Diferentemente dos trabalhos relacionados mencionados nas seções 4.1 e 4.4, este trabalho apresenta as ferramentas necessárias para efetuar o controle num ambiente real com uma rede WH usando um GTW comercial.
5	controle sobre redes wirelesshart com o algoritmo de controle localizado no host
Durante muitos anos, o foco principal no uso de redes de comunicação sem fio em aplicações industriais foi o monitoramento de processos. Agora que as redes sem fio estão estabelecidas na indústria, o controle sem fio torna-se objeto de pesquisa para uso em controle (WILLIG; MATHEUS; WOLISZ, 2005) (TILBURY; MOYNE, 2007). O rápido progresso na tecnologia das redes sem fio está removendo a barreira de adoção que limitava a sua implementação. Porém, a questão é: quando as redes sem fio vão substituir os sistemas cabeados? Conforme a tendência, encontram-se na literatura diversas pesquisas na área do controle sem fio, como as mencionadas no capítulo 4.
Este capítulo tem como objetivo mostrar uma visão de como efetuar controle sobre redes WH através de um software host. Apresentando as ferramentas desenvolvidas para a realização desta dissertação, a estrutura do host desenvolvido (HARTControl, HC), e de forma sucinta, o protocolo de comunicação utilizado para a comunicação entre a ferramenta host e o GTW da rede.
5.1 Introdução
O escalonamento das mensagens trocadas entre os nós da rede (controlador, sensor, atuador) é de fundamental importância em sistemas de controle em rede, uma vez que é responsável direto por garantir um limite de tempo máximo entre os instantes em que a saída da planta y(t) é amostrada até a atualização da saída do atuador y(t). O principal responsável por influenciar a duração deste intervalo de tempo é a camada MAC utilizada para a arbitragem do acesso ao meio. De acordo com (ALBERT, 2004), o maior problema referente ao atraso presente no laço de controle acontece quando este tempo não é determinístico. Quando este intervalo é fixo e não apresenta jitter, pode-se elaborar mais facilmente leis de controle que considerem este atraso. Numa rede WH o escalonamento das comunicações é realizado centralizadamente pelo NM. Para que o escalonamento seja feito de forma ótima, o NM precisa de informações sobre a rede, sobre os requisitos de comunicação e sobre a capacidade dos dispositivos na rede. Ao passo que estas informações são obtidas e atualizadas, o NM ajusta o escalonamento para se adequar aos requisitos que analisa da rede. E desta forma o escalonador utiliza as informações obtidas para ajustar o escalonamento.
A heurística utilizada pelo escalonador poderia ser modificada visando aspectos mais críticos conforme a necessidade, tais como latência, robustez a ruídos e redundância, ao invés de se
basear apenas em minimização do tempo e da utilização de canais. Mas, em ambientes fabris com alta presença de interferência é necessário um alto grau de robustez, que tem como consequência um alto grau de latência na transmissão de dados através da rede. Esta dissertação considera este cenário e propõe uma solução para uma arquitetura considerando altos índices de latência.
5.2	Possíveis Fontes de Atrasos em NCS
As possíveis causas de atraso em um sistema de controle podem ser muitas e constituem o principal desafio em NCS. Algumas das possíveis fontes que podem afetar um sistema são listadas: atrasos intrínsecos; tempo morto devido ao escalonamento; atrasos da comunicação; jitter; falta de sincronia dos relógios.
A primeira causa é um fator intrínseco do sistema tomado em consideração. De fato, nem todas as plantas que precisam de aplicações de controle são caracterizadas por uma resposta instantânea (isto é muitas vezes um atraso de transporte, por exemplo, entre uma reação química e o sensor). Além disso, o esquema de escalonamento usado para executar as diversas tarefas responsáveis da computação da malha de controle, tem que ser levado em conta. Por exemplo, se um sensor faz a medição no instante Tr e o controlador é executado, instante T2, um tempo morto (dead time) igual a T2 — Tr é introduzido, ver Figura 26. Considerando-se o caso em que o acionamento não é imediato e em seguida um longo tempo morto tem que ser considerado (na Figura 26), neste caso, o atraso introduzido será T3 —T-^.
Tempo Morto
S	C	A
t.	t	t
Figura 26 Tempo morto entre o sensor e a execução da tarefa de controle (S= sensor, C=controlador, A=atuador).
asseguram um atraso determinístico, o uso de CSMA não. Usando este método, quando ocorre uma colisão, não há nenhuma garantia de ter um tempo limitado antes de concluir a transmissão, nem a certeza absoluta de uma transmissão bem-sucedida. O número máximo de retransmissões e o número de dispositivos que podem acessar a rede ao mesmo tempo, afetarão fortemente o comportamento de um protocolo baseado em CSMA.
A presença de jitter no tempo de execução da tarefa que calcula o valor do sinal de controle influencia no comportamento de uma malha de controle. Por exemplo no caso de um controle acionado por eventos, um jitter (em vermelho na Figura 27) na execução da tarefa de controle, provoca um atraso igual ao jitter em si. Onde o atraso introduzido pelo jitter é dado por (28).
D = (74 - Ta) - (T2 - 71)	(28)
Figura 27 Efeitos do Jitter em controle acionado por eventos (S= sensor, C=controlador, A=atuador).
No caso de tarefas time-driven, o problema poderia ser crítico. Por exemplo (ver Figura 28), se a tarefa do atuador, executada em T3 é executada muito próximo do final da tarefa do controlador executada em T2, então, um pequeno jitter (em vermelho) poderia causar um atraso extra na atuação de todo um período H. O sinal de controle não pode ser acionado durante a execução da tarefa na primeira tentativa de atuação em T3, uma vez que não estava pronta a tarefa anterior (tarefa do controlador) quando a tarefa de atuação tinha que ser executada. A tarefa de atuação poderia ser executada no próximo intervalo de atuação T4, mas no caso time-driven a tarefa de atuação será executada só na próxima tentativa de execução da tarefa de atuação em T5 .
Próximo intervalo de execução no caso EV
H
Próximo intervalo de execução no caso TT
Figura 28 Efeito do jitter em tarefas Time Driven (S= sensor, C=controlador, A=atuador).
Por último, mas não menos importante, a falta de sincronia dos relógios tem que ser analisada. Tipicamente, num laço de controle, há pelo menos um sensor, um controlador e um atuador. Por exemplo, considere o seguinte cenário: o sensor envia a medição através de uma rede via 485 a uma placa de E/S, o controlador recebe os dados deste utilizando um protocolo diferente, como o WH, por exemplo. Após o cálculo, o sinal de controle tem que ser enviado para o atuador através da mesma rede sem fio usada pelo sensor. É fácil de imaginar que, utilizando-se dois protocolos de rede diferentes, nenhuma sincronização entre o controlador e o resto do sistema está garantida. Assim, se tarefas periódicas são usadas para executar a detecção, a atuação e o cálculo do controle, ocorrem pela falta de sincronização dos relógios, tempos mortos adicionais que são introduzidos no laço de controle.
Como é possível notar a partir da Figura 29, se os relógios não estão em sincronia, considerando o controlador como uma tarefa periódica que é executada nos instantes T2 e T4, este não pode calcular o valor do sinal de controle quando uma nova medida não está pronta, ou está, mas com um atraso extra.
Figura 29 Atrasos causados pela falta de sincronização dos relógios (S=sensor, C=controlador, A=atuador).
usa a medição feita no instante T1 e não vai ser acionado antes do instante T6. O atraso total, neste caso, irá ser igual a L = T6-T1 Como é descrito em (29).
D = (T6-T1) = H + L	(29)
Desta forma, devido à implementação de tarefas periódicas é introduzido um atraso D no laço de controle.
5.3 Cenário NCS em WH
A representação de como pode ser implementado um laço de controle fechado através de uma rede WH pode ser vista na Figura 30. Nesta estrutura, a rede WH é utilizada para enviar os sinais de controle e atuação entre os nós da rede.
Dispositivos de campo WH - FD
Gateway
Atuador - Válvula
Figura 30 Cenário típico de uma rede WH
O cenário descrito pela norma WH corresponde a um cenário decentralizado de controle baseado em eventos, ou em inglês, decentralized event-triggered control. Neste cenário, há três locais possíveis para a alocação do módulo de controle: no host, no GTW, e nos FDs (HAN S. , et al., 2010). Nesta dissertação optou-se por alocar o modulo controlador no host pelos argumentos expostos em 5.1. Neste caso é considerado um sistema de controle constituído por um conjunto de sensores e atuadores sem fio e um nó de computação encarregado de calcular o sinal de controle
com as medições obtidas a partir dos nós. Desta forma pode-se modelar a execução da malha de controle em três etapas: a recuperação de dados a partir de sensores, computação do sinal de controle e disposição dos comandos de controle para os atuadores. Além disso, assume-se que o cálculo do controlador acontece em apenas um dispositivo que recupera toda a informação dos sensores, calcula as entradas para todos os atuadores, e divulga estes novos comandos para os nós do atuador.
Para a implementação desta estratégia decentralizada de controle foi desenvolvida uma ferramenta host descrita em 5.4.1, onde foi alocado o módulo controlador que calcula o sinal de controle mediante a execução de tarefa do tipo event-driven que espera os dados do nó sensor para calcular o valor do sinal de controle e enviar para o atuador. Esta estratégia tem como objetivo minimizar o impacto da falta de sincronização entre as diferentes tarefas existentes no cenário, e assim não criar atrasos adicionais além dos inerentes da arquitetura proposta.
5.4	Metodologia Proposta
Para o desenvolvimento da proposta foram utilizados dois protocolos de comunicação: o primeiro, o WH, descrito em 2.2, e segundo, o protocolo HART-over-UDP/IP, descrito em (WINTER, 2010), para efetuar a comunicação entre controlador e GTW através de sockets UDP. Para isto, uma porta de transmissão é utilizada para criar um canal de comunicação entre a ferramenta host e o GTW da rede. A ferramenta host desenvolvida para esta dissertação contém as funções de cada um dos comandos implementados, e estes ficam numa thread dentro de um laço infinito, na ocasião do estabelecimento da comunicação entre a ferramenta host e o GTW.
A ferramenta host desenvolvida solicita os dados do sensor através do comando de leitura da variável de processo descrito no protocolo WH. Este dado é encaminhado para o cache do GTW, e, posteriormente, encaminhado para o host. O dado de controle é calculado e enviado para o GTW no comando de escrita da variável de processo, e encaminhado para o atuador. Na sequência, a resposta do comando e a resposta gerada pelo atuador é encaminhada para o host.
A Figura 31, apresenta as camadas de rede com os protocolos utilizados.
Figura 31 Configuração logica da metodologia proposta
Nesta dissertação foram desenvolvidas duas ferramentas para a análise dos dois estudos de caso descritos em 6.1. A primeira ferramenta, o host tem por função a integração entre a interface gráfica criada, o algoritmo de controle utilizado e a comunicação com o GTW. A outra ferramenta, o “SimuladorPlanta” contém uma thread para a simulação da planta utilizada como estudo de caso.
5.4.1	Ferramenta HARTControl
A norma WH permite a criação de aplicações host que possam se comunicar com o GTW mediante o protocolo HART-over-UDP (HART CONMUNICATION FOUNDATION, 2010b). O software HARTControl (HC) permite a conexão com o GTW da rede via HART-over-UDP conforme os requisitos da norma, e permite realizar laços de controle com qualquer um dos rádios presentes na rede.
Como observa-se na Figura 32, a ferramenta foi criada em linguagem C#, e pode ter acesso a diferentes informações da rede para permitir o envio dos dados aos dispositivos de campo, assim como a obtenção das informações necessárias do processo para poder calcular os valores de cada laço de controle. O software estabelece a conexão com o GTW da rede WH através de um endereço IP, atribuído previamente na configuração do GTW para a conexão UDP, e assim, o software tem acesso às informações dos FD presentes na rede.
Para o desenvolvimento do software HC foram implementados os comandos necessários para a realização do controle em rede (leitura e escrita da variável de processo), e as funções para a conexão e funcionamento do HC (nós da rede, nicknames dos FD) numa biblioteca em C.
O host propicia uma interface amigável para o usuário e assim poder ser utilizado em processos reais, onde o usuário pode modificar os parâmetros do algoritmo de controle implementado de acordo com os requisitos de cada processo (ver Figura 35).
Figura 32 Ambiente de desenvolvimento da ferramenta HC.
Com o objetivo de resolver as características do cenário de controle alocado no host numa rede WH optou-se pela implementação de threads aninhadas e assim poder executar as tarefas de controle cada vez que é obtido o dado do sensor. Desta forma, o programa está dividido em três threads, que são:
Bgthread: gerenciamento da interface de usuário. Solicita o valor do sensor ao FD e encaminha para o controlador, executando os comandos WH previamente disponíveis na biblioteca.
Controlador: esta thread utiliza os dados proporcionados pela Bgthread obtidos da rede. Uma vez que o dado do sensor está disponível, o sinal de controle é calculado e enviado para o dispositivo de campo. Seu ciclo de execução é livre e executado de forma sequencial, quando o sinal do sensor estiver disponível. Implicitamente é temporizado pela recepção do dado do sensor.
Comunicação: tem por finalidade o intercâmbio de dados entre a Bgthread e o GTW.
O fluxo dos sinais de controle e do sensor são apresentados na Figura 33. Ao ser inicializado o software, a primeira ação é estabelecer a comunicação com o GTW da rede e obter os dados; em seguida, é solicitado ao FD o valor do sensor no instante tts (tempo de transmissão do sensor), que são recebidos no programa controlador no instante trs (tempo de recepção do valor do sensor). O controlador processa o cálculo de controle e transmite o sinal de controle para o atuador no instante ttc (tempo de transmissão do sinal de controle), que por sua vez, é recebido pelo FD no instante trc (tempo de recepção do sinal de controle).
34.
Figura 33 Representação das threads da ferramenta host HC .
O fluxograma genérico do funcionamento da thread do controlador é apresentado na Figura
Figura 34 Fluxograma genérico da thread do controlador.
Figura 35 Interface da ferramenta HC.
O gerenciamento e funcionamento da ferramenta host é realizado pela thread Bgthread que gerencia todas a tarefas da ferramenta através da execução de comandos. Estas tarefas são executadas através da thread de comunicação enquanto a Bgthread visualiza as informações na
interface, como pode-se ver na Figura 35. O fluxograma genérico das funções dos comandos
executados pela thread de comunicação é ilustrado na Figura 36.
|	| Tarefas
Início
Evento
Decisão
Fim evento
Comandos:
130,131...
Verifica o tamanho;
Verifica o código de resposta do dispositivo
Figura 36 Fluxograma genérico das funções dos comandos executados pela thread comunicação.
A verificação da chegada de um novo sinal de controle é feita de forma periódica pela Bgthread, e uma vez é confirmada a chegada de um novo dado do FD correspondente ao sensor, este passa para a thread do controlador.
5.5	Simulador Planta
O software Simulador Planta tem como objetivo a simulação da planta que será utilizada para validação da arquitetura proposta e a avaliação do desempenho do controlador baseado em eventos. Com o intuito de representar um processo real da maneira mais fidedigna possível, a planta foi implementada numa thread que calcula de forma periódica o estado do modelo a partir do últimos valores de controle recebido. E avalia de forma periódica a chegada de um novo sinal de controle e envia para a planta da mesma forma envia a saída da planta quando esta é solicitada pela aplicação host. O valor da planta é calculado mediante integração numérica do modelo espaço de estados (ver equação 32), sob a suposição de que todas as condições inicias do sistema são nulas.
O algoritmo deste software está descrito de forma simplificada na representação gráfica na Figura 37, e o procedimento para a realizar a integração numérica do sistema LTI definidos pelas equações diferenciais em (30), onde y e x são a saída e a entrada do sistema, respectivamente. A função de transferência é dada por (31).
a0yn + a1y(n-1) + —+ an-1y + an-1y = b0xm + b1x(m-1) + —+ bm-1x + bm-1x (30)
y(s) _ boxm+b1x(m-1) +—+bm-1x+bm-1x
x(s)	aoyn+a1y(n-1)+-+an-1y+an-1y
A partir da representação de um sistema no espaço de estados, conforme a equação (3), uma representação equivalente é apresentada em (32) e (33)
x1
x2
x3
-x4-
0	1	0	0		x1i		0
0	0	1	0		x2	+	0
0	0	0	1		x3		0
—a0	—a1	—a2	—a3-		-x4-		1
(32)
Y = [b0 b1 b2
0]
x1~
x2
x3 -x4-
(33)
U
de
Figura 37 Estrutura do simulador da planta.
5.6	Analise da Metodologia Proposta
O correto escalonamento das mensagens entre dispositivos de automação (sensores, atuadores e controladores) é de fundamental importância em NCS, já que é responsável direto por garantir que os requisitos temporais impostos (tempo de amostragem dos sensores, tempo de resposta máximo do laço de controle, etc.) sejam respeitados. Todas as atividades correspondes ao escalonamento de mensagens estão implícitas no NM.
A Figura 38 apresenta a topologia da rede do experimento realizado, e a vizinhança de cada um dos dispositivos presentes no experimento realizado é ilustrada na Figura 39. Este experimento foi realizado em um ambiente onde existem outros dispositivos operando na mesma faixa do espectro de RF do protocolo WH, além de obstáculos (paredes, vidros).
A partir dos dados coletados durante o funcionamento da rede é possível determinar o encaminhamento dinâmico de pacotes entre os dispositivos da mesma assim como o movimento de cada pacote de um dispositivo para outro (salto de comunicação), como mostrado na Figura 39. Durante o experimento, foi observada a troca de mensagens entre os dispositivos intermediários e as mensagens enviadas diretamente ao GTW.
Figura 38 Rede WH com rotas diretas para o GTW.
Nesta análise foram coletados dados de tempo do encaminhamento de mensagens entre os dispositivos i) “1 e 2 e o ” e o GTW “3 e 2 e o GTW”. O tempo de transmissão considerado nestas análises é o tempo de transmissão desde o nó de origem até o GTW e o envio de confirmação de recebimento da mensagem.
O tempo médio de percurso do pacote em i) foi de 1,52s, sendo que tempos máximos e mínimos registrados ficaram entre 2,88s e 110ms respectivamente. O tempo médio no caso ii) foi de 1,3s, sendo que os tempos máximos e mínimos registrados ficaram entre 2,21s e 110ms respectivamente. Os resultados são apresentados na Figura 40 para um total de 20 amostras. O NM utilizado no experimento usa o mecanismo de roteamento baseado em superframes.
Este teste revelou uma grande variação no tempo de entrega dos pacotes entre os dispositivos em que o nó de origem e de destino não são vizinhos diretos. Atualmente não há mecanismos de compensação dinâmica de atraso no WH principalmente porque cada nó é um dispositivo roteador independente. Também é importante notar que as medições foram realizadas
com a potencial ocorrência de interferências externas e fenômenos de RF (reflexões, desvanecimento, etc.), uma vez que o experimento foi realizado em um lugar não ideal.
Figura 39 Representação dos enlaces entre os vizinhos de cada FD.
A principal vantagem do uso de roteamento por superframes é que existe melhor trato do tráfego da rede, assim mitigando os problemas de latência. O algoritmo de roteamento por
superframes usa o primeiro link disponível no superframe para o envio de uma mensagem ao dispositivo seguinte. No entanto, este procedimento não garante a melhor entrega de pacotes ao dispositivo de destino quando são considerados vários saltos.
Tempo de transmissão dos pacotes com dois saltos de comunicação
Amostra
Tabela 8 Sequência dos time slot.
Prioridade	“para”	“de”	Sequencia.	Payload
Pdata	5	7	n-2	Cmd 781, bc=1, rc=0, varValue=30
Pdata	7	5	n-1	
Pdata	1	7	n	Cmd 781, bc=3, rc=0, nick=6
Pdata	7	1	n+1	
Pdata	1	5	n+2	Cmd 1, bc=1, rc=0, varValue=30
Pdata	5	1	n+3	
Os dados temporais foram registados de modo a obter o tempo de encaminhamento de envio e recepção de mensagens de cada FD, com o tempo de transmissão de pacotes variando de 110 ms para 2,8s em uma comunicação com dois saltos. Outra análise importante é sobre a estratégia utilizada para roteamento de mensagens pelo NM do experimento. Os resultados apresentados revelam que a estratégia adotada pelo NM comercial empregado em particular, não garante o melhor agendamento para uma transmissão de pacotes, uma questão importante sobre as necessidades determinísticas. Uma possível melhoria do algoritmo de roteamento seria selecionar-se o link com o melhor caminho para o envio do pacote. O experimento realizado mostra que existe uma alta variação entre os tempos necessários para a entrega de pacotes entre os nós que não são diretamente vizinhos.
5.6.1	fre/essHART Modo Burst
Os FDs WH podem ser configurados para operar no modo Burst. Enquanto um FD está no modo Burst, ele irá publicar dados/mensagens com o modo de configuração estabelecido, até receber um comando para modificar o tempo de publicação para um valor diferente. Na Figura 41 é mostrado que, inicialmente, é necessária a configuração do dispositivo para que este passe a publicar as mensagens periodicamente, ou seja, o modo Burst.
Publicação de Dados
Figura 41 Configuração do Modo Burst.
A configuração pode ser feita de acordo com as necessidades do sistema. A distribuição dos links de transmissão atribuídos ao FD para a o envio de dados é gerenciada pelo NM, que deve garantir os requerimentos de serviços e tempos necessários.
Para poder analisar o comportamento da influência do modo Burst escolhido e analisar seu impacto no atraso em um laço de controle é necessário obter os links de uma rede. Isto é feito mediante um experimento simples, como se ilustra na Tabela 9, onde pode-se verificar os links para os dispositivos de campo operando no modo Burst.
Na tabela é possível observar-se que o índice link 0 corresponde ao superframe ID 1, que está no Slot 200 e que corresponde ao FD com NickName 63870.
Tabela 9 Links para o dispositivo 1, Experimento do Modo Burst.
Índice Link	Superframe ID	Time Slot	CH OFFset	NickName	Option	Type
0	1	200	3	63870	Rx	Broad
1	0	800	1	1	Tx	Normal
2	0	1	0	1	Tx/Rx	Discovery
3	4	116	2	63870	Tx	Broad
4	0	217	4	1	Tx	Normal
5	1	228	3	65519	Tx	Join
6	1	230	2	63870	Rx	Broad
7	0	350	4	65519	Rx	Join
8	0	400	7	1	Tx	Normal
9	0	730	8	1	Tx	Normal
10	0	346	7	1	Tx	Normal
Neste experimento, verifica-se que o NM está usando 3 superframes, e nestes é possível apurar quantos timeslost foram alocados para a transmissão (Tx) para cada FD. Seleciona-se um dos dispositivos da rede e a análise da sequência de links atribuídos a ele é feita. A Tabela 10 apresenta o número de slot atribuídos para diferentes tempos de Burst configurados.
Tabela 10 Número de slots atribuídos de acordo ao tempo de Burst.
Burst Time	16 s	4 s 2 s 1 s
Número de time slot 4 5 16 30
Neste caso o superframe ID 0, o qual representa comunicação “Normal” está composto por 1024 slot, para um total de 10,24s. Se o FD tem 5 slot disponíveis para o envio da variável de processo, isto representa 5 oportunidades do envio da variável de processo. Quando se configura o tempo de Burst de 16s, percece-se que o NM aloca 4 links para transmissão “Tx”. Para a configuração de 4s, são alocados 5 links, e assim por diante, conforme pode ser visto na Tabela 10.
Percebe-se que o NM aloca uma maior quantidade de links ao dispositivo de campo para que seja possível cumprir com o deadline para a transmissão de mensagens.
A Figura 42, ilustra o Superframe com 1024 slot e a distribuição dos links de transmissão atribuídos.
cycle n	cycle n+1	cycle n+2
1024 slots	1024 slots	1024 slots
&lt;	&gt;		
		
10,24 s&amp;lt;		Links 30,72 s	
Figura 42 Superframe com links de transmissão.
Um maior número de links de transmissão implica uma maior oportunidade de transmitir os dados solicitados a cada dispositivo de campo. Deste modo, com o objetivo de incrementar a velocidade de resposta dos dados solicitados, neste trabalho foi adotada a maior taxa de transmissão permitida pelo GTW Emerson 1420A, que corresponde ao período de Burst mínimo de 1s.
5.7	Considerações Finais do Capitulo
Na literatura de NCS observa-se diversas possibilidades de implementação de um sistema de controle em rede sem fio. Conforme as características do protocolo WH, nesta dissertação é proposta uma arquitetura que implementa o módulo de controle sobre o host para aplicações em laço fechado considerando um controlador que compensa as limitações temporais oferecidas pelo cenário WH.
As possíveis causas de atraso em um sistema de controle podem ser muitas e constituem o principal desafio em NCS. Como todas as atividades correspondes ao escalonamento de mensagens da rede empregada estão implícitas no NM utilizado numa rede WH, um experimento realizado em laboratório para analisar o roteamento de mensagens é apresentado para análise da proposta desta dissertação. Finalmente, visando analisar o impacto dos atrasos introduzidos pela arquitetura proposta num laco fechado de controle, são criadas duas ferramentas: uma interface de usuário, que também executa o algoritmo de controle proposto, e outra para a simulação de um processo industrial.
6 INFLUÊNCIA DA COMUNICAÇÃO VIA WIRELESSHART EM SISTEMAS DE CONTROLE
Este capítulo apresenta a descrição dos experimentos propostos para validar a proposta desta dissertação. Apresenta-se o simulador de sistemas de controle em rede desenvolvido na ferramenta True-Time, um plug-in para o Matlab. Ao final são apresentados os resultados obtidos.
6.1	Definição dos Experimentos e os Objetivos
A Figura 43 ilustra o diagrama de blocos para circuito de controle por meio do host HC através da rede. Nele é possível apreciar o cenário para esta plataforma de teste.

Controlador
Host HC
Figura 43 Arquitetura da comunicação entre o módulo controlador e o processo.
Para o estudo da arquitetura proposta no capitulo 5, são definidas as métricas de avaliação, os equipamentos utilizados e os experimentos definidos. Cada um destes tópicos será detalhado a seguir.
6.1.1	Métricas de Desempenho
A avaliação dos resultados obtidos com os experimentos é realizada através de algumas métricas das áreas de comunicação e controle, definidas em 2.4.1,
•	Jitter
•	Tempo Pico (rp)
•	Máximo Sobrepasso (Mp)
•	Tempo de estabilização a acomodação (Ts)
•	Atraso no laço de controle (rfc)
6.1.2	Equipamentos Utilizados
Para realizar os experimentos foram utilizados os seguintes dispositivos apresentados abaixo:
GTW WH
Modelo Rosemount - Emerson Process Management, ver Figura 44;
•	Modelo: 1420A;
Figura 44 Smart wireless GTW 1420A - Emerson.
Rádio protótipo
O modulo de comunicação para válvulas utilizadas para a implementação possui um firmware desenvolvido para o padrão WH (MULLER etal., 2010) (ver a Figura 45).
Figura 45 Protótipos WH compatíveis com o protocolo.
Atuador
Atuador CSR 06/12/25 M da empresa Coester com torque até 650 Nm (ver a Figura
46).
Figura 46 Atuador utilizado nos experimentos.
6.1.3	Experimento 1
O primeiro experimento tem como objetivo avaliar o desempenho da rede, quando o laço de controle é fechado através da rede de comunicação e como planta é utilizada um atuador. Para isto são feitas medidas a fim de observar o comportamento do tráfego de mensagens numa rede implementada em laboratório, com o intuito de simular as condições de um ambiente industrial.
Para este experimento será utilizado um atuador da empresa Coester como parte da planta, enquanto o conjunto sensor, atuador será executado pelo FD ligado à válvula, e o algoritmo de controle será executado pelo software HC. A Figura 47 ilustra a configuração deste experimento, onde a rede WH foi configurada com quatro FDs como observa-se na Figura 47. O FD, que está ligado ao atuador, foi configurado com modo burst de um segundo de atualização.
Figura 47 Conexão do computador, GTW e os FDs.
Neste experimento o atuador - válvula está ligado no FD de número 4. A troca de dados entre o host e o FD é realizada através do GTW da rede, que escolhe o caminho adequado de acordo com as especificações do NM. Desta forma os possíveis caminhos para comunicação do host e o FD número 4 são: GTW-4, GTW-1-3-4, GTW-1-4, GTW-2-4, GTW-1-2-4.
6.1.4	Experimento 2
proposto por (DURAND; MARCHAND, 2009) executado pelo software HC, enquanto a planta simulada está num laço infinito no software Simulador Planta, com período de amostragem de 100 ms. Para este experimento é utilizada a mesma rede proposta no experimento 1. A Figura 48 ilustra a configuração deste experimento. O conjunto sensor atuador é executado pelo FD que se comunica com a planta simulada. Os sensores são time-driven, realizando amostragens do processo em intervalos constantes de 50 ms. Tanto controlador quanto atuador são sistemas event-driven, executando seus algoritmos apenas quando uma mensagem é recebida. O controlador é totalmente assíncrono com relação à simulação da planta.
Dispositivos de campo WH - FD
Computador - Aplicação Host
Controlador baseado proposta ÂRZEN
X
X
X
X
Eventos
/ / / / / í / / / ✓ '
s z z z z z
z z z
X
X
X
7
\ \
\
\ \
\ \z
FD 4
X
X
X
Computador - Aplicação Simulador planta Sistema de primeira ordem
Figura 48 Conexão do computador, GTW e FD.
Na implementação deste experimento, a aplicação HC e a planta comunicam-se com o GTW da rede de forma direta, mas não intercambiam informações entre eles. O intercâmbio de dados entre a aplicação HC e a planta simulada é realizada através da rede WH onde o FD número (4) quatro é utilizado como nó por onde passam os dados. Neste experimento o caminho do percurso dos dados é gerenciado pelo NM.
6.2 RESULTADOS EXPERIMENTAIS
Os experimentos foram realizados conforme os cenários propostos na seção 6.1. Os resultados são organizados da seguinte forma: i) atrasos da rede e os resultados do experimento 1; e ii) resultados para o experimento 2.
6.2.1	Experimento 1
Os atrasos presentes na arquitetura proposta nesta dissertação podem-se dividir em três atrasos de uma forma alternativa, que permitam avaliar o desempenho da rede no laço de controle como se ilustra na Figura 49. O primeiro atraso refere-se ao atraso durante o tempo de execução das tarefas da aplicação HC; o segundo atraso t2, é induzido pela comunicação entre o software HC e o GTW; e o último atraso t3 é causado pela rede sem fio WH.
Afim de analisar a influência dos atrasos e t2 um experimento foi feito utilizando a ferramenta HC desenvolvida, e, para isto utilizou-se o comando 3 que permite obter a informação da variável de processo guardada no GTW. Para o experimento, o comando foi executado 1000 vezes. O primeiro resultado apresentado é o histograma da Figura 50, correspondente ao tempo de computação do host HC e o tempo de comunicação entre o PC onde é executado o host e o GTW ?! e t2. Analisando-se o histograma apresentado na Figura 50, pode-se notar que as maiores concentrações dos valores dos períodos destes atrasos estão no intervalo entre 1,8 ms e 2 ms, e correspondem a cerca do 80% dos períodos dos atrasos verificados neste cenário.
Figura 49 Atrasos presentes na Arquitetura Proposta.
Foi obtido um atraso médio de 1,6 ms com um jitter de 0,5 ms. Na Tabela 11 é apresentado um resumo estatístico sobre a dispersão dos dados do experimento.
Frequência
% acumulado
350
Atrasos [ms]
120.00%
100.00%
80.00%
60.00%
40.00%
20.00%
0.00%
Figura 50 Histograma dos atrasos t1 + t2.
A coluna “Máximo” representa o máximo período encontrado no experimento realizado para os atrasos + t2, a coluna “Mínimo” representa o mínimo período entre a comunicação e o tempo de cálculo entre a ferramenta HC e o GTW. A coluna “Média” representa a média aritmética das mil amostras consideradas, e as colunas “Desvio padrão” e “Variância” representam o desvio padrão e a variância de todos os dados verificados ao longo do experimento.
Tabela 11 Resumo estatístico dos atrasos Tj + t2 em ms.
Máximo Mínimo Média Desvio Padrão Variância
3,5	0,9	1,64547	0,236168226	0,055831262
Em um outro experimento, utilizando a ferramenta HC sem implementar thread encontrou-se um atraso médio de 2,73 ms com um jitter de 0,73 ms, evidenciando desta forma tempos melhores na implementação em thread.
Segundo (NILSSON, 1998) qualquer atraso computacional tc do controlador está incluído dentro dos atrasos tsc (atraso sensor-controlador) ou tca (atraso controlador-atuador) e, considerando-se o desvio padrão e a variância dos dados, pode-se considerar + t2 de forma geral como um atraso de cerca de 1,6ms. Os atrasos na comunicação entre a troca de mensagens do sensor para controlador e do controlador para o atuador Tk = tsc + tca incluem os atrasos + t2 e T3.
Como pode-se observar, não há uma grande alteração no período das mensagens de controle, sendo que a grande maioria (por volta de 70%), possuem período no intervalo entre 1,5 e 2 ms. A Figura 51 mostra o tempo medido para 1000 amostras.
4.00
0.00
&lt;—*
rj in oo -' 'C Od T) oo o 'C Od cf r' o 'C x -■ -r	C1 cl 'n oo -■ -r e. rj in oo
cj ci cl cc cc cc cc ■xf Tr in irrin 'rr'C 'jj	r~ ç- r~ ç- oc oo oc oo e. e.
Amostra
Figura 51 Atrasos Tj + t2.
Na Figura 54 são ilustrados os atrasos totais coletados conforme a Figura 52. Neste caso, foi realizado um simples controle de posição do atuador, posicionado ao atuador em um valor desejável.
Host HC
V
cts			
trs	— SC Tk	Ts Tk			►
	◄			
¿te	TC		
	-ca		
	Tk			*•
trc			
	◄			
Figura 52 Instantes de tempo Tf
Válvula

Analisando-se o histograma apresentado na Figura 53, pode-se notar que a maior concentração dos valores dos períodos do laço de controle se dá entre 10 e 12,5s, e corresponde à aproximadamente 80% das amostras verificadas. O resumo estatístico do experimento é apresentado na Tabela 12.
Tabela 12 Resumo estatístico dos atrasos do laço Tk.
Máximo Mínimo Media Desvio Padrão Variância
15.3900	6.2700	9.5600	2.170858	4.717342
450
«	400
350 E&amp;lt;8300
-= -ü
250
i&amp;lt;01
200 ’□ o
150
100 01
50 0
120.00%
100.00%
80.00%
60.00%
40.00%
20.00%
0.00%
LO b T—1	lo o lo m rxj t—i	O lo ro lo vi	LD CD LO T—1 T—1	LO LO T—1	CD LO b (N	cxi	lo r-- lo o uS	oo	m rsl	rsi
			Periodo [s]			■ % acumulado
Figura 53 Histograma de atrasos no laço de controle completo Tk.
A Figura 54 ilustra os tempos medidos do laço de controle completo rk (equação 35) posicionando o atuador, para um total de 1000 amostras, neste experimento foi observado um tempo de atraso médio de 9,56s e um jitter médio de 1,57 s apresentado na Figura 55.
(35)
Tk = isc + iCA = Ti + t2 + t3
00
xH^tr^OrCLDCDCNLOOOx—l^tr^Om&lt;DCDCNLOOOvl^tr^Om&lt;DCDCNLOOOx—1 míDOrniDCDmiDCDmiDCDmLDCDrxjiDCDrxjiDCDrxjiDCDrxjLOCDrxjLOCD X—lx—lx—lx—ICNCNCXimmm^t^t^tLOLOLOLDLDLDr^r^r^OOOOOOCDCDCD
Amostra
Figura 54 Atrasos no laço de controle Tk.
Aqui, o objetivo é avaliar o comportamento do sistema em malha fechada utilizando o um controlador discreto e o atuador (válvula).
ET, executando-se apenas quando uma mensagem e recebida, optou-se pela implementação de um controlador ET para o experimento 2.
14.0
Figura 55 Jitter do laço completo de controle.
Levando-se em conta a proposta, foi realizado o posicionamento sobre a válvula. Os resultados deste experimento podem ser visualizados na Figura 56, onde é mostrada a posição do atuador em função do tempo. Para este experimento, o valor setpoint foi de 70% da abertura da válvula.
• • Posição enviada
Posição do atuador-----------Setpoint
características, optou-se pela implementação de um controlador baseado em eventos e a sua implementação será detalhada no experimento 2.
6.2.2	Experimento 2
Para a validação deste experimento será apresentado i) O projeto de algoritmo de controle para sistemas com atrasos de comunicação na rede; ii) a simulação do controlador com a ferramenta True-Time numa rede sem fio IEEE 802.15.4 (camada física do WH); e iii) a implementação do controlador proposto.
Projeto de Algoritmo de controle para sistemas com atraso na comunicação
O maior problema referente aos sistemas de controle em redes sem fio é quando os atrasos presentes no laço são variantes no tempo. Se os atrasos fossem sempre constantes, poder-se-ia elaborar facilmente leis de controle que considerassem estes atrasos. Neste contexto seria importante discernir que, para aplicações críticas de controle, é necessário um protocolo de comunicação que possa garantir determinismo na transmissão das mensagens.
Partindo do princípio de que a planta, apresentada na Figura 10, tem saída y(t) escalar, haverá uma única sequência t¿ de instantes de amostragem. Portanto, é possível concluir que se tem um sistema de tempo discreto, em que o intervalo entre os instantes de amostragem ti+1 e t¿ é variável. Partindo disto, uma alternativa simples é, usar uma lei de controle de tempo contínuo e, em seguida discretizá-la, utilizando qualquer técnica convencional (por exemplo, o método de Euler, a regra trapezoidal ou o método de Tustin) (ÂRZEN, 1999). Neste logica deve considerar-se que os parâmetros do controlador discreto dependem do intervalo de amostragem t¿, e estes parâmetros só serão modificados quando forem tomadas novas amostras em ti+1.
A fim de compensar os atrasos introduzidos pela rede, está dissertação implementa o método de (ÂRZEN, 1999) onde o evento para o cálculo do sinal de controle é dado pelo período de amostragem permitido pela rede sem fio WH.
A equação que descreve o controlador no plano s é dada por (36):
U(s) = K ( E(s) + E(s) + TdsE(s)}	(36)
U„(s) = K (j3 Ysp(s') - Y(s))
Ud(s) =	(yYsp(s) - HX))
1 +"Ñ“
(37)
(38)
(39)
O controlador discreto PID é finalmente obtido pela discretização de (37), (38) e (39) e o pseudocódigo é mostrado na Tabela 13. A discretização da parte proporcional é fácil porque só é a substituição pela versão amostrada; enquanto no termo Ut é utilizado o método forward diferences (método de Euler). O motivo para esta escolha é que é possível pré-calcular a parte do intervalo ti+1 já em t¿. Isto reduz os cálculos que precisam ser realizados entre a amostragem do sinal de medição Y e a geração do sinal de controle U, reduzindo assim o tempo de computo necessário para a execução do algoritmo. O termo Ud é discretizado mediante o método backward difference (método diferencial) devido a que esta aproximação de Ud é estável para todos os valores de Td.
Tabela 13 Pseudo Código do Algoritmo de ÂRZÉN Implementado.
function u=control_input_generator(ysp,y)
e = (Ysp-y);
// Calculate control signal
Up = K*( Beta * Ysp - y );
Ud = Td/(N*hact + Td)*Dold - K*Td*N/(N*hact + Td)*(y - Yold);
Ui = ¡old;
// Control singal
u = Up + Ui + Ud;
//Update
Yold = y;
Dold = Ud;
Iold = Iold + K*hact / Ti*(Ysp-y);
Os dados considerados no algoritmo implementado são mostrados na Tabela 14.
Tabela 14 Parâmetros do Controlador por eventos.
Parâmetros Valor
Kp	5
Ti	20
Td	1
N	50
Beta	0.4
Simulações na ferramenta True-Time
802.15.4.	Para isto foi criada a rede sem fio, uma planta, um controlador baseado em eventos conforme a descrito na seção Projeto de Algoritmo de controle para sistemas com atraso na comunicaçãoO e uma função que simula um alto tráfego da rede para criar atrasos aleatórios. A configuração desta implementação é ilustrada na Figura 57. O padrão 802.15.4 utilizado nesta simulação não é muito diferente do WH; o padrão WH utiliza a camada física e a subcamada LLC do padrão 802.15.4, enquanto a subcamada MAC em WH é do tipo TDMA. No padrão 802.15.4 a camada MAC é do tipo CSMA-CA, também empregada no WH, quando os enlaces são compartilhados. No WH, a camada de aplicação e de rede estão orientadas para a otimização de energia e redundância de rede enquanto o padrão 802.15.4 não possui camada de rede.
Figura 57 Configuração do laço de controle em rede.
Para a simulação, os elementos do laço de controle (sensor, controlador, atuador) são implementados em nós inteligentes. Nesta simulação o sensor amostra a saída da planta y(t) com um período nominal configurado. Este novo valor estará disponível para ser enviado ao controlador, logo depois de ser executada a tarefa de amostragem do sensor num tempo logico de Cls. O dado é enviado ao nó controlador através da rede onde é invocada a função de controlador logo depois de um tempo ILC para assim calcular o valor do sinal de controle e logo é enviado para o atuador,
depois de um tempo lógico Clc. O valor do sinal de controle u(i) é calculado de acordo com o algoritmo baseado em eventos de Karl-Erik Ârzén, levando em conta o valor do set-point Ysp (i).
O diagrama em blocos do estudo de caso criado usando as ferramentas Simulink e TrueTime, apresentado na Figura 58. Aqui pode-se ver componentes que representam o comportamento da rede sem fio, a planta, o controlador e um bloco de função para simular os atrasos. A função Sensor/Atuador foi criada baseada no bloco True-Time kernel e da mesma forma o controlador. Todas as informações entre os nós são enviadas através da rede.
Como pode-se visualizar na Figura 60 , devido aos atrasos aleatórios o controlador baseado em eventos calcula o sinal de controle de acordo com o atraso do laço. Desta forma o desempenho para cada período é totalmente diferente e depende dos atrasos presentes no laço.
Figura 58 Representação da simulação do controle no True-Time.
Nesta primeira simulação, é apresentado o resultado para um servo motor com função de transferência apresentada na equação (40) (ver Figura 59).
s2+s
Figura 59 Simulação de um WNCS no True-Time.
Simulação do Estudo de caso (True-Time)
		— Ysp, Y						
A 		A 1 \				l\ ' '		
	1 1	\ 1		i	1 1	1 4		\ 1	l\ 1 \ ' 1 \l 1	v— 1 .1	
	( 1	1 1	l 1	1 1	í 1	1 1	1 ...1		1 1
	1 1	1	 1 1	1 j	1 1	1	 J J		I	 1 ...i		1 1	1 1 ..1	
	í 1	1 -	l I	'/■ l/\ ~	1 1	1 ' -	1	 1 1	1
!7		n - w 			”		V " 			V
1	n ii		
&lt;• _	”1*	 G 1. r	 		...1	...		
rt	:	I1 II	; ,	11 11 11	11 í í	j!	í í ¡i	h i	A
r	O ri	í\	11 ¿ TI----!	I''-	; j l|,r-	/ T--- J -	i l	i i d	r L		L.	|¡	!f		¡1 !' 11 i *¡ L 1 j	IL	k	I \
	i ri J	1/	n 'ALr			r 14 •	, i 1 - ' 1 U	1 1 1	1 1 		1 s 1
l^r	]j	V	i	.	if i	o ir	i			p		t 1 14
u i	“	1		
Tempo em s
Considera-se o princípio definido em (GOMES DA SILVA. JR; BAZANELLA, 2006), que definem como regra para um grande número de casos, que o período de amostragem deve ser tal que ocorram ao menos cinco amostras da saída por constante de tempo dominante e que na presente proposta o período de amostragem está dado pelo atraso xk. O estudo de caso escolhido para a avaliar o desempenho de aplicações de controle em rede WH foi um sistema de primeira ordem com o objetivo de apreciar a relação direta entre a degradação de desempenho e a constante de tempo dominante do sistema t .
0.01 s + 0.01
Com o objetivo de ilustrar a influência do controlador e do barramento na dinâmica do sistema, foi realizada a simulação do modelo da equação (39) em malha fechada. Para a implementação deste cenário foi implementado um controlador baseado em eventos para a simulação conforme a discretização proposta por (DURAND; MARCHAND, 2009) ao algoritmo de (ÂRZÉN, 1999). A Figura 60 ilustra a resposta temporal da planta simulada para seguimento de referência. A Figura 61 apresenta o sinal de controle.
/		\								
1 1 1 Amplitude	/ .....,/		\ \								
	I 1		\	 \	/ /	X X						
	1	\ \	/ /	x						
			\								
/										
/										
/										Tempo em s	
Figura 60 Resposta temporal do processo simulado em True-Time.
Figura 61 Sinal de controle gerado pelo algoritmo de Karl-Erik Ârzén no processo simulado.
Resultados do Experimento 2
Na sequência, são apresentados os tempos mensurados, as curvas de resposta do controle e a resposta temporal do experimento 2.
O principal objetivo do experimento 2 é observar a influência do tráfego da comunicação num processo contínuo simulado utilizado o controlador baseado em eventos proposto por (DURAND; MARCHAND, 2009) e executado pelo software HC. Na Figura 62, percebe-se, claramente o de acomodação de 150s. O sinal de controle (laranja) é gerado pelo controlador cada vez que a rede permite uma nova leitura do nó sensor. Nesse instante é calculado o novo sinal de controle e é enviado para o atuador.
Saida da planta y(t)	Sinal de controle u(i)
4
Figura 62 Resposta Temporal da planta simulada com a rede real WH.
Como pode-se ver na Figura 62 o sinal de controle, gerado pelo algoritmo de controle só muda quando se tem uma nova medida do valor do sensor. Neste experimento o sinal de controle é calculado só se a diferença entre o erro atual (ver equação 40) e o erro da iteração anterior é maior que um elim.
e = ysp - y
(40)
Nas Tabelas 15 e 16 são apresentados os indicadores de desempenho com a rede simulada em simulink na ferramenta True-Time comparando-se com a rede real. Observa-se que existem diferenças apreciáveis mesmo quando os controladores implementados são iguais. A relação entre os tempos de acomodação da rede simulada e a rede real é de 2,09, isto devido às diferencias entre modelos simulados e modelos reais de implementações, principal contribuição desta dissertação.
Tabela 15 Desempenho do sistema de controle através da rede simulada (True-Time).
__________Métrica__________Tempo
Overshoot (MP)	57
Temo de acomodação (Segundos)	160
Tempo de subida (Segundos)	13
Tempo de pico (Segundo)23
Tabela 16 Desempenho do sistema de controle através da rede WH.
__________Métrica__________Tempo
Overshoot (MP)	27
Temo de acomodação (Segundos)	335
Tempo de subida (Segundos)	50
Tempo de pico (Segundo)79
Na Figura 63 é apresentado o jitter do software da planta para um total de 1500 amostras e na Figura 64 é mostrado o respectivo histograma dos tempos mensurados.
Figura 63 Jitter do software da planta simulada.
Este software executa de forma periódica a simulação da planta da equação (39), o envio do sinal do sensor quando este for solicitado pelo controlador e espera pela chegada do valor do sinal de controle, instante em que atualiza a entrada da planta.
120.00%
100.00%
80.00%
60.00%
40.00%
20.00%
0.00%
Figura 64 Histograma do Jitter da planta.
6.3	Avaliação do Desempenho em Função da dinâmica do sistema de Controle
Os resultados para t = { 666.6; 333.3 ; 303.03; 285.714 } são apresentados nas
Figura 65, Figura 66, Figura 67 e Figura 68 respectivamente. Nas Figuras observa-se a deterioração
do desempenho na medida que diminui a constante de tempo do sistema simulado (Ver Tabela 17).
Tabela 17 Estadísticas das métricas de desempenho comparando a constante de tempo do sistema.
Métrica	T = 666.6	T = 333.3	T = 303.3	T = 285.714
Overshoot (MP)	30	34	43.8	45
Temo de acomodação (Segundos)	200	240	250	250
Tempo de subida (Segundos)	68.7	72.1	43.5	45.8
Tempo de pico (Segundo)	23	57	52	53.3
Figura 65 Resposta temporal e sinal de controle do sistema de primeira ordem com t = 666. 6.
Figura 66 Resposta temporal e sinal de controle do sistema de primeira ordem com t = 333. 3.
Figura 67 Resposta temporal e sinal de controle do sistema de primeira ordem com t = 303. 03.
Figura 68 Resposta temporal e sinal de controle do sistema de primeira ordem com t = 285. 714.
A instabilidade do sistema a ser controlado depende da constante de tempo do mesmo, devido basicamente a que quando o sistema é mais rápido é necessária uma maior frequência de atualização do sinal de controle. Neste experimento observa-se a perda de desempenho do sistema quando a dinâmica do sistema fica mais rápida. Para a presente proposta, esta perda de desempenho se acentua quando t &amp;lt;335.
6.4	Comparativo de Implementações de Controle
Com o objetivo de mostrar as diferenças de desempenho entre as diversas implementações em sistemas de controle, são ilustradas a seguir, implementações de controle local do estudo de caso apresentado no experimento 2 (controle no gateway).
6.4.1	Controle local
Nesta seção será apresentado o desempenho do controle local, sem a rede, entre a aplicação host e a planta simulada. Para isto, é utilizada a planta simulada do experimento 2 e o controlador utilizado no experimento 1. O objetivo deste experimento é analisar o desempenho do controle local sem uma rede, numa implementação de software e comparar com os resultados obtidos nas implementações utilizando a rede.
Figura 69 Conexão Logica do controle local.
A implementação foi estruturada contendo o sistema de controle e o controlador no mesmo computador, sendo o controlador executado sequencialmente, comportando-se como um sistema de controle discreto convencional. O sistema apresenta a curva de resposta indicada na Figura 70 para uma entrada degrau.
Amplitude
Figura 70 Resposta temporal do processo do experimento 2, com controle local.
O pequeno jitter introduzido deve-se às variações de processamento do computador
400
05
Jitter do perido ms
Figura 71 Jitter do período do laço sistema de controle local.
6.5	Considerações Finais Do Capitulo
Nas seções anteriores formas descritas as diversas partes dos experimentos realizados. O A arquitetura proposta com o atuador e com o controlador que considera as latências e o sistema simulado. A partir dos resultados, apresentados por meio de gráficos das curvas de resposta dos sistemas foi contatada a relação entre a constante de tempo do sistema e o desempenho e sua estabilidade.
Nos experimentos para a avalição da arquitetura proposta, evidencia-se os efeitos inerentes de WNCS. Os resultados mostram no primer experimento tempo de acomodação maior comparado ao segundo experimento. Devido à não consideração dos atrasos no cálculo do sinal de controle assim como um maior número de cálculos no sinal de controle para atingir o valor final.
Com o intuito de avaliar a influência dos atrasos além da implementação com a rede real, foram realizadas simulações que consideram o caso contínuo, ou seja, sem nenhum tipo de atraso no laço de controle e também foi simulada uma rede sem fio. A metodologia proposta mostra que mostra que existe uma relação direta entre o desempenho do sistema e a constante de tempo do sistema implementado.
7	CONCLUSÕES
Neste trabalho estudou-se o comportamento de uma malha de controle quando o laço é fechado através de uma rede de comunicação sem fio WH. Para isto, foram estudados os principais problemas dos sistemas de controle em rede e foi proposta uma arquitetura com um controlador alocado numa aplicação host. A proposta foi validada experimentalmente através da implementação do controle de um atuador elétrico numa rede WH real disponível em laboratório. A validação também foi feita através de simulação usando a ferramenta True-Time/Simulink.
A rede afeta o desempenho da malha fechada devidos às diferenças entre os sinais que chegam para o controle do sistema, pelas latências introduzidas pela rede. A avaliação do desempenho de sistemas de controle foi feita através de dois cenários diferentes com a rede WH real. No primeiro experimento foi efetuado o controle de posição de um atuador industrial. Este experimento revelou a ocorrência de atrasos aleatórios no laço de controle, e que há degradação de desempenho no sistema a ser controlado. Embora, estes atrasos pudessem ser compensados mediantes diversas técnicas mais complexas encontradas na literatura, através da análise das características temporais da rede WH e pela arquitetura proposta neste primeiro experimento, é proposto o uso de um controlador baseado em eventos para a avaliação da influência da arquitetura sobre a dinâmica de sistemas. Para isto foi proposto um segundo experimento utilizando diferentes modelos de primeira ordem com dinâmicas diferentes.
Sob a ótica de controle e, considerando os resultados em trabalhos prévios, e que existe uma confiabilidade do 100% na entrega dos pacotes numa solicitação por comando para a rede WH, ou seja, foi garantida a entrega de dados dentro dos requisitos temporais estabelecidos para uma rede WH em cenários com condições reais de propagação de sinais de rádio frequência. A principal restrição para a implementação desta proposta está relacionada as latências induzidas pela rede. E que no caso, não é necessária nenhuma técnica para compensar a perda de pacotes, mas sim para os atrasos presentes no laço.
A escolha do período de amostragem depende basicamente da dinâmica do sistema a ser controlado. Embora, não tenha sido estabelecido um critério para analisar uma relação da arquitetura e as dinâmicas dos sistemas suportados, nesta dissertação são ilustrados alguns experimentos para esboçar os limites de degradação de desempenho.
oferece uma vantagem importante quando comparada com outras, já que contempla o uso de um GTW comercial para aplicações de controle.
A principal vantagem oferecida pela presente dissertação reside nas facilidades de configuração e acesso aos dados de cada um dos laços de controle presentes na rede. Isto contrasta de forma sutil com a desvantagem introduzida pelo GTW devido ao escalonamento e roteamento redundantes, necessários para que a rede possa operar num ambiente fabril. Esta pequena desvantagem de controle no host é manifestada em períodos de alta latência na comunicação entre o GTW e o host, considerando que quanto maior o atraso do laço, pior é o desempenho do controle.
7.1	Sugestões para trabalhos futuros
Devido a seu caráter multidisciplinar e ao interesse recente em NCS, ainda existem muitas outras possibilidades para expandir este trabalho. As possíveis sugestões que podem ser consideradas para trabalhos futuros são:
Ampliar o número de cenários para verificar o potencial desta técnica em particular. Também poderia ser desenvolvido um controlador mais complexo que considere os atrasos através de métodos probabilísticos, e analisar as melhorias na resposta do sistema.
Outro estudo possível seria otimizar o algoritmo de escalonamento das mensagens empregado pelo NM, de forma a conseguir atrasos menores nos laços de controle. Embora isto implique em novas condições na rede, inclusive perda de pacotes, existe na literatura controladores que podem ser utilizados para resolver isto.
Por fim, como estudo de caso prático, seria interessante desenvolver um GTW WH onde fosse possível modificar os algoritmos de escalonamento e roteamento para avaliar diferentes controladores sobre diferentes condições de formação da rede.
REFERÊNCIAS
ALBERT, A. Comparison of Event-Triggered and Time-Triggered Concepts with Regard to Distributed Control Systems. In: EMBEDDED WORLD, 2004. Nürnberg. Proceedings. . . [S.ll.: s.n.], 2004. p. 235-252.
ALT, G. H.; LAGES, W. F.; LUBASZEWSKI, M S.; Controle em Tempo Real de Robôs através de Redes IP. 2003. 99p. Dissertação (Mestrado em Engenharia Elétrica) — Programa de Pós-graduação em Engenharia Elétrica, Universidade Federal do Rio Grande do Sul, Porto Alegre, 2003.
ARZEN, K. E. et al. An introduction to control and scheduling co-design. In: DECISION AND CONTROL, 39, 2000, Sydney. Proceedings... New York: IEEE Press, 2000. p. 4865-4870.
ÂRZÉN, K. J. A Simple event-based PID. In: IFAC WORLD CONGRESS, 14., 1999, Beijing. Proceedings... [S.l:s.n],1999, p. 423-428.
BRANICKY, M. S. Studies in hybrid systems: Modeling, analysis and control. 1995. 205p.Tese (Doutorado em Engenharia Elétrica) — Massachusetts Institute of Technology, Boston, 1995.
BRANICKY, M. S.; LIBERATORE, V.; PHILLIPS, S. M.; Networked control system cosimulation for co-design. In: AMERICAN CONTROL CONFERENCE, 2003, Denver. Proceedings... New York: IEEE Press, 2003. p. 3341-3346.
CALVO, V. C. Sistemas de control Basados en red, modelado y diseño de estructuras de control. 2005. 206p. Tese (Doutorado em Engenharia informática e automação) — Universidad Politecnica de Valencia,Valencia, 2005.
CERVIN, A. et al. How does control timing affect performance ? Analysis and simulation of timing using Jitterbug and TrueTime. IEEE control systems magazine, [S.l.], v. 23, n. 3, p. 1630, June 2003.
CHEN, D.; NIXON, M.; MOK, A. (Ed.). WirelessHART Real-Time Mesh Network for Industrial Automation. New York: Springer, 2010.
D'INNOCENZO, A. et al. Scalable scheduling algorithms for wireless networked control systems. In: ANNUAL IEEE CONFERENCE ON AUTOMATION SCIENCE AND ENGINEERING, 5, 2009, Bangalore. Proceedings... New York: IEEE Press, 2009. p. 409-414.
DE BIABSI, M.; SNICKARS, C.; LANDERNAS, K.; Simulation of process control with wirelesshart networks subject to clock drift. In: COMPUTER SOFTWARE AND APPLICATIONS (COMPSAC'08), 32 ,2008a, [S.l.]. Proceedings... New York: IEEE Press, 2008a. p. 1355-1360.
ENGINEERING (CASE), 2008b, [S.l.]. Proceedings... New York: IEEE Press, 2008b. p. 548553.
DEMIREL, B. Architectures and Performance Analysis of Wireless Networked Control Systems. 2015. 177p. Tese (Doutorado em Engenharia Elétrica) — KTH Royal Institute of Technology, Stockholm, 2015.
DI MARCO, P. et al. Modeling IEEE 802.15.4 Networks over Fading Channels. IEEE transactions on wireless communications, [S.l.], v. 13, n. 10, p. 5366-5381, 2014.
DJIEV, S. Industrial Networks for Communication and Control. Industrial Communication
Networks. Disponível em:&amp;lt;http://anp.tu-sofia.bg&gt;. Acesso em: 19 maio 2016.
DURAND, S.; MARCHAND, N.; Further Results on Event-Based PID Controller. In: EUROPEAN CONTROL CONFERENCE, 2009, Budapest, Hungary. Proceedings... New York: IEEE Press, 2009. p. 1979-1984.
FARINES, J.; FRAGA, D. S.; RÔMULO, S. Sistemas de tempo Real. Florianópolis: Departamento de Automação e Sistemas Universidade Federal de Santa Catarina, 2000.
FERRARI, P. et al. Improving simulation of wireless networked control systems based on wireless HART. Computer Standards &amp;amp; Interfaces, [S.l.], v. 35, n. 6, p. 605-615, Nov. 2013.
GALLOWAY, B.; HANCKE, G. P. Introduction to industrial control networks. Communications Surveys &amp;amp; Tutorials, IEE 1502, [S.l.], v. 15, n. 2, p. 860-880, 2013.
BAZANELLA, A. S.; GOMES DA SILVA. JR, J. M. Sistemas de controle: Principios e métodos de projeto. Porto Alegre: UFRGS, 2006.
GUNGOR, V. C.; HANCKE, G. P. Challenges, design principles, and technical approaches. IEEE Transactions on Industrial Electronics, [S.l.], v. 56, n. 10, p. 4258-4265, Oct. 2009.
GUPTA, R. A.; CHOW, M. Y. Networked control system: overview and research trends.
IEEE Transactions on Industrial Electronics, [S.l.], v. 57, n. 7, p. 2527-2535,
July 2010.
GUTIERREZ, J. A. et al. Low-Rate Wireless Personal Area Networks: Enabling Wireless Sensors with IEEE 802.15.4. 3. ed. New York: IEEE Press. 2003. 276 p.
HALEVI, Y.; RAY, A. Integrated communication and control systems: Part I - Analysis. Journal of dynamic systems, measurement and control, [S.l.], v. 110, n. 4. p. 367-373, Dec. 1988.
HALEVI, Y.; RAY, A. Performance analysis of integrated communication and control systems. Journal of dynamic systems, measurement and control, [S.l.], v. 112, p. 365, Sept. 1990.
HAN, S. et al. Reliable and Real-Time Communication in Industrial Wireless Mesh Networks.
IN: IEEE REAL-TIME AND EMBEDDED TECHNOLOGY AND APPLICATIONS
SYMPOSIUM (RTAS), 17, 2011, Chicago. Proceedings... New York: IEEE Press, 2011. p. 3-12
HART COMMUNICATION FOUNDATION. HCF SPEC-075, Rev. 1.1. Austin, 2010a.
HART COMMUNICATION FOUNDATION. WirelessHart Device Types Gateways, Rev. 1.1. Austin, 2010b.
HART COMMUNICATION FOUNDATION. A technical Overview, HCF_LIT-20. Austin, 2010a.
HESPANHA, J. P. A Survey of Recent Results in Networked Control Systems. IEEE PRESS, New York, v. 95, n. 1, p. 138-162, 2007.
HORVATH, P.; YAMPOLSKIY, M.; KOUTSOUKOS, X. Efficient Evaluation of Wireless RealTime Control Networks. Sensors, [S.l], v. 15, n. 2, p. 4134-4153, 15, 2015.
JIANG, X. et al. A new stabilization criterion for networked control systems. IEEE Transactions on Automatic Control, [S.l.], v. 53, n. 4, p. 1025-1032, 2008.
JOHNSON, D. B.; MALTZ, D. A. Dynamic Source routing in ad hoc wireless networks. Pittsburgh: Springer, 1996.
JOSEPH, M.; PANDYA, P. Finding Response Times in a Real-Time system. The computer Journal, [S.l], v. 29, n. 5, p. 112-122, Dec. 1985.
KENNEDY, M. P.; KOLUMBÁN, G. Controlling chaos and bifurcations in engineering systems. In: DIGITAL COMMUNICATIONS USING CHAOS (CRC), 1999, Florida. Proceedings... New York: IEEE Press, 1999. p. 477-498.
KOPETZ, H.; BAUER, G. The time triggered architecture. IEEE PRESS, Vienna, v. 91, n. 1, p. 112-126, 2003.
KOPETZ, H.; GRÜNTEIDI, G. TTP - A time-triggered protocol for fault-tolerant real-time systems. In: THE TWENTY-THIRD INTERNATIONAL SYMPOSIUM ON FAULT-TOLERANT COMPUTING, 2010, [S.l.]. Proceedings... New York: IEEE Press, 1993. p. 524533.
LIAN, F. L.; MOYNE, J. R.; TILBURY, D. M. Performance evaluation of control networks: ethernet, controlnet and devicenet. IEEE Control Systems, [S.l], v. 1, n. 21. p. 66-83, Feb 2001.
LOUIS, W. U. I. S. T. Wireless sensor network testbed. 2011. Disponível em:&amp;lt;http://mobilab.wustl.edu/testbed&gt;. Acesso em: 1 Abril 2015.
LUCK, R.; RAY, A. Experimental verification of a delay compensation algorithm for integrated. International journal of control, [S.l], v. 59, n 6, p. 1357-1372, Mar. 1994.
LUGLI, A. B.; SANTOS, M. M. D.; Redes industriais evolução, motivação e funcionamento. Intech América do Sul, [S.l.], v. 137, n. 15, p. 32-40, 2011.
MAZO, M. .; TABUADA, P.; Decentralized event-triggered control over wireless sensor/actuator networks. IEEE Transactions on Automatic Control, Assen, v. 56, n. 10, p. 2456 - 2461, Oct. 2011.
MICHELIN, T. J. Análise do impacto da comunicação via rede flexray em sistemas de controle. 2014. 115p. Dissertação (Mestrado em Engenharia Elétrica) — Universidade Federal Rio grande do Sul, Porto Alegre, 2014.
MOYNE, J. R.; TILBURY, M. D. The Emergence of Industrial Control Networks for Manufacturing Control, Diagnostic, and Safety Data. IEEE Press, New York, v.95, p. 524-533, 2007.
MULLER, I. et al. Development of a WirelessHART Compatible Field Device. In: IEEE INTERNATIONAL INSTRUMENTATION AND MEASUREMENT TECHNOLOGY CONFERENCE, 2010, Austin. Proceedings... New York: IEEE Press, 2010. p.1430-1434.
MURRAY, R. M.; ASTROM, K. J.; BOYD, S. P. Control in an information rich world. New York: Society for Industrial and Applied Mathematics, 1987.
NETO, A. Z. Análise do impacto da comunicação em redes foundation fieldbus no desempenho de sistemas de controle. 2007. 94 p. Dissertação (Mestrado em Engenharia Elétrica) — Universidade Federal Rio grande do Sul, Porto Alegre. 2007.
NILSSON, J. Real-time control systems with delas. 1998. 141p. Tese (Doutorado em Automação e controle) — Lund Institute of Thechnology, Lund, Suecia. 1998.
NOBRE, M. H. Análise de Desempenho Baseada em Simulação de redes WirelessHART. 2011. 87 p. Dissertação (Mestrado em Engenharia Elétrica) — Universidade Federal Rio grande do Norte, Natal. 2011.
NOBRE, M.; SILVA, I.; GUEDES, L. A. Routing and Scheduling Algorithms for WirelessHART Networks. A Survey. Sensors, [S.l.], v. 15, n. 5, p. 9703-9740, 2015.
NOGUEIRA, T. A. Redes de comunicação para sistemas de automação industrial. 2009. 83 p. Monografia (Especialização em Automação industrial) — Universidade Federal de ouro preto, Minas Gerais. 2009.
OBERMAISSER, R. Event-triggered and time-triggered control paradigms. Vienna: Springer, 2004.
OGATA, K. Modern Control Engineering. 5. ed. New Jersey: Prentice Hall, 2010.
P. SOLDATI, H. Z. A. M. J. Deadline-constrained transmission scheduling and data evacuation in WirelessHART networks. [S.l.]: The European Control Conference. 2009.
PAJIC, M. et al. The Wireless Control Network: A New Approach for Control Over Networks, IEEE Transactions on Automatic Control, [S.l , v. 56, n. 10, p. 2305 - 2318, Oct. 2011.
PESONEN, J. Stochastic estimation and control over wirelessHART networks: Theory and implementation. 2010. 177p. Dissertação (Mestrado em Engenharia Elétrica) — KTH Royal Institute of Technology, Stockholm, 2010.
PETERSEN, S.; CARLSEN, S. Performance Evaluation of WirelessHART for Factory Automation. In: EMERGIN TECHNOLOGIES AND FACTORY AUTOMATION, 2009, [S.l.]. Proceedings... New York: IEEE Press, 2009. p. 1-9.
RAY, A. Introduction to networking for integrated control systems. IEEE control system magazine, [S.l], v. 9, p.76-79, 1989.
RAY, A. Output feedback control under randomly varying distributed delays. AIAA journal of guidance, control and dynamics, [S.l], v. 17, n.4, p. 701-711, 1994.
RAY, A.; HALEVI, Y. Integrated communication and control systems: Part II - Design. ASME journal of dynamic systems, measurement and control, [S.l], v 110, p. 374-381, 1988.
REHG, J. A. et al. Fieldbus in the process control laboratory-its time has come. In: FRONTIERS IN EDUCATION CONFERENCE, 1999, [S.l.]. Proceedings of the New York: IEEE Press, 1999, v. 3, p. 13B4-12.
SAHAI, A. Anytime information theory. 2001. 175 p. Tese (Doutorado em Philosophy) — Massachusetts Institute of Technology (MIT), Cambridge, Massachusetts. 2001.
SAIFULLAH, A. et al. End-to-End Delay Analysis for Fixed Priority Scheduling in WirelessHART Networks. In: REAL-TIME AND EMBEDDED TECHNOLOGY AND APPLICATIONS SYMPOSIUM (RTAS), 2001, Chicago. Proceedings... New York: IEEE Press, 2011. p. 13-22.
SAIFULLAH, A. et al. Near Optimal Rate Selection for Wireless Control Systems. ACM Transactions on Embedded Computing Systems (TECS) , St. Louis, v. 13, n. 4, p. 128, Mar. 2014.
SANTOS, A. et al. Avaliação de redes WirelessHart em malhas de controle. In: CONGRESO BRASILEIRO DE AUTOMÁTICA, 2014, Belo Horizonte. Anais...Belo Horizonte: SBA, 2014. p. 2593-2600.
SHAH, K. Design and implementation of a simulator in support of wirelesshart-based control systems development. 2009. 85p. Report. (Doutorado em Engenharia Elétrica) — KTH Royal Institute of Technology, Stockholm, 2009.
SMAR EQUIPAMENTOS INDUSTRIAIS. A Foundation Fielbus Technology Overview.
Disponível em:&amp;lt;www.smar.com/PDFs/catalogues/FBTUTCE.pdf&gt;. Acesso em: 12 dez. 2016.
SMAR, S. E. I. L. SMAR RP 400 Repetidor WirelessHart. 2010. Disponivel em:&amp;lt;http://www.smar.com/PDFs/catalogues/RP400CP.pdf&gt;. Acesso em: 6 Maio 2014.
SONG, J. WirelessHART: applying wireless technology in real-time industrial. In: IEEE REALTIME AND EMBEDDED TECHNOLOGY AND APPLICATIONS SYMPOSIUM, 2008, St. Louis. Proceedings... New York: IEEE Press, 2008. p. 377-386.
SONG, J. et al. Challenges of Wireless Control in Process Industry. Austing, 2006. Disponível em: &amp;lt;https://pdfs.semanticscholar.org/ef6e/94f6915a45694ccedc2bb1de615a9f09a1ba.pdf&gt;. Acesso em: 07 mar. 2017
SONG, J. et al. WirelessHART: applying wireless technology in real-time industrial process control. In: IEEE REAL-TIME AND EMBEDDED TECHNOLOGY AND APPLICATIONS SYMPOSIUM, 2008, St. Louis. Proceedings. New York: IEEE Press, 2008. p.377-386.
SOUCEK, S.; T. SAUTER.; Quality of service concerns in IP-based control systems. IEEE Transactions on Industrial Electronics, [S.l], v. 51, n. 6, p. 1249-1258, Dec. 2004.
TILBURY, J. R.; MOYNE, D. M. The Emergence of Industrial Control Networks for Manufacturing Control, Diagnostics, and Safety Data. IEEE Press, New York, v. 95, n. 1, p. 2947, 2007.
TIPSUWAN, Y.; CHOW, M.-Y. Control methodologies in networked control systems. Control Engineering Practice, [S.l.], v.11, n.10, p.1099 - 1111, Oct. 2003.
WALSH, G.; BUSHNELL, L.; Stability analysis of networked control systems. IEEE transactions on control systems technology, [S.l.], v. 10, n. 3, p. 438-446, 1999.
WILLIG, A.; MATHEUS, K.; WOLISZ, A.; Wireless Technology in Industrial Networks Data. IEEE Press, New York, v. 93, n. 6, p. 1130-1151, 2005.
WINTER, J. M. Sofware de análise de roteamento de dispositivos WirelessHART. 2010.
117p. Projeto de diplomação (Engenharia Elétrica) — Programa de Pós-graduação em Engenharia Elétrica, Universidade Federal do Rio Grande do Sul, Porto Alegre, 2010
WINTER, J. M. Analise de coexistência em redes wirelesshart. Porto Alegre: Universidade Federal Rio Grande Do Sul, 2013.
XIN, K. et al. Optimal controller location in wireless networked control systems. International Journal of Robust and Nonlinear Control, [S.l.], v. 25, n. 2, p. 301-319, 2015.
YEPEZ, J.; MARTI, P.; FUENTES, J. M. Control loop performance analysis over networked control systems. In: IECON 02 Industrial Electronics Society, 2002. Sevilla. Proceedings... New York: IEEE Press, 2002. p. 2880-2885.
ZHANG, H. et al. Rapid convergecast on commodity hardware: Performance limits and optimal policies. In: SENSOR MESH AND AD HOC COMMUNICATIONS AND NETWORKS (SECON), 17, 2010, Kista, Suécia. Proceedings... New York: IEEE Press, 2010. p. 1-9.
ZHANG, H.; SOLDATI, P.; JOHANSSON, M. Optimal link scheduling and hannel assignment for convergecast in linear WirelessHART networks. In: MODELING AND OPTIMIZATION IN MOBILE, AD HOC, AND WIRELESS NETWORKS, 2009, Stockholm, Suécia. Proceedings... New York: IEEE Press, 2009. p. 1-8.
ZHANG, L.; GAO, H.; KAYNAK, O.; Network-Induced Constraints in Networked control systems. IEEE Transactions on Industrial Informatics, [S.l], v. 9, n. 1, p. 403-416, Fev. 2013.
ZHANG, W.; BRANICKY, M. S. Stability of networked control systems with time-varying transmission period. Communication. In: ANNUAL ALLERTON CONFERENCE ON COMMUNICATION CONTROL AND COMPUTING, 2001, [S.l]. Proceedings... [S.l:s.n], 2001. p.1205-1214.
ZHANG, W.; BRANICKY, M. S.; PHILLIPS, S. M. Stability of networked control systems. IEEE Control Systems, [S.l.], v. 21, n.1, p.84-99, Feb. 2001.
ZHANG, W.; S., B. M.; PHILLIPS, S. M. Stability of networked control systems. IEEE Control Systems Magazine, [S.l], v. 21, n.1, p. 84-99, Feb. 2001.
ZHEN, L.; CHOW, M.-Y.; Adaptive Multiple Sampling Rate Scheduling of Real-time Networked Supervisory Control System - Part I. In: ANNUAL CONFERENCE ON IEEE INDUSTRIAL ELECTRONICS SOCIETY (IECON), 32, 2006a, Paris, France. Proceedings. New York: IEEE Press, 2006a. p. 4604-4609.
ZHEN, L.; CHOW, M.-Y.; Adaptive Multiple Sampling Rate Scheduling of Real-time Networked Supervisory Control System - Part I. In: ANNUAL CONFERENCE ON IEEE INDUSTRIAL ELECTRONICS SOCIETY (IECON), 32, 2006b, Paris, France. Proceedings. New York: IEEE Press, 2006b. p. 4615-4620.</field>
	</doc>
</add>