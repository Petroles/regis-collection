<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.18052</field>
		<field name="filename">2488_2012_RodrigoAvilaCipullo.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">
Instituto de Geociências

NOVA PROPOSTA TECNOLÓGICA DE AQUISIÇÃO E

ARMAZENAMENTO DA INFORMAÇÃO GEOLÓGICA

Dissertação de Mestrado

Nº 25

Rodrigo Ávila Cipullo

Brasília

2012



i

Instituto de Geociências

NOVA PROPOSTA TECNOLÓGICA DE AQUISIÇÃO E ARMAZENAMENTO DA

INFORMAÇÃO GEOLÓGICA

Dissertação apresentada ao Instituto de

geociências da Universidade de Brasília

como requisito parcial para obtenção do

título de mestre em “Geociências

aplicadas”.

Orientador: Henrique Llacer Roig

Brasília

2012



ii

Banca examinadora:

Prof. Dr. Henrique Llacer Roig (Presidente)

Prof.ª Dr.ª Maristela T. Holanda (Membro externo)

Prof. Dr. Nilson Francisquini Botelho (Membro interno)

Catalogação Internacional na Publicação

Cipullo, Rodrigo Ávila.

Nova proposta tecnológica de aquisição e armazenamento da informação

geológica.

/ Rodrigo Ávila Cipullo. Brasília : UnB, 2012.

80p. : il. ; 29,5 cm.

Exame de Qualificação de Mestrado - Universidade de Brasília, Brasília,

2012.

1. Geologia, 2. Banco de Dados Geográficos, 3. WebService, 4. Webmap, 5.
Dados Geoespaciais, 6. Coleta de dados, 8. Interoperabilidade.



iii

DEDICATÓRIA

Ao meu bom Deus, aos meus Pais

e familiares e aos meus muitos (e bons)

amigos que me trouxeram até aqui.



iv

SUMÁRIO

1. Introdução ................................................................................................................. 1

1.1. Objetivos ................................................................................................................ 3

1.2. Organização do trabalho........................................................................................ 4

2. Base conceitual .......................................................................................................... 6

2.1. Sistemas de informação geográfica – SIG.............................................................. 6

2.2. A informação espacial ............................................................................................ 7

2.3. Relacionamentos espaciais .................................................................................. 10

2.4. Modelagem conceitual - OMTG........................................................................... 12

2.5. A Informação geológica ....................................................................................... 14

2.6. Estado da arte sobre banco de dados espaciais geológicos ................................ 15

3. Modelagem do banco de dados espacial para estudos geológicos. ....................... 19

3.1. Principais requisitos do banco de dados ............................................................. 21

3.2. Modelo Conceitual ............................................................................................... 24

4. Sistema de gerência de projetos e dados geológicos. ............................................ 29

4.1. Arquitetura proposta ........................................................................................... 30

4.2. Arquitetura de Servidor ....................................................................................... 32

4.3. Sistema de gestão de dados geológicos na web ................................................. 34

4.4. Requisitos funcionais da ferramenta ................................................................... 37

4.5. Requisitos não-funcionais .................................................................................... 38

4.6. Regras de negócio ................................................................................................ 39



v

4.7. Descrição do sistema ........................................................................................... 39

4.8. Restrição de acesso e segurança ......................................................................... 41

4.9. Caderneta digital.................................................................................................. 42

4.10. Funcionalidades................................................................................................ 43

5. Processo de trabalho ............................................................................................... 45

5.1. Fluxo de trabalho (processo) ............................................................................... 45

5.2. Preparação do projeto ......................................................................................... 46

5.3. Aquisição de dados .............................................................................................. 47

5.4. Manipulação dos dados ....................................................................................... 48

5.5. Publicação dos dados........................................................................................... 49

5.6. Procedimento de ETL ........................................................................................... 50

6. Testes e Resultados ................................................................................................. 53

6.1. Primeira etapa de testes – banco de dados ........................................................ 53

6.2. Segunda etapa de testes - carga de dados já existentes ..................................... 54

6.3. Dados utilizados ................................................................................................... 54

6.4. Validação do procedimento de ETL ..................................................................... 56

6.5. Terceira etapa de testes – Algoritmos topológicos ............................................. 57

6.5.1.1. Afloramentos contidos em seu projeto ..................................................... 57

6.5.1.2. Grupos não devem se cruzar e nem se sobrepor ...................................... 57

6.6. Quarta etapa de testes – Sistemas ...................................................................... 58

7. Conclusões ............................................................................................................... 59



vi

8. Referências Bibliográficas........................................................................................ 61

Anexo 1 - Modelo OMTG

Anexo 2 – Modelo lógico

Anexo 3 – Dicionário de Dados



vii

Índice de Ilustrações

FIGURA 1 - PRIMITIVAS GEOMÉTRICAS DO ARMAZENAMENTO VETORIAL 8

FIGURA 2 - REPRESENTAÇÃO DE UMA MATRIZ SIMPLES 8

FIGURA 3 - PARADIGMA DOS QUATRO UNIVERSOS (CÂMARA ET. AL., 2005) 9

FIGURA 4 - NÍVEIS DE ABSTRAÇÃO. ADAPTADO DE CÂMARA ET. AL. (1996) 10

FIGURA 5 - REGRAS TOPOLÓGICAS DO EXEMPLO DAS ÁREAS. 11

FIGURA 6 - RELACIONAMENTOS ESPACIAIS POSSÍVEIS (BORGES, KARLA &amp;amp; DAVIS, CLODOVEU) 12

FIGURA 7 - TIPOS DE CLASSES E SUAS REPRESENTAÇÕES NO MODELO OMTG 13

FIGURA 8 - REPRESENTAÇÃO DAS CLASSES GEORREFERENCIADAS JUNTO ÀS SUAS SUBCLASSES 14

FIGURA 9 - MAPA DA PROVÍNCIA TOCANTINS (CPRM 2003) COM UMA LEGENDA CARACTERÍSTIA. 15

FIGURA 10 - TELAS DO APLICATIVO AFLORA® EM SUA VERSÃO 4.2 17

FIGURA 11 - CATEGORIA DE INFORMAÇÕES TRATADAS NA EDGV (NCB – CONCAR, 2007) 20

FIGURA 12 - MODELO DE CLASSES COM INDICAÇÃO DO TIPO GEOMÉTRICO 26

FIGURA 13 - ESTRUTURA 'A' MOSTRANDO UMA FALHA NORMAL TOCANDO AS DUAS UNIDADES E SERVINDO COMO

CONTATO GEOLÓGICO. ESTRUTURA 'B' CRUZANDO AS UNIDADES COMO UMA FALHA TRANSCORRENTE 28

FIGURA 14 - ARQUITETURA DO TIPO “ARMAZENAMENTO/PROCESSAMENTO CENTRALIZADO” COM COLETA

DESCENTRALIZADA 31

FIGURA 15 - ARQUITETURA BÁSICA BASEADA EM SOFTWARES LIVRES (FONTE: HTTP://OPENGEO.ORG) 34

FIGURA 16 - FIGURA MOSTRANDO AS DUAS POSSIBILIDADES DE DEFINIÇÃO DE UMA UNIDADE GEOLÓGICA. EM "A"

AS UNIDADES GEOLÓGICAS SÃO OBTIDAS A PARTIR DE CONTATOS TRAÇADPS INCIALMENTE NO MAPA. EM

"B" AS UNIDADES GEOLÓGICAS FORAM DEFINIDAS A PARTIR DE DOIS POLÍGONOS CRIADOS

SEPARADAMENTE, CORRENDO O RISCO DE SE PRODUZIR ERROS TOPOLÓGICOS COMO O APRESENTADO. 36

FIGURA 17 - FLUXO METODOLÓGICO DE AQUISIÇÃO DE DADOS 43

FIGURA 18 - TELA DE CRIAÇÃO DE PROJETOS 46

FIGURA 19 - TELA DE ADIÇÃO DE NOVOS GRUPOS AO PROJETO 47

FIGURA 20 - PROCESSO DE TRABALHO PROPOSTO 49

FIGURA 21 - ESQUEMA GERAL DE UM PROCESSO DE ETL ESPACIAL.

(FONTE:TTP://SPATIALYTICS.ORG/PROJECTS/GEOKETTLE) 50

FIGURA 22 - PROCESSO DE ETL GERAL UTILIZADO NO PROJETO 51

FIGURA 23 - POSICIONAMENTO DO PROJETO MOZARLÂNDIA 55



viii

RESUMO

As geociências estão entre as ciências que mais produzem dados. No entanto, ainda não
existem grandes trabalhos e iniciativas que consigam suprir a carência de modelos de
armazenamento de dados  e sua disponibilização para o território nacional.

Dentro deste contexto, esse trabalho se propõe a construir e implementar um modelo
de banco de dados geológico geoespacial, bem como o desenvolvimento de um sistema de
entrada, manipulação e disponibilização de dados geológicos.

Para a modelagem do banco de dados utilizou-se o conceito do OMT-G (Object Modeling
Technique for Geographic Applications) tendo sido utilizado o software StarUML
(http://staruml.sourceforge.net) para a geração do modelo conceitual. Toda conceituação e
padronização adotadas no modelo conceitual do banco de dados estão baseadas na segunda
versão do documento ‘Especificações Técnicos para Estruturação de Dados Geoespaciais
Vetoriais’, produzido pela comissão Nacional de Cartografia (CONCAR).

Este modelo de banco de dados geográfico foi implementado no Sistema Gerenciador de
Banco de Dados Postgresql (com extensão Postgis), considerando as premissas estabelecidas
pela INDE (Infraestrutura Nacional de Dados Espaciais) e pela Comissão de Gestão das
Informações Geológicas (CMI - Commission for the Management and Application of Geoscience
Information) da União Internacional de Ciências Geológicas (IUGS - International Union of
Geological Sciences - http://www.cgi-iugs.org/tech_collaboration/thesaurus.html) para os
requitos referente ao  glossário e normatização das informações.

O sistema para o gerenciamento de projetos de mapeamento geológico, denominado
GEOTOOL - Gerenciamento de dados Geológicos - é um aplicativo que roda em ambiente web e
é capaz de gerenciar desde a criação de um novo projeto até o fechamento do mapa geológico.
Para a aquisição de dados em campo foi desenvolvida uma caderneta de campo digital capaz de
coletar diversas informações relevantes de forma automatizada e sincronizá-las ao banco de
dados do projeto de forma simples.

Este trabalho também apresenta uma proposta de processo a ser utilizada para obter
sucesso com o banco de dados e as ferramentas desenvolvidas. Dessa forma o processo esboça
todas as etapas de aquisição, manipulação e publicação de dados indicando as melhores
práticas para obter sucesso.

Palavras Chaves: Banco de Dados Geográficos, Sigweb, informações geológicas, GEOTOOLS -Gerenciamento de dados Geológicos



ix

ABSTRACT

The Geosciences are recognized as one of the scientific areas that generate the greatest
amount of data. However, there are, as of yet, no comprehensive studies, nor initiatives that
have been able to make up for the lack of data storage and availability models on a national
scale. In light of this situation, the present study intends to construct and implement a
geological geospatial database, as well as develop entrance, manipulation and availability
systems for geological data. With regard to the database modeling, the Object Modeling
Technique for Geographic Applications (OMT-G) was used, as well as the StarUML software
(http://staruml.sourceforge.net) for generating the conceptual model. All of the concepts and
standards adopted in the conceptual model of the database were founded on the second
version of the document ‘Technical Specifications for the Structuring of Geospatial Vector Data’,
produced by the National Commission of Cartography (CONCAR). This geographic database
model was implemented in the System Manager of Postgresql Database (with a Postgis
extension), taking into account the premises established by the National Infrastructure of
Spatial Data (INDE)and on the Commission for the Management and Application of Geoscience
Information (CMI) of the International Union of Geological Sciences – (http://www.cgi-
iugs.org/tech_collaboration/thesaurus.html) for the requirements regarding the information
glossary and norms. The system to manage the geological mapping projects, denominated
GEOTOOL (Geological Data Management), is a device that runs in a web environment and is
capable of managing, from the inception of the creation of a new project to the close of the
geological map. For the acquisition of field data, a digital field notebook was developed with the
capacity to collect diverse relevant information, which is automatically and easily synchronized
to the project database. This study also presents a process proposal for appropriate use of the
database and the tools developed, outlining all the steps necessary for data acquisition,
manipulation and publication, indicating the best practices for successful use.

Key Words: Geographical Database, Sigweb. Geological Information, GEOTOOLS –
Geological Data Management.



Dissertação de Mestrado – Rodrigo Ávila

1

1. INTRODUÇÃO

As geociências, certamente, estão entre as ciências que mais evoluíram na obtenção e

processamento de dados, sobretudo no que diz respeito à espacialização de dados e fenômenos

geológicos. No entanto, essa evolução traz a necessidade de um armazenamento mais eficaz e

seguro, que seja capaz de alavancar um passo a mais no sentido do adequado aproveitamento

dos dados em ambientes colaborativos.

No âmbito do Instituto de Geociências da Universidade de Brasília existem diversos

trabalhos e disciplinas que consomem e produzem uma grande quantidade de informação

geológica. Dentre eles podemos destacar O Trabalho Final do curso de geologia, e disciplinas

que envolvem trabalho de mapeamento como “Mapeamento Geológico I” e “Desenho Técnico

Geológico”, além de diversos trabalhos científicos realizados por alunos e professores do

Instituto (Iniciação científica, Mestrados e Doutorados).

Mesmo com grande volume de trabalho e informação, o Instituto ainda não dispõe de

nenhuma ferramenta de gerência de projetos e informações geológicas. Dessa forma, as

informações encontram-se dispersas, quase sempre sob responsabilidade de seus autores, o

que pode acarretar uma série de problemas, sobretudo no que diz respeito à segurança e

disponibilidade destes dados.

Por outro lado, uma série de ações vem sendo tomadas no Brasil e no mundo a fim de se

criar uma cultura e um padrão de interoperabilidade de dados espaciais. No âmbito nacional,

em 2008 foi instituído, pelo decreto Nº 6.666, a INDE (Infraestrutura Nacional de dados

Espaciais) definida da seguinte forma:

“conjunto integrado de tecnologias, políticas, mecanismos e procedimentos de

coordenação e monitoramento, padrões e acordos, necessários para facilitar e ordenar a

geração, o armazenamento, o acesso, o compartilhamento, a disseminação e o uso dos dados

geoespaciais de origem federal, estadual, distrital e municipal.”



Dissertação de Mestrado – Rodrigo Ávila

2

No âmbito internacional, muitas são as iniciativas para efetivar a interoperabilidade de

dados espaciais. O maior destaque se dá para a OGC (Open Geospatial Consortium), definido em

seu próprio site (http://www.ogc.org) como uma organização não governamental e sem fins

lucrativos, formada por voluntários do mundo inteiro a fim de estabelecer padrões para dados e

serviços espaciais.

Tanto as ações nacionais quanto as internacionais, estão focadas em potencializar o uso

dos dados espaciais, tendo como ponto de partida o uso de padrões abertos de comunicação e

metadados.

Especificamente para o caso das informações Geológicas, até onde se tem notícia, a

única Instituição Nacional que tem promovido e divulgado abertamente suas ações com relação

à sistematização e organização dos de dados é a CPRM – Serviço Geológico do Brasil. A CPRM

tem trabalhado intensamente no desenvolvimento de ferramentas tecnológicas e na

modernização de seus processos de armazenagem e distribuição de dados, todo o processo e

resultados estão agrupadas no que ela denomina de GEOBANK (http://geobank.sa.cprm.gov.br).

Concebido inicialmente para dar suporte ao Projeto GIS do Brasil, o banco foi projetado

e desenvolvido em plataforma Oracle®, com dados do tipo misto objeto-relacional de forma a

poder atender, em sua concepção, às pesquisas espaciais de maneira dinâmica. Atualmente o

GEOBANK já conta com tecnologias agregadas de disponibilização e armazenamento de dados

vetoriais associando as entidades gráficas ao conjunto de tabelas Oracle®, com interações em

tempo real de mapas temáticos.

A CPRM, em parceria com algumas universidades, também disponibiliza aos usuários um

software de entrada de dados chamado AFLORA. Essa ferramenta é responsável pelo cadastro

das informações não espaciais no banco de dados da CPRM e não apresenta uma integração

imediata com as informações espaciais.

Além disso, apesar de ocorrerem relatos informais da existência de intenções de outras

universidades de se criar banco de dados para as informações geológicas, nada tem sido

divulgado nas revistas e meios de comunicação científicos. Em consulta realizada pelo autor,



Dissertação de Mestrado – Rodrigo Ávila

3

com o propósito de determinar o atual nível de incorporação de banco de dados espaciais

geológicos em universidades e órgãos produtores de dados geológicos, não foi possível

determinar o atual desenvolvimento desta área devido ao baixo índice de resposta dos

questionários propostos.

Outro ponto que assinala para a falta de sistematização da informação e do uso de

bancos de dados espaciais nas geociências foi o encontro realizando pela Petrobras com as

universidades durante o SNET 2011 (Simpósio Nacional de Estudos Tectônicos). Estavam

presentes a grande maioria das universidades que possuem cursos de graduação em geologia.

Durante o evento poucas foram as instituições que apresentaram iniciativas geotecnológicas

para a sistematização e organização das informações em banco de dados geográficos. Destaque

para a UFPR que está desenvolvendo uma caderneta digital, no entanto, ainda sem um banco

de dados estruturado.

Dessa forma, o maior desafio desse projeto é trazer para discussão os problemas e

soluções acerca de padrões e interoperabilidade para o contexto geológico e propor uma

tecnologia capaz de se adequar a tudo isso.

1.1. OBJETIVOS

Tendo como ponto de partida os problemas já apresentados, busca-se aqui o

modelamento de um banco de dados geográfico, o planejamento de um novo método de

gerenciamento de projetos de aquisição de dados geológicos e o desenvolvimento de uma

ferramenta tecnológica que possibilite a implantação do modelo e das metodologias geradas

baseada em software livre.

Outro objetivo importante é a implantação de uma arquitetura centralizada para

armazenamento e distribuição dos dados, garantindo não só a capacidade de persistir a

geometria de objetos geográficos, mas também armazenar o grande volume de informação

alfanumérica e metadados disponíveis dentro da instituição.



Dissertação de Mestrado – Rodrigo Ávila

4

Para que se chegue ao resultado esperado, essa dissertação abarcará alguns objetivos

específicos, chamados aqui de objetivos intermediários, os quais são:

? Delimitação do problema

? Levantamento e análise de requisitos para o banco de dados

? Modelagem do Banco de dados geológico espacial e sua implementação

? Desenvolvimento de software para as plataformas web e móvel visando a

aquisição, manipulação e publicação de dados geológicos.

? Apresentação de uma proposta de processo de trabalho a ser usada para garantir

que toda a infraestrutura proposta seja implantada corretamente.

? Teste de carga de dados utilizando um trabalho de mapeamento já concluído do

Instituto .

1.2. ORGANIZAÇÃO DO TRABALHO

Para uma compreensão correta de tudo que será tratado e discutido ao longo dessa

dissertação, e refletindo a dinâmica de discussão e produção adotada no mestrado, o assunto a

ser tratado foi separado em oito partes, sendo a primeira o atual capítulo que apresenta a

introdução e os objetivos, as demais são apresentadas conforme a seguinte ordem:

Capítulo 2 - Base Conceitual

Capítulo 3 – Banco de dados

Capítulo 4 - Aplicativos

Capítulo 5 – Processo proposto

Capítulo 6 – Testes e resultados

Capítulo 7 - Conclusões



Dissertação de Mestrado – Rodrigo Ávila

5

Iniciando o trabalho, o capítulo referente à Base conceitual apresenta todos os conceitos

a serem empregados nesse trabalho, bem como o estado da arte sobre os aspectos tecnológicos

que serão discutidos.

O capítulo sobre Banco de dados visa apresentar todas as etapas envolvidas no processo

de modelagem do banco de dados geológico espacial, incluindo a etapa conceitual e de

implementação.

O desenvolvimento dos aplicativos, apresentado no capítulo 4, representa parte da

proposta de um processo de trabalho a ser discutido com detalhes no capítulo 5. As

ferramentas visão criar um arcabouço tecnológico que favoreça o uso do banco de dados

corporativo e modernização do processo de coleta e disponibilização de dados geológicos.

O capítulo 6 apresenta diversos testes realizados em todas as etapas do trabalho

buscando garantir que todas as etapas do trabalho tenham sido devidamente implementadas e

apresentar possíveis resultados que possam interferir de alguma forma nos resultados

esperados.



Dissertação de Mestrado – Rodrigo Ávila

6

2. BASE CONCEITUAL

Este capítulo visa apresentar os principais conceitos utilizados ao longo do trabalho, e

que, de certa forma, fundamentam conceitualmente o desenvolvimento de todos os produtos

gerados.

2.1. SISTEMAS DE INFORMAÇÃO GEOGRÁFICA – SIG

Um SIG pode ser entendido como um conjunto de ferramentas para coletar, armazenar,

manipular e distribuir informações relacionadas a algum ponto ou região do espaço geográfico

(Worboys &amp;amp; Duckham, 2004).

Para Câmara et. al. (2005), a principal diferença de um SIG para um sistema de

informação convencional é sua capacidade de armazenar desde atributos descritivos, ditos

alfanuméricos, como as geometrias dos diferentes tipos de dados geográficos.

Os primeiros Sistemas de Informação Geográfica surgiram na década de 60 (Camara et

al. 2001), no entanto, eram muito difíceis de serem utilizados, demandavam mão de obra muito

especializada e computadores que, na época, eram acessórios de luxo e custavam verdadeiras

fortunas.

Nos anos 70, foram viabilizados os primeiros trabalhos de SIG e surgiram os sistemas

CAD (Formato de arquivo vetorial da sigla “Desenho Assistido por Computador”), que

popularizaram consideravelmente a produção cartográfica em formato digital (Camara et al.

2001).

Nos anos 80, devido à popularização dos microcomputadores, houve um grande avanço

na utilização dos SIG’s. No entanto, o problema da baixa capacidade de armazenamento ainda

era um ponto crítico, apresentando melhoras consideráveis apenas na década de 90 (Camara et

al. 2001).

Nos dias atuais os SIG’s se encontram bastante popularizados, sendo que a infra-

estrutura física, tanto para coleta quanto para o processamento e distribuição das informações



Dissertação de Mestrado – Rodrigo Ávila

7

já permitem a implantação real de sistemas totalmente informatizados. Os novos desafios estão

na organização destes sistemas dentro de ambientes colaborativos.

Ao longo desses últimos anos foram criadas e popularizadas diversas ferramentas de SIG

desktop, permitindo que diversos grupos se utilizassem dessas tecnologias. No entanto, a

facilidade de uso e disponibilidade de recursos de SIG levou a uma quase total descentralização

das informações, mesmo dentro de uma mesma instituição, é possível encontrar diversos tipos

diferentes de armazenagem de dados espaciais, impossibilitando a integração de dados e um

maior diálogo entre os diversos projetos (Câmara et. al. 2001).

2.2. A INFORMAÇÃO ESPACIAL

Os dados espaciais são entendidos como a representação de objetos que podem ser

individualizados no espaço por algum tipo de forma (geometria), quer sejam objetos pontuais,

como escolas e hospitais, lineares, como estradas e rios ou poligonais, como fazendas e cidades

(Câmara et. al. 2005).

A forma de armazenamento desses dados pode variar de acordo com a necessidade ou

mesmo com a forma de aquisição dos mesmos. Basicamente, existem duas formas de se

representar a informação espacial: vetorial e matricial ( Burrough &amp;amp; McDonell 1998).

Os dados vetoriais são definidos através de um sistema de coordenadas cartesianas,

onde cada uma de suas primitivas geométricas (ponto, linha e polígono – Figura 1) define as

coordenadas de fronteira de cada entidade geométrica (Câmara et. al. 2005).

Os formatos matriciais, por sua vez, usam uma grade regular sobre a qual se representa,

célula a célula, o elemento que está sendo descrito. Dessa forma, o espaço é representado

como uma matriz P(m, n) composto de m colunas e n linhas (Figura 2), onde cada célula possui

um número de linha, um número de coluna e um valor correspondente ao atributo estudado e

cada célula é individualmente acessada pelas suas coordenadas (Câmara et. al. 2005).



Dissertação de Mestrado – Rodrigo Ávila

8

FIGURA 1 - PRIMITIVAS GEOMÉTRICAS DO ARMAZENAMENTO VETORIAL

FIGURA 2 - REPRESENTAÇÃO DE UMA MATRIZ SIMPLES

Para se chegar a uma representação da realidade por qualquer meio cartográfico, são

necessárias abstrações e o emprego de diversos conceitos cartográficos. Nesse sentido, e com o

intuito de apresentar uma abstração adequada para o dado espacial, Câmara et. al. (2005)

C

oluna



Dissertação de Mestrado – Rodrigo Ávila

9

apresentou a adaptação do paradigma dos quatro universos. Esse paradigma conceitua quatro

passos entre o mundo real e sua representação computacional conforme a Figura 3.

FIGURA 3 - PARADIGMA DOS QUATRO UNIVERSOS (CÂMARA ET. AL., 2005)

Dessa forma, o primeiro universo, o ontológico, reflete a definição dos conceitos

extraídos da realidade, ou seja, observando o mundo real busca-se seu completo entendimento

e definição conceitual.

O segundo, universo formal, apresenta os modelos lógicos que generalizam os conceitos

do universo ontológico. Essa etapa implica em representar o mundo real através de diagramas

que apresentam os elementos da realidade e seus possíveis relacionamentos, buscando elos

que interliguem os elementos do mundo real.

O terceiro, universo estrutural, representa através de um mapeamento as estruturas

geométricas e alfanuméricas. É nessa etapa que começa o processo de modelamento do banco

de dados, definindo-se, a partir das duas etapas anteriores, cada elemento e suas propriedades

descritivas, bem como seus relacionamentos.

Já no Universo de implementação, encontramos as linguagens e códigos tanto de banco

de dados quanto de programação que serão utilizadas para tornar concreta toda a arquitetura

obtida nos passos anteriores.

Uma outra forma de se entender melhor essas abstrações é apresentado na Figura 4,

onde o paradigma é interpretado através de níveis de abstração.



Dissertação de Mestrado – Rodrigo Ávila

10

FIGURA 4 - NÍVEIS DE ABSTRAÇÃO. ADAPTADO DE CÂMARA ET. AL. (1996)

2.3. RELACIONAMENTOS ESPACIAIS

Dentre as principais características inerentes à informação geográfica, pode-se dizer que

a mais importante é, sem dúvida, a relação espacial que existe entre os diversos objetos no

espaço. Um relacionamento espacial é a maneira com que os objetos se relacionam no espaço

(Borges et al 2005). Esse tipo de relação pode ser facilmente compreendida analisando a relação

entre uma casa e um lote, entre esses dois objetos só podem existir duas possibilidades de

relação. Ou a casa está contida no lote, ou não está. Dessa forma, todo e qualquer objeto

individualizado no espaço pode se relacionar espacialmente com outros que estejam ao seu

redor.

Esse tipo de relacionamento, conhecido como topologia espacial (Silva 1999; Borges et al

2005), deve ser sempre levado em consideração ao se modelar um banco de dados geográfico.

Tais relações fazem com que seja possível normalizar os dados que entram no banco e garantir

a integridade e qualidade dos dados.

Para se entender a importância da topologia em um banco de dados, apresenta-se a

seguinte situação: Um projeto de mapeamento geológico possui uma área determinada e é



Dissertação de Mestrado – Rodrigo Ávila

11

subdividido em seis áreas subjacentes. A regra desse projeto define que as áreas não podem se

superpor, nem possuir espaços entre si. Dessa forma, faz-se necessário a implementação de

regras topológicas que possam garantir que tais características sejam satisfeitas, as regras desse

caso estão representadas na Figura 5.

FIGURA 5 - REGRAS TOPOLÓGICAS DO EXEMPLO DAS ÁREAS.

Dentre as três primitivas geométricas básicas da representação vetorial, é possível se

estabelecer centenas de relacionamentos espaciais (Borges et al. 2005), A Figura 6 apresenta

alguns dos relacionamentos topológicos possíveis entre geo-objetos.



Dissertação de Mestrado – Rodrigo Ávila

12

FIGURA 6 - RELACIONAMENTOS ESPACIAIS POSSÍVEIS (BORGES, KARLA &amp;amp; DAVIS, CLODOVEU)

2.4. MODELAGEM CONCEITUAL - OMTG

O processo de modelagem de um banco de dados geográfico é, em parte, semelhante à

modelagem de um banco do tipo Entidade-Relacionamento (Rumbaugh et al. 1991), tendo

agregado apenas alguns conceitos importantes de orientação a objetos e representações

adequadas para geo-campos e geo-objetos (Camara, 2005).

Um dos modelos mais conhecidos para modelagem da bancos de dados convencionais

com orientação a objeto é o chamado OMT (Object Modeling Technique, Rumbaugh et al. 1991).

Este possui a capacidade de representar os aspectos semânticos de uma aplicação, usando a

Dissertação de Mestrado – Rodrigo Ávila

12

FIGURA 6 - RELACIONAMENTOS ESPACIAIS POSSÍVEIS (BORGES, KARLA &amp;amp; DAVIS, CLODOVEU)

2.4. MODELAGEM CONCEITUAL - OMTG

O processo de modelagem de um banco de dados geográfico é, em parte, semelhante à

modelagem de um banco do tipo Entidade-Relacionamento (Rumbaugh et al. 1991), tendo

agregado apenas alguns conceitos importantes de orientação a objetos e representações

adequadas para geo-campos e geo-objetos (Camara, 2005).

Um dos modelos mais conhecidos para modelagem da bancos de dados convencionais

com orientação a objeto é o chamado OMT (Object Modeling Technique, Rumbaugh et al. 1991).

Este possui a capacidade de representar os aspectos semânticos de uma aplicação, usando a

Dissertação de Mestrado – Rodrigo Ávila

12

FIGURA 6 - RELACIONAMENTOS ESPACIAIS POSSÍVEIS (BORGES, KARLA &amp;amp; DAVIS, CLODOVEU)

2.4. MODELAGEM CONCEITUAL - OMTG

O processo de modelagem de um banco de dados geográfico é, em parte, semelhante à

modelagem de um banco do tipo Entidade-Relacionamento (Rumbaugh et al. 1991), tendo

agregado apenas alguns conceitos importantes de orientação a objetos e representações

adequadas para geo-campos e geo-objetos (Camara, 2005).

Um dos modelos mais conhecidos para modelagem da bancos de dados convencionais

com orientação a objeto é o chamado OMT (Object Modeling Technique, Rumbaugh et al. 1991).

Este possui a capacidade de representar os aspectos semânticos de uma aplicação, usando a



Dissertação de Mestrado – Rodrigo Ávila

13

abordagem de orientação a objetos. Dessa forma, foi proposto em 1997, por Karla Borges, o

modelo OMTG (Borges 1997).

O modelo OMTG, também conhecido como Geo-OMT, agrupa de forma unificada as

primitivas geográficas propostas por diversos autores, além de introduzir novas primitivas que

suprem algumas deficiências, como por exemplo, a representação de múltiplas visões das

entidades geográficas. O modelo OMTG baseia-se em três conceitos principais: classes,

relacionamentos, e relacionamentos espaciais (topologia). Esse modelo trabalha em nível

conceitual apresentando tanto classes georreferenciadas como classes convencionais (Figura 7).

FIGURA 7 - TIPOS DE CLASSES E SUAS REPRESENTAÇÕES NO MODELO OMTG

Para haver uma representação adequada dos tipos de objetos espaciais, as classes

georreferenciadas, Geo-Objetos e Geo-Campos, recebem uma informação do seu tipo

geométrico (subclasses). A descrição das principais subclasses encontra-se na Figura 8.



Dissertação de Mestrado – Rodrigo Ávila

14

FIGURA 8 - REPRESENTAÇÃO DAS CLASSES GEORREFERENCIADAS JUNTO ÀS SUAS SUBCLASSES

2.5. A INFORMAÇÃO GEOLÓGICA

Independente da escala ou dos objetivos que nos impulsionem a confeccionar um mapa

geológico, a obtenção de dados e a extração de suas informações são, e sempre serão, o

aspecto principal do trabalho.

De uma forma geral, toda e qualquer informação geológica de campo é obtida através

de informações pontuais, o que constitui uma discretização da informação e da realidade

geológica pretendida. No entanto, no decorrer do trabalho o geólogo busca determinar as

relações de contato entre as entidades geológicas, ou seja, a delimitação das unidades

geológicas e das feições estruturais lineares que constituirão o mapa geológico.

Quase sempre essa etapa é feita através da interpretação visual do terreno tomando o

dado de campo (afloramento) como referencial para se distribuir adequadamente as diversas

unidades geológicas em áreas que mais se aproximem da realidade e o posicionamento das

diversas estruturas geológicas presentes.

A partir das etapas de mapeamento citadas, se obtém ao final, no mínimo, um mapa que

contém polígonos (unidades geológicas), linhas (estruturas geológicas) e pontos (os dados

pontuais de afloramentos). No entanto, apenas os elementos geométricos não nos permitiriam

Dissertação de Mestrado – Rodrigo Ávila

14

FIGURA 8 - REPRESENTAÇÃO DAS CLASSES GEORREFERENCIADAS JUNTO ÀS SUAS SUBCLASSES

2.5. A INFORMAÇÃO GEOLÓGICA

Independente da escala ou dos objetivos que nos impulsionem a confeccionar um mapa

geológico, a obtenção de dados e a extração de suas informações são, e sempre serão, o

aspecto principal do trabalho.

De uma forma geral, toda e qualquer informação geológica de campo é obtida através

de informações pontuais, o que constitui uma discretização da informação e da realidade

geológica pretendida. No entanto, no decorrer do trabalho o geólogo busca determinar as

relações de contato entre as entidades geológicas, ou seja, a delimitação das unidades

geológicas e das feições estruturais lineares que constituirão o mapa geológico.

Quase sempre essa etapa é feita através da interpretação visual do terreno tomando o

dado de campo (afloramento) como referencial para se distribuir adequadamente as diversas

unidades geológicas em áreas que mais se aproximem da realidade e o posicionamento das

diversas estruturas geológicas presentes.

A partir das etapas de mapeamento citadas, se obtém ao final, no mínimo, um mapa que

contém polígonos (unidades geológicas), linhas (estruturas geológicas) e pontos (os dados

pontuais de afloramentos). No entanto, apenas os elementos geométricos não nos permitiriam

Dissertação de Mestrado – Rodrigo Ávila

14

FIGURA 8 - REPRESENTAÇÃO DAS CLASSES GEORREFERENCIADAS JUNTO ÀS SUAS SUBCLASSES

2.5. A INFORMAÇÃO GEOLÓGICA

Independente da escala ou dos objetivos que nos impulsionem a confeccionar um mapa

geológico, a obtenção de dados e a extração de suas informações são, e sempre serão, o

aspecto principal do trabalho.

De uma forma geral, toda e qualquer informação geológica de campo é obtida através

de informações pontuais, o que constitui uma discretização da informação e da realidade

geológica pretendida. No entanto, no decorrer do trabalho o geólogo busca determinar as

relações de contato entre as entidades geológicas, ou seja, a delimitação das unidades

geológicas e das feições estruturais lineares que constituirão o mapa geológico.

Quase sempre essa etapa é feita através da interpretação visual do terreno tomando o

dado de campo (afloramento) como referencial para se distribuir adequadamente as diversas

unidades geológicas em áreas que mais se aproximem da realidade e o posicionamento das

diversas estruturas geológicas presentes.

A partir das etapas de mapeamento citadas, se obtém ao final, no mínimo, um mapa que

contém polígonos (unidades geológicas), linhas (estruturas geológicas) e pontos (os dados

pontuais de afloramentos). No entanto, apenas os elementos geométricos não nos permitiriam



Dissertação de Mestrado – Rodrigo Ávila

15

ler adequadamente este mapa, seriam apenas linhas e polígonos sem significado para o leitor

do produto final.

Para proporcionar a identificação dos objetos geométricos, todo mapa, não somente o

geológico, precisa adotar, necessariamente, uma legenda. A legenda, conforme exemplo da

Figura 9, é constituída da representação espacial usada, como a cor, o tipo de linha ou mesmo a

simbologia do ponto, acrescido do seu significado.

FIGURA 9 - MAPA DA PROVÍNCIA TOCANTINS (CPRM 2003) COM UMA LEGENDA CARACTERÍSTIA.

2.6. ESTADO DA ARTE SOBRE BANCO DE DADOS ESPACIAIS GEOLÓGICOS

No intuito de se entender a real situação do uso das geotecnologias nos estudos

geológicos, foram analisados alguns modelos de bancos de dados geológicos disponibilizados na

literatura. O primeiro a ser analisado, o Geobank®, é o atual banco de dados utilizado pelo

Serviço Geológico do Brasil (CPRM1). Embora sua origem tenha se dado em tempos onde os

conceitos de interoperabilidade e metadados não haviam sido devidamente aprofundados e



Dissertação de Mestrado – Rodrigo Ávila

16

padronizados, este vem sendo continuamente modificado de modo a absorver os avanços

tecnológicos.

A interface padrão de entrada de dados do GeoBank é o Aflora. Atualmente o software

se encontra na versão 4.2 e está disponível no website do GeoBank

(http://geobank.sa.cprm.gov.br). Esse sistema foi concebido com o intuito de oferecer um

ambiente adequado ao armazenamento das informações geológicas não espaciais levantadas

nos diversos projetos da instituição. O Aflora não possui um componente para entrada e

visualização de dados espaciais, trata-se de uma ferramenta tradicional trabalhando com um

banco de dados relacional, sem levar muito em consideração o armazenamento de dados

espaciais. Outro ponto frágil do AFLORA e o seu encadeamento com campos obrigatórios que

dificultam o uso pelos geólogos. Os pesquisadores reclamam freqüentemente que muitos

destes campos obrigatório não são necessários. .

O novo projeto do GeoBank® apresenta um grande avanço em armazenamento de dados

geológicos, tendo sido pensado baseado em conceitos modernos de interoperabilidade. No

entanto, ainda apresenta certa herança de suas origens, permanecendo, em alguns casos, com

uma arquitetura Dual, onde a geometria espacial encontra-se fisicamente separada de seus

atributos alfanuméricos.



Dissertação de Mestrado – Rodrigo Ávila

17

FIGURA 10 - TELAS DO APLICATIVO AFLORA® EM SUA VERSÃO 4.2

Outro modelo de banco que se destaca dentre os bancos de dados geológicos existentes

é o chamado ArcGeology®. Proposto em 2007 em sua primeira versão, foi concebido para ser

utilizado dentro da tecnologia ArcGis® 9.1 por uma equipe do U.S. Geological Survey. Este

modelo apresenta conceitos modernos de banco de dados, apresentando análise topológica e o

armazenamento de todas as feições cartográficas de um mapa geológico, bem como seus

atributos alfanuméricos.

O último projeto analisado nessa etapa não diz respeito à um modelo de banco de

dados, mas sim uma série de iniciativas para definição de interoperabilidade de dados

geocientíficos. O GeoSciML (https://www.seegrid.csiro.au/) possui o objetivo principal de

oferecer uma arquitetura de interoperabilidade de dados, permitindo que instituições com os

mais diferentes modelos de bancos de dados possam trocar informações sem a necessidade de

mudanças em suas estruturas.

Dissertação de Mestrado – Rodrigo Ávila

17

FIGURA 10 - TELAS DO APLICATIVO AFLORA® EM SUA VERSÃO 4.2

Outro modelo de banco que se destaca dentre os bancos de dados geológicos existentes

é o chamado ArcGeology®. Proposto em 2007 em sua primeira versão, foi concebido para ser

utilizado dentro da tecnologia ArcGis® 9.1 por uma equipe do U.S. Geological Survey. Este

modelo apresenta conceitos modernos de banco de dados, apresentando análise topológica e o

armazenamento de todas as feições cartográficas de um mapa geológico, bem como seus

atributos alfanuméricos.

O último projeto analisado nessa etapa não diz respeito à um modelo de banco de

dados, mas sim uma série de iniciativas para definição de interoperabilidade de dados

geocientíficos. O GeoSciML (https://www.seegrid.csiro.au/) possui o objetivo principal de

oferecer uma arquitetura de interoperabilidade de dados, permitindo que instituições com os

mais diferentes modelos de bancos de dados possam trocar informações sem a necessidade de

mudanças em suas estruturas.

Dissertação de Mestrado – Rodrigo Ávila

17

FIGURA 10 - TELAS DO APLICATIVO AFLORA® EM SUA VERSÃO 4.2

Outro modelo de banco que se destaca dentre os bancos de dados geológicos existentes

é o chamado ArcGeology®. Proposto em 2007 em sua primeira versão, foi concebido para ser

utilizado dentro da tecnologia ArcGis® 9.1 por uma equipe do U.S. Geological Survey. Este

modelo apresenta conceitos modernos de banco de dados, apresentando análise topológica e o

armazenamento de todas as feições cartográficas de um mapa geológico, bem como seus

atributos alfanuméricos.

O último projeto analisado nessa etapa não diz respeito à um modelo de banco de

dados, mas sim uma série de iniciativas para definição de interoperabilidade de dados

geocientíficos. O GeoSciML (https://www.seegrid.csiro.au/) possui o objetivo principal de

oferecer uma arquitetura de interoperabilidade de dados, permitindo que instituições com os

mais diferentes modelos de bancos de dados possam trocar informações sem a necessidade de

mudanças em suas estruturas.



Dissertação de Mestrado – Rodrigo Ávila

18

O GeoSciML é uma iniciativa de grandes serviços geológicos do mundo como a IUGS

(http://www.iugs.org), o serviços geológico britânico (http://www.bgs.ac.uk) e o serviço

geológico americano (http://www.usgs.gov)



Dissertação de Mestrado – Rodrigo Ávila

19

3. MODELAGEM DO BANCO DE DADOS ESPACIAL PARA ESTUDOS GEOLÓGICOS.

O crescimento das geotecnologias e sua popularização têm levado ao desenvolvimento

de sistemas que buscam a distribuição das geoinformações (informações geográficas) de forma

descentralizadas e ao mesmo tempo prover bons sistemas de tomada de decisão. Este fato

associado ao aumento exponencial do volume de dados espaciais não padronizados e

desorganizados no Brasil tem gerado um grande problema para a aplicação deste conjunto de

avanços tecnológicos.

A Comissão Nacional de Cartografia Brasileira (CONCAR), sensível a esta necessidade,

constituiu a Subcomissão de Dados Espaciais a fim de elaborar uma proposta de Especificações

Técnicas para Estruturação de Dados Geoespaciais Digitais Vetoriais (EDGV), com a finalidade de

padronizar e viabilizar o compartilhamento de dados espaciais, a interoperabilidade e a

racionalização de recursos entre os produtores e usuários de dados e informação cartográfica, a

qual deverá subsidiar a Infraestrutura Nacional de Dados Espaciais (INDE, Decreto Nº 6.666 de

27/11/2008).

Até o momento a subcomissão da EDGV, apesar de ter visualizado um quadro mais

amplo, tem se preocupado em sistematizar as informações consideradas básicas como

apresentado na figura 11, deixando de fora, ou “delegando” para as instituições parceiras, a

disponibilização das informações consideradas temáticas como Geologia, Geomorfologia, Solos

etc.



Dissertação de Mestrado – Rodrigo Ávila

20

FIGURA 111 - CATEGORIA DE INFORMAÇÕES TRATADAS NA EDGV (NCB – CONCAR, 2007)

Em especial, no que tange as informações sobre o meio físico, mais especificamente as

informações geológicas, a organização de uma base de dados adequada é estratégica para o

processo de tomada de decisão, seja no âmbito dos desastres naturais (ex. deslizamentos e

enchentes, como os que têm ocorrido nos últimos anos), na implantação de obras de

infraestrutura, como usinas hidroelétricas e sistema de transporte (ex. trem bala), ou ainda para

a alocação das atividades de mineração, uma das principais fontes de receita para a união (ex.

Extração de Ferro e Petróleo), e suas relações com o processo de Gestão Territorial.

Deste modo, a gestão adequada destas informações implica na definição de uma

estrutura de armazenamento, que possibilite diferentes maneiras de se manipulá-las (Elmasri &amp;amp;

Navathe 2005).

Uma pesquisa realizada, embora não oficial, demonstrou que apesar do elevado uso de

Sistemas de Informações Geográficas por várias instituições públicas e privadas que manipulam

informações geológicas, os dados ainda encontram-se armazenados de forma dispersa, sem

padronização e sem uma estruturação concreta em SGBD’s (Sistemas gerenciadores de Bancos

de dados). Em especial as informações que são geradas pelas universidades, que hoje possuem

uma participação importante no processo de cartografia geológica, estão sobremaneira

desorganizadas e dispersas sob posse de seus autores.



Dissertação de Mestrado – Rodrigo Ávila

21

Outro fato importante, é que mesmo nas iniciativas que buscam a sistematização em

SGBD, observa-se uma falta de padronização/normatização das nomenclaturas e conceitos

devido ao alto grau de subjetividade na obtenção/caracterização dos dados geológicos.

Considerando o exposto, o objetivo dessa etapa é propor um modelo conceitual de

banco de dados geográfico para a organização das informações geológicas, e sua

implementação no Sistema Gerenciador de Banco de Dados PostGreSQL com o PostGis,

considerando as premissas estabelecidas pela INDE (Infraestrutura Nacional de Dados

Espaciais).

3.1. PRINCIPAIS REQUISITOS DO BANCO DE DADOS

Essa etapa faz parte do processo de entendimento e sistematização do chamado

universo ontológico, já descrito anteriormente. O resultado obtido desta etapa irá culminar em

um diagrama que sintetiza o universo formal, também já discutido.

O banco de dados em desenvolvimento deve levar em consideração os tipos de dados

espaciais e não espaciais e seus relacionamentos no contexto das informações geológicas. Dessa

forma, a etapa de levantamento de requisitos passa por pelo menos duas etapas: Os requisitos

do dado geológico que compõe a informação geológica pura e os requisitos de dados espaciais,

que traduzirão a informação geológica em objetos espaciais.

Nos requisitos do dado Geológico (Semântica), buscou-se o levantamento dos principais

atributos que compõe os mapas geológicos e suas primeiras derivações. Optou-se neste

trabalho o estabelecimento de um glossário mínimo paralelamente ao levantamento dos

requisitos, tendo em vista a melhor compreensão do modelo final proposto. Este glossário

seguiu os requisitos/normatização estabelecidos pela Comissão de Gestão das Informações

Geológicas (CMI - Commission for the Management and Application of Geoscience Information)



Dissertação de Mestrado – Rodrigo Ávila

22

da União Internacional de Ciências Geológicas (IUGS - International Union of Geological Sciences

- http://www.cgi-iugs.org/tech_collaboration/thesaurus.html2).

A seguir apresentam-se os principais conceitos atrelados aos requisitos.

Mapa Geológico: Segundo Lisle (2004), um mapa geológico apresenta a distribuição

espacial das rochas em uma dada área. A partir dessa definição temos a necessidade de

expandi-la conceitualmente com o objetivo de caracterizar melhor a informação geológica

completa  a ser mapeada. Dessa forma, a descrição proposta seria: Mapa que apresenta a

distribuição espacial dos diversos tipos litológicos, os contatos entre esses tipos e as estruturas

geológicas presentes em um contexto sob determinada escala.

Os elementos principais que compõem um mapa geológico são a Unidade Geológica, as

estruturas tectônicas, os afloramentos e as relações de contatos entre esses elementos.

Unidade Geológica: Unidade diferenciável da crosta por suas características de

composição, idade, limites físicos e outras propriedades.

Requisito espacial: As unidades geológicas são objetos do tipo polígono. Podem

apresentar diversos tipos de fronteiras entre si. As fronteiras dos objetos são

conhecidas como contatos, esses contatos são definidos por linhas que possuem

significados geológicos diversos. Os polígonos que representarão as unidades

geológicas devem ser abstraídos a partir dos objetos tipo linha “Estruturas

geológicas”, somente sendo utilizadas para formar os polígonos as estruturas que

tenham atributo de contatos.

Estruturas geológicas: Representam descontinuidades físicas na crosta, quer sejam

singenéticas ou pós-genéticas. Podem ser planares ou lineares.

Requisito espacial: As estruturas são representadas por linhas. As linhas podem

se cruzar, tocar e sobrepuser.



Dissertação de Mestrado – Rodrigo Ávila

23

Afloramentos: Afloramento pode ser entendido como a exposição de uma rocha na

superfície da Terra. Tal exposição pode ser natural ou antrópica (Maltman, 1998).

Requisito espacial: Os afloramentos são representados por geo-objetos pontuais.

Tais objetos encontram-se sempre contidos espacialmente em um projeto.

Grupo Litológico: Representa os três grupos litológicos clássicos. Rochas sedimentares,

ígneas e metamórficas. Existem subclassificações importantes dentro de cada grupo que não

serão consideradas nesse trabalho, mas que poderão ser acrescentadas posteriormente.

Litotipos: “Quando se caracteriza uma fácies litológica como uma rocha ou uma

associação de rochas, para distinguir de outras rochas ou associações litológicas em estudo,

considerando qualquer aspecto genético, composicional, químico ou mineralógico, morfológico,

estrutural ou textural distintivo para fins de referência em um estudo geológico” (Glossário

Geológico – IG-UnB).

Relações geológicas espaciais: De uma forma geral, um mapa geológico apresenta uma

discretização de dados que são, na verdade, contínuos. Todos os geo-objetos, quer sejam linhas,

polígonos ou pontos apresentam relacionamento espacial entre si.

Relação Estrutural – São as relações entre as feições estruturais podem se relacionar de

diversas formas, tanto temporal como espacialmente.

Delimitação de unidades (contatos) - Os contatos de um mesmo corpo podem ser

extremamente variados, dessa forma, uma mesma unidade geológica pode possuir, por

exemplo, um contato angular à nordeste, um inferido à sudeste, um litológico à sudoeste e um

discordante à noroeste.

Requisito espacial: Essa complexidade deve ser estudada, e até o momento, se

propõe o uso de geo-objetos com geometria de linha sobreposta à geometria de

polígonos que definem os corpos. Outra possibilidade é a utilização de ‘redes’,

onde cada arco que delimita uma área pode receber um tipo distinto, no entanto

essa etapa seria uma etapa posterior à de entrada de dados, tratando-se de



Dissertação de Mestrado – Rodrigo Ávila

24

validação e tratamento de dados, onde também se encaixam as correções

topológicas.

3.2. MODELO CONCEITUAL

Todo o processo de mapeamento geológico gira ao redor de algumas classes principais,

chamadas aqui de superclasses, que servem como agregadoras das demais.

São elas:

? Afloramentos

? Estruturas

? Unidades geológicas

A partir das superclasses, foi levantada cada uma das principais classes que seriam

necessárias para representar corretamente a etapa do mapeamento, tais classes são

apresentadas na tabela que se segue (Tabela 1).

TABELA 1 - PRINCIPAIS CLASSES DO MODELO

Superclasse Classes Descrição

Afloramento

Amostra Amostras relacionadas ao afloramento

Litotipo Informações acerca dos litotipos que compõe o afloramento.

Medidas

estruturais
Medidas relativas a estruturas tectônicas e/ou primárias.

Estrutura Estrutura/contato
Uma estrutura pode representar ou não um contato

geológico

Unidade

geológica

Contato Contatos que delimitam a unidade

Litotipo Informações acerca dos litotipos que compõe a unidade.



Dissertação de Mestrado – Rodrigo Ávila

25

Após a definição das principais classes, passamos à identificação das classes espaciais,

que deverão possuir alguma representação geográfica. A tabela 2 apresenta de forma resumida

as classes espaciais identificadas, sua descrição e o tipo geométrico relacionado.

TABELA 2 - CLASSES ESPACIAIS

Classe Espacial Descrição Tipo geométrico

Afloramento Afloramentos Ponto

Estruturas São as estruturas tectônicas mapeáveis. Linha

Unidade

Geológica

Unidade diferenciável da crosta por suas características de

composição, idade, limites físicos e outras propriedades
Polígono

Projeto

Representação da área do projeto. Embora seja do tipo

polígono, é implementada como a agregação espacial dos

grupos.

Polígono

Grupos
Representa a área de trabalho de cada grupo que integra

um projeto.
Polígono

Contatos
São os contatos geológicos delimitados que serão

utilizados na geração das unidades geológicas.
Linha

A partir do mapeamento das superclasses e classes, chegou-se a um modelo, conhecido

como diagrama de classes (Figura 12), aqui adaptado para permitir a visualização dos tipos

relativos a cada classe. Essa adaptação nos permite diferenciar claramente as classes espaciais

das não-espaciais, além de apresentar uma prévia dos relacionamentos espaciais que estarão

presentes no banco de dados.



Dissertação de Mestrado – Rodrigo Ávila

26

Para criar o modelo conceitual do banco de dados geológico, cada uma das superclasses

foi trabalhada individualmente, sobretudo na busca da delimitação de suas feições espaciais e

possíveis relacionamentos com outras classes.

A primeira superclasse analisada, a classe Projeto, é a que agrega espacialmente todas as

outras, funcionando como a classe Pai no banco de dados. Ela contém necessariamente todas as

outras classes geométricas do banco e representa a delimitação espacial do projeto de

mapeamento. A classe Projeto representa um geo-objeto do tipo polígono como já apresentado

na tabela 2.

O projeto de mapeamento é formado a partir de seus grupos. Os grupos são áreas

menores que juntas, ao final, totalizarão a área do projeto. Dessa forma, todo o trabalho de

mapeamento é realizado dentro de um grupo. Na prática, todas as classes do banco estão

amarradas ao grupo, que por sua vez é agregado pelo projeto.

FIGURA 12 - MODELO DE CLASSES COM INDICAÇÃO DO TIPO GEOMÉTRICO



Dissertação de Mestrado – Rodrigo Ávila

27

Cada grupo de mapeamento contém as superclasses espaciais Estrutural, Unidade

Geológica e Afloramento. São essas as três principais superclasses geográficas do projeto.

A superclasse Unidade Geológica foi definida como um geo-objeto do tipo polígono que

armazena as unidades geológicas individualizadas no mapeamento.

Essas unidades possuem uma peculiaridade interessante no tocante aos seus limites.

Uma mesma unidade Geológica pode estar limitada por mais de um tipo diferente de limite,

esses limites são conhecidos como contatos. Os contatos representam estruturas que marcam

os limites da unidade geológica. O conceito de contato já nos leva à próxima superclasse, a

Estrutural.

A superclasse Estrutural é também um geo-objeto, dessa vez do tipo linha, responsável

por armazenar todas as estruturas tectônicas do projeto. Tais estruturas podem marcar limites

entre unidades geológicas.

Existem relações espaciais interessantes entre os dois geo-objetos já citados. A primeira

delas, como já mencionado é a estrutura como contato de uma unidade. Nesse caso, pode-se

entender que a estrutura “toca” a unidade geológica. Existem outras estruturas que apenas

“cruzam” a unidade geológica (Figura 13).

Mais um aspecto topológico interessante a ser levado em consideração é que uma

mesma estrutura pode assumir mais de uma situação topológica. É possível que uma estrutura,

em determinada parte do seu traçado esteja cruzando uma unidade e, em outro, já esteja

tocando essa unidade. Isso pode ser visto na estrutura ‘b’ da figura 20 onde cruza a ‘unidade y’

na parte superior, toca (contato) ambas as unidades ao centro, e volta a cruzar a ‘unidade x’ na

parte inferior do mapa.



Dissertação de Mestrado – Rodrigo Ávila

28

FIGURA 12 - ESTRUTURA 'A' MOSTRANDO UMA FALHA NORMAL TOCANDO AS DUAS UNIDADES E SERVINDO COMO CONTATO

GEOLÓGICO. ESTRUTURA 'B' CRUZANDO AS UNIDADES COMO UMA FALHA TRANSCORRENTE

A próxima, e talvez mais importante classe a ser analisada, é a superclasse

“Afloramento”. O afloramento é a unidade básica de mapeamento, apresentando-se como um

geo-objeto do tipo ponto. É a partir do afloramento que se obtém todas as outras informações

do mapa geológico.

O afloramento possui uma única possibilidade de relação espacial com a unidade

geológica, está contida na unidade. Apesar da simplicidade da topologia dessa classe, ela possui

vital importância, pois a partir dela se desdobram uma série de outras classes não espaciais

como a laminação e a geocronologia.

O modelo conceitual OMTG (Anexo 1) foi gerado usando o software StarUML

(http://staruml.sourceforge.net) e uma extensão específica do programa para esse tipo de

modelamento. Toda conceituação e padronização adotados no modelo conceitual do banco de

dados estão baseados na segunda versão do documento Especificações Técnicas para

Estruturação de Dados Geoespaciais Vetoriais (2009), produzido pela comissão Nacional deCartografia (CONCAR).
O modelamento lógico (Anexo 2) foi realizado com o auxílio do software DBDesigner

(http://sourceforge.net/projects/dbdesigner-fork/), auxiliando também a criação do dicionário

de dados (Anexo 3) do banco de dados em questão.

Dissertação de Mestrado – Rodrigo Ávila

28

FIGURA 12 - ESTRUTURA 'A' MOSTRANDO UMA FALHA NORMAL TOCANDO AS DUAS UNIDADES E SERVINDO COMO CONTATO

GEOLÓGICO. ESTRUTURA 'B' CRUZANDO AS UNIDADES COMO UMA FALHA TRANSCORRENTE

A próxima, e talvez mais importante classe a ser analisada, é a superclasse

“Afloramento”. O afloramento é a unidade básica de mapeamento, apresentando-se como um

geo-objeto do tipo ponto. É a partir do afloramento que se obtém todas as outras informações

do mapa geológico.

O afloramento possui uma única possibilidade de relação espacial com a unidade

geológica, está contida na unidade. Apesar da simplicidade da topologia dessa classe, ela possui

vital importância, pois a partir dela se desdobram uma série de outras classes não espaciais

como a laminação e a geocronologia.

O modelo conceitual OMTG (Anexo 1) foi gerado usando o software StarUML

(http://staruml.sourceforge.net) e uma extensão específica do programa para esse tipo de

modelamento. Toda conceituação e padronização adotados no modelo conceitual do banco de

dados estão baseados na segunda versão do documento Especificações Técnicas para

Estruturação de Dados Geoespaciais Vetoriais (2009), produzido pela comissão Nacional deCartografia (CONCAR).
O modelamento lógico (Anexo 2) foi realizado com o auxílio do software DBDesigner

(http://sourceforge.net/projects/dbdesigner-fork/), auxiliando também a criação do dicionário

de dados (Anexo 3) do banco de dados em questão.

Dissertação de Mestrado – Rodrigo Ávila

28

FIGURA 12 - ESTRUTURA 'A' MOSTRANDO UMA FALHA NORMAL TOCANDO AS DUAS UNIDADES E SERVINDO COMO CONTATO

GEOLÓGICO. ESTRUTURA 'B' CRUZANDO AS UNIDADES COMO UMA FALHA TRANSCORRENTE

A próxima, e talvez mais importante classe a ser analisada, é a superclasse

“Afloramento”. O afloramento é a unidade básica de mapeamento, apresentando-se como um

geo-objeto do tipo ponto. É a partir do afloramento que se obtém todas as outras informações

do mapa geológico.

O afloramento possui uma única possibilidade de relação espacial com a unidade

geológica, está contida na unidade. Apesar da simplicidade da topologia dessa classe, ela possui

vital importância, pois a partir dela se desdobram uma série de outras classes não espaciais

como a laminação e a geocronologia.

O modelo conceitual OMTG (Anexo 1) foi gerado usando o software StarUML

(http://staruml.sourceforge.net) e uma extensão específica do programa para esse tipo de

modelamento. Toda conceituação e padronização adotados no modelo conceitual do banco de

dados estão baseados na segunda versão do documento Especificações Técnicas para

Estruturação de Dados Geoespaciais Vetoriais (2009), produzido pela comissão Nacional deCartografia (CONCAR).
O modelamento lógico (Anexo 2) foi realizado com o auxílio do software DBDesigner

(http://sourceforge.net/projects/dbdesigner-fork/), auxiliando também a criação do dicionário

de dados (Anexo 3) do banco de dados em questão.



Dissertação de Mestrado – Rodrigo Ávila

29

4. SISTEMA DE GERÊNCIA DE PROJETOS E DADOS GEOLÓGICOS.

Em um mundo onde a virtualização e a sistematização se tornam cada vez mais

presentes em nosso cotidiano, é notável o crescimento no uso e disponibilidade de ferramentas

de SIG, sobretudo na internet. Segundo Peterson (2007) o crescimento no uso de mapas através

da internet excede a taxa de crescimento da própria internet.

O acesso à informação espacial disponibilizada e a amplitude de potenciais usuários

concebidos pelas tecnologias atuais, constituem um marco na história da criação de mapas: o

próprio usuário desenvolve o mapa segundo as suas necessidades, baseado nas informações

disponíveis, e no momento em que necessita do mesmo (DE MENDONÇA et. al., 2009).

Com o intuito de modernizar os processos dentro do Instituto de Geociências da UnB e

adequá-lo à revolução virtual que vivemos no mundo de hoje, foi desenvolvido um banco de

dados geológico capaz de armazenar toda a informação geológica produzida, bem como os

metadados e dados dos projetos de levantamento de dados.

A partir do desenvolvimento do banco de dados, iniciou-se o planejamento de uma

ferramenta adequada para a gerência dos dados espaciais e de toda a informação dos projetos

do Instituto.

O Desenvolvimento da aplicação seguiu parâmetros modernos de arquitetura, buscando

se enquadrar em todos os padrões de interoperabilidade de dados e disponibilidade, usando

sempre todo o potencial dos softwares livres existentes no mercado.



Dissertação de Mestrado – Rodrigo Ávila

30

4.1. ARQUITETURA PROPOSTA

A discussão acerca da arquitetura ideal para disponibilização de SIG já vem se realizando

há algum tempo por diversos autores. HARROWER (2004) defende o uso da internet na

disponibilização de novos serviços de SIG, segundo ele a internet revolucionou a forma como

trabalhamos cartografia, apresentando alguns pontos importantes que levaram a esse novo

paradigma de distribuição de SIG’s:

? Disponibilidade e facilidade de distribuição de produtos cartográficos;

? Universalização do acesso a dados cartográficos;

? Aumento significativo na demanda por serviços cartográficos;

? Surgimento de ferramentas que permitem o desenvolvimento de aplicações
“sob-demanda” de forma eficiente e atualizável.

Outro conceito importante apresentado por HARROWER (2004) é o dos “Mapas sob-

demanda”. Segundo o autor, um dos principais benefícios dos SIG’s modernos é permitir que o

próprio usuário manipule e organize os dados, dessa forma os mapas não se encontram prontos

e estáticos, mas são construídos de acordo com as necessidades do usuário.

Ao mesmo tempo em que pensamos a universalização do acesso a ferramentas de SIG,

devemos também repensar os conceitos de usabilidade dessas ferramentas.

Temos um público cada vez mais sedento de informação, treinado em um mundo digital,

mas que não necessariamente possui a formação adequada para manipular corretamente um

SIG. Esses problemas devem ser levados em consideração no desenvolvimento de novos SIG’s,

desde a definição da arquitetura até a produção do layout final do produto.

Outro meio tecnológico que tem tomado corpo ultimamente é o de celulares e tablets.

Cada vez mais poderosos e com características muito próximas dos computadores tradiocionais,

esses aparelhos possibilitam que as tecnologias se tornem definitivas e façam parte de todos os

momentos do cotidiano das pessoas.



Dissertação de Mestrado – Rodrigo Ávila

31

Levando em consideração que um geólogo utiliza diversas ferramentas em um trabalho

de campo, é esperado que os dispositivos móveis ofereçam uma agregação de diversas

ferramentas e funcionalidades, disponibilizando ao geólogo um ambiente de coleta de dados

integrado e que permita mais agilidade e segurança na coleta de dados.

A utilização de dispositivos móveis na aquisição de dados representaria não só uma

enorme redução de custos operacionais, mas principalmente a simplificação do processo de

armazenamento, interpretação e publicação dos dados.

FIGURA 14 - ARQUITETURA DO TIPO “ARMAZENAMENTO/PROCESSAMENTO CENTRALIZADO” COM COLETA DESCENTRALIZADA

Sob o ponto de vista desse trabalho, esse tipo de tecnologia contribui muito para o êxito

na implantação do novo SIG, fazendo com que a tecnologia se espalhe com maior velocidade,

nos dando a oportunidade de criar uma cultura tecnológica que propicie o avanço real da

segurança e disponibilidade da informação geológica.



Dissertação de Mestrado – Rodrigo Ávila

32

Todos os pontos apresentados apontam para uma arquitetura onde o processamento e

armazenamento das informações seja centralizado e a coleta descentralizada (Figura 14). As

seguintes características podem resumir a arquitetura proposta:

? Arquitetura de armazenamento e distribuição WEB

? Armazenamento de dados centralizado

? Processamento de dados centralizado

? Aquisição descentralizada de dados através de dispositivos móveis

? Restrição de acesso a dados

4.2. ARQUITETURA DE SERVIDOR

Um dos pontos fundamentais do software proposto é a disponibilidade dos dados e o

trabalho em grupo. Dessa forma é importante que a ferramenta esteja disponível a todo tempo

e que seja acessível de forma fácil e universal. Tendo em vista essas questões, decidiu-se por

utilizar a WEB (internet) como ambiente de disponibilização da ferramenta.

Para se disponibilizar um serviço desse tipo na WEB, precisamos de algumas ferramentas

indispensáveis, são elas: Servidor WEB, Servidor de mapas e o Banco de dados com suporte a

dados espaciais. A Figura 15 apresenta a organização desses produtos a partir de alguns

softwares livres.

O servidor web é o aplicativo responsável pela disponibilização de um site ou aplicativo

web hospedados em um computador para outros dentro de uma rede, nesse caso, a rede

mundial de computadores (World Wide Web). O servidor de aplicações web adotado foi o

Apache Server (http://apache.org).

O Servidor de Mapas é o software que nos permite publicar dados geográficos na WEB.

Através desse aplicativo, podemos disponibilizar um banco de dados espacial via Web através

de uma série de especificações estabelecidas pela OGC (Open Geospatial Consortium). Por



Dissertação de Mestrado – Rodrigo Ávila

33

serem publicadas baseadas em padrões abertos e internacionais, essas informações podem ser

consumidas por uma grande variedade de softwares web e desktop. O aplicativo Geoserver

(http://geoserver.org), mantido pela Open Planning Project,  foi o servidor escolhido dentro do

contexto desse projeto.

As especificações OGC para aplicações em mapeamento na web oferecem um padrão

para que os usuários realizem buscas por mapas e fontes de dados geográficos na web,

independentemente do tipo de servidor de mapas ou do fabricante (LIMP, 2002). As seguintes

especificações são definidas pela OGC:

? WMS (Web Map Service) – Interface para requisição de dados via HTTP com

retorno de imagens georreferenciadas.

? SLD (Styled Layer Descriptors) – Estabelece padrões de simbologia a serem

utilizados na renderização dos mapas através do protocolo WMS;

? WFS (Web Feature Service) – Interface de comunicação de dados geográficos

reais no formato GML (Geographic Markup Language). Permite operações de

consultas em bases de dados e retorno de feições;

? WFS-T (Web Map Service-Transactional) – Interface igual à WFS que permite

operações de criação edição de dados;

? WCS (Web Coverage Server) – Interface para publicação e a distribuição de

imagens de satélite e outros “coverages”;



Dissertação de Mestrado – Rodrigo Ávila

34

FIGURA 15 - ARQUITETURA BÁSICA BASEADA EM SOFTWARES LIVRES (FONTE: HTTP://OPENGEO.ORG)

4.3. SISTEMA DE GESTÃO DE DADOS GEOLÓGICOS NA WEB

Para se chegar a uma solução adequada de gestão da informação geológica, é necessário

levar em consideração suas principais características:

? A base do estudo geológico é a confecção de mapas. Isso quer dizer que boa

parte dos dados serão ou poderão ser representados geograficamente em um

mapa.

? O levantamento de dados é quase sempre feito no contexto de projetos de

mapeamento. É, portanto, fundamental gerenciar tais projetos.

? As geociências são formadas de diversas ciências integradas com o intuito de se

compreender melhor a história geológica. Dessa forma, todas as áreas da

geociência, ou a maioria delas, devem estar contempladas no sistema.

? O projeto é o elemento agregador de todas as outras etapas de mapeamento,

dessa forma é de suma importância que o sistema seja capaz de gerenciar as



Dissertação de Mestrado – Rodrigo Ávila

35

informações mais importantes de um projeto para garantir a herança histórica

dos dados.

Para facilitar o processo de mapeamento e agilizar o levantamento dos dados, os

projetos são, quase sempre, subdivididos em subprojetos.  É no contexto dos subprojetos que

todos os dados serão levantados, se atendo espacialmente à área delimitada para cada

subprojeto individualmente.

No que diz respeito ao levantamento de dados, de uma forma geral, toda e qualquer

informação geológica de campo é obtida através de informações pontuais, o que constitui uma

discretização da informação e da realidade geológica pretendida.

A partir do afloramento, devem ser aninhadas uma série de informações importantes,

como as amostras do afloramento, as medidas estruturais, laminação de amostras, análises

laboratoriais, geoquímica isotópica e outra.

Outro elemento fundamental na aquisição de dados em um mapeamento é a definição

espacial de contatos litológicos e estruturas tectônicas. Estes elementos serão responsáveis pela

delimitação cartográfica das estruturas e unidades geológicas do projeto.

Um ponto fundamental a ser frisado é o fato de que a área total do projeto deve ser

obtida a partir das áreas de seus subprojetos, esse processo deve ser automático para se evitar

possíveis erros topológicos e perda de herança de qualquer elemento mapeado.

Outra questão importante é o processo estabelecido aqui para se proceder à produção

cartográfica. De uma forma geral, uma unidade geológica pode ser definida a partir do desenho

de um polígono diretamente, ou então a partir da intersecção de linhas (contatos).

Foi definida como metodologia de mapeamento que o mais adequado seria a definição

das unidades geológicas a partir dos contatos geológicos existentes. Dessa forma, o processo de

geração do polígono que representa a unidade geológica, será feito de forma quase automática

pelo sistema.



Dissertação de Mestrado – Rodrigo Ávila

36

Para viabilizar a correta definição dos polígonos, somente as estruturas do tipo contato

serão usadas. Todos os contatos passam então por um processo de intersecção entre si

gerando-se os polígonos onde três ou mais contatos fecharem uma área. A partir daí será usada

outra informação definida no sistema, que será o ponto guia da unidade.

Esse ponto guarda a informação da unidade geológica que estará abaixo de si, dessa

forma, ao se verificar qual ponto guia se sobrepõe a cada polígono, o sistema será capaz de

identificar os atributos do polígono criando os relacionamentos e estabelecendo a unidade

geológica relativa.

FIGURA 16 - FIGURA MOSTRANDO AS DUAS POSSIBILIDADES DE DEFINIÇÃO DE UMA UNIDADE GEOLÓGICA. EM "A" AS UNIDADES

GEOLÓGICAS SÃO OBTIDAS A PARTIR DE CONTATOS TRAÇADPS INCIALMENTE NO MAPA. EM "B" AS UNIDADES GEOLÓGICAS FORAM

DEFINIDAS A PARTIR DE DOIS POLÍGONOS CRIADOS SEPARADAMENTE, CORRENDO O RISCO DE SE PRODUZIR ERROS TOPOLÓGICOS COMO O

APRESENTADO.

O último passo da cartografia geológica, nesse caso, é a união de todos os polígonos que

se toquem e que possuam o mesmo identificador de unidade geológica. Essa junção fará o que

é conhecido no geoprocessamento como “dissolve”, utilizada com freqüência para agregar

elementos que, embora iguais, encontram-se separados. Esse procedimento visa também

reduzir a quantidade de registros no banco.

Dissertação de Mestrado – Rodrigo Ávila

36

Para viabilizar a correta definição dos polígonos, somente as estruturas do tipo contato

serão usadas. Todos os contatos passam então por um processo de intersecção entre si

gerando-se os polígonos onde três ou mais contatos fecharem uma área. A partir daí será usada

outra informação definida no sistema, que será o ponto guia da unidade.

Esse ponto guarda a informação da unidade geológica que estará abaixo de si, dessa

forma, ao se verificar qual ponto guia se sobrepõe a cada polígono, o sistema será capaz de

identificar os atributos do polígono criando os relacionamentos e estabelecendo a unidade

geológica relativa.

FIGURA 16 - FIGURA MOSTRANDO AS DUAS POSSIBILIDADES DE DEFINIÇÃO DE UMA UNIDADE GEOLÓGICA. EM "A" AS UNIDADES

GEOLÓGICAS SÃO OBTIDAS A PARTIR DE CONTATOS TRAÇADPS INCIALMENTE NO MAPA. EM "B" AS UNIDADES GEOLÓGICAS FORAM

DEFINIDAS A PARTIR DE DOIS POLÍGONOS CRIADOS SEPARADAMENTE, CORRENDO O RISCO DE SE PRODUZIR ERROS TOPOLÓGICOS COMO O

APRESENTADO.

O último passo da cartografia geológica, nesse caso, é a união de todos os polígonos que

se toquem e que possuam o mesmo identificador de unidade geológica. Essa junção fará o que

é conhecido no geoprocessamento como “dissolve”, utilizada com freqüência para agregar

elementos que, embora iguais, encontram-se separados. Esse procedimento visa também

reduzir a quantidade de registros no banco.

Dissertação de Mestrado – Rodrigo Ávila

36

Para viabilizar a correta definição dos polígonos, somente as estruturas do tipo contato

serão usadas. Todos os contatos passam então por um processo de intersecção entre si

gerando-se os polígonos onde três ou mais contatos fecharem uma área. A partir daí será usada

outra informação definida no sistema, que será o ponto guia da unidade.

Esse ponto guarda a informação da unidade geológica que estará abaixo de si, dessa

forma, ao se verificar qual ponto guia se sobrepõe a cada polígono, o sistema será capaz de

identificar os atributos do polígono criando os relacionamentos e estabelecendo a unidade

geológica relativa.

FIGURA 16 - FIGURA MOSTRANDO AS DUAS POSSIBILIDADES DE DEFINIÇÃO DE UMA UNIDADE GEOLÓGICA. EM "A" AS UNIDADES

GEOLÓGICAS SÃO OBTIDAS A PARTIR DE CONTATOS TRAÇADPS INCIALMENTE NO MAPA. EM "B" AS UNIDADES GEOLÓGICAS FORAM

DEFINIDAS A PARTIR DE DOIS POLÍGONOS CRIADOS SEPARADAMENTE, CORRENDO O RISCO DE SE PRODUZIR ERROS TOPOLÓGICOS COMO O

APRESENTADO.

O último passo da cartografia geológica, nesse caso, é a união de todos os polígonos que

se toquem e que possuam o mesmo identificador de unidade geológica. Essa junção fará o que

é conhecido no geoprocessamento como “dissolve”, utilizada com freqüência para agregar

elementos que, embora iguais, encontram-se separados. Esse procedimento visa também

reduzir a quantidade de registros no banco.



Dissertação de Mestrado – Rodrigo Ávila

37

Dessa forma, temos um mapa com todas as estruturas lineares, pontuais e poligonais

que o compõem, restando apenas a adoção de uma legenda para que o mapa esteja finalizado.

4.4. REQUISITOS FUNCIONAIS DA FERRAMENTA

? Controle de acesso - O sistema deverá restringir o acesso aos dados a partir do

cadastro de usuários, restringindo a cada usuário o acesso a projetos  em que

tenha ligação.

? Gerência de usuários e permissões - O sistema deve permitir a gerência completa

de usuários e seus níveis de acesso. Serão estabelecidos apenas dois níveis de

acesso em um primeiro momento, sendo eles: Administrador e Usuário.

? Gerência de Projetos - A ferramenta de gerência de projetos deverá permitir o

cadastro de projetos e seus subprojetos (grupos de trabalho) e a associação de

usuários aos grupos.

? Gerência de Afloramento - As seguintes funcionalidades deverão compor a

ferramenta:

o Inserir, editar e consultar afloramentos

o Relacionar e gerenciar medidas estruturais ao afloramento

o Relacionar e gerenciar Fotos aos afloramentos

o Relacionar e gerenciar amostras do afloramento

? Relacionar e gerenciar fotos às amostras

? Relacionar e gerenciar resultados geocronológicos à amostra

? Relacionar e gerenciar lâminas às amostras

? Relacionar e gerenciar fotos à lâmina

? Relacionar e gerenciar minerais (composição modal)



Dissertação de Mestrado – Rodrigo Ávila

38

? Gerência de Estruturas geológicas – Essa ferramenta deverá permitir a adição,

edição e exclusão de estruturas e contatos geológicos na esfera do grupo

(subprojeto) de cada usuário.

? O sistema deve oferecer consultas por atributo, facilitando o acesso a dados

específicos do usuário.

? Visualização dos dados de cada projeto através do mapa – Por se tratar de uma

ferramenta para construção de mapas geológicos, a ferramenta de mapa deve

ocupar posição de destaque e oferecer ferramentas de navegação simplificadas

que permitam o trabalho de coleta e interpretação dos dados geológicos.

? Possibilidade de edição e inserção de novos afloramentos e estruturas através do

mapa – Será possível inserir estruturas, contatos geológicos e afloramentos tanto

através de formulários quanto diretamente pelo mapa.

4.5. REQUISITOS NÃO-FUNCIONAIS

? O sistema irá operar em ambiente Web

? Deverá oferecer interface amigável e colaborativa, compatível com os moldes da

WEB 2.0, e com acesso simplificado aos dados do usuário em um projeto.

? O sistema deve ser leve e simples para compensar o grande volume de

informação e não onerar demasiadamente o tempo de resposta do usuário.

? O sistema deverá ser construído baseado em plataforma livres e com ampla

aceitação no mercado internacional.

? Nos campos de pesquisa e filtragem a serem implemetados, deverão ser usados

recursos de ‘autocomplete’ em Ajax, buscando agilizar e auxiliar o processo de

busca do usuário.



Dissertação de Mestrado – Rodrigo Ávila

39

4.6. REGRAS DE NEGÓCIO

? O usuário deve ser capaz de inserir afloramentos e contatos apenas dentro dos

limites da área do seu grupo.

? O usuário deve ser capaz de inserir afloramentos e contatos visualmente pelo

mapa ou através de formulário.

? O usuário realizará a coleta utilizando o datum WGS84, salvo se os dados forem

coletados manualmente, nesse caso os dados serão inseridos via interface web e

convertidos automaticamente para o datum oficial.

? Ao se editar ou adicionar uma nova feição ao mapa, a ferramenta de Snapping

deve ser ativada

? O usuário só deve ter acesso aos dados do seu grupo de trabalho para edição,

mas poderá consultar os demais dados do projeto.

4.7. DESCRIÇÃO DO SISTEMA

O principal produto desenvolvido, o sistema de gerência de dados geológicos, é um

aplicativo que roda em ambiente web e é capaz de gerenciar desde a criação de um novo

projeto até o fechamento do mapa geológico.

Para agilizar o desenvolvimento desse aplicativo e garantir uma maior facilidade de

manutenção no código, foi utilizado o framework php Zend® (http://framework.zend.com/). A

escolha pelo framework se deu pelos seguintes motivos:



Dissertação de Mestrado – Rodrigo Ávila

40

? Implementa o padrão de desenvolvimento MVC (Model-View-Controller). Este

isola a lógica da aplicação da lógica de apresentação, permitindo que sejam

testados e/ou modificados separadamente, diminuindo o tempo de

desenvolvimento e possibilitando melhor reaproveitamento de código.

? Biblioteca orientada a objetos que permite fácil extensão e reaproveitamento de

código.

? Abstração de banco de dados permite automatizar operações comuns de banco

de dados assim como diminui o impacto de mudanças no modelo.

? Automatização de operações de AJAX e Json, facilitando a tarefa de integração

com a API de manipulação de dados espaciais OpenLayers®.

? Framework é mantido pela mesma empresa responsável pela linguagem PHP, o

que a torna muito popular, facilitando manutenção futura.

Além da linguagem PHP utilizada no desenvolvimento da aplicação, foram utilizadas

algumas outras API’s de código aberto com o intuito de melhorar a navegação por parte do

usuário e proporcionar o uso de mapas. São elas:

? Openlayers: (http://openlayers.org) Conjunto de ferramentas de código aberto,

disponibilizada como uma API javaScript, para visualização e manipulação de

dados geográficos baseados nos padrões OGC.

? JQuery: (http://jquery.org) Trata-se de uma das mais poderosas API’s JavaScript

da atualidade. Possui código aberto e sua utilização é livre. O objetivo principal

do Jquery é fornecer uma experiência de navegação web moderna e prática

baseada nos conceitos do AJAX (Asynchronous JavaScript and XML)



Dissertação de Mestrado – Rodrigo Ávila

41

4.8. RESTRIÇÃO DE ACESSO E SEGURANÇA

Para garantir a segurança dos dados e o adequado controle dos projetos, foi

implementado um sistema de verificação de usuário. O usuário é identificado pelo seu e-mail e

senha. Logo ao entrar no sistema, o usuário será solicitado a escolher em qual projeto deseja

trabalhar. Dessa forma, ele poderá trabalhar em qualquer projeto que esteja cadastrado.

A definição de permissões de acesso, de cadastro de usuários, projetos e subprojetos é

feita no próprio sistema por um usuário administrador. O sistema permite que um usuário

esteja cadastrado em diversos projetos, no entanto, deverá pertencer a um único subprojeto.

Embora ainda não implementado na atual versão, propõe-se a implantação de

versionamento no banco de dados, isso quer dizer que uma vez cadastrados, os dados

permanecem versionados no sistema, dessa forma, mesmo que alguém consiga acessar a conta

de um usuário e fazer grandes mudanças ou mesmo excluir massivamente os dados, estes

poderão ser recuperados pelo administrador do sistema através de restituição de versão.

É importante observar que todos os dados do projeto são aninhados em seus

subprojetos, e sempre relacionados a um usuário cadastrado no subprojeto em questão. Caso

um projeto não possua subprojetos, deverá ser criado um com a área total do projeto para que

se iniciem os trabalhos.



Dissertação de Mestrado – Rodrigo Ávila

42

4.9. CADERNETA DIGITAL

Para oferecer maior usabilidade ao conceito tecnológico planejado, foi desenvolvida uma

aplicação para dispositivos móveis (tablets e celulares) equipados com sistema operacional

Android®.

A funcionalidade básica do sistema móvel é oferecer uma ferramenta a ser usada em

trabalhos de campo de mapeamento geológico. O aplicativo permite o cadastro de

afloramentos e sua posterior sincronização com o banco de dados central.

Os dados inseridos no banco de dados através desse tipo de aplicativo recebem o rótulo

de não validados, isto é, os dados são colocados a parte no sistema até que sejam validados

através do sistema Web.

Por questões de viabilidade, o sistema trabalha atualmente desconectado, isto é, os

dados são cadastrados na memória do celular e, posteriormente, são sincronizados no banco de

dados central. Para garantir que os afloramentos tenham um identificador único, os

afloramentos possuem um identificador incremental e o nome dado aos afloramentos recebe o

seguinte tratamento:

? Identificador do sistema móvel: sigla do projeto + ID do subprojeto

? Identificador na plataforma Web: identificador do sistema móvel + ID

incremental do banco (Caso o afloramento tenha sido inserido direto pela

plataforma web ou por ETL, o sistema se responsabilizará por gerar o

identificador simulando o do sistema móvel)

A utilização do sistema móvel em sua primeira versão segue um fluxo simplificado

(Figura 17) que busca garantir a segurança dos dados. Inicialmente todas as informações são

armazenadas em um banco de dados local (Sqlite), quando o usuário desejar atualizar o banco

de dados do projeto com os novos afloramentos coletados, será gerado um arquivo de extensão

CSV (comma-separated values). Uma vez gerado o arquivo, o usuário deverá usar a plataforma

web para fazer upload do mesmo e atualizar o banco de dados.



Dissertação de Mestrado – Rodrigo Ávila

43

FIGURA 17 - FLUXO METODOLÓGICO DE AQUISIÇÃO DE DADOS

4.10. FUNCIONALIDADES

A aplicação deve permitir o cadastro de afloramentos com os seguintes atributos:

? Nome, descrição e toponímia

? Dados de posicionamento

? Litotipos e medidas

? Fotos

O sistema também deve coletar informações de localização automaticamente através do

GPS do aparelho, caso ele possua. As informações de latitude e longitude serão sempre

referenciadas pelo sistema WGS84, a fim de se padronizar a espacialização dos dados.



Dissertação de Mestrado – Rodrigo Ávila

44

Na coleta de medidas o sistema deve fazer uso do clinômetro e acelerômetro do

aparelho a fim de automatizar a coleta das medidas.

A aplicação deve permitir o cadastro de vários litotipos relacionados a um afloramento e

permitir a entrada de várias medidas relacionadas ao afloramento, inclusive armazenando o

tipo, a hierarquia e a cinemática (quando necessário).

O usuário deve ser capaz de coletar fotos diretamente do aparelho e relacioná-las ao

afloramento, descrevendo-as.

A navegabilidade proposta segue o padrão adotado pelo sistema Operacional Android®,

apresentando-se sempre com o mínimo possível de telas a com uma navegação simples e

intuitiva.

Outro aspecto importante com relação à interface do aplicativo é o fato de suas funções

terem sido pensadas em cima dos requisitos levantados anteriormente para a aplicação Web. A

idéia é que se tenham dois ambientes, que embora distintos, possuam semelhanças funcionais.

A simplicidade da aplicação possui o intuito de deixar o aplicativo leve e consumindo o

mínimo de tempo e esforço dos usuários. Tais fatores podem ser decisivos no sucesso do uso da

aplicação em larga escala.



Dissertação de Mestrado – Rodrigo Ávila

45

5. PROCESSO DE TRABALHO

A forma que conhecemos e estamos habituados a adquirir e manipular dados não tem

mudado muito ao longo dos anos. Mesmo com a introdução de novas tecnologias de

levantamento de dados e com a evolução das ferramentas de SIG, os dados continuaram sendo

coletados de acordo com a individualidade de cada profissional, e armazenados também de

forma individualizada.

Embora venha funcionando por muito tempo, esse tipo de metodologia de trabalho tem

se mostrado bastante defasada, apresentando grandes problemas no que se refere à

disponibilidade e integridade dos dados.

Para que se obtenha sucesso com os produtos apresentados nesse trabalho, é primordial

repensar o fluxo metodológico usado até hoje, propondo uma metodologia nova de trabalho,

ou ao menos adaptações que viabilizem o sucesso da ferramenta e da proposta defendida.

5.1. FLUXO DE TRABALHO (PROCESSO)

Todo o trabalho de mapeamento temático, como é o caso do mapeamento geológico,

passa ao menos pelas etapas de aquisição, manipulação e publicação dos dados. Junto a cada

uma dessas etapas existe uma série de processos de trabalho já consagrados.

A etapa de aquisição de dados é tradicionalmente conhecida como a etapa de campo,

onde o geólogo realiza anotações através de uma caderneta de campo, coleta amostras e

realiza medidas através de uma bússola de geólogo. Ao chegar do campo o geólogo irá

transcrever todos os dados coletados para um ambiente de SIG onde possa manipular os dados

e interpretar a informação geológica com auxílio de outras ferramentas.

O processo proposto aqui, conforme a Figura 20, não pretende mudar o fluxo básico de

trabalho já conhecido, mas adaptá-lo ao uso das novas ferramentas e torná-lo o mais eficiente

possível.



Dissertação de Mestrado – Rodrigo Ávila

46

5.2. PREPARAÇÃO DO PROJETO

Antes que se inicie o mapeamento geológico propriamente dito, é necessário que sejam

realizadas as etapas de planejamento. Inicialmente deve ser criado um novo projeto pelo

administrador do sistema (Figura 18) que definirá as informações básicas do projeto tais como a

área do projeto, a quantidade e a distribuição espacial dos grupos (Figura 19), a composição dos

grupos e as camadas de imagens e mapas que estarão disponíveis para serem utilizadas no

trabalho.

FIGURA 138 - TELA DE CRIAÇÃO DE PROJETOS

Dissertação de Mestrado – Rodrigo Ávila

46

5.2. PREPARAÇÃO DO PROJETO

Antes que se inicie o mapeamento geológico propriamente dito, é necessário que sejam

realizadas as etapas de planejamento. Inicialmente deve ser criado um novo projeto pelo

administrador do sistema (Figura 18) que definirá as informações básicas do projeto tais como a

área do projeto, a quantidade e a distribuição espacial dos grupos (Figura 19), a composição dos

grupos e as camadas de imagens e mapas que estarão disponíveis para serem utilizadas no

trabalho.

FIGURA 138 - TELA DE CRIAÇÃO DE PROJETOS

Dissertação de Mestrado – Rodrigo Ávila

46

5.2. PREPARAÇÃO DO PROJETO

Antes que se inicie o mapeamento geológico propriamente dito, é necessário que sejam

realizadas as etapas de planejamento. Inicialmente deve ser criado um novo projeto pelo

administrador do sistema (Figura 18) que definirá as informações básicas do projeto tais como a

área do projeto, a quantidade e a distribuição espacial dos grupos (Figura 19), a composição dos

grupos e as camadas de imagens e mapas que estarão disponíveis para serem utilizadas no

trabalho.

FIGURA 138 - TELA DE CRIAÇÃO DE PROJETOS



Dissertação de Mestrado – Rodrigo Ávila

47

FIGURA 19 - TELA DE ADIÇÃO DE NOVOS GRUPOS AO PROJETO

5.3. AQUISIÇÃO DE DADOS

Uma vez que tenham sido criados projeto e grupos, a próxima etapa, assim com o

processo tradicional de mapeamento, é a aquisição de dados feita através do trabalho de

campo.

Antes de iniciar a atividade de campo o usuário deverá efetuar seu primeiro acesso na

ferramenta instalada em seu dispositivo móvel. Para isso ele deverá estar conectado a internet

e fornecer seu nome de usuário e senha. Ao concluir essa etapa, o usuário já estará apto a inciar

a coleta de dados.



Dissertação de Mestrado – Rodrigo Ávila

48

Os dados serão coletados em cada investida de campo e armazenados na memória do

dispositivo. Sempre que possível, recomenda-se que o usuário faça backup dos dados

armazenados e faça a carga desses dados para o banco de dados central do projeto através da

interface web.

Ao final do trabalho de mapeamento todos os dados deverão estar sincronizados com o

servidor.

5.4. MANIPULAÇÃO DOS DADOS

A partir da coleta de campo, é iniciado o tratamento dos dados e a produção cartográfica

do mapa geológico.

Nessa etapa são registrados todos os resultado laboratoriais feitos sobre as amostras

coletadas em campo. Tais resultados são determinantes para definir as unidades geológicas do

trabalho. A medida que os resultados laboratoriais vão sendo inseridos no sistema, o trabalho

de delimitação de contatos e estruturas vai sendo desenvolvido em paralelo através da

interface web, onde cada grupo vai trabalhando colaborativamente.

Uma vez que todos os dados já estão validados e os contatos devidamente traçados,

passa-se à etapa de fechamento de contatos, onde os grupos trabalham juntos no sistema a fim

de compatibilizar as interpretações individuais de cada grupo. Ao final do processo de

fechamento de contatos, o sistema se responsabilizará por executar o algorítimo de detecção

de unidades geológicas, aonde os contatos vão sendo transformados em polígonos que

representam as unidades geológicas.

Para que o sistema possa interpretar os contatos e transformá-los em unidades

geológicas, alguns afloramentos devem ser apontados no sistema como “controle”. Isso indica

que o afloramento assinalado representa a unidade geológica da área em que está contido.

Dessa forma, ao se gerar os polígonos, o sistema busca pelos afloramentos de controle e atribui

a cada políogono uma unidade geológica representada pelo afloramento contido em seu

interior.



Dissertação de Mestrado – Rodrigo Ávila

49

A última etapa do processo é representada pela validação por parte dos geólogos do

resultado dos polígonos gerados, podendo nesse momento manipular as unidades geológicas

geradas automaticamente. Feito o trabalho de validação os dados já podem ser publicados para

o público em geral.

FIGURA 20 - PROCESSO DE TRABALHO PROPOSTO

5.5. PUBLICAÇÃO DOS DADOS

Após a validação de consistência e integração dos dados de um projeto,  esses dados

deverão ser carregados em um banco de dados de produção que estará disponível para

consumo através dos padrões internacionais de interoperabilidade.



Dissertação de Mestrado – Rodrigo Ávila

50

5.6. PROCEDIMENTO DE ETL

Em muitos casos onde se deseja inserir informações espaciais já existentes no modelo, é

necessária a realização de um processo de ETL (Extract, Transform and Load). Esse

procedimento será usado também para validar o banco de dados e as ferramentasproduzidas

nesse trabalho. Nesse procedimento, toda uma base de dados tradicional armazenada em

arquivos do tipo shapefile foi validada, normalizada a carregada no banco de dados (Figura 21).

Existe no mercado uma grande variedade de ferramentas de ETL, algumas delas

carregando funcionalidades de ETL espacial. Tais ferramentas são capazes não só de carregar os

dados entre diversos formatos, mas também de manipular a informação, cruzar dados e gerar

novas informações. Dentre as ferramentas mais modernas e poderosas em se tratando de ETL

espacial, estão o FME (http://www.safe.com/fme), software proprietário que permite a

interoperabilidade de dados entre mais de 250 formatos, e o GeoKettle

(http://www.spatialytics.org/projects/geokettle), ferramenta de ETL espacial opensource com

diversas operações topológicas e espaciais integradas.

FIGURA 21 - ESQUEMA GERAL DE UM PROCESSO DE ETL ESPACIAL. (FONTE:TTP://SPATIALYTICS.ORG/PROJECTS/GEOKETTLE)



Dissertação de Mestrado – Rodrigo Ávila

51

Apesar do grande poder das ferramentas de ETL apresentadas, e mesmo tendo

consciência que estas poderiam realizar tais procedimentos de forma rápida e confiável, optou-

se por realizar os procedimentos manualmente através da biblioteca Gdal

(http://www.gdal.org/index_br.html) e através de comandos SQL (Structured Query Language).

O objetivo maior em se efetuar manualmente as operações de carga, foi o de dominar melhor

os processos e agregar mais conhecimento ao produto final.

Para que se torne possível a manipulação e transformação dos dados em nível de banco

de dados, diversas funções espaciais disponíveis no cartucho espacial Postgis foram utilizadas.

O processo apresentado na Figura 22 reflete as etapas realizadas no processo de carga

de dados, e é o mesmo procedimento que deverá ser repetido sempre que esse tipo de carga

seja demandada.

FIGURA 22 - PROCESSO DE ETL GERAL UTILIZADO NO PROJETO

Conforme apresentado na Figura acima, o processo de carga se inicia sempre a partir de

um arquivo de formato shapefile. Esse arquivo é transformado em linguagem SQL através de um

pequeno aplicativo disponibilizado pelo próprio Postgis, o Shp2pgsql. Uma vez que se tenha



Dissertação de Mestrado – Rodrigo Ávila

52

gerado o arquivo SQL, o código é executado em ambiente de banco criando-se uma tabela

temporária.

A próxima etapa do processo é conhecida como “De – Para”, que nada mais é que se

conhecer a tabela de entrada e a de destino identificando os dados que serão levados ao

modelo e os dados que necessitam de transformações e correções.

Uma vez que se tenha entendido o processo para se realizar a carga dos dados para o

modelo final, é criado um código SQL que será responsável por efetivar a carga de dados.



Dissertação de Mestrado – Rodrigo Ávila

53

6. TESTES E RESULTADOS

A etapa de testes foi dividida em três, sendo a primeira referente ao modelo de dados e

ao banco de dados em si, a segunda à verificação da carga de dados realizada, a terceira aos

algoritmos que irão garantir a consistência topológica dos dados e a quarta aos testes de

usabilidade e desempenho dos sistemas.

6.1. PRIMEIRA ETAPA DE TESTES – BANCO DE DADOS

Na primeira etapa de testes buscou-se validar a consistência do modelo de banco de

dados proposto e a eficiência do SGBD empregado (PostgreSql). É importante observar que a

consistência tratada aqui não diz respeito apenas à consistência relacionada às restrições de

integridade, mas também no que diz respeito à informação geológica, ou seja, a capacidade do

banco armazenar os dados na sua totalidade sem perdas conceituais e sem redundância.

Para verificar a consistência do banco de dados foram necessários alguns pontos de

análise:

? Verificação das restrições de Integridade: Para se realizar essa etapa foram

realizados diversos comandos de “inserts” no banco, sempre com alguma chave

errada buscando verificar a integridade de todos os relacionamentos. Caso algum

erro seja encontrado, volta-se ao modelo lógico para se analisar o problema.

? Busca de possíveis pontos de redundância: A busca de redundância no banco de

dados relacional é feita através da análise do próprio modelo lógico do banco.

Geralmente a redundância é gerada pela ausência de alguma tabela de tradução

que poderia evitar a repetição de alguma informação.

? Verificação da integridade espacial: Essa restrição é feita pelo próprio SGBD,

sendo que ele deve garantir que os dados espaciais inseridos não possuam erro

de geometria e que estejam no mesmo sistema de referência declarado para a

tabela em que se deseja inserir dados. Essa verificação também foi feita através



Dissertação de Mestrado – Rodrigo Ávila

54

de comandos de “inserts” nas tabelas espaciais, sempre passando SRID (Spatial

Reference System Identifier) errados ou geometrias erradas.

6.2. SEGUNDA ETAPA DE TESTES - CARGA DE DADOS JÁ EXISTENTES

Para testar tanto o modelo de dados quanto os algoritmos de topologia e a aplicação de

gerência de projeto, foi selecionado um trabalho de graduação já concluído do Instituto de

Geociências da UnB.

O intuito de se testar o sistema com base em dados reais, é o de se detectar problemas

topológicos comuns nesse tipo de trabalho, bem como compreender melhor a sistemática e as

peculiaridades de um projeto de mapeamento geológico com múltiplos usuários.

Vale ressaltar que os dados a serem usados nos processos de carga dos dados foram

obtidos de um trabalho anterior, o qual, naquele momento, não seguiu a metodologia sugerida

no escopo deste trabalho. Dessa forma, essa etapa da metodologia representa também o

procedimento para se alimentar o banco de dados com informações já existentes ou derivadas

de um trabalho de campo analógico, e deverá ser utilizado sempre que se fizer necessário.

6.3. DADOS UTILIZADOS

A área de estudo utilizada diz respeito ao Trabalho Final dos formandos em Geologia do

ano de 2008, tendo recebido a designação de Projeto Mozarlândia.

O Projeto constituiu-se de quinze áreas variando entre 140 e 200 Km², totalizando uma

área de aproximadamente 2.351 Km². Localiza-se na porção noroeste do estado de Goiás, perto

da divisa com Mato Grosso abrangendo pelo menos três municípios do Estado de Goiás:

Mozarlândia, Crixás e Araguapaz (Figura 23). Teve como base a cidade de Mozarlândia que fica a

412Km de Brasília e a 297 Km de Goiânia.



Dissertação de Mestrado – Rodrigo Ávila

55

FIGURA 23 - POSICIONAMENTO DO PROJETO MOZARLÂNDIA

A área estudada está inserida no contexto geológico da Província Tocantins (Almeida

1977), porção central do Brasil, representando um orógeno de grandes dimensões de idade

neoproterozóica, desenvolvido no Ciclo Brasiliano, quando ocorreu a aglutinação do Gondwana

ocidental, num evento colisional envolvendo três importantes áreas cratônicas: o Cráton

Amazônico a noroeste, o Cráton do São Francisco (CSF) a leste e o suposto Cráton do

Paranapanema encoberto pela bacia do Paraná a sul.

Esta província é composta pelas Faixas Dobradas Araguaia, Paraguai e Brasília. As Faixas

de Dobramentos Araguaia e Paraguai localizam-se na porção oeste da Província Tocantins,

bordejando as margens leste e sul do Cráton Amazônico.

Dissertação de Mestrado – Rodrigo Ávila

55

FIGURA 23 - POSICIONAMENTO DO PROJETO MOZARLÂNDIA

A área estudada está inserida no contexto geológico da Província Tocantins (Almeida

1977), porção central do Brasil, representando um orógeno de grandes dimensões de idade

neoproterozóica, desenvolvido no Ciclo Brasiliano, quando ocorreu a aglutinação do Gondwana

ocidental, num evento colisional envolvendo três importantes áreas cratônicas: o Cráton

Amazônico a noroeste, o Cráton do São Francisco (CSF) a leste e o suposto Cráton do

Paranapanema encoberto pela bacia do Paraná a sul.

Esta província é composta pelas Faixas Dobradas Araguaia, Paraguai e Brasília. As Faixas

de Dobramentos Araguaia e Paraguai localizam-se na porção oeste da Província Tocantins,

bordejando as margens leste e sul do Cráton Amazônico.

Dissertação de Mestrado – Rodrigo Ávila

55

FIGURA 23 - POSICIONAMENTO DO PROJETO MOZARLÂNDIA

A área estudada está inserida no contexto geológico da Província Tocantins (Almeida

1977), porção central do Brasil, representando um orógeno de grandes dimensões de idade

neoproterozóica, desenvolvido no Ciclo Brasiliano, quando ocorreu a aglutinação do Gondwana

ocidental, num evento colisional envolvendo três importantes áreas cratônicas: o Cráton

Amazônico a noroeste, o Cráton do São Francisco (CSF) a leste e o suposto Cráton do

Paranapanema encoberto pela bacia do Paraná a sul.

Esta província é composta pelas Faixas Dobradas Araguaia, Paraguai e Brasília. As Faixas

de Dobramentos Araguaia e Paraguai localizam-se na porção oeste da Província Tocantins,

bordejando as margens leste e sul do Cráton Amazônico.



Dissertação de Mestrado – Rodrigo Ávila

56

6.4. VALIDAÇÃO DO PROCEDIMENTO DE ETL

Uma vez que os dados tenham sido levados ao banco de dados, faz-se necessário a

realização de uma serie de testes junto aos dados para verificar se o modelo utilizado atende o

escopo do trabalho e garante de forma plena a consistência dos dados.

Para executar essa etapa, são propostos alguns passos:

? Cruzamento espacial dos dados originais com os importados para o banco através

do uso de software de SIG Desktop. Essa etapa nos garante que as geometrias

inseridas no banco não foram corrompidas e que não houve algum tipo de

deslocamento em virtude de possíveis diferenças de parametrização nos sistemas

de referências.

Essa conferência é realizada visualmente e não necessita de maiores

detalhamentos, no entanto, deve ser executada sempre afim de se garantir que

os dados espaciais foram corretamente armazenados em banco.

? Conferência por amostragem aleatória dos dados e metadados das diversas

camadas de informação do banco.

É sempre interessante que essa etapa seja realizada manualmente para checar se

todas as informações foram persistidas no banco de dados, caso alguma

informação tenha se perdido, deve-se descartar a carga realizada e refazer o

procedimento de ETL.

? Verificação nos documentos de erros dos procedimentos de ETL, a fim de se

identificar possíveis problemas de relacionamentos ou transformações do

processo.



Dissertação de Mestrado – Rodrigo Ávila

57

6.5. TERCEIRA ETAPA DE TESTES – ALGORITMOS TOPOLÓGICOS

A segunda etapa busca testar o funcionamento de alguns algoritmos desenvolvidos.

Alguns deles foram feitos buscando a geração de polígonos a partir de linhas, outros apenas

para verificar se uma geometria está contida em outra. A seguir são apresentados alguns desses

algoritmos. Os testes foram feitos analisando seus resultados e comparando com operações

similares de softwares desktop.

6.5.1.1. AFLORAMENTOS CONTIDOS EM SEU PROJETO

Para se realizar esse operação foi utilizada a função “ST_Union” do postgis:

SELECT * from geom_afloramento ga, geom_grupo gg
where ST_Contains(gg.geom, ga.geom)
AND gg.id_geom_grupo = 15 ;

O resultado da consulta acima é então verificado, primeiro analisando se a quantidade

de afloramentos está correta e depois se todos os afloramentos que estão sob a área

pertencem de fato a ela. Operação semelhante a essa é realizada para verificar se os grupos

estão contidos em seus projetos e se os lineamentos e estruturas estão contidos em seus

grupos.

6.5.1.2. GRUPOS NÃO DEVEM SE CRUZAR E NEM SE SOBREPOR

Para se realizar essa operação foi utilizada a função “ST_ Crosses” do postgis:

SELECT * from geom_afloramento ga, geom_grupo gg
where ST_Crosses(gg.geom, ga.geom)
AND gg.id_projeto = 3;

O resultado esperado é que não se retorne nada. Caso isso ocorra é porque nenhum

grupo está se sobrepondo, o que corresponde à regra topológica definida para essa classe no

modelo.



Dissertação de Mestrado – Rodrigo Ávila

58

6.6. QUARTA ETAPA DE TESTES – SISTEMAS

A última etapa consiste em realizar testes sobre a camada de aplicação. As duas

ferramentas desenvolvidas foram testadas por usuários externos buscando detectar falhas ou

vulnerabilidades de segurança. Outro ponto analisado foi a usabilidade das ferramentas.

Os sistemas foram validados inicialmente de acordo com os requisitos propostos, sendo

que todos os pontos do requisito foram atendidos. Logo após foram feitos testes buscando

falhas nos sistemas. Alguns problemas de interface envolvendo as janelas de cadastro foram

identificados e devem ser resolvidos em uma próxima versão.

Em outro ponto de análise, a navegabilidade, foi detectada a necessidade de uma página

inicial do aplicativo web com explicações do projeto e manuais de utilização.

A navegabilidade do sistema web também deverá ser alterada de forma que o usuário

possa realizar as tarefas de forma mais simples sem ter que ir de tela em tela até chegar onde

deseja. Um exemplo desse problema aparece quando o usuário deseja inserir uma nova lâmina,

por exemplo. Nesse caso o usuário tem de abrir o afloramento desejado, em seguida abrir uma

amostra desse afloramento, e só então consegue inserir a nova lâmina. Essa navegação se

mostrou demorada e deve ser reavaliada para uma próxima versão.



Dissertação de Mestrado – Rodrigo Ávila

59

7. CONCLUSÕES

Diante dos imensos desafios encontrados ao longo desse trabalho, pôde-se observar a

existência de poucos trabalhos acadêmicos correlatos e a necessidade de mais investimentos no

que diz respeito à infraestrutura computacional da universidade a fim de comportar sistemas

que exigem processamento e armazenamento centralizado como o proposto.

No que diz respeito ao banco de dados, observa-se que a ferramenta escolhida para a

implantação, o PostgreSql,  é suficientemente madura e estável para acolher grandes bancos de

dados como o que se propõe aqui. Seu componente espacial, PostGis, responde muito bem às

análises espaciais demandadas. O Banco de dados modelado, embora não contemple ainda

todo o universo das geociências, já representa um passo inicial muito importante na introdução

de uma nova cultura de armazenamento de dados dentro da instituição.

Apesar de avanços na construção de alguns algoritmos de topologia que eram propostos

para garantir algumas etapas do processo, fazem-se necessários maiores estudos e testes com

as funções espaciais oferecidas pelo Postgis, a fim de se superar algumas dificuldades que

persistem ao fim desse trabalho. A maior dificuldade encontrada nesse sentido, diz respeito ao

algoritmo de geração de unidades geológicas. Esse deveria ser capaz de gerar os polígonos que

representam as unidades geológicas a partir dos cruzamentos entre os contatos traçados no

projeto. No entanto, mesmo após vários testes, nenhum dos algoritmos implementados foi

capaz de responder plenamente, chegando, no máximo, a cerca de 40% de sucesso.

As aplicações desenvolvidas para a gestão dos dados geológicos responderam

positivamente aos testes aos quais foram submetidas. Foram detectados, no entanto, alguns

problemas de usabilidade na ferramenta web que devem ser corrigidos antes que o sistema

entre em produção. Dentre esses problemas, destaca-se a ausência de uma interface mais

centrada no mapa, o que daria ao geólogo maior facilidade na avaliação dos dados e

proporcionaria um ambiente de trabalho mais próximo dos ambientes desktop utilizados

atualmente.



Dissertação de Mestrado – Rodrigo Ávila

60

Conclui-se, portanto, que embora muito extenso, o processo de aquisição e manipulação

de dados geológicos proposto foi desenvolvido adequadamente, e já responde minimamente às

necessidades da comunidade acadêmica, sobretudo no que diz respeito aos trabalhos

acadêmicos de graduação e pós-graduação. O Banco de dados deverá evoluir ainda para um

nível superior que seja capaz de contemplar outras áreas correlatas das geociências, bem como

prever maior interoperabilidade com outros projetos de bancos de dados existentes no mundo,

sobretudo com projeto de interoperabilidade como o GeoSciML

(https://www.seegrid.csiro.au/).



Dissertação de Mestrado – Rodrigo Ávila

61

8. REFERÊNCIAS BIBLIOGRÁFICAS

Almeida, F. F. M. De; Hasui, Y.; Neves, B. B. de B. &amp;amp; Fuck, R. A. 1977. Províncias Estruturais Brasileiras.

Atas do Simpósio de Geologia do Nordeste, Campina Grande - PB. pp 363-391.

Alves, M. B.; Arruda, S. Como Fazer Referências: bibliográficas, eletrônicas e demais formas de

documentos. Disponível em&amp;lt;http://bu.ufsc.br/framerefer.html&gt;. Acesso: 15 abril 2002.

Bonham-Caster, G. F. - 1994. Geographic Information System for Geoscientists - Modelling with GIS.

Computer Methods in Geociences Vol. 3

Borges, K.A.V. Modelagem de Dados Geográficos – Uma extensão do modelo OMT para aplicações

geográficas. 139pp. Escola de Governo João Pinheiro. Belo Horizonte – MG. 1997.

Borges, K. A. V., Davis Jr., C. A., Laender, A. H. F., Medeiros, C. B. Ontology-driven discovery of geospatial

evidence in Web pages.Geoinformatica (no prelo - disponível no sistema Springer Online First em

02/11/2010), 2010.

BORGES, K. A. V.; DAVIS JR., C. A.; LAENDER, A. H. F. OMT-G: an object-oriented data model for

geographic applications. GeoInformatica, v. 5, n.3, p. 221-260, 2001.

Borges, K.A.V., et al. Bancos de Dados Geográficos. Cap.3 – Modelagem Conceitual de Dados geográficos.

Ed. Mundo Geo. Curitiba – PR, 506pp, 2005.

Burrough, P.A.; McDonell, R.; "Principles of Geographical Information Systems". Oxford, Oxford

University Press, 1998. 200pp

Câmara, G.; Davis.C.; Monteiro, A.M.; Paiva, J.A.C.; D'Alge, J.C. " Geoprocessamento:Teoria e Aplicações".

Curso on-line, INPE 1999.

Câmara, Gilberto, DAVIS, Clodoveu e MONTEIRO, A. Miguel V. Introdução à Ciência da Geoinformação.

São José dos Campos: DPI/INPE, 2001.

Câmara, G. Bancos de Dados Geográficos. Cap.1 – Representação Computacional de Dados geográficos.

Ed. Mundo Geo. Curitiba – PR, 506pp, 2005.



Dissertação de Mestrado – Rodrigo Ávila

62

Câmara, Gilberto. Modelos, linguagens e arquiteturas para bancos de dados geográficos. São José dos

Campos, SP: INPE (Tese de Doutorado). 1995.

Cintra, J. P., GPS &amp;amp; GIS: Integração geométrica. In: XVII Congresso Brasileiro de Cartografia, Rio de

Janeiro, Anais. pp. 88-98, 1997.

De Mendonça, Schmidt, Delazari. Publicação de mapas na web: abordagem cartográfica com uso de

tecnologias de código aberto. bcg vol. 15, No 1 (2009) .

Edward H. Isaaks, R. Mohan Srivastava. Applied Geostatistics. Oxford. Oxford University Press, 592pp.,

1990.

Elmasri, R. &amp;amp; Navathe, S. B. Sistemas de Bancos de Dados. 4ª Ed. Pearson Addison Wesley, São Paulo –

SP. 724pp, 2005.

Fialovszy, L.  Surveying Instruments and their operational principles. New York, Elsevier, 1991. 550p.

Goodchild, M.; Kemp, K. NCGIA Core curriculum: technical issues in GIS. National Center for Geographic

Information and Analysis. Santa Barbara: University of California, 1991.

Goodchild, Michael F. Geographical data modeling. Computers &amp;amp; Geoscience, London, v.18, n.4, pp. 401-

408, 1992

Harrower, M.   A look at the history and future of animated maps. In: Cartographica n. 39 (3): 2004. pp.

33-42.

Jesper Møller. Spatial Statistics and Computational Methods. New York. Springer Verlag. 216pp, 2006.

Lange, A.  Accuracy Specifications Affect Application Success. GIS World, v.10, n. 10, pp. 32, Oct. 1997a.

Lange, A.  Which GPS Processing Technique is Right for You? GIS World, v.10, n. 8, p. 58, Aug. 1997b.

Limp, W.F. Web mapping In: GeoWorld n. 15;  pp. 30–32. 2002.

Lisle, R. J., Geological Structures and Maps: A Practical Guide. Butterworth-Heinemann, 150pp, 3ª edição.

2004.



Dissertação de Mestrado – Rodrigo Ávila

63

Machado, F.B.; Moreira, C.A.; Zanardo, A; Andre, A.C.;Godoy, A.M.; Ferreira, J. A.; Galembeck, T.; Nardy,

A.J.R.; Artur, A.C.; Oliveira, M.A.F.de. Atlas de Rochas. [on-line]. ISBN: 85-89082-12-1. URL:

http://www.rc.unesp.br/museudpm. Arquivo capturado em 28 de Junho de 2011.

Maltman, A., Geological Maps, John Wiley &amp;amp; Sons, (2nd Edit.), 260 pp., 1998.

Mikhail Kanevski &amp;amp; Michel Maignan. Analysis and modelling of spatial environmental data. New York.

EPFL-Press 304p, 2004.

Mitchel, A., The ESRI Guide to GIS Analysis. Volume  2: Spatial measurements &amp;amp; Statistics; ESRI press.

238pp, 1995.

Mitchel, A., The ESRI Guide to GIS Analysis. Volume 1: Spatial measurements &amp;amp; Statistics; ESRI press.

238pp, 2005.

Nhu D. Le, James V. Zidek. Statistical Analysis of Environmental Space-Time Processes. New York.

Springer Verlag   341pp, 2006

Peterson, M. P., The Internet and Multimedia Cartography. In: CARTWRIGHT, W.; Peterson, M. P.;

Gartner, G. Multimedia Cartography. 2a ed. Berlin: Springer-Verlag,  546 pp.,, pp35-50; 2007.

Richard J. Lisle, Geological Structures and Maps a pratical guide, 1995-2004.

Rumbaugh, J. et al. Object-Oriented Modeling and Design. New Jersey: Prentice-Hall, 1991.

Russell G. Congalton  H. Todd Mowre. Quantifying Spatial Uncertainty in Natural Resources: Theory and

Applications for GIS and Remote Sensing.   Sleeping Bear Software.  2000

Shoji T., Chung C.-J. (ed). Spatial Modeling for Environmental and Hazard Management.

Elsevier. Volume 32, Issue 8: 230 pp, 2005.

Silva, A; B.. Sistemas de Informações Geo-referenciadas, conceitos e fundamentos. São Paulo:

UNICAMP, 156pp, 1999

Vera Pawlowsky-Glahn and Ricardo A. Olea. Geostatistical Analysis of Compositional Data.

London. Oxford University Press, 304pp, 2004



Dissertação de Mestrado – Rodrigo Ávila

64

Worboys, M.; Duckham, M. GIS A Computing Perspective Second Edition. Boca Raton, Florida,

USA: CRC Press, 426pp, 2004.



Dissertação de Mestrado – Rodrigo Ávila

ANEXO 1

Modelo OMTG



Anexo 1

Projeto

+id_prj

+nome_prj

+data_inicio

+data_fim

+observacao

geom_projeto

+id_g_prj

geom_grupo

+id_g_grp

Usuario

+id_user

+nome_user

+email_user

+matricula_user

Grupo

+id_grp

+nome_grp 1..*1

1..*

1agrega

geom_UnidadeGeologica

+id_g_ug

UnidadeGeologica

+id_ug

+nome_ug

+dsc_ug

1..*

1

Hierarquia_UnidadeGeologica

+id_hierarquia

+nome_hierarquia

+dsc_hierarquia

1

1..*

Unidade_Cprm

+id_cprm

+nome_cprm

+idade_cprm

+dsc_cprm

1

1..*

Legenda_UnidadeGeologica

+id_legenda

+fill_color

+line_color

+dsc_legenda

+sigla_legenda

1

0..1

geom_estrutura

+id_estrutura

+nome_estrutura

+dsc_estrutura

+azimute

+sinematica

Tipo_estrutura

+id_tipo_estrutura

+nome_tipo_estrutura

+dsc_tipo_estrutura

1 0..*

geom_afloramento

+id_afloramento

+data_entrada

+coord_x

+coord_y

+dsc_afloramento

+toponimia

Contém

Amostra

+id_amostra

+nome_amostra

+dsc_amostra

Medida

+id_medida

+azimute

+mergulho

TipoMedida

+id_tipo_medida

+tipo_medida

+dsc_tipo_medida

Geocronologia

+id_geocrono

+idade

+responsavel

Metodo_Geocronologia

+id_metodo_geocrono

+nome_metodo_geocrono

+dsc_metodo_geocrono

0..*

1

0..*1
11..*

0..*1

1

1..*

Laminacao

+id_lamina

+nome_lamina

+dsc_lamina

1

0..*

Litotipo

+id_lito

+nome_lito

+dsc_lito

GrupoLitologico

+id_grupo_lito

+nome_grupo_lito

+dsc_grupo_lito

1..*1..*

0..*

1

Mineralogia

+id_mineral

+nome_mineral

+formula_mineral

+dsc_mineral

GrupoMineral

+id_grupo_min

+nome_grupo_min

+dsc_grupo_min

0..*1

1

1..*

1..* 1..*

1..* 1..*

Contém

pertence

geom_estrtura_grupo

pertence

agrega

Delimita

Dissertação de Mestrado - Rodrigo Ávila Cipullo

Modelo conceitual OMTG



Dissertação de Mestrado – Rodrigo Ávila

ANEXO 2

Modelo Lógico do banco de dados



Anexo 2Dissertação de Mestrado - Rodrigo Ávila Cipullo

Modelo Lógico do Banco de Dados



Dissertação de Mestrado – Rodrigo Ávila

ANEXO 3

Dicionário de dados do banco de dados



Dissertação de Mestrado – Rodrigo Ávila

1

afloramento_foto
id_geom_afloramento INTEGER

id_foto INTEGER

afloramento_litotipo
id_litotipo INTEGER

id_geom_afloramento INTEGER

descricao_litotipo TEXT

amostra
id_amostra INTEGER PK

id_litotipo INTEGER

id_geom_afloramento INTEGER

nome_amostra VARCHAR(100)

descricao_amostra TEXT

nome_sequencial_amostra VARCHAR(50)

orientada BOOL

amostra_estrutura
id_estrutura_lito INTEGER

id_amostra INTEGER

amostra_foto
id_amostra INTEGER

id_foto INTEGER

autor
id_autor INTEGER PK

nome_autor VARCHAR(100)

instituicao VARCHAR(100)

pais VARCHAR(50)

email_autor VARCHAR(100)



Dissertação de Mestrado – Rodrigo Ávila

2

autor_referencia
id_autor INTEGER

id_referencia INTEGER

composicao_modal
id_composicao_modal INTEGER PK

id_mineral INTEGER

id_laminacao INTEGER

quantidade_modal NUMERIC

tamanho NUMERIC

estrutura_lito
id_estrutura_lito INTEGER PK

id_litotipo_grupo INTEGER

nome_estrutura_lito VARCHAR(100)

descricao_estrutura_lito VARCHAR(300)

foto
id_foto INTEGER PK

id_usuario INTEGER

caminho VARCHAR(200)

nome_foto VARCHAR(200)

descricao_foto TEXT

geocronologia
id_geocronologia INTEGER PK

id_amostra INTEGER

id_metodo_geocronologia INTEGER

idade NUMERIC

responsavel VARCHAR(100)



Dissertação de Mestrado – Rodrigo Ávila

3

geom_afloramento (Polígono)

id_geom_afloramento INTEGER PK

id_unidade_geologica INTEGER

id_geom_grupo INTEGER

id_usuario INTEGER

data_entrada DATE

coordenada_x NUMERIC

coordenada_y NUMERIC

data_edicao DATE

nome_afloramento VARCHAR(100)

sequencial_afloramento INTEGER

descricao_afloramento TEXT

toponimia TEXT

litotipo_importado TEXT

validado BOOL

controle_unidade_geologica BOOL

geom_estrutura (Linha)
id_geom_estrutura INTEGER PK

geom_estrutura_grupo_id_geom_estrutura_grupo INTEGER

id_referencia INTEGER

id_geom_projeto INTEGER

id_tipo_estrutura INTEGER

azimute INTEGER

sinematica VARCHAR(20)

descricacao_estrutura TEXT

nome_estrutura VARCHAR(100)



Dissertação de Mestrado – Rodrigo Ávila

4

geom_estrutura_grupo (Linha)
id_geom_estrutura_grupo INTEGER PK

id_tipo_contato INTEGER

id_geom_grupo INTEGER

id_tipo_estrutura INTEGER

azimute INTEGER

sinematica VARCHAR(20)

descricao_estrutura VARCHAR(300)

nome_estrutura VARCHAR(100)

contato BOOL

geom_grupo (Polígono)
id_geom_grupo INTEGER PK

id_projeto INTEGER

area_grupo NUMERIC

nome_grupo VARCHAR(100)

sigla_grupo VARCHAR(5)

geom_lineamento (Linha)
id_geom_lineamento INTEGER PK

id_tipo_lineamento INTEGER

id_geom_estrutura INTEGER

origem TEXT

geom_projeto (Polígono)
id_geom_projeto INTEGER PK

id_projeto INTEGER

area NUMERIC



Dissertação de Mestrado – Rodrigo Ávila

5

geom_unidade_geologica (Polígono)
id_geom_unidade_geologica INTEGER PK

id_unidade_geologica INTEGER

id_geom_projeto INTEGER

hierarquia_medida
id_hierarquia_medida INTEGER PK

nome_hierarquia_medida VARCHAR(100)

descricao_hierarquia_medida TEXT

hierarquia_unidade
id_hierarquia_unidade INTEGER PK

nome_hierarquia_unidade VARCHAR(100)

descricao_hierarquia_unidade TEXT

lamina_foto
id_laminacao INTEGER

id_foto INTEGER

lamina_textura
id_laminacao INTEGER

id_textura_rocha INTEGER

laminacao
id_laminacao INTEGER PK

id_amostra INTEGER

nome_lamina VARCHAR(80)

descricao_lamina TEXT



Dissertação de Mestrado – Rodrigo Ávila

6

legenda_unidade_geologica
id_legenda INTEGER PK

titulo_unidade VARCHAR(50)

sigla_unidade VARCHAR(12)

cor_rgb NUMERIC(6)

descricao_legenda VARCHAR(200)

litotipo
id_litotipo INTEGER PK

id_litotipo_grupo INTEGER

nome_litotipo VARCHAR(100)

descricao TEXT

assembleia_mineral VARCHAR(200)

litotipo_grupo
id_litotipo_grupo INTEGER PK

nome_litotipo_grupo VARCHAR(50)

litotipo_mineral
id_litotipo INTEGER

id_mineral INTEGER

litotipo_unidade_geologica
id_litotipo INTEGER

id_geom_unidade_geologica INTEGER



Dissertação de Mestrado – Rodrigo Ávila

7

medida_afloramento
id_medida_afloramento INTEGER PK

id_hierarquia_medida INTEGER

id_tipo_medida INTEGER

id_geom_afloramento INTEGER

azimute NUMERIC

mergulho NUMERIC

sinematica VARCHAR(10)

descricao_medida TEXT

data_entrada DATE

metodo_geocronologia

id_metodo_geocronologia INTEGER PK

nome_metodo VARCHAR(50)

descricao_metodo VARCHAR(300)

mineral
id_mineral INTEGER PK

nome_mineral VARCHAR(80)

descricao_mineral VARCHAR(300)

perfil
id_perfil INTEGER PK

nome_perfil VARCHAR(150)

descricao_perfil TEXT

privilegio
id_privilegio INTEGER PK

nome_privilegio VARCHAR(50)

descricao_privilegio TEXT



Dissertação de Mestrado – Rodrigo Ávila

8

privilegio_perfil
id_privilegio INTEGER PK

id_perfil INTEGER PK

projeto
id_projeto INTEGER PK

id_spatial_ref INTEGER

nome_projeto VARCHAR

data_inicio DATE

instituicao VARCHAR(100)

observacao VARCHAR(200)

sigla_projeto VARCHAR(5)

projeto_perfil_usuario
id_perfil INTEGER

id_usuario INTEGER

id_projeto INTEGER

referencia
id_referencia INTEGER PK

titulo_referencia VARCHAR(100)

ano_publicacao VARCHAR(4)

descricao_referencia TEXT

arquivo VARCHAR(200)

spatial_ref
id_spatial_ref INTEGER PK

sigla_spatial_ref VARCHAR(50)

cd_spatial_ref NUMERIC



Dissertação de Mestrado – Rodrigo Ávila

9

textura_rocha
id_textura_rocha INTEGER PK

id_litotipo_grupo INTEGER

nome_textura_rocha VARCHAR(50)

descricao_textura_rocha VARCHAR(300)

tipo_contato
id_tipo_contato INTEGER PK

nome_tipo_contato VARCHAR(100)

tipo_estrutura
id_tipo_estrutura INTEGER PK

nome_tipo_estrutura VARCHAR(100)

descricao_tipo_estrutura TEXT

tipo_lineamento
id_tipo_lineamento INTEGER PK

nome_tipo_lineamento VARCHAR(50)

tipo_medida
id_tipo_medida INTEGER PK

nome_tipo_medida VARCHAR(50)

unidade_cprm
id_cprm INTEGER PK

nome_unidade_cprm VARCHAR(150)



Dissertação de Mestrado – Rodrigo Ávila

10

unidade_geologica
id_unidade_geologica INTEGER PK

id_referencia INTEGER

id_hierarquia_unidade INTEGER

id_cprm INTEGER

id_legenda INTEGER

nome_unidade_geologica VARCHAR(100)

descricao_unidade_geologica TEXT

idade VARCHAR(50)

usuario
id_usuario INTEGER PK

nome_usuario VARCHAR(150)

senha VARCHAR(32)

telefone VARCHAR(30)

email VARCHAR(100)

matricula SMALLINT

registro_civil SMALLINT

cpf CHAR(14)

orgao_expeditor_rg VARCHAR(10)

tipo_sanguineo VARCHAR(5)

usuario_grupo
id_usuario INTEGER

id_geom_grupo INTEGER


</field>
	</doc>
</add>