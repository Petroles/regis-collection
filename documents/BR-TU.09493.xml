<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.09493</field>
		<field name="filename">14477_FerreiraJunior_ElmodeSena_M.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">UNICAMP
ELMO DE SENA FERREIRA JÚNIOR
GAS JET MODELING USING LARGE EDDY SIMULATION IN A LOW MOMENTUM CFD CODE
MODELAGEM DE UM JATO DE GÁS USANDO SIMULAÇÕES DAS GRANDES ESCALAS EM UM CÓDIGO CFD DE BAIXO MOMENTO
CAMPINAS
2015
ii
UNICAMP
UNIVERSIDADE ESTADUAL DE CAMPINAS Faculdade de Engenharia Química
ELMO DE SENA FERREIRA JÚNIOR
GAS JET MODELING USING LARGE EDDY SIMULATION IN A LOW MOMENTUM CFD CODE
MODELAGEM DE UM JATO DE GÁS USANDO SIMULAÇÕES DAS GRANDES ESCALAS EM UM CÓDIGO CFD DE BAIXO MOMENTO
Dissertation presented to the Faculty of Chemical Engineering of the University of Campinas in partial fulfillment of the requirements for the degree of Master in Chemical Engineering.
Tese apresentada à Faculdade de Engenharia Química da Universidade Estadual de Campinas como parte dos requisitos para a obtenção do título de Mestre em Engenharia Química.
Orientador: Prof. Dr. SÁVIO SOUZA VENÂNCIO VIANNA
ESTE EXEMPLAR CORRESPONDE À VERSÃO FINAL DA DISSERTAÇÃO DEFENDIDA PELO ALUNO ELMO DE SENA FERREIRA JÚNIOR, ORIENTADO PELO PROF. DR. SÁVIO SOUZA VENÂNCIO VIANNA.
CAMPINAS
2015
Ficha catalográfica
Universidade Estadual de Campinas Biblioteca da Área de Engenharia e Arquitetura Luciana Pietrosanto Milla - CRB 8/8129
Ferreira Júnior, Elmo de Sena, 1989-
F413g Gas jet modeling using large eddy simulation in a low momentum cfd code / Elmo de Sena Ferreira Júnior. - Campinas, SP : [s.n.J, 2015.
Orientador: Sávio Souza Venâncio Vianna.
Dissertação (mestrado) - Universidade Estadual de Campinas, Faculdade de Engenharia Química.
1. Gás. 2. Fluidodinâmica computacional (CFD). 3. Dispersão. I. Vianna, Sávio Souza Venâncio,1975-, II. Universidade Estadual de Campinas. Faculdade de Engenharia Química. III. Título.
Informações para Biblioteca Digital
Título em outro idioma: Modelagem de um jato de gás usando simulações das grandes escalas em um código cfd de baixo momento
Palavras-chave em inglês:
Gas
Computational fluid dynamics (CFD)
Dispersion
Área de concentração: Sistemas de Processos Químicos e Informática
Titulação: Mestre em Engenharia Química
Banca examinadora:
Sávio Souza Venâncio Vianna [Orientador]
Gustavo Doubek
William Roberto Wolf
Data de defesa: 19-02-2015
Programa de Pós-Graduação: Engenharia Química
UNIVERSIDADE ESTADUAL DE CAMPINAS
FACULDADE DE ENGENHARIA QUÍMICA
DISSERTAÇÃO DE MESTRADO
Modelagem de um jato de gás usando simulações das grandes escalas em um código CFD de baixo momento
Autor: Elmo de Sena Ferreira
Orientador: Prof. Dr. Savio Souza Venancio Vianna
A Banca Examinadora composta pelos membros abaixo aprovou esta Dissertação:
Prof. Dr. William Roberto Wolf - FEM/ÜNICAMP
Campinas, 19 de fevereiro de 2015.
vi
RESUMO
A simulação numérica é de grande importância em diversas áreas da engenharia, tais como otimização e manutenção de processo químico, bem como na indústria do petróleo e segurança do processo. O Fire Dynamics Simulator (FDS) é um código de Fluidodinâmica Computacional com base na simulação das grandes escalas. Este foi desenvolvido pelo Instituto Nacional de Padrões e Tecnologia (NIST). O código FDS foi originalmente projetado para modelar baixo fluxo de velocidade comumente encontrados em cenários de incêndio. Assim, o FDS não é adequado para simulação de casos onde o número de Mach é elevado. Para superar esta limitação, este trabalho propõe um novo modelo dedicado às características próximas da saída do jato a fim de permitir o FDS simular cenários de jatos e dispersão de gás. A abordagem também reduz significativamente o tempo da simulação computacional. A ferramenta proposta é uma alternativa livre e confiável para a modelagem de dispersão de gás. Os resultados são amplamente discutidas e um estudo de caso de uma plataforma é apresentado. A comparação com os resultados experimentais, bem como um pacote CFD comercial mostram boa concordância.
Palavras-chave: Jato turbulento, CFD, Dispersão de gás
ABSTRACT
The numerical simulation is of great importance in various areas of engineering such as optimization and maintenance of chemical process, petroleum industry and process safety. The Fire Dynamics Simulator (FDS) is a Computational Fluid Dynamics (CFD) code based on Large Eddy Simulation (LES) modeling and developed by National Institute of Standards and Technology (NIST). FDS code was originally designed to model low speed flow commonly found in fire scenarios. Hence, FDS is not suitable for modeling high Mach number cases. To overcome this limitation this work proposes a novel model dedicated to the near field jet characteristics in order to enable FDS to simulate jet scenarios and gas dispersion. The approach also reduces the computational time significantly as far as turbulent jet flows are concerned. The proposed tool is a free and reliable alternative for gas dispersion
modeling. Results are extensively discussed and case study for a typical offshore site is presented. Comparison with experimental results as well as commercial CFD package shows good agreement.
Keywords: Turbulent jet, CFD, Gas dispersion.
Contents
1	Introduction	1
1.1	Main objective .......................................................... 2
1.2	Specific objective....................................................... 3
2	Large Eddy Simulation and Fire Dynamics Simulator	4
2.1	Governing Equations of Flow Field........................................ 4
2.2	Turbulence .............................................................. 7
2.3	Methodology for turbulence resolution .................................. 10
2.3.1	Direct Numerical Simulation...................................... 10
2.3.2	Reynolds Average Navier-Stokes .................................. 10
2.3.3	Large Eddy Simulation............................................ 11
2.4	Fire Dynamics Simulator ................................................ 14
2.4.1	Construction an FDS model........................................ 15
2.4.1.1	Namelist groups........................................ 15
2.4.2	Pre-processor, solver and post-processor......................... 17
3	Discharge, Dispersion and Review	19
3.1	Turbulent Jet .......................................................... 19
3.2	Atmospheric dispersion of a flammable cloud........................... 21
3.2.1	The phenomenon of dispersion................................... 21
3.2.2	Dispersion models: plume and puff.............................. 23
3.2.3	Advanced models................................................ 25
3.2.4	CFD models .................................................... 25
3.3	Jet models ........................................................... 26
3.3.1	Numerical modeling............................................. 27
4	Diameter of Equivalent Simulation for Quick Run	- DESQr	30
4.1	Jet Modeling in a Compressible Region................................. 30
4.2	Flammable Volume Calculation in FDS .................................. 35
4.2.1	FDS Output data................................................ 36
4.2.2	Calculation procedure for flammable volume .................... 36
4.2.3	Example application............................................ 38
5	Validation, Results and Discussion	40
5.1	FDS jet modeling using DESQr ......................................... 40
5.1.1	Comparison with experimental jet scenario...................... 40
5.1.2	Jet Modeling Results........................................... 41
5.1.2.1	Impact of the subgrid-models.......................... 47
5.1.2.2	Impact of the entrainment coefficient................. 48
5.1.2.3	Simulation time reduction due to DESQr modeling (CFL
condition)............................................ 49
5.2	Flammable Gas Cloud .................................................. 52
5.2.1	Wind analysis.................................................. 53
5.2.2	Computational domain size ................................ 55
5.2.3	FDS vs ANSYS-CFX ......................................... 57
6	Conclusion and Future work	67
A Blender and BlenderFDS as an Engineering Tool for Consequence Analysis 69
A.1 Building the geometry on Blender................................. 69
A.2 Setup case in BlenderFDS ........................................ 72
A.3 Running FDS case and visualization on Smokeview.................. 78
B Set Up case in ANSYS-CFX	81
xii
To my family.
xiv
Acknowledgment
First and foremost, I would like to thank God to be my strength and my hope.
I feel very grateful to have worked with my adviser Prof. Dr. Sávio Souza Venâncio Vianna, which having introduced me to the interesting world of process safety engineering. I would like to thank him for his guidance and encouragement.
I would like to thank CAPES for financial support and Unicamp by the structure provided for the development of this work.
I thank my fellow labmates in L4r1s4 laboratory, Claus, Isabele, João, Juliana, Raphael, Renata, Victor and also I thank my friends from Faculty of Chemical Engineering for the stimulating discussions, and for all the fun we have had in the last two years. I am also deeply grateful to all those who contributed technically, spiritually or encouraging me in difficult times.
To all my family, specially my parents Elmo Ferreira and Vitória Ferreira for giving education to me at the first place and supporting me spiritually throughout my life and my girlfriend, Raissa Lopes, my deepest thanks for being by my side through this process.
xvi
“A vida é combate,
Que os fracos abate, Que os fortes, os bravos Só pode exaltar.” Antônio Gonçalves Dias
xviii
List of Figures
2.1	Stress components on three faces of fluid elements [Versteeg and Malalasek-
era, 1995]................................................................... 7
2.2	Examples of turbulent flows.................................................. 9
2.3	Progress of two solution from a very close initial condition................ 10
2.4	Direct Numerical Simulation concept......................................... 12
2.5	Reynolds Average Navier-Stokes concept...................................... 13
2.6	Large Eddy Simulation concept............................................... 14
2.7	Flow structures solve by LES. At right is a flow vectors for an LES simulation
of a helium plume [McGrattan and Miles, 2008]............................... 15
2.8	Flammable gas dispersion in a typical platform in Smokeview program
6.1.10. ................................................................... 18
2.9	Steps of a CFD simulation using FDS program................................. 18
2.10	Diagram illustrating files used by FDS, Smokezip and Smokeview [McGrat-
tan et al., 2014b].......................................................... 20
3.1	Schematic representation of the flow structure of a free turbulent jet [Violato,
2013]....................................................................... 22
3.2	Coherent structure of a turbulent jet flow [Kataoka et al., 1987]........... 23
3.3	Typical plume formed by a continuous release [AICHE, 2000].................. 27
3.4	Puff formed by a instantaneous release [AICHE, 2000].................... 28
4.1	Coupling of the turbulent jet modeling with Large Eddy Simulation solver
considering a critical Mach number...................................... 35
4.2	Calculation procedure to obtain the jet exit condition and the diameter
downstream the jet nozzle. Adapted from Benintendi [2010]............... 36
4.3	Detail scheme of the methodology implementation in a subsonic jet....... 39
4.4	Detail scheme of the methodology implementation in a sonic jet.......... 40
4.5	Local zoom in a grid of a generic computational domain.................. 41
4.6	Division of virtual cells (dashed red lines) and real cells (continuous black
line)................................................................... 42
4.7	Contribution examples of node 1, 6 and 5 limited by virtual cells....... 42
4.8	Scheme of contribution of each node. Vertices are 1/4, edges are 1/2 and
center are 1/1 of real cells............................................ 43
4.9	Computational domain (2-D) with 2.0 cm width and 1.0 cm long............ 44
4.10	Virtual cells dividing the computational domain......................... 45
5.1	Computational domain for the experimental turbulent jet investigation described by [Birch et al., 1987]......................................... 47
5.2	(a) Experimental jet setup. (b) Jet with new boundary conditions implemented in FDS........................................................... 48
5.3	Jet modeling results	53 mm for a sonic jet.............................. 49
5.4	Jet modeling results	100 mm for a sonic jet............................. 49
5.5	Jet modeling results	150 mm for a sonic jet............................. 50
5.6	Jet modeling results	46 mm for a subsonic jet........................... 50
5.7	Findings are compared with ANSYS-CFX and experimental data [Birch
et al., 1987]. (a) FDS(53 mm) downstream jet orifice. (b) FDS(100 mm) downstream jet orifice. (c) FDS(150 mm) downstream jet orifice............. 52
5.8	Findings from FDS(46 mm) downstream jet orifice are compared with
experimental data [Birch et al., 1987]..................................... 53
5.9	Modeling in FDS 53mm downstream using (a) constant Smagorinsky subgrid
model (b) Deardorff subgrid model.......................................... 54
5.10	Comparison between FDS prediction after input conditions 53mm down-
stream the jet orifice using different entrainment coefficients with experimental data [Birch et al., 1987]. (a) Entrainment coefficient of 0.32. (b) Entrainment coefficient of 0.25............................................ 55
5.11	Three different velocities crossing one cell within a time step........... 55
5.12	Simulation of the turbulent jet downstream the jet orifice and its respectively simulation duration. (a) 53 mm modeling. (b) Time duration for 53 mm modeling. (c) 100 mm modeling. (d) Time duration for 100 mm modeling.
(e)	150 mm modeling. (f) Time duration for 150 mm modeling................ 57
5.13	Level of agreement among the distances downstream the leak orifice consid-
ered in the sensitivity analysis of DESQr model............................ 58
5.14	Wind velocity monitoring points distributed in the platform deck.......... 59
5.15	Wind velocity progress visualized using vector slice in a plan at height 2.5 m
over the main deck. (a) 15 s of simulation. (b) 25 s of simulation. (c) 35 s of simulation. (d) 45 s of simulation......................................... 60
5.16	Wind velocity profile captured by the monitoring points. (a) Point 1, (b) point
2 and (c) point 3 (points in the east of the deck); (d) point 4, (e) point 5 and
(f)	point 6 (points in the middle of the deck)............................ 62
5.17	Wind velocity profile captured by the monitoring points. (a) Point 7, (b) point
8	and (c) point 9 (points in the west of the deck); (d) point 10, (e) point 11
and (f) point 12 (point 5 m height over the deck).......................... 63
5.18	Wind velocity profile captured by the monitoring points. (a) Point 13 and (b)
point 14 (point 5 m height over the deck)............................ 64
5.19	Division of the grid size following the computational domain height. 65
5.20	Growth of the flammable material in the three different computational domains (50.0 m long x 50.0 m wide x 40.0 m height), (60.0 m long x 60.0
m wide x 40.0 m height) and (80.0 m long x 80.0 m wide x 40.0 m height). . 65
5.21	Growth of the flammable material in the three different computational domains (80.0 m long x 80.0 m wide x 40.0 m height), (85.0 m long x 85.0
m wide x 40.0 m height) and (80.0 m long x 80.0 m wide x 50.0 m height). . 66
5.22	Wind direction for the dispersion analysis and location of the gas release
(leakage)............................................................ 67
5.23	Top viewer screen shot of methane concentration dispersion transported by
the wind blowing from the north. (a) FDS code. (b) ANSYS-CFX code. ...	69
5.24	Top viewer screen shot of methane concentration dispersion transported by
the wind blowing from the south. (a) FDS code. (b) ANSYS-CFX code. . . . 69
5.25	Top viewer screen shot of methane concentration dispersion transported by
the wind blowing from the east. (a) FDS code. (b) ANSYS-CFX code.... 70
5.26	Gas dispersion transported by the wind blowing from the west. (a) FDS
model. (b) ANSYS_CFX model........................................... 70
5.27	Front viewer screen shot of methane concentration dispersion transported by
the wind blowing from the North. Slice at 18.5m perpendicular of x direction.
(a) FDS code. (b) ANSYS-CFX code..................................... 71
5.28	Front viewer screen shot of methane concentration dispersion transported by
the wind blowing from the South. Slice at 18.5m perpendicular of x direction.
(a) FDS code. (b) ANSYS-CFX code..................................... 71
5.29	Front viewer screen shot of methane concentration dispersion transported by
the wind blowing from the East. Slice at 18.5m perpendicular of x direction.
(a) FDS code. (b) ANSYS-CFX code..................................... 72
5.30	Front viewer screen shot of methane concentration dispersion transported by
the wind blowing from the West. (a) FDS code. (b) ANSYS-CFX code. ...	72
5.31	Flammable gas cloud results for FDS and ANSYS-CFX...................... 73
5.32	Comparison between the values obtained through FDS and ANSYS-CFX
simulations considering 20% confidence interval. Vertical axis shows flammable results predicted with ANSYS-CFX code. Horizontal axis shows flammable volume results predicted by FDS code......................... 74
5.33	Polynomial partial second order curve Vianna and Cant [2012]........... 76
B.1 Blender 2.69 Splash screen.............................................. 91
B.2 Basics transformations to alter objects (location, rotation and scale).. 92
B.3 Adding a new object in the 3D view...................................... 92
B.4 Configuration of FDS file using BlenderFDS.............................. 94
B.5 Blender text editor with FDS namelist and parameters.................... 95
B.6 Adding Blender text editor information on FDS file through BlenderFDS. . .	96
B.7	Definition of the base 1 on BlenderFDS................................. 97
B.8	Definition of the base 2 on BlenderFDS................................. 97
B.9	Definition of the base 3 on BlenderFDS................................. 98
B.10	Definition of the vent on BlenderFDS.................................. 98
B.11 Definition the base 3 on BlenderFDS.................................... 99
B.12 Definition the base 3 on BlenderFDS....................................100
B.13 FDS case running on terminal...........................................101
B.14 Results of FDS simulation visualized by	Smokeview	as slice............101
B.	15 Results of FDS simulation visualized by	Smokeview	as slice vectors....102
C.	1 ANSYS-CFX workspace area...............................................103
C.2 Analysis type option as steady state condition......104
C.3 ANSYS-CFX workspace area ...........................105
C.4	ANSYS-CFX workspace	area for inlet set up...........106
C.5	ANSYS-CFX workspace	area for opening set up.........106
C.6	ANSYS-CFX workspace	area for wall set up............107
C.7	ANSYS-CFX workspace	area for wall set up............107
C.8	ANSYS-CFX workspace	area for inlet setup............108
List of Tables
3.1	Lower and Upper Explosive Limits for flammable Gases Website [acess in:
2014] .................................................................... 26
3.2	Key parameters to consider during pre-processing stage for gas dispersion
using a CFD code.......................................................... 30
5.1	Stagnation condition and exit diameters of the sonic jet and subsonic jet
[Birch et al., 1987]...................................................... 47
5.2	Boundary conditions....................................................... 67
5.3	Simulation parameters used in FDS code and ANSYS-CFX code for dispersion study................................................................ 68
5.4	Flammable volume calculated by FDS and ANSYS-CFX codes in different
wind directions........................................................... 74
5.5	Overpressure values calculated by correlation of partial second order using FDS normalized flammable cloud results 20% above and 20% below Vianna
and Cant [2012]........................................................... 75
5.6	Overpressure values calculated by correlation of partial second order using
ANSYS-CFX normalized flammable cloud results 20% above and 20% below Vianna and Cant [2012].............................................. 75
5.7	Effect of the shock wave on structures [Smith and Hetherington, 1994].	...	77
B.1 Location and scales of the platform objects................................ 93
xxvi
Nomenclature
BNL Brookhaven National Laboratory
CFL Courant-Friedrichs-Lewy
DESQr Diameter of Equivalent Simulation for Quick Run
DNV Det Norske Veritas
FDS Fire Dynamics Simulator
LFL Lower Flammability Limit
NASA National Aeronautics and Space Administration
NIST National Institute of Standards and Technology
RANS Reynolds Average Navier-Stokes
SGS Subgrid Scale
UEL Upper Flammability Limit
VTT Valtion Teknillinen Tutkimuskeskus
xxviii
Chapter 1
Introduction
The companies dealing with hazardous products, like flammable gases/liquids or toxic products, undertake studies of Risk Analysis to identify, analyze and evaluate possible risk scenarios arising from process accidents, which can cause social, material and environmental loss. Leakage from flammable gases or liquids may cause a flammable cloud, and depending on the dispersion conditions it may result in a catastrophic explosion. The explosion of a flammable cloud in a site is an example of accident that is a major contributor for the risk calculation. On 1 June 1974, an explosion at the Nypro plant at Flixborough killed 28 people, injuring additional 89 employees. The plant was totally destroyed. This enormous accident was caused by the ignition of a flammable cloud containing about 50 tons of cyclohexane. The likely cause of the release was a failure of a temporary pipe. On 6 July 1988 an explosion in a compressor module caused fire at Piper Alpha platform, 167 people were killed and the platform was destroyed by fire [?]. On 22 April 2010 explosion at Deepwater Horizon oil rig occurred after a gas release. 11 people were killed after accident [BBC, 2011]. In September 23 of 2008, in a PETROBRAS unit located in the municipality of São Miguel dos Campos (PE), there was a major leak in a pipe of natural gas followed by explosion, resulting in four deaths [Folha, 2008]. Others industrial accidents happened at Shell (1988), Philips (1989), Exxon (1989) and these disasters contributed for a better scientific study of the acceptance criterion on risk assessment and consequence analyses.
Hydrocarbon materials such as natural gas, ethane, ethylene, propane and butane, can easily ignite leading to explosion scenarios. In order to determine the risk level, a
risk analysis is required to identify possibility of accident and the probability to happen, suggesting modification of the process, relocation of the buildings and/or strengthen the building. In essence, the quantitative risk analysis broadly defined to include risk management and risk assessment. The first includes the identification and the prioritization of risks defined by ISO31000. A second one worry with quantitative and qualitative values of risks in order to recognize the risk, requiring the evaluation of the entire hazardous area, focused on the concentration of the processing hazardous material, pressure-driven flows, ambient temperature, quantities of obstacle, thermal, flow and thermodynamic properties of the material, predict the extent and movement of the flammable cloud, to calculate the vulnerable area due to gas dispersion events.
There are methods developed over recent years to evaluate concentration of a flammable material which is easy and quick to use. However, simpler approaches do not take into account all aspects of the phenomena under analysis, as example, puff and plume are models that provide the concentration of the gas in each point of the affected area. Alternatively, the most recent advances in high performance computing, along with powerful graphics and interactive manipulation of three-dimensional models, led to a much easier task when dealing with complex problems and geometries. Computational Fluid Dynamics (CFD) modeling approach allows the analysis of transport phenomena as well as thermodynamics involved in fluid flow. CFD is currently a tool for industrial design, helping to reduce project time scale and improve engineering processes as well as prevent industrial accidents. However, the level of detail involved in the CFD analysis, could be timeconsuming. Taking the best of CFD model of fire-driven fluid flow, Fire Dynamics Simulator (FDS) was created by National Institute of Standards and Technology (NIST) to compute fire and smoke propagations [McGrattan et al., 2014a]. FDS itself is free and of public domain. It has a hydrodynamic model to solve numerically the Navier-Stokes equations appropriate for low speed and thermally driven flow with an emphasis on smoke and heat transport from fires. The code also comprises combustion modeling and the radiation transport equation that is calculated via the finite volume method [McGrattan et al., 2014c]. However, FDS was originally designed to model low speed flows commonly found in fire scenarios, in other words, it is not suitable for modeling high Mach number cases (common scenario found in gas leak from vessels) where compressible effects are important[McGrattan et al., 2014c,a].
Based on the FDS framework, a novel jet model is proposed, taking the best of FDS modeling. The region near the jet leak is computed separately providing the fluid mechanics and thermodynamics conditions to a region where the Mach number is around 0.3 (where incompressible formulation should be considered). It considers isentropic expansion behavior. The gas characteristics at a given distance from the jet origin is calculated and inserted in FDS as new boundary conditions. Comparison with experimental data and commercial CFD package are presented and discussed. The proposed jet approach enables FDS to calculate jet releases as well as gas dispersion. Comparison of flammable cloud volume calculated with using the developed approach with ANSYS-CFX shows good agreement.
1.1	Objectives
FDS was not developed to deal with leak rates from sudden rupture of pressure vessels (Mach number greater than 0.3). It is a CFD code assumed incompressible. This approach have been extensively using in fire research [McGrattan et al., 2014c].
FDS consideration for low Mach number does not allow for high speed, as high jet velocity. In order to overcome this limitation a novel approach, defined DESQr, is applied to enable FDS to deal with high Mach number (greater than 0.3). This is the first main objective of this work.
Spatially-Integrated is an essential FDS feature to specify an output quantity to be integrated in a defined volume. Spatially-Integrated Outputs available in FDS are minimum or maximum values, average value, volume-weighted mean, mass-weighted mean, area integral and surface integral of an output quantity (eg. heat release rate, velocity, temperature, pressure), that can be obtained using the parameter QUANTITY_RANGE. Also, others spatially-integrated outputs available in FDS are mass integral and volume integral. These are of paramount importance when calculating the volume within a specific range. For the mass integral the results reached can be a flammable mass of gas if the output quantity is a mass fraction, however, for the volume integral, a flammable volume of a such gas is not possible to be reached, since the output quantity must have unit of m-1(volume fraction as
output quantity in this case is not possible)[McGrattan et al., 2014a]. The current research is also focused on the calculation of flammable volume due to gas releases. Thus, the other main objective is to enable FDS to calculate flammable volume of a flammable gas.
In order to guarantee the success of the main propose, the following specific objectives must be performed.
•	Learn the best of FDS code for jets scenarios and gas dispersion application;
•	Perform a study case for sonic and subsonic flows;
•	Evaluate the computational time as consequence of the proposed jet approach;
•	Compare main results with experimental data and commercial CFD code;
•	Perform wind study and computational domain analysis in FDS;
•	To develop a flammable volume calculation procedure;
•	Perform gas dispersion in a platform in order to obtain the flammable volume using FDS and ANSYS-CFX considering the influence of four wind directions.
Chapter 2
Large Eddy Simulation and Fire Dynamics Simulator
CFD is essentially a science of transformation of the differential governing equations of flow field in discretized algebraic forms, which are solved using computer resources to obtain numerical values for the flow field at discrete points in space and/or in time. The resolution method of turbulent flow common used in CFD, the traditional RANS approach or other advanced approaches such as DNS or LES, are developed over the continuity equation based on mass conservation, the momentum equations based on Newton's second law, and the energy equation based on energy conservation. This chapter is focused on to present a brief explanation about the main methodologies used in CFD packages to solve turbulent flows, highlighting the LES approach, and describes the CFD code used in this work.
2.1	Governing Equations of Flow Field
The individual differential equation of flow field represents a certain conservation principle which is based on mass conservation, Newton's second law (F = ma) and the energy conservation. Each equation has a specific depend variable, which may depends of the control volume discretized, the accumulated term and the external factors that influence the variable. An infinitesimal fluid element can be considered moving through a control
volume with the velocity V = ui + vj + wk, where i, j, and k are the unit vectors along the x, y and z axes respectively, the fundamental governing equations can be written as follow [Jiang and Lai, 2009].
The continuity equation
dp + V • (pV) = 0 dt
(2.1)
is an expression representing that matter is conserved in a flow. Per unit volume, the sum of all masses flowing in and out per unit time, must be equal to the change of mass due to change in density per unit time. The equation of continuity applies to steady or unsteady, viscous or frictionless, compressible or incompressible flow. It expresses the law of conservation of mass at each point in a fluid and must therefore be satisfied at every point in a flow field.
Momentum equation
x component
d(pu)	dp dr:
+ V • (puV) = -— + d x
dt
xx
d x
+ dlyz dy
dTzz	,
+	+ pfx
dz
(2.2)
y component
d(pv) dt
d p
+ V • (pvV) = - d +
dy
dTxx
dx
dTyy
dy
dTzz	r
+ ~iy+ pfy
(2.3)
+
z component
d(pw) „ _ .. dp	drxx
dt	dz	dx
dTyy
dy
dTzz	f
+ 3+ pfz dz
(2.4)
+
The energy equation
d_
dt
V2\
+2V
= pq + 01 + 02 + 03 + pf ' V
(2.5)
4 • •
+
01:	g) + g) +	Tz)
p
X	d(wp)	d(vp)	d(wp)	, d(MTxx)	, d(MTyx)	, d(MT;x)
x2’ dx	dy	dz	dx	dy	dz
,	. d(vTxy)	, d(vTyy)	, d(vTzy)	, d(wTxz)	, d(wTyz)	, d(wTzz)
x3 dx	dy	dz	dx	dy	dz
where e stands for the internal energy per unit mass; f is the body forces acting on the control volume of the fluid element (such as the gravitational, or magnetic forces); k is the thermal conductivity; p is the pressure; q is the rate of volumetric heat addition (such as combustion heat release) per unit mass; v, w and x the velocity components in the x, y, and z directions with V2 = u2 + v2 + w2; t time; T the temperature; p the density; and t the viscous stresses, and V = £i + dyj + Jzk is the vector operator in Cartesian coordinates. The state of stress of a fluid element is defined in terms of the normal stress and the shears stress, Figure
2.1.	The normal stress act in a fluid element changing its volume. Shear stress is associated with the shearing deformation of a fluid element. The usual suffix tj denotes the viscous stress direction. The j direction exerted on a plane perpendicular to the i axis [Jiang and Lai, 2009],[Versteeg and Malalasekera, 1995].
Figure 2.1: Stress components on three faces of fluid elements [Versteeg and Malalasekera, 1995].
It was stated by Isaac Newton that shear stress is proportional to the time rate of strain (i.e., velocity gradients) in a fluid element. Such fluids are called Newtonian fluids. For such fluids, the following constitutive equations is achieved
dv	du	dw	du	dw	dv \
Txy = Tyx = p + dy ;	= P d	dz ;	= P d^ d
du	dv	dw
Txx = fl (V- V) +	2p—;	Tyy	= fl (V- V)	+	2p-;	Tzz	= fl (V- V)	+	2p-
dx	dy	dz
(2.6)
(2.7)
where p is the molecular viscosity coefficient and 2 is the second viscosity coefficient representing the volumetric deformation, which 2 = 2/3^. Substituting the constitutive equations on the momentum equations presented above, the Navier-Stokes equations forms for incompressible flow can be written
d(pV) dt
+ V • (pVV) = -Vp + ^V2V + pf
(2.8)
As the individual equation of flow field represents a certain conservation principle and each equation have common terms representing the accumulate, convection, diffusion and the external factors [Patankar, 1980], they can be represented by only one general differential equation, as follow
+ V- (p^V) = aV2^ + S ,	(2.9)
dt
In other words, rate of increase of&amp;lt;p of fluid element plus net rate of flow of&amp;lt;p out fluid element equal to rate of increase of&amp;lt;p due to diffusion (a is the diffusion coefficient) plus rate of&amp;lt;p due to sources (S ^). The equation 2.9 is used to initiate a computer calculation procedure using a numerical method of finite volume. By setting&amp;lt;p to 1, V, T the continuity equation, momentum equation and energy equation are reached, respectively [Versteeg and Malalasekera, 1995].
The governing equations of fluid dynamics only have analytical solution for a laminar and very simple case of flow field. However, for a turbulent flow, numerical methodology and a great understanding of turbulence is required for a possible discretization of this phenomenon.
2.2	Turbulence
Turbulence is a complex phenomenon that normally occurs in nature. It is naturally space and time dependent, and characterized by nonlinear transport of energy, mass and momentum due the enormous iteration among variated scales of length and time, so no matter how faithful and reproduced an experiment is conducted, the behavior of the turbulent flow
can not follows the same trend. Thus, it is hard to define turbulence and whatever definition would not be enough to describe all the phenomenon [McDonough, 2004]. von Karman [1938] reports the following definition of turbulence: “Turbulence is an irregular motion which in general makes its appearance in fluids, gaseous or liquid, when they flow past solid surfaces or even when neighboring streams of the same fluidflow past or over one another”
Hinze [7959] in his book shows another definition: “Turbulent fluid motion is an irregular condition of the flow in which the various quantities show a random variation with time and space coordinates, so that statistically distinct average values can be discerned.”
Lesieur [2008] defines three specifics characteristics to allow an application in the term turbulent. Firstly, a turbulent flow must be unpredictable, since a small uncertainly about the initial condition turns impossible a deterministic prediction on its evolution, secondly, it has to satisfy the increased mixing property. A common property which is required of them is that they should be able to mix transported quantities much more rapidly than if only molecular diffusion processes were involved. Thirdly, extremely large ranges scale of length and time.
Turbulent structures can be considered as swirling vortex elements that are stretching each other. This vortex stretching is one of the representative aspects most important of turbulent motion. The transfer of energy on larger to smaller scales until the dissipation of the energy by the viscous forces, is known as the energy cascade. There are many opportunities to observe turbulent flows surrounding, whether it be a water in river, waterfall or a smoke from a chimney, a cigarette or a fire movement by air. Some examples of turbulent flow are shown in the Figure 2.2.
Figure 2.2: Examples of turbulent flows.
In actual knowledge about the turbulence [McDonough, 2004], [Schiestel, 2008], [Lesieur, 2008], the most important features follow below
•	disorganized, irregularity
The turbulent flows are difficult deterministic prediction and the use of statistical tools is currently the only form of analysis. Thus, there are groups that defend as a purely random phenomenon, others find it purely deterministic. A more realistic view would characterize as a part random and another as deterministic, which means, deterministic for coherent structures (structures that maintains a shape defined by longer than the characteristic time) and random for small structures.
•	non-repeatability (i.e., sensitivity to initial conditions)
Even in the laboratory, under extreme control, it is not possible to develop two identical outputs. From the point of view of numerical prediction, it becomes impossible to faith reproduce the initial and boundary conditions experienced in the laboratory. The highly nonlinear behavior of turbulent flow amplifies the small errors on the initial conditions of an experiment, leading to completely different results. To illustrate a consequence of a difference in initial condition, Figure 2.3 shows a qualitative behavior of two solution started from a very close initial condition .
Figure 2.3: Progress of two solution from a very close initial condition.
• enhanced diffusion (mixing) and dissipation (both of which are mediated by viscosity at molecular scales)
The experience shows that the flow properties in mixing process in a turbulent condition is much grater then laminar condition, the turbulent diffusion causes rapid mixing and increased rates of momentum, heat, and mass transfer. It is an important characteristic as far as applications is concerned. It increases heat transfer rate in all kind of machinery, it prevents boundary-layer separation on airfoils at large angles of attack or it increases momentum transfer between wind and gases.
Turbulent flows are dissipative. It cannot be sustained by itself, so needs an energy supply (shear or strain of the mean flow, external forces). If no energy is supplied, turbulence decays rapidly. Viscous shear stresses perform deformation in the fluid and strong gradients of the velocity field are created, and also increases the fluid internal energy at the expense of kinetic energy of the turbulence. The instantaneous strain rates indeed become very high inside the smallest eddies and the degradation of the turbulent kinetic energy into heat is thus very strong.
• three dimensionality, rotationality (hence, potential flow cannot be turbulent because it is by definition irrotational)
The turbulence is also characterized by presence of high fluctuations in the curl of velocity. Vorticity fluctuations that characterize turbulence could not maintain themselves if the velocity fluctuations were two dimensional.
All it has been shown about turbulence was discussed along centuries by many researchers, for example, [Reynolds, 1894], [von Karman, 1938], [Kolmogorov, 1941], [Taylor, 1935], among others. Nowadays there are methodologies capable to modeling the turbulence behavior in various scenario via computational calculation. The resolution of all turbulence spectrum is still not possible due the computational limitation.
2.3	Methodology for turbulence resolution
The methodology of finding a closure to the governing equations of flow field system is called turbulence modeling. A short description of the modeling used in CFD follows in the next subsections.
2.3.1	Direct Numerical Simulation
Direct Numerical Simulation (DNS) is the direct resolution of the Navier-Stokes equation on a sufficiently fine spatial mesh with an adequate small time step to resolve the smallest eddies [Versteeg and Malalasekera, 1995], which means, it solves all the turbulence scales from the large eddies down to the smallest scales. It is possible to perform DNS calculation in FDS if the underlying numerical grid is fine enough[McGrattan et al., 2014a]. Because the DNS method requires very small spatial and temporal discretization it is very time consuming and not usable for practical engineering propose [Versteeg and Malalasekera, 1995]. Figure 2.4 shows the DNS concept. A numerical method (e.g finite volume) is used to solve the Navier-Stokes equations and solve all the turbulence scales.
Large scales

&gt; Navier-Stokes Approach
Small Scales
Figure 2.4: Direct Numerical Simulation concept.
2.3.2	Reynolds Averaged Navier-Stokes
The Reynolds Averaged Navier-Stokes (RANS) model consists of the averaged Navier-Stokes equations and it is focused on the mean flow and the turbulence parameters effects. The main idea in RANS is to decompose the velocity components, temperature and species fractions, into a time averaged component and a fluctuating component. Figure 2.5 shows decompose velocity (u) in average velocity and fluctuation velocity.
Figure 2.5: Reynolds Average Navier-Stokes concept.
Substituting the decomposed velocity into Navier-Stokes equations, the average
Navier-Stokes equation is deduced, as equation 2.10 shows,
- + u(V • pu) = -VP + p V2- + pfx - Vp-'-' dt
(2.10)
the consequence of the modeling results in an extra term on the right-hand sides of the equation 2.10, namely the Reynolds stresses. This extra term is modeled with extra equations (turbulence closure problem), for example, the k - s model. The standard k - s model has two model equations, one for k and one for s, where k is the turbulent kinetic energy and s is rate of dissipation [Versteeg and Malalasekera, 1995]. The RANS methodology is not available in the FDS framework.
2.3.3	Large Eddy Simulation
Large Eddy Simulation (LES) is a technique for computation of turbulent flows where the large-scale component of the flow carrying most of the energy is resolved by the LES equations. The small-scale unresolved residual motions are modeled by the so-called subgrid scales (SGS) models. The justification for LES is that the larger eddies contain most of the energy, do most of the transporting of conserved properties, and vary most from flow to flow; the smaller eddies are believed to be more universal and less important and should
be easier to model Jiang and Lai [2009]. Figure 2.6 shows an energy cascade where the large and small scales of the flow are divided by a filter, moreover the Navier-Stokes approach solve the large scales and subgrid models do the small ones.
Figure 2.6: Large Eddy Simulation concept.
The filter size is determined by the mesh size of the computational domain. The large scale motions of the flow are calculated similar to those in DNS.
Minor the filter, then minor the mesh size and more is captured from the turbulence phenomenon. Figure 2.7 shows flow structures solved by LES. To achieve this result, the mesh must be fine enough to avoid the capture of the resolvable eddies.
Figure 2.7: Flow structures solve by LES. At right is a flow vectors for an LES simulation of a helium plume [McGrattan and Miles, 2008].
The famous and widely used SGS model was proposed by Smagorinsky and is based on the Boussinesq hypothesis (turbulent stresses are linearly proportional to mean strain rates) and takes the form
tsgs = -2^f |S|	(2.11)
where |S| is the usual large-scale strain-rate tensor, and pt is the subgrid scale eddy viscosity. Following McGrattan et al. [2014c], the eddy viscosity can be modeled as follows
2	2 1
Ht = p(Cs A)|S| ;	|S| = (2SijSij - ^(V-u)2)2	(2.12)
here, Cs is the experimental Smagorinsky constant (FDS uses 0.2 as default) and A = (dxdydz)1/3 is a filter length comparable to the size of a grid cell.
Subgrid scale models from the class now termed dynamic models were proposed by Germano et al. [1991] as a modification to the basic Smagorinsky model, the coefficient Cs in equation 2.12 is no longer taken as a constant, but rather computed based on local flow
conditions as a function of both space and time, Cs = Cs(x, t), the model is known as dynamic Smagorinsky.
Deardorff's Model is used by default in FDS. For such case, the eddy viscosity can be modeled
Vt = pCvfik^	; ksgs = 1 ((u' - u'')2 + (v' - v'')2 + (w' - w'')2)	(2.13)
where u' is the average value of u at the grid cell center and u'' is a weighted average of u over the adjacent cells
u'ijk =
uijk + ui-1, jk
= ui jk	ui-1,jk + ui+1, jk
ik =	+	4
u''
(2.14)
2
the terms v'' and w'' are defined similarly. The model constant is set to the literature value Cv = 0.1.
In Vreman's Model the constant Cs is related to the Smagorinsky constant, so c
2.5Cs. Vreman's eddy viscosity model is given by
Vt
= pc
y aijaij
(2.15)
Where
Bfl = pil/P22 - p12 + p11p33 - fil3 + p22p33 -	;	ftij = ^2mamiamj
(2.16)
aij =
duj dxi
(2.17)
The symbol a represents the matrix (3 x 3) of derivatives of the filtered and the tensor p is proportional to the gradient model. The basic idea behind Vreman's model is to expand the velocity field in a Taylor series McGrattan et al. [2014c].
2.4	Fire Dynamics Simulator
Fire Dynamics Simulator (FDS) is a Computational Fluid Dynamics (CFD) code, based on DNS and LES methodology to capture the turbulence behavior, which solves numerically the differential partial equations of mass, momentum, energy and quantity conservation by finite difference method, and radiation transport by finite volume method in a three-dimensional rectangular grid.
FDS was developed as a free software and public domain by National Institute of Standards and Technology (NIST) with partnership of public and private organizations. This great project has been supported financially via internal funding at both NIST and VTT technical Research Centre of Finland. Also, manual preparation, sub-model developments, research projects and experimental assistance are supported by US Federal Agencies, such as, National Aeronautics and Space Administration (NASA), US Forest Service, Minerals Management Service [McGrattan et al., 2014c]. Extensive validation tests have been performed by the developers since 2000, these validations include fire plumes, pool fires, air and gas movement in the absence of fire, wind engineering, atmospheric dispersion, growing fires, flame spread, compartment fires, sprinklers, mist system and suppression by water. For detail information about validation test, access the reference validation guide [McGrattan etal., 2014d].
FDS results are visualized with Smokeview program. Figure 2.8 shows a flammable gas dispersion in a typical platform in Smokeview program 6.1.10.
Figure 2.8: Flammable gas dispersion in a typical platform in Smokeview program 6.1.10.
2.4.1	Pre-processor, solver and post-processor
According Versteeg and Malalasekera [1995], CFD codes solve problems of fluid flow, consisting of three main elements: (i) a pre-processor (ii) a solver and (iii) a postprocessor. Figure 2.9 shows the main elements to solve an engineering problem using FDS as a CFD code.
Figure 2.9: Steps of a CFD simulation using FDS program.
The geometry, computational domain as well as boundary condition/initial conditions can be all defined using BlenderFDS program (detailed of the program and dispersion case are present in Appendix B). Also, the domain must be discretized, it means, divided into computational cells (nodes) where the transport equations are calculated if the numerical convergence is achieved. FDS approximates the governing equations on a rectilinear mesh.
More than fifty percent (50%) of the time is consumed in these steps (geometry construction and mesh generation) [Versteeg and Malalasekera, 1995].
To solve a problem, FDS uses the second-order accurate finite differences on a collection of uniformly spaced three-dimensional grids and finite volume method in case of radiation model, which means, integration of the equations that govern the phenomenon over a control volume to produce the discretized equations in nodes (algebraic equations). To calculate gradients at a control volume faces an approximate distribution of properties between the nodes, central differencing, Godunov (first-order upwind), Superbee, MINMOD, CHARM and MP5 are available in FDS [McGrattan et al., 2014c], [Versteeg and Malalasekera, 1995], [Patankar, 1980].
Also, subgrid models to predict the small turbulence scales, ready to use in FDS, are Deardorff, constant and dynamic Smagorinsky and Vreman [Germano et al., 1991], [Vreman, 2004].
Visualization and analyze both dynamic and static output files generated from solver are performed in Smokeview. Figure 2.10 gives an overview of how data files used by FDS, Smokeview and Smokezip, a program used to compress FDS generated data files, are related.
Figure 2.10: Diagram illustrating files used by FDS, Smokezip and Smokeview [McGrattan et al., 2014b].
Chapter 3
Discharge, Dispersion and Review
Physical effects must be evaluated/studied prior to conducting the gas explosion analysis. These effects involve discharge of a flammable material, atmospheric dispersion forming a flammable gas cloud and explosion, which consequently may cause severe damages, destroying the facilities, control room, administration building and so on. The initial discharge rate (turbulent jet) of a gas leakage depends mostly on the fuel released, pressure and temperature inside the process equipment as well as the size of the rupture. During the leak, the gas released mixes itself with the ambient air (atmospheric dispersion). There are many chemicals that may reach the explosive limit when released in the atmosphere.
An initial discussion about turbulent jets flows and atmospheric dispersion caused by an accidental released is present in this chapter as well as a literature review.
3.1	Turbulent Jet
Fluid mass that are discharged with high velocity and no impinging will cause free jets, in other words, free jet is a source of momentum and energy in the atmospheric environment [TNO, 2005]. Jet flows from vessels are produced by a pressure drop through a rupture and vary greatly depending upon the upstream flow characteristics (stagnation conditions before leakage) and the rupture shape [Wakes, 2003]. As long as the velocity
inside the jet is high compared to velocities in the ambient fluid, the entrainment and the growth of turbulent flow spread the jet [Sato. H, 1964]. A comprehensive overview of jet flows is given by Michalke [1984], Wakes [2003], while in this section, only the salient concepts are introduced.
The initial jet flow can be laminar or turbulent, while the atmospheric flow can be stationary or moving, in which case it is said to be a co-flow. Along the jet is formed entrainment, which cause penetration of air. According to Wilkening and Baraldi [2007], this is the main mixing mechanism between the flowing gas and the air around it.
As shown in the schematic of Figure 3.1, most of the interactions and mixing between the ambient and jet fluids take place in a shear layer. In a turbulent jet, the mass entrainment and momentum transfer originate in this layer, thus the fluid within the jet is decelerated and the fluid surrounding the jet is accelerated. As a consequence, the jet increases its radius (spreading) and its mass rate.
Figure 3.1: Schematic representation of the flow structure of a free turbulent jet [Violato, 2013].
The turbulent jet can be characterized by the presence of three specific regions well known, defined by the downstream jet centerline velocity [Hussain and Q, 1981]. These regions are:
• Potential core region: Convergence zone where the jet centerline velocity is equal to the exit velocity of the nozzle. This region often extends up to 4De to 6.5De depending
on the velocity profiles and the turbulence levels at the nozzle exit;
•	Transition region: Where the jet is strongly mixed with ambient air and the shear layer emerges, increasing the turbulent flow fluctuation, therefore the jet centerline velocity starts to decay rapidly. This region usually extends up to 6.5De to 20De;
•	Self similar region: In this region the centerline velocity profile is similar and the velocity decay is smooth.
Beyond certain axial distance, the jet fluid discharging from the rupture develops flow oscillations in the shear layer. These flow oscillations generated vorticity, which becomes greater in size with the axial distance. The flow motions in turbulent jets and, in other turbulent flows, were observed to be more ordered than previously hypothesized, thus, a conceptual referring namely coherent structure of turbulent round jets, which the connectivity of the different scales of motions with a phase correlated vorticity are presented, is defined. Figure 3.2 shows that near to the nozzle exit laminar behavior govern the jet flow and the shear layer develops wave-like instabilities, thus a coherent structure of a free turbulent jet emerges.
Figure 3.2: Coherent structure of a turbulent jet flow [Kataoka et al., 1987].
3.2	Atmospheric dispersion of a flammable cloud
3.2.1	The phenomenon of dispersion
The way that the gas spreads in the atmospheric air is called atmospheric dispersion. It can happen from an accidental leakage of a large amount of gas from a storage reservoir, a processing tank or a transfer line. This leakage may be classified as continuous or instantaneous, and the difference is the duration of release [Henselwood and Phillips, 2006]. Continuous leakage happens when a fluid scape from a rupture of a pipeline supply and distribution for long duration. The mass released is time dependent during all phases of the release. Instantaneous leakage is characterized by a short time release. It may occur in a storage reservoir. Dispersion with continuous leakage results in a continuous flammable cloud.
There are a number of parameters that have influence on the atmospheric dispersion phenomenon[Lees, 1996] which are listed below:
•	Wind velocity and direction
The wind direction and speed normally change and more or less gas is blown affecting the size of the plume. As a result, these wind fluctuations cause the spread of the plume over a large area downwind of the source, which is easily diluted by the large amount of air [Cooper and Alley, 2002]. The concentrations in a cloud are inversely proportional to wind speed. The wind information in a specific geographic area is provide by the wind rose.
•	Atmospheric stability
Atmospheric stability is an estimation of the atmospheric state which is usually estimated as function by the wind velocity and sun radiation [Casal, 2007]. The atmospheric stability is related to the vertical air mixture, which is also influenced by the temperature effect of the air. The higher the temperature difference between ambient air and the plume, the higher the plume will rise [D’Abreton, 2009]. An unstable atmospheric is characterized by existence of significant vertical displacement, a negative vertical temperature gradient, frequent wind
fluctuation and strong sun radiation [Casal, 2007], which increases the amount of turbulence that can be categorized into defined increments or stability classes. The earliest stability classes and commonly used was attributed to Pasquill. Other is the Brookhaven National Laboratory (BNL) scheme, which depends entirely on horizontal wind direction fluctuations. The classes classification are as follows
Type A: Fluctuations (peak to peak) of the horizontal wind direction exceeding 90°C (Extremely Unstable);
Type B2: Fluctuations ranging from 40°C - 90°C;
Type B1: Fluctuations similar to A and B2, but confined to 15°C and 45°C limits (Unstable);
Type C: Fluctuations greater than 15o distinguished by the unbroken solid core of the trace (Neutral);
Type D: The trace approximates a line; short - term fluctuations do not exceed 15°C (Stable).
•	Topography
Topography also influences the dispersion phenomenon. The term “topography” refers to the surface features of land, including the configuration and elevation of both obstacles and natural features [Cora and Hung, 2003]. Rotating or electrical equipment are ignition source point which location may vary considerably. From experimental observations can be postulated that the effects of obstacles in the dispersion jets with highlights are: a loss of momentum ahead of the jet, due to frictional losses of the fluid passing through the obstacle, and also by increasing the turbulence; as a result of increased turbulence, the total rate of environmental fluid jet penetration increases, resulting in a rapid dilution. If the fluid is flammable, the concentrations may be reached within the range of explosive limits [HSL, 2001].
•	Flammable substance
Each gas has distinguished physical and chemical properties, which impact directly in the dispersion phenomena. Also, different flammable limits are related to the gas released,
resulting in different flammables volumes. The minimum concentration of a particular flammable gas necessary to support its combustion in air is defined as the LEL for that gas. Below this concentration, the mixture is too “poor” to burn out. The maximum concentration of a gas that will burn in air is defined as the UEL. Above this level, the mixture is too “rich” to burn out Website [acess in: 2014]. Table 3.1 below shows the values of flammable range of common gases used in the process industry. All concentrations in percent by volume.
Gas	LEL(vol%)	UEL(vol%)
Heptane	1.1	6.7
Hydrogen	4.0	75
Methane	5.0	15
Pentane	1.4	7.8
Propane	2.1	9.5
Toluene	1.2	7.1
Xylene	1.1	6.6
Table 3.1: Lower and Upper Explosive Limits for flammable Gases Website [acess in: 2014]
• Release forms
The release forms effect directly the size of the flammable cloud. The form of the release can be instantaneous or continuous. Instantaneous releases happens, for example, from a sudden failure in a general of a pressure vessel and continuous from a discharges from broken pipework.
Lees (2005) mentions different models to describe the dispersion by a turbulent jet including underexpanded, obstructed and sonic jets. The most applied models in engineering and others studies are based on axisymmetric jets.
3.2.2	Dispersion models: plume and puff
Severe industrial accidents emphasize the importance of design sites to minimize leaks of toxic or flammable material. Dispersion models are often used to estimate hazardous
area classification in a industrial facility. These models are focused on providing the concentration of the material in each point of the affected area.
The plume model describes the concentration profile in state steady condition of a material continuous released. Some important characteristics in the plume model of dispersion from a ground level source are the concentration on the axis of the plume and the dimensions of the plume [Lees, 1996]. Figure 3.3 shows a typical plume formed by a continuous release.
Figure 3.3: Typical plume formed by a continuous release [AICHE, 2000].
Puff model describes the material concentration profile in different times from a instantaneous release with a fixed quantity of the material. Some important quantities in the puff model of dispersion from a ground level source are the concentration at the center of the cloud, the dimensions of the cloud, the maximum distance traveled and the total integrated dosage given by the cloud [Lees, 1996]. These quantities are mainly of interest at ground level. Figure 3.4 shows a puff formed by instantaneous release.
3.2.3	Advanced models
The advanced models are the atmospheric dispersion models that dedicated robust algorithms to simulate how a gas interact with the atmosphere. The following models are preferred and recommended by the U.S environmental protection agency and they are complete describe in http://www.epa.gov, https://chemening.wikispaces.com and Neshuku [2012].
AERMOD: Dispersion model designed for short-range (up to 50 km) to the air pollutants dispersion from industrial sources. It is a steady-state Gaussian plume model based on planetary boundary layer (PBL) turbulence structure and scaling concepts, including treatment of multiple ground-level and elevated sources.
CALPUFF: A model that compute the effects of time and space is based on puff dispersion model calculate meteorological conditions and air quality. CALPUFF can be applied for long range transport.
BLP: A Gaussian plume dispersion model designed to handle problems associated with industrial sources where plume rise and downwash effects from stationary line sources are important.
CTDMPLUS: A Complex Terrain Dispersion Model (CTDM) plus algorithms for unstable situations (i.e., highly turbulent atmospheric conditions). It is a refined point source Gaussian air quality model for use in all stability conditions (i.e., all conditions of atmospheric turbulence) for complex terrain.
OCD: Offshore and Coastal Dispersion Model (OCD) is a Gaussian model developed to determine the impact of offshore emissions from point, area or line sources on the air quality of coastal regions. It incorporates over-water plume transport and dispersion as well as changes that occur as the plume crosses the shoreline.
3.2.4	CFD models
CFD has been highly recognized as a robust tool for realistic consequence analyzes of hazardous material, due to its ability to take into account the effect of complex geometry and small obstacles present in the path of dispersing fluid. It also accounts for qualitative and quantitative prediction of flow phenomena for all desired quantities, with high resolution in space and time [Tauseef et al., 2011]. In some cases, experiments can be far too expensive or even impossible to be carried out. Table 3.2 presents key parameters used in the preprocessing stage for an atmospheric dispersion using a CFD code.
Components	Inputs (parameters)
build geometry	3D geometry (unit arrangement)
build mesh	type and mesh size
pre-processing (domain)	fluid properties
	turbulence model
	heat transfer model
	discretization method
pre-processing (atmosphere)	Fluid composition
	velocity and direction of the wind
	temperature profile
	turbulence profile
pre-processing (gas leakage)	fluid composition
	speed of release
	Temperature and/or pressure of the release
	Turbulence profile
Table 3.2: Key parameters to consider during pre-processing stage for gas dispersion using a CFD code.
3.3	Jet models
More recently, CFD techniques have been used to help on the development of new model for cloud size prediction. Contribution using CFD analysis was performed by [Ferreira and Vianna, 2013], which developed a mathematical model to predict the flammable gas cloud using CFD tools. The authors performed a number of simulations in a typical offshore platform considering various wind directions and different leak rates. The model proposed was able to predict release scenarios to be used in risk assessment. Gant and Ivings [2005] from health and safety laboratory from Buxton, UK, have used CFD technique to obtain the volume of the gas cloud for a range of pressure and nozzle. The authors used methane, propane, butane and natural gas. Simulations were compared with a British Standard BS EN 60079-10:2003 formula, which estimates gas cloud volume. The results were overestimated in all cases. As instance, British Standard formula gives a value of 6.82 m3 for a natural gas cloud, whereas Gant and Ivings [2005] reached a value of 0.0275 m3 using CFD code. In accordance with Benintendi [2010], the lesser accurate the British Standard approach is, as the development of the concentration gradient is due to the momentum driven flow.
Thus, the author presents an overview of turbulent jet modeling and proposes a calculation procedure for hazardous area classification that he claims to be more realistic and reliable. He has proposed equations to calculate diameter, distance and velocity downstream the jet nozzle based on equivalent diameter theory related to LFL and UFL. Results of the model were compare with CFD results obtained from [Gant and Ivings, 2005] paper and excellent results were observed. The equivalent diameter concept, important for the Benintendi [2010] model development, was discussed by [Birch et al., 1984]. The author shows that the equivalent diameter replaces the actual diameter for sonic jets in the equations describing the concentration field of a sonic jet. The author presents experimental data and suggests a mathematical model in his work. Experimental data is essential for the validation procedure. As far as turbulent jets are concerned, the available experimental data is not easy to find or often difficult to use. Findings from Birch et al. [1987] work are extensively used during the validation process of the proposed model.
3.3.1	Numerical modeling
Direct solution of Navier-Stokes equations, Large Eddy Simulation (LES) and Reynolds Averaged Navier-Stokes (RANS) are techniques to deal with turbulent scenarios. DNS can only be performed in small scale problems and it requires a very small time step as well as grid resolution, which makes it impracticable for real engineering cases. LES and RANS are an alternative method of accounting for turbulence. Both are described in section 2.3. LES has traditionally been more time consuming than RANS methods, because it filters out and directly calculates the large-scale turbulent motion, which has the greatest impact on turbulent transport [McGrattan and Miles, 2008]. The smaller scales of motion (eddies smaller than a grid cell size) are taken into account with a sub-grid scale eddy viscosity model, nevertheless a complex flow and the turbulent phenomenon should be described more accurately. Time averaged techniques (RANS) can have a serious impact on the total air entrainment and ignores the periodicity of the flow [Ryder et al., 2004]. [Dejoan et al., 2007] compared LES and RANS prediction for contaminant dispersion using MUST (Mock Urban Setting Test) field experiment as reference. The evaluation was done comparing the results on the mean velocity field and mean concentration obtained with LES and RANS against the
experiments data. The authors considered the effects of the regular and irregular geometry, and the wind direction on the pollutant plume dispersion. Authors concluded for regular and irregular geometries, RANS underestimated both vertical velocity and the Reynolds shear stress between the geometries (probable vortices occurred). LES improved the results. However, for streamwise velocity both methods give similar results using similar grid. In a general conclusion RANS provided a satisfactory results for mean velocity and low CPU cost, but for mean concentration prediction relevant information can not be given by RANS, however it can reasonably be predicted by LES.
FDS uses LES approach relying on structured mesh in order to minimize the computational cost. In theory FDS can handle DNS modeling as long as the mesh in fine enough. On the other hand the code struggles to run high velocity scenarios. It is important to bear in mind that it was initially developed for low momentum scenarios, such as fires [McGrattan and Miles, 2008].
FDS has been aimed at solving practical fire problems, while at the same time providing a tool to study fundamental fire dynamics and combustion. However, it is suitable for application in a wide range of fluid dynamics and heat transfer problems that do not necessarily include fire scenarios [McGrattan et al., 2014b],[McGrattan et al., 2014a]. Pape and Mniszewsk [2005] modeled in FDS several examples of gas dispersion cases concerning the petroleum and gas industry. The examples include dispersion of vapor from a gasoline spill in a room, natural gas leak, propane tank rupture in a shipping/receiving area, and a simple assessment of odorant transport in natural gas dispersion. The authors conclude that FDS is valid for gas dispersion analysis. Mouilleau and Champassith [2009] performed and validated simulations of atmospheric gas dispersion considering wind with and without fluctuation using FDS without any change in its source code. Based on literature review, the authors pointed out that better prediction of concentration in atmospheric dispersion are obtained when wind fluctuations are explicitly coded. Thus, the authors selected dispersion cases involving carbon monoxide, ammonia and liquefied natural gas from pool vaporization. The results were compared with MUST experiment, that accounts for the presence of obstacles and Falcon test (a series of large-scale field experiments). Findings were also compared with calculation performed using Phast simulator, from DNV. However, these investigations were performed for cases in which the Mach number was low. Both
authors used in some of their case studies wind and release velocity of 0.1 m/s. Since FDS was developed for low Mach number scenarios, several numerical instabilities arise when applying the code for high Mach number scenarios or the results is not reliable.
Analyses of turbulent jet flows have a variety of practical applications e.g., exhaust plumes of propulsion systems, breaks and vents in high-pressure systems, oil and gas well blowouts, stable injection of gases into liquids and consequence analysis which may be helpful in jet spread assessment and in the size of flammable gas cloud [Chuech and Faethj, 1989]. It is important to know the parameters that influence the jet spread in order to select the right variables and equation which describe the phenomenon properly. Michalke [1984] discusses the jet instability and highlights parameters, like Mach number, temperature, external flow velocity influence, which influence in the jet spread.
The knowledge of FDS limitation to deal with high velocities (problems) brings a scientific inquiry. Why was FDS built to deal with incompressible flows? What do I need to do to turn it capable simulate high pressure releases? Why is it important to solve this problem? How can I do that? From an engineering point of view, FDS is a complex CFD code available as free software, which is able to solve a great amount of fire and smoke propagation problems. Improvement are therefore always welcome in order to enhance the code capabilities. From the scientific aspect it is an equal opportunity for applying the state of the art knowledge in real engineering cases. Many of the contribution in the field of jet modeling and gas dispersion as put forward by [Birch et al., 1984] and [Benintendi, 2010] established the solid ground based on theoretical background and mathematical modeling. Mouilleau and Champassith [2009], Pape and Mniszewsk [2005], [McGrattan et al., 2014b] contribute verifying FDS potential for predict dispersion cases using different gases without any change in FDS code and also teaching how to use FDS parameters and boundary conditions. Ferreira and Vianna [2013] greatly contribute showing the ANSYS-CFX parameters and boundary conditions for gas dispersion simulation, since this software is commercial and it has been used for validation cases. [Ryder et al., 2004], [Dejoan et al., 2007] distinguish both LES and RANS, since FDS deal with LES methodology, thus it is of great importance to know LES limitation and advantage.
Chapter 4
Diameter of Equivalent Simulation for Quick Run - DESQr
This chapter introduces the proposed DESQr model and its features. DESQr concept is fairly simple. It relies on the new boundary conditions based on isentropic jet release to be modeled downstream the jet orifice. The model deals with sonic and subsonic releases. This chapter also comprises the methodology developed for a flammable cloud volume calculation based on nodes of a structure mesh. A simple example case is presented in the end of this chapter.
4.1	Jet Modeling in a Compressible Region
The compressibility effects become important in high-speed flows. Large speed variations involve large pressure variations. In the flow of gases, these pressure variations are accompanied by significant changes in density and temperature.
CFD simulations of gas dispersion do not take into account compressibility effects once the Mach number is around 0.3. On the other hand, regions close to the jet leak is sonic or supersonic, as may occur in gas leaks, it should be treated as compressible, or simplifying assumptions such flow may be required [HSL, 1997], [HSL, 2003].
Figure 4.1 illustrates the philosophy behind the modeling proposed, which is the main contribution of this work. Analysis of the picture shows a typical centerline velocity decay in a jet scenario. Z-axis shows the distance downstream from jet leak and Y-axis shows the non dimensional velocity. The Mach number value of 0.3 has been selected, since from this point any gas can be considered as incompressible fluid. Thus, two distinct regions are presented. The region closer to the jet exit is named “Jet Modeling”. Within this region, the model discussed in sequence is applied to overcome the FDS limitation to deal with high Mach number (greater than 0.3). The jet modeling results are the new boundary conditions or coupling to the region entitled “Dispersion Modeling”, which is treated via LES approach in FDS framework.
-1 ■ Jet modeling	
'^coupling—	Dispersion Modeling - FDS
■ \ - ■ \ . \			—Critical Mach number
	1 -
	T	1	T	T“	1 1 1 1 1 1 1 1
"I-T 1---1 i—T 1 T 1 1-------1 1--1—
0	5	10	15	20	25	30
Axial Distance (z)
Figure 4.1: Coupling of the turbulent jet modeling with Large Eddy Simulation solver considering a critical Mach number.
The calculation procedure to obtain the jet exit condition and the modeled diameter downstream the jet orifice for low Mach number from stagnation condition of the gas, the “Jet Modeling”, is shown in Figure 4.2. This procedure was adapted from Benintendi [2010], who proposed sizing volumes resulting from a turbulent jet to be used in hazardous area classification. Based on the outputs of the model, proper conditions for low Mach number flow were considered in FDS.
Figure 4.2: Calculation procedure to obtain the jet exit condition and the diameter downstream the jet nozzle. Adapted from Benintendi [2010].
The interpretation of Figure 4.2 follows that the gas stagnation conditions, input data, were used to calculate the exit conditions using equations (4.2) to (4.5) for subsonic flows and equations (4.7) to (4.10) for sonic flow. After that, equivalent diameter and the downstream jet centerline velocity are estimated by equations (4.12) and (4.13), respectively. Consequently the diameter is modeled by equation (4.14).
[Man, 2012] shows relations for both subsonic and sonic gas jets. For the subsonic flow the condition is,
Y
Pv &amp;lt;Y + 1 Y-1
Pa	2
(4.1)
where the upstream pressure (Pv) and atmospheric pressure (Pa) ratio must be minor than a relation between the specific heat at constant pressure and at constant volume (y = cp/cv), thus at the exit plane after isentropic expansion,
Pe = Pa
Te = I Pa
Tv	Pv
(4.2)
(4.3)
Pe = / Pa \Y
Pv \Pv/
RTv
PM
(4.4)
(4.5)
the exit pressure is considering equal to atmospheric pressure, exit temperature (Tv) and upstream temperature (Te) ratio is equal to atmospheric and upstream pressure ratio, exit density (pv) and upstream density (pe) ratio is equal to atmospheric and upstream pressure ratio considering a superscript term (i/y) and the exit velocity (Ve) depend on the gas physical characteristics, upstream temperature and, upstream pressure and atmospheric pressure ratio.
For sonic flow the condition is,
Y
Pv &gt; i Y + 1 \Y-1
Pa "I 2 )
(4.6)
the upstream pressure and atmospheric pressure ratio must be greater or equal than a relation between the specific heat at constant pressure and at constant volume. At the exit plane after isentropic expansion, Pe &gt; Pa, and the conditions are
Y
Pe = i 2 \ y-1 Pv	\Y+ J
(4.7)
- = (—)
Tv \Y + 1/
(4.8)
Pe = / 2 \Y-1
Pv \Y + 1/
(4.9)
/ 2 \ RTv 11
\Y + 1/ PM
(4.10)
/ -
| Y - 1
thus, all exit properties depends on its respectively upstream conditions and the specific heat at constant pressure and at constant volume, however, exit velocity depends on the gas physical characteristics and the upstream temperature.
For a sonic and subsonic flow, the exit mass flow rate can be calculated by
nD2
4
me	peVe
(4.11)
Equation 4.12, equivalent diameter discussed by [Birch et al., 1984], and equation
4.13 presented by [Benintendi, 2010] are given by
DeqVe
z
V (0, z) = 6
(4.12)
(4.13)
The downstream velocity (V(0, z)) is calculated using the equivalent diameter (Deq), exit velocity (Ve) and the downstream distance (z). Between the jet exit plane and the downstream distance (coupling) no information (diameter, velocity, pressure, temperature, density) is known.
Using a value for z downstream the jet exit and exit gas properties into equation (4.14), the diameter was updated
Dm = 2^2 • 0.082 • z •
me • Ce
2n • pa • V(0, z) • Deq • z • 0.0822
(4.14)
In equation (4.14), and Ce stands for the entrainment coefficient. [Ricou and Spalding, 1961] recommend that the entrainment coefficient must be set between 0.2 and 0.32. Value of 0.2 was used to predicted the diameter and to discuss development of the model along this work, however, values of 0.25 and 0.32 were also investigated.
Figure 4.3 and Figure 4.4 show the detailed scheme of the methodology presented for subsonic and sonic jet scenarios, respectively.
Subsonic flow condition
Exit condition - isentropic expansion
Downstream condition
Ve =
meCe
Pa	2	7
i
i
De
Stagnation condition
Pv Tv Pv
~: j =
z
Deq = DeJ^~
V -Qz
Figure 4.3: Detail scheme of the methodology implementation in a subsonic jet.

Sonic flow condition
7-1
Downstream condition
7-1
2irpaV(0,z)Deqz -0.082^
I
I
Stagnation condition
Pv Tv Pv
Exit condition - isentropic expansion ~p&amp;lt;= F” •
I _	&amp;lt;2 v'
/’e -	• (^ + x)
V = if 2	) •	10-5
__e S + l PM
Figure 4.4: Detail scheme of the methodology implementation in a sonic jet.
4.2	Flammable Volume Calculation in FDS
This section details the methodology developed for the calculation of the flammable volume in any CFD code using a structure mesh, but it was adapted to FDS. The calculation explanation is conducted in two dimension (2-D) for better understanding, however, the three dimension (3-D) calculation follows the same idea.
Before March 2014, FDS was unable to calculate flammable mass or flammable volume directly. There was no namelist group or parameter to estimate them. Nowadays, FDS developers included the parameters named STATATISTICS and QUANTITY_RANGE, which allow FDS to estimate the flammable mass. However, flammable volume calculation is still not possible. Bearing in mind the need for volume calculation, a model for the calculation of the flammable gas volume was developed considering a structured mesh. The facility to perform experiment, comparison literature data using different CFD packages and the feeling
of measurement of the volumetric quantity turns the flammable volume calculation more attractive and relevant than the flammable mass calculation.
4.2.1	FDS Output data
After running the FDS case for a flammable gas release using the following namelist group and parameters:
&amp;amp;DUMP PLOT3D_QUANTITY(1) = 'MASS FRACTION’, PLOT3D_QUANTITY(2) = ’DENSITY’, PLOT3D_SPEC_ID(1)=’METHANE’,PLOT3D_SPEC_ID(2)=’METHANE’/ a group of files named example_case_time.q are generated as output data in pre set intervals. The files contain the density and mass fraction of the fuel gas in each node of the computational mesh. It is a binary file. A fortran code, fds2ascii must be executed to convert the binary type to an ASCII file. The file comprises all variables from simulation. Using the computational mesh and the results from simulation, the flammable volume is calculated as explained in the following subsection.
4.2.2	Calculation procedure for flammable volume
Figure 4.5 shows a local zoom in a grid of a generic computational domain. The grid zoomed has nine nodes forming four cells or real cells.
Figure 4.5: Local zoom in a grid of a generic computational domain.
Considering all eight external nodes as boundaries of the computational domain
(nodes 1; 2; 3; 4; 6; 7; 8; 9), each node is placed at the center of virtual cell (dashed red lines). Each real cell comprises 1/4 of 4 virtual cells as shown in Figure 4.6.
Figure 4.6: Division of virtual cells (dashed red lines) and real cells (continuous black line).
Following Figure 4.7, as node 1 is at middle of the virtual cell, it turns out that only 1/4 of the real cell in enclosed by the virtual cell. Similarly, as node 6 is at the middle of virtual cell and it is not located at the corner, 1/4 of 2 real cells are enclosed in the virtual cell. Finally, nodes that sit right in the middle of the virtual cell (node 5 for instance) lead to four times the contribution of every real cell.
1.		2. .		,3
	V			
4,		K5		6 1
		V		*
7,		8,		•9_l
u	—		_JL_	_J
x
Figure 4.7: Contribution examples of node 1, 6 and 5 limited by virtual cells.
Figure 4.8 shows the scheme of contribution of each node. The extreme nodes in both x and y directions (nodes 1; 3; 7; 9) give 1/4 of the real cell (namely Rv), the extreme
nodes only in x or y directions (nodes 2; 4; 6; 8) give 1/2 of the real cell (namely Re) and the node out of the extreme in x and y directions (node 5) gives a complete cell (namely Rc ).
Figure 4.8: Scheme of contribution of each node. Vertices are 1/4, edges are 1/2 and center are 1/1 of real cells.
Summing all real cells contribution (yellow, green and red) and multiplying the mesh size in x and y direction, it will result in the area of the computational domain. This procedure was tested for structured mesh considering dx = dy. The following equation 4.15 resumes the calculation for the explained methodology above.
A = £ Rv +
In order to obtain the volume, Rv becomes 1 /8, Re becomes 1 /4, Rc becomes 1, and an extra parameter Rf to compute 1/2, so the following equation 4.16 is used.
Re + Rc) • dx2
(4.15)
V = (^ Rv +	Re + Rc +	Rf) • dx3
(4.16)
To get the flammable volume, the sum must be performed between the UFL and LFL of the gas under analysis. The flammable mass is therefore easily obtained via gas density. The density variation in x, y and z directions must be considered in the calculation. Density value is obtained in each node of the computational domain.
M = (2 Rv • p(x, y, z) +	Re • p(x, y, z) + Rc • p(x, y, z) +	Rf • p(x, y, z)) • dx3
(4.17)
4.2.3	Example application
An extra discussion about the methodology previously presented in this subsection is focused on the calculation example of the computational domain area.
Figure 4.9 shows a computational domain (2-D) with 2.0 cm long and 1.0 cm width. Each real cells size is dx = 0.5 cm and dy = 0.5 cm, respectively. It is clearly seen that the computational domain area is 2.0 times 1.0 (2.0 cm2). Therefore, the same computational domain area value must to be achieved using equation 4.15.
Figure 4.9: Computational domain (2-D) with 2.0 cm width and 1.0 cm long.
As each node is in the middle of the virtual cells and the extremes nodes in both y and x directions give 1 /4 real cells (namely Rv), extreme nodes only in x or y directions give 1/2 of the real cell (namely Re) and the node out of the extreme in x and y directions (namely Rc) gives a complete cell, Figure 4.10 below is achieved.
Figure 4.10: Virtual cells dividing the computational domain.
Thus, the area of the computational domain is given by
A = (2 Rv + 2 Re + 2 Rc) • dx2
substituting each contribution value for the calculation
A = (4 • 4 + 1 • 8 + 1 • 3) • 0.52 = 2 cm2
the results of the computational domain area is 2.0 cm2. The calculation of the flammable volume must be performed in three dimension and between the flammable limits.
Chapter 5
Validation, Results and Discussion
This chapter includes validation cases, where experimental setup and FDS simulation setup, after DESQr modeling, are explained. Results are compared with commercial CFD package. Discussions include the application of different subgrid models and entrainment coefficient values. Discussion concerning the DESQr approach is also highlighted as it reduces the computational time.
Findings for flammable gas cloud volume are compared with ANSYS-CFX and an extensive discussion is presented.
5.1	FDS jet modeling using DESQr
5.1.1	Comparison with experimental jet scenario
In order to verify the model previously discussed, an investigation of a subsonic and sonic air jet behavior was performed according to experiments conducted by Birch et al. [1987]. The experimental jet case was performed in a circular orifice, otherwise, the numerical jet case was performed in a square orifice.
The stagnation condition of the experimental cases, which are describe in Table 5.1, were used to calculate the jet exit conditions. Furthermore, downstream the jet orifice, the
modeled diameter and the velocity were found at a critical Mach number around 0.3 after
DESQr application. The computational domain of 1.25 mm for turbulent jets investigation is shown in Figure 5.1.
	Pv (bar)	Tv (K)	De (mm)
Sonic Jet	2.0	292	2.7
Subsonic Jet	1.48	291	2.7
Table 5.1: Stagnation condition and exit diameters of the sonic jet and subsonic jet [Birch et al., 1987].
Figure 5.1: Computational domain for the experimental turbulent jet investigation described by [Birch et al., 1987].
Velocity monitor points were distributed along the center of the computational domain in accordance to Birch et al. [1987]. Figure 5.2 (a) shows the sketch of the jet pattern. Figure 5.2(b) illustrates the jet modeling region proposed in this work. The downstream distance of 53 mm was considered for the sonic jet leak and 46 mm for the subsonic case based on the critical Mach number. Also, distances of 100 mm and 150 mm were considered in order to evaluate the accuracy of the model further downstream the jet orifice.
Figure 5.2: (a) Experimental jet setup. (b) Jet with new boundary conditions implemented in FDS.
5.1.2	Jet Modeling Results
Figure 5.3, 5.4 and 5.5 show the exit conditions, the diameter and velocity downstream jet nozzle. Experimental results for sonic jets are described in Table 5.1. Isentropic expansion formulas for the sonic flow were used after verification, Pv/Pa &gt; 1.89, and new boundary conditions were calculated 53 mm, 100 mm and 150 mm downstream the jet orifice, respectively. Thus, the jet centerline velocity decayed and the downstream diameter (DM) increased as expected. Also, comparison between downstream jet velocity after 53 mm, Figure 5.3, and after 100 mm, Figure 5.4, shows a significant reduction of the fluid speed. On the other hand, the comparison between the jet velocity at 100 mm and 150 mm location (downstream the leak point) shows a less significant reduction of the jet speed.
Figure 5.3: Jet modeling results 53 mm for a sonic jet.
Figure 5.4: Jet modeling results 100 mm for a sonic jet.
Figure 5.5: Jet modeling results 150 mm for a sonic jet.
Figure 5.6 shows the exit conditions, the diameter and velocity downstream the jet nozzle for the subsonic jets describe in Table 5.1. Isentropic expansion approach has been considered after the pressure ratio verification. Updated boundary conditions were calculated and inserted in FDS.
Figure 5.6: Jet modeling results 46 mm for a subsonic jet.
Figure 5.7 compares centerline velocity decay of the modeling proposed with experimental data [Birch et al., 1987] and ANSYS-CFX. Analysis of the plot shows similar velocity profile. ANSYS-CFX simulation was performed by [Ferreira and Vianna, 2013] exactly in the same condition of the experimental data. Figure 5.7 also presents the velocity at the exit of the orifice as well as at the coupling distance. The coupling distance must be understood as the point where the model proposed couples with the numerical analysis. It may also be thought as the new boundary condition for the numerical simulation.
FDS modeling relied on the DESQr approach and the exit conditions were calculated at specific distances downstream the leak orifice. Analysis of Figure 5.7 (a), (b) and (c) shows very good agreement between numerical findings and experimental data. It important to note that, although the distance from the leak orifice has increased the level of agreement remained very similar.
(a)
(b)
(c)
Figure 5.7: Findings are compared with ANSYS-CFX and experimental data [Birch et al., 1987]. (a) FDS(53 mm) downstream jet orifice. (b) FDS(100 mm) downstream jet orifice. (c) FDS(150 mm) downstream jet orifice.
Figure 5.8 shows the centerline velocity decay of the subsonic jet. Good results were obtained using the FDS jet modeling 46mm downstream the jet nozzle.
Figure 5.8: Findings from FDS(46 mm) downstream jet orifice are compared with experimental data [Birch et al., 1987].
5.1.2.1	Impact of the subgrid-models
Large Eddy Simulation (LES), a numerical technique that resolves the large scale eddies, requires appropriate choice of the turbulence sub-grid model. Adequate selection of sub-grid model ensures proper modeling of the eddy viscosity and its associated dissipative effects. Results presented in Figure 5.7 and Figure 5.8 were performed using dynamic Smagorinsky subgrid model, however, Figure 5.9 (a) shows jet modeling 53mm downstream the jet orifice using constant Smagorinsky model and Figure 5.9 (b) shows Deardorff model. For the constant Smagorinsky model the agreement with experimental data was not as good as before, when the dynamic model was considered. Furthermore, the velocity profile obtained was not similar to a typical jet centerline velocity decay. Otherwise, Deardorff model predicted reasonably well since the velocity jet profile seems to have the same trend as the experimental data. Bear in mind that both models requires a constant value. FDS uses as default values of Cs = 0.2 for constant Smagorinsk model and for Deardorff model Cv = 0.1. These constant values were kept during the simulation.
1.0
0.8
“ 0.6
-N
o 0.4
&gt;
0.2
0.0
0	20	40	60	80	100 120 140
z/De
z/De
(b)
Figure 5.9: Modeling in FDS 53mm downstream using (a) constant Smagorinsky subgrid model (b) Deardorff subgrid model.
(a)
5.1.2.2	Impact of the entrainment coefficient
As mentioned in section 4.1, the constant value of the entrainment coefficient (Ce) suggested by Ricou and Spalding [1961] were investigated, since it plays an important role in the prediction of the modeled diameter (DM) downstream the jet orifice. To hark back, the main results presented in Figure 5.7 and Figure 5.8 were achieved using the value of 0.2 for the entrainment coefficient. Nevertheless, it is presented further entrainment coefficient values to show its impact in the prediction of the proposed model.
Analysis of Figure 5.10 (a) shows that the numerical findings overpredict the experimental data for all monitoring points, except one.
The same trend is noticed when Figure 5.10 (b) is analyzed. However, there seems to be a smaller difference among the numerical findings and experimental data when the air entrainment coefficient is set to 0.25.
“■	 - •		■ Experimental data • FDS Ce(0.32)
	•	
-	■	•
-		•
		1	1		■ ■ —i	1	1	1	1—
------ -----1-----------1----■-----1-----■----|—1
30	60	90	120	150
z/De
(a)
0.30-p
0.25-
0) 0.20-
cT 0.15-
&gt;
0.10-
0.05 —
30
■ Experimental data
• FDS Ce(0.25)
■
■
60	90	120	150
z/De
(b)
Figure 5.10: Comparison between FDS prediction after input conditions 53mm downstream the jet orifice using different entrainment coefficients with experimental data [Birch et al., 1987]. (a) Entrainment coefficient of 0.32. (b) Entrainment coefficient of 0.25.
5.1.2.3	Simulation time reduction due to DESQr modeling (CFL condition)
Courant-Friedrichs-Lewy (CFL) condition is a restriction on the time step due to the convection velocity used in all CFD package. Physically, the constraint limits the fluid element, not allowing it to cross more than one cell within a time step. Figure 5.11 shows three different velocities crossing one cell within a time step. Thus, to avoid numerical instability during the simulation the CFL condition must be satisfied. For that, the lower velocity (50 m/s) must cross the cell faster than higher velocities (100 or 150 m/s).
V	= 150 —*
V	= 100----
V = 50
j+2
Figure 5.11: Three different velocities crossing one cell within a time step.
After the jet modeling, new boundaries conditions were calculated and inserted in
FDS. One of them was the velocity, that becomes lower as it distances from the jet leak. Based on the CFL condition, computational time has been compared for jet modeling 53 mm, 100 mm and 150 mm downstream the jet orifice using a mesh size of 2.5 mm in all cases. Figure 5.12 (a) shows the simulation of the a turbulent jet 53 mm downstream the jet orifice. The lowest time step calculated during the simulation was 2.0E-5 s. This is the same jet that has been shown in Figure 5.7 (a). Figure 5.12 (b) shows the duration of the simulation around 60 h for 3.0 s of calculation. Figure 5.12 (c) shows the simulation of the a turbulent jet 100 mm downstream the jet orifice. The downstream velocity of 57.48 m/s was achieved after applied the proposed model for sonic jet and the lowest time step during the simulation was 4.0E-5s. The computational time to run 3.0 s of simulation was around 15 h as shown in Figure 5.12 (d). Moreover, Figure 5.12 (e) shows the simulation of a turbulent jet 150 mm downstream the jet nozzle. For this case, the downstream velocity and the smallest time step were 41.5 m/s and 0.93E-4 s, respectively. The computational time to run 3.0 s of simulation was around 13 h as shown in Figure 5.12 (f).
It is possible to verify a significant computational time reduction when comparing Figure 5.12 (b) and Figure 5.12 (d) due the expressive exit velocity reduction after modeling 53 mm downstream to 100 mm downstream the jet orifice. The jet transition region has been reached in this modeling distance (53 mm to 100 mm). In this region the jet is strongly mixed with ambient air and jet velocity starts to decay rapidly. However, a short time reduction (around 2 h) comparing Figure 5.12 (d) and Figure 5.12 (f) due low exit velocity decay after modeling 100 mm downstream to 150 mm downstream is observed. Probably, the transition region is about to terminate and the self-similar region emerges. In this region the jet velocity smoothly decay.
(a)
(b)
(c)
(d)
(e)
(f)
57
Figure 5.12: Simulation of the turbulent jet downstream the jet orifice and its respectively simulation duration. (a) 53 mm modeling. (b) Time duration for 53 mm modeling. (c) 100 mm modeling. (d) Time duration for 100 mm modeling. (e) 150 mm modeling. (f) Time duration for 150 mm modeling.
Figure 5.13 shows the agreement of FDS results with the experimental data (from Figure 5.7) as function of elapsed computational time. The modeling closer to the jet exit (53 mm) gives a better agreement with the experimental data when compared with the others set boundary conditions, FDS(100 mm) and FDS(150 mm). On the other hand, it demands a reasonable amount of time to compute the same case with no significant gain in accuracy.
■ FDS (53mm)
•	FDS (100mm)
*	FDS (150mm)
99.92
99.90
g
1 99.88
E
&lt;d
&lt;p
99.86
99.84
10	20	30	40	50	60
Estimated Total FDS runtime (h)
Figure 5.13: Level of agreement among the distances downstream the leak orifice considered in the sensitivity analysis of DESQr model.
5.2	Flammable Gas Cloud
Natural ventilation in the offshore platform is affected by its design, numbers of equipment and number of openings and its location [HSL, 2005]. Thus, the atmospheric dispersion is influenced by the wind profile interaction with the accommodation module which must be considered in a leakage study to turn the numerical simulation more realistic. In order to calculate the flammable volume cloud it was built a geometry model (platform) in FDS of 16 m long x 16 m wide. The details of the geometric model are described in Appendix B.
It is important to make sure that the wind flow in the geometry is steady prior to starting the gas release. Analysis of the wind velocity (blowing from the north) around the platform was performed to ensure the steady state conditions are achieved (since FDS
deals only with transient simulations). Once the steady condition for the wind modeling was achieved, the flammable material (methane) was continuous released until achieve a steady state flammable volume. For comparison, a flammable volume cloud calculation was conducted using ANSYS-CFX.
5.2.1	Wind flow around the platform
The wind velocity profile in the platform must be in stationary condition before gas release occurs. To analyze the wind profile, monitoring points (green dots) were distributed according to Figure 5.14 below. Points (3), (2) and (1) were on the left side of the platform and placed at 2.0, 4.0 and 6.0 m above the platform base, respectively, as well as points (4) to (9). Points (4) to (6) captured the phenomenon in the middle and points (7) to (9) monitored the velocity behavior on the right side of the platform. Also, 5.0 m above the platform base, monitoring points (10) to (14) were separated 5.0 m each other. For this test was considered that the wind velocity of 2.0 m/s came from the rear of the platform.
Wind velocity profile over the platform was qualitatively analyzed in 15 s, 25 s, 35 s and 45 s of simulation. Figure 5.15 shows the wind velocity progress in different times. Figure 5.15 (a) shows results after 15 s of simulation and Figure 5.15 (b) shows results after 25 s of simulation. Wind velocity was not well established around the platform, because there is a velocity gradient on the east and on the west side represented by gradient colors. Figure
5.15	(c) shows results after 35 s of simulation and Figure 5.15 (d) shows results after 45 s of simulation. In both cases it seems to have achieved the wind velocity stationary condition, since the gradient colors discussed before does not appear. However, analysis of the plot from the monitoring points must be conducted.
(a)
2.50
2.00
slice vel Air m/s
1.50
1.00
0.50
0.0
(c)
Figure 5.15: Wind velocity progress visualized using vector slice in a plan at height 2.5 m over the main deck. (a) 15 s of simulation. (b) 25 s of simulation. (c) 35 s of simulation. (d) 45 s of simulation.
(b)
(d)
Figure 5.16 shows the wind velocity profile captured by the monitoring points located on the left side and in the middle of the platform. Figure 5.17 shows the wind velocity profile captured by the monitoring points located on the right side and the first three monitoring points located on the top of the platform. Figure 5.18 shows the wind velocity profile captured by the last two monitoring points located on the top of the platform.
The geometry influence on the wind profile may arise a few concerns as far as the
wind analysis in the platform is considered. However, in point 1 it is possible to verify a similar intermittency after 50 seconds. The same behavior is noticed for monitor point 2. Analysis of the plots shows a similar trend for all monitor points. There seems to be a clear pattern although the time at which the wiggles are steady vary from monitor point to monitor point. In point 12 steady condition was after 45 s. The wind analysis was taken into account when setting up the dispersion cases. Based on the findings from the wind scenarios and the time to reach the steady state regime, it has been selected 45 seconds of ventilation prior to gas release.
Wind velocity (m/s)	Wind velocity (m/s)	Wind velocity (m/s)
(a)
(c)
(e)
Figure 5.16: Wind velocity profile captured by the monitoring points. (a) Point 1, (b) point 2 and (c) point 3 (points in the east of the deck); (d) point 4, (e) point 5 and (f) point 6 (points in the middle of the deck).
(b)
(d)
(f)
Wind velocity (m/s)	Wind velocity (m/s)	Wind velocity (m/s)
(a)
(c)
(e)
(b)
1.6
■J2 1.2
E,
g 0.8
c 0.4 §
0.0
0	15	30	45	60	75	90
Time (s)
(d)
(f)
Figure 5.17: Wind velocity profile captured by the monitoring points. (a) Point 7, (b) point 8 and (c) point 9 (points in the west of the deck); (d) point 10, (e) point 11 and (f) point 12 (point 5 m height over the deck).
2.5-
Point 13
(a)
Figure 5.18: Wind velocity profile captured by the monitoring points. (a) Point 13 and (b) point 14 (point 5 m height over the deck).
5.2.2	Computational domain size
Another important task before the calculation of the stationary flammable volume is the influence of the computational domain. Thus, it was built five distinct computational domain of rectangular shape. The following five domain used for this study were (50.0 m long x 50.0 m wide x 40.0 m height), (60.0 m long x 60.0 m wide x 40.0 m height), (80.0 m long x 80.0 m wide x 40.0 m height), (85.0 m long x 85.0 m wide x 40.0 m height) and (80.0 m long x 80.0 m wide x 50.0 m height). The meshing process ensured that all computational cells are 25 cm x 50 cm x 100 cm in x, y and z directions, respectively. Figure 5.19 shows the division of the grid size in z direction. A finer mesh was set at regions where there is a more significant gradient.
Analysis of the flammable mass released for the various computational domain sizes selected is shown in Figure 5.20. Analysis of the plot shows a significant difference in the mass released. The difference between the mass obtained for the largest computational domain and the smallest computational domain is around 42%.
Figure 5.20: Growth of the flammable material in the three different computational domains (50.0 m long x 50.0 m wide x 40.0 m height), (60.0 m long x 60.0 m wide x 40.0 m height) and (80.0 m long x 80.0 m wide x 40.0 m height).
The first domain increased the computational area by 5 meters in x and y direction while the second domain increased only the z direction by 10 meters. Analysis of Figure 5.21 shows no significant difference among the computational domains.
900
co E a&gt; ■Q co E E co
750-
600-
450-
300-
150-
80x80x40
85x85x40
80x80x50
50	60	70	80	90	100	110
Time (s)
Figure 5.21: Growth of the flammable material in the three different computational domains (80.0 m long x 80.0 m wide x 40.0 m height), (85.0 m long x 85.0 m wide x 40.0 m height) and (80.0 m long x 80.0 m wide x 50.0 m height).
5.2.3	FDS vs ANSYS-CFX
This subsection presents a detailed comparison between DESQr FDS and ANSYS-CFX. Considering 4 different wind directions and one leak direction the flammable gas volume was calculated taking into account the various aspects of the jet release and atmospheric boundary layer. In ANSYS-CFX code it was used a number of elements around 5 millions for an unstructured mesh [Tatiele, 2014].
Figure 5.22 shows the wind direction for dispersion analysis. The leak release points downwards (negative z direction).
Figure 5.22: Wind direction for the dispersion analysis and location of the gas release (leakage).
Boundary conditions for wind modeling in the gas release were set as prescribed velocity at inlet and zero gradient for variables in the flow direction at outlet. Methane was set as pure substance. Structures and ground were treated as wall boundary. Table 5.2 shows the value for the wind velocity, gas released velocity, gas concentration, orifice size as well as wind outlet, structures and ground boundary conditions used for this case. An orifice size of 0.9 m and a velocity released of 100 m/s, resulting in a mass flow rate of 53.43 kg/s was investigated.
Boundary conditions	FDS code	ANSYS-CFX code
Wind inlet (m/s)	2.0	2.0
Gas inlet (m/s)	100	100
Gas concentration (vol/vol)	1	1
Orifice size (m)	0.9	0.9
Wind outlet (m/s)	open	open
Structures and ground	wall	wall
Table 5.2: Boundary conditions.
The key parameters of the simulation are listed in Table 5.3 for both codes. ANSYS-
CFX set up was based on Ferreira and Vianna [2013].
Simulation parameters	FDS code	ANSYS-CFX code
Flow regime	Transient	Stationary
Flow condition	Subsonic	Subsonic
Flow type	Incompressible	Incompressible
Heat transfer	Isotherm	Isotherm
Turbulence resolution	LES	RANS
Turbulence model	Dynamic Smagorinsky	k - e
Discretization method	Upwind first order	Upwind first order
Table 5.3: Simulation parameters used in FDS code and ANSYS-CFX code for dispersion study.
Figure 5.23, Figure 5.24, Figure 5.25 and Figure 5.26 show a top viewer screen shot of a methane concentration dispersion transported by the wind blowing from the north, south, east and west, using a slice 2.5 m above the main deck, respectively. All Figures presented below show a similar gas cloud. In all cases the gas leak is point downwards and the gas scatters following to the wind direction. Figure 5.23 (a), Figure 5.24 (a), Figure 5.25 (a) and Figure 5.26 (a) capture more of the turbulent eddies as the CFD model relies on LES approach. On the other hand, Figure 5.23 (b), Figure 5.24 (b), Figure 5.25 (b) and Figure 5.26 (b) show a more smooth gas concentration as it is expected from RANS modeling.
(a)	(b)
Figure 5.23: Top viewer screen shot of methane concentration dispersion transported by the wind blowing from the north. (a) FDS code. (b) ANSYS-CFX code.
(a)	(b)
Figure 5.24: Top viewer screen shot of methane concentration dispersion transported by the wind blowing from the south. (a) FDS code. (b) ANSYS-CFX code.
(a)	(b)
Figure 5.25: Top viewer screen shot of methane concentration dispersion transported by the wind blowing from the east. (a) FDS code. (b) ANSYS-CFX code.
(a)	(b)
Figure 5.26: Gas dispersion transported by the wind blowing from the west. (a) FDS model. (b) ANSYS_CFX model.
Additional qualitative comparison between FDS and ANSYS-CFX code are presented below. Figure 5.27, Figure 5.28, Figure 5.29 and Figure 5.30 show the front viewer screen shot of methane concentration dispersion transported by the wind blowing from the
north, south, east and west, respectively. Furthermore, Figures with subscript (a) represents FDS results and Figures with subscript (b) means ANSYS-CFX results. As FDS deal with LES approach, more of the turbulent eddies it is captured. ANSYS-CFX shows the average behavior, since it was performed with RANS.
(a)	(b)
Figure 5.27: Front viewer screen shot of methane concentration dispersion transported by the wind blowing from the North. Slice at 18.5m perpendicular of x direction. (a) FDS code. (b) ANSYS-CFX code.
(a)	(b)
Figure 5.28: Front viewer screen shot of methane concentration dispersion transported by the wind blowing from the South. Slice at 18.5m perpendicular of x direction. (a) FDS code. (b) ANSYS-CFX code.
(a)	(b)
Figure 5.29: Front viewer screen shot of methane concentration dispersion transported by the wind blowing from the East. Slice at 18.5m perpendicular of x direction. (a) FDS code. (b) ANSYS-CFX code.
(a)	(b)
Figure 5.30: Front viewer screen shot of methane concentration dispersion transported by the wind blowing from the West. (a) FDS code. (b) ANSYS-CFX code.
Figure 5.31 shows flammable volume for each wind direction. Black dots represent the growth of the flammable volume with the time until reach a steady state condition (average value). These were calculated by FDS in a transient condition. Red dots represent the final value of the flammable volume calculated by ANSYS-CFX, which flow condition was run in steady state. Figure 5.31 (a) and Figure 5.31 (b) show the flammable volume value predicted by FDS and ANSYS-CFX code considering the blowing wind from north and south, respectively. Figure 5.31 (c) and Figure 5.31 (d) show the flammable volume value predicted by FDS and ANSYS-CFX code considering the blowing wind from the west and east, respectively. Considering FDS code, the difference of flammable clouds values calculated for wind blowing from north and south was around 10%. Otherwise, the difference around 0.3% of the flammable volume was found. The wind from north and south
generates a different pattern on the main deck mainly due to the bluff body effect caused by the accommodation module. As it is known, separation of the boundary layer creates a negative pressure gradient in the wake of the flow. As a consequence the flow is reversed creating a circulation zone right behind the accommodation module that traps the gas in the platform process area. On the other hand, the symmetry plan observed when the wind is blowing form west and east do not lead to significant difference in the cloud volume as the ventilation in the platform is quite similar.
"E, 5000
&lt;D
E _□
o
&gt;
o
23
(0
E
E
LL
7000
6000
4000
3000
2000
1000
4000
3000
2000
1000
Average value	 	
- ■ ■ - ■	■	■ “ "	i ■ ■ ■ ■
-■	■ FDS (north wind) • ANSYS-CFX (north wind)
50	60	70	80	90	100	110 Time (s) (a)	
Average Value	"	" ■  " ■	
■ ■ - ■	. ■ ' ' “ •
■	■ FDS (west wind) • ANSYS-CFX (west wind)
50	60	70	80	90	100	110
Time (s)
(c)
6000
6000
4000
3000
2000
1000
Average value		■ ■ ■ ■
	■	■ ■
■	■	■ ■
	■	FDS (south wind)
■	•	ANSYS-CFX (south wind)
50	60	70	80	90	100 110 Time (s) (b)
Average Value ■
4000-
3000-
2000-
1000-
■	FDS (east wind)
■	ANSYS-CFX (east wind)
50	60	70	80	90	100 110
Time (s)
(d)
a
Figure 5.31: Flammable gas cloud results for FDS and ANSYS-CFX.
Table 5.4 summarizes the comparison of the flammable volume calculated by FDS and ANSYS-CFX codes.
CFD code	North's wind	South's wind	West's wind	East's wind
Cloud in FDS (m3)	5690.60	5080.90	4922.48	5077.10
Cloud in ANSYS-CFX (m3)	5299.96	6004.87	373013	4446.66
Table 5.4: Flammable volume calculated by FDS and ANSYS-CFX codes in different wind directions.
Figure 5.32 shows the comparison between the flammable volumes predicted by FDS and ANSYS-CFX codes considering 20% confidence interval. The difference between FDS and ANSYS-CFX results are mainly due to turbulence modeling. However, the difference of the flammable cloud values predicted by FDS and ANSYS-CFX seems to have no great impact on the overpressure calculation (pressure caused by an explosion).
Figure 5.32: Comparison between the values obtained through FDS and ANSYS-CFX simulations considering 20% confidence interval. Vertical axis shows flammable results predicted with ANSYS-CFX code. Horizontal axis shows flammable volume results predicted by FDS code.
In order to verify the impact of the difference of the gas cloud volume, overpressure was calculated using the partial second order model suggested by Vianna and Cant [2012]. The authors developed a first order, partial second order and complete second order polynomial correlation based on CFD modeling to predict overpressure from normalized flammable clouds. They compared the model prediction with CFD findings for a classical
offshore experiment conducted by British Gas on behalf of Mobil and good agreement was observed. Besides that, a study case was conducted for methane release in a typical platform module in which various cloud sizes were presented and the overpressure was calculated. FDS and ANSYS-CFX cloud results were normalized considering the largest flammable cloud in order to use the correlation presented by Vianna and Cant [2012]. Table 5.5 and Table 5.6 show the overpressure values calculated using the partial second order. Overpressure values were also calculated using values 20% above and 20% below of the flammable cloud predicted by the CFD codes.
Normalized flammable cloud (FDS)			Overpressure (bar)		
Calculated value	-20%	+20%	Calculated Value	-20%	+20%
0.94	0.76	1.13	1.66	1.38	1.67
0.85	0.67	1.01	1.70	1.59	1.60
0.82	0.65	0.98	1.69	1.63	1.57
0.84	0.67	1.02	1.70	1.59	1.60
Table 5.5: Overpressure values calculated by correlation of partial second order using FDS normalized flammable cloud results 20% above and 20% below Vianna and Cant [2012].
Normalized flammable cloud (ANSYS-CFX)			Overpressure (bar)		
Calculated value	-20%	+20%	Calculated Value	-20%	+20%
0.88	0.71	1.06	1.69	1.53	1.63
1.00	0.80	1.20	1.61	1.24	1.69
0.62	0.49	0.74	1.52	1.66	1.26
0.74	0.59	0.88	1.66	1.69	1.47
Table 5.6: Overpressure values calculated by correlation of partial second order using ANSYS-CFX normalized flammable cloud results 20% above and 20% below Vianna and Cant [2012].
Figure 5.33 shows the polynomial partial second order curve. In the vertical axis is the overpressure value and in the horizontal axis is the normalized cloud volume. FDS and ANSYS-CFX flammable cloud range prediction considering 20% confidence interval is 0.49-1.20 (indicated in Figure 5.33). This flammable range is located in the end of the curve. The overpressure value predicted by FDS and ANSYS-CFX flammable range is 1.47-1.69 bar.
2.0
co
¥
35
U&gt; u&gt;
2 CL
CD &gt; O
1.5-
1.0-
I--------------------
/
FDS and CFX range prediction
0.5-
Polynomial expression
1.0
4
Normalized flammable cloud
Figure 5.33: Polynomial partial second order curve Vianna and Cant [2012].
The confidence interval reached can be compared using real situation effects from overpressure values. Table 5.7 shows the overpressure effects over structures. The overpressure range considering the FDS flammable cloud estimation were 1.67-1.38 bar by North's wind, 1.6-1.59 bar by South's wind, 1.57-1.62 bar by East's wind and 1.6-1.59 bar by West's wind. The overpressure range considering the ANSYS-CFX flammable cloud estimation were 1.67-1.38 bar by North's wind, 1.6-1.59 bar by South's wind, 1.57-1.62 bar by East's wind and 1.6-1.59 bar by West's wind. In both cases, a total destruction would be occurs in any case of explosion. Table 5.7 presents below a specific damaged caused by different overpressure range. Most of the overpressure predicted by both CFD codes studied in this work lead to a difference of 0.2 bar (difference between of the overpressure values calculated using the confident interval of 20%), which means that their CFD codes can be used to define, approximately, the same specific damage, see the two last columns from Table
5.5	and Table 5.6 to review the numbers.
Damage	Overpressure (bar)
Fault walls or bricks	0.125-0.2
Disruptions refinery tanks	0.2-0.3
Damage to buildings (metal structures)	0.3-0.5
Damage to buildings (concrete structures)	0.4-0.6
Probable total destruction of most buildings	0.7-0.8
Table 5.7: Effect of the shock wave on structures [Smith and Hetherington, 1994].
Chapter 6
Conclusion and Future work
This work has been performed in order to overcome the FDS low Mach number limitation, enabling the code to deal with turbulent jet investigation. The gas dispersion capabilities have also been investigated.
The proposed model DESQr gives new inlet boundary conditions downstream the jet orifice. However, it was observed that the entrainment coefficient and the subgrid models have caused greatly impact on the results. Then, entrainment coefficient value of 0.2 provided the best agreement in a study case presented. Analysis of the subgrid modeling has shown that the dynamic Smagorinsky model performed better than Dearffort approach and constant Smagorinsky model. The former had poorest agreement with experimental data.
DESQr model enhanced the computational time significantly when applied within the transition zone (4.0De - 6.5De). For new boundary conditions (model applied 53 mm downstream the jet orifice), the simulation time was around 60h. For new boundary conditions (model applied 100 mm downstream the jet orifice), the simulation time was around 15 h. Further downstream the jet leak, the model did not predict the results accurately. Moreover, the simulation time for 150 mm was about 13 h and the simulation time reduction about 2 h comparing with the time took using the modeling 100 mm. It means, when model is applied between the end of transition zone and beginning of the self-similar zone, the reduction time is small, since the jet centerline velocity decay is smooth in this region.
A simplified geometry of a platform was designed for visualization of the gas cloud
behavior from leaks in a module unit and to obtain data for a flammable volume calculation developed for FDS. Wind and computational domain study were performed, so their influence in the flammable volume calculation could be investigated. The sensitivity analysis led to optimal set up for the simulations. A set of monitor points was strategically placed in the platform in order to verify the development of the wind profile and the required time to steady state solution.
Different dispersion scenarios were investigated and reasonable results were achieved comparing FDS with ANSYS-CFX. In FDS, wind coming from back of the platform (North’s wind) generated biggest cloud, following by South’s wind. East and West’s wind created similar cloud size. This behavior among clouds size calculated by FDS was expected since this dispersion study is well known in risk assessment.
In order to verify the effect of the difference of the cloud size in the explosion modeling, partial second order equation for overpressure prediction was considered. Results considering 20% confident interval for a flammable cloud gives similar overpressure value. Which means, the overpressure range achieved by both codes could be use to estimate, approximately, the same damage.
Further research can be performed to complement/improve the results presented along this work. New findings can be useful when improving FDS. Some suggestions are described below:
•	Investigate the proposed model using several gas releases, different scenarios and also extend it to deal with liquid leak or jet fire, always verifying the simulation time reduction.
•	Investigate the jet radial velocity as well as parameters like shear rate tensor, kinetic energy and Reynolds stress.
•	Perform a complete dispersion analysis considering all possibles leak directions, wind directions after a well study of the real scenario and also considering a multicomponent release cases.
•	Investigate overpressure calculation from smallest flammable cloud values predicted
by FDS and ANSYS-CFX code. In the present work only the biggest clouds were investigated and discussed.
•	Verify the FDS possibility to deal with multiphase release in a dispersion case as well as implement in its source code.
•	Perform a detectors study in a dispersion case using FDS in order to minimize its quantities to detect all flammable possible cloud.
Bibliography
Chapter 15 - emission and dispersion. In S. Mannan, editor, Lees' Loss Prevention in the Process Industries (Fourth Edition), pages 752 - 1074. Butterworth-Heinemann, Oxford, fourth edition edition, 2012. 4.1
AMERICAN INSTITUTE OF CHEMICAL ENGINEERS AICHE. Guidelines for Chemical Process Quantitative risk Analysis. Wiley Interscience, 2000. (document), 3.3, 3.4
BBC. Bad management led to BP disaster. Available from: www.bbc.co.uk/news/world-us-canada-12124830, acess in: 15/11/2014,2011. 1
R.	Benintendi. Turbulent jet modelling for hazardous area classification. Journal of Loss Prevention in the Process Industries, v.23:p.373-378, 2010. (document), 3.3, 3.3.1, 4.1,
4.2,	4.1
A. D. Birch, D. R. Brown, M. G. Dodson, and F. Swaffield. The Structure and Concentration Decay of High Pressure Jets of Natural Gas. v.3:249-261, 1984. 3.3, 3.3.1, 4.1
A. D. Birch, D. J. Hughes, and F. Swaffield. Velocity Decay of High Pressure Jets. Combustion Science and Technology, v.52(1-3):161-171, 1987. (document), 3.3, 5.1.1,
5.1,5.1,5.1.1,5.1.2,5.7,5.8,5.10
J.	Casal. High aspect ratio orifice jet leaks within a production area of an offshore superstructure. Industrial Safety:Elsivier, 8, 2007. 3.2.1
S.	G. Chuech and G. M. Faethj. Structure of Turbulent Sonic Underexpanded Free Jets. v.27: 549-559, 1989. 3.3.1
C.	D. Cooper and F. C. Alley. Air pollution control: the design approach. Waveland Press Inc., (3), 2002. 3.2.1
M. G. Cora and Y. T. Hung. Air Dispersion Modelling: A Tool for Environmental Evaluation and Improvement. Quality Management - www.interscience.wiley.com, 2003. 3.2.1
P D’Abreton. Air Quality Modelling Best Practice Guidance for the Australian Alumina Industry. Queensland Environment consultants report prepared for Australian Aluminium Council, 2009. 3.2.1
A. Dejoan, J. L. Santiago, A. Pinelli, and A. Martilli. Comparison between LES and RANS computations for the study of contaminant dispersion in the MUST field experiment. Seventh Symposium on the Urban Environment, 2007. 3.3.1
T. D. Ferreira and S. S. Vianna. Developing a mathematical model for prediction of flammable gas cloud size based on CFD and response surface methodology. International Journal of Modeling and Simulation for the Petroleum Industry, 8:7-16, 2013. 3.3, 3.3.1,
5.1.2,	5.2.3
Folha.	4 die in an explosion duct at Petrobras.	Available from:
www1.folha.uol.br/fsp/cotidian/ff2409200824.html, acess in: 15/11/2014, 2008. 1
S.	E. Gant and M. J. Ivings. CFD modelling of low pressure jets for area classification. Prog. Aerospace Science, 2005. 3.3
M. Germano, U. Piomelli, P. Moin, and W. H. Cabot. A dynamic subgrid-scale eddy viscosity model. Phys. Fluids, A3:1760-1765, 1991. 2.3.3, 2.4.1
F. Henselwood and G. Phillips. A matrix-based risk assessment approach for addressing linear hazards such as pipelines. Journal of Loss Prevention in the Process Industries, v.19:433-441, 2006. 3.2.1
J.	O. Hinze. Turbulence. SMcGraw-Hill, 1959. 2.2
HEALTH SAFETY LABORATORY HSL. Guidance for NSD on the Assessment of CFD Simulations in Safety Cases. 1997. 4.1
HEALTH SAFETY LABORATORY HSL. Offshore Hydrocarbon Releases Statistics And Analysiss. 2001. 3.2.1
HEALTH SAFETY LABORATORY HSL. utstanding Safety Questions Concerning tha Analysis of Ventilation and Gas Dispersion in Gas Turbine Enclosures: Best Practice Guidelines for CFD, Fire and Explosion Group. 2003. 4.1
HEALTH SAFETY LABORATORY HSL. CFD Modelling of Low Pressure Jets for Area Classification, Fire and Explosion Group. 2005. 5.2
A. K. M. F. Hussain and Zaman K. B. M. Q. The preferred mode of the axisymmetric jet. Journal of Fluid Mechanics, (110), 1981. 3.1
X. Jiang and C. H. Lai. Numerical techniques for direct and large eddy simulations. Taylor and Francis/CRC Numerical Analysis and Scientific Computing, 2009. 2.1, 2.1, 2.3.3
M. Kataoka, H. Suguro, K. Degawa, I. Maruo, and Mihata. The effect of surface renewal on jet impingement heat transfer. International Journal of Heat and Mass Transfer, 30: 559-567, 1987. (document), 3.2
A. N. Kolmogorov. The local structure of turbulence in incompressible viscous fluid for very large Reynolds numbers. Dokl. Akad. Nauk. SSSR, 30:301-305, 1941. 2.2
F. P. Lees. Loss Prevention in the Process Industries: Hazard Identification, Assessment and Control, second edition. Elsiver, v.1, 1996. 3.2.1, 3.2.2, 3.2.2
M. Lesieur. Turbulence in Fluids: Fluid mechanics and its applications. Springer, 84:1-537, 2008. 2.2, 2.2
J.	M. McDonough. Introductory lectures on turbulence . Departaments of Mechanical Engineering and Mathematics, University of Kentucky, 2004. 2.2, 2.2
K.	McGrattan and S. Miles. Modeling enclosure fires using computational fluid dynamics (CFD). SFPE Handbook: chapter 3-8, 4 edition, 2008. (document), 2.7, 3.3.1
K.	McGrattan, S. Hostikka, R. McDermott, J. Floyd, C. Weinschenk, and Overholt K. Fire Dynamics Simulator, User’s Guide. NIST Special Publication, v.4, 2014a. 1, 1.1, 2.3.1,
3.3.1,	A.1
K.	McGrattan, S. Hostikka, R. McDermott, J. Floyd, C. Weinschenk, and K. Overholt. Fire Dynamics Simulator Technical Reference Guide, Configuration Management. NIST Specza/Pub/zcatzon, v.4, 2014b. (document), 2.10, 3.3.1
K.	McGrattan, S. Hostikka, R. McDermott, J. Floyd, C. Weinschenk, and K. Overholt. Fire dynamics simulator, technical reference guide, mathematical model. NIST Specz'al Pub/zcatzon, v.1, 2014c. 1, 1.1, 2.3.3, 2.3.3, 2.4, 2.4.1
K.	McGrattan, S. Hostikka, R. McDermott, J. Floyd, C. Weinschenk, and K. Overholt. Fire Dynamics Simulator, Technical Reference Guide, Verification. v.4, 2014d. 2.4
A. Michalke. Survey on jet instability theory. Prog. Aerospace Sczence, v.21:159-199, 1984.
3.1,	3.3.1
Y. Mouilleau and A. Champassith. CFD simulations of atmospheric gas dispersion using the Fire Dynamics Simulator (FDS). Journal of Loss Prevention zn the Process Industries, v.22:316-323, 2009. 3.3.1
M. N. Neshuku. Comparison of the performance of two atmospheric dispersion models (AERMOD and ADMS) for open pit mining sources of air pollution -University of Pretoria. 2012. 3.2.3
R. Pape and K. R. Mniszewsk. Computational Fluid Dynamics Methods of Calculationg Gas Dispersion in a Building or Ouside as a Result of Gas Leaks. Natural Gas and LP Coordination Conference and E.vhzbz/zon, 2005. 3.3.1
V.	S. Patankar. Numerical Heat Tranfer and Fluid Flow. Taylor &amp;amp; Francz's, 1980. 2.1, 2.4.1
O. Reynolds. On the dynamical theory of incompressible viscous fluids and the determination of the criterion. Philosophical Transactz'ons of the Royal Socz'ety of London, 186:122-164, 1894. 2.2
F. P. Ricou and D. B. Spalding. Measurements of entrainment by axisymmetrical turbulent jets. Journal of Fluz'd Mechanz'cs, (11):21-32, 1961. 4.1, 5.1.2.2
N.	L. Ryder, J. A. Sutula, C. F Schemel, A. J. Hamer, and Brunt V. V. Consequence modeling using the fire dynamics simulator. Journal of Hazardous Materials, v.115:149-154, 2004.
3.3.1
R.	Schiestel. Modeling and Simulation of Turbulent Flows. ISTE Ltd and John Wiley and Sons, pages 1-733, 2008. 2.2
P D. Smith and J. G. Hetherington. Blast and Ballistic Loading of Structures. Butterworth-Heinemann, 1994. (document), 5.7
F.	D. Tatiele. Developing a Mathematical Model for Prediction of Flammable Gas Cloud Size based on CFD and Response Surface Methodology. Dissertation presented to the Faculty of Chemical Engineering - Unicamp, 2014. 5.2.3
S.	M. Tauseef, D. Rashtchian, and S.A. Abbasi. Cfd-based simulation of dense gas dispersion in presence of obstacles. Journal of Loss Prevention in the Process Industries, 24(4):371 -376, 2011. ISSN 0950-4230. 3.2.4
G.	I. Taylor. Statistical Theory of Turbulence. Philosophical Transactions of the Royal Society of London, A151:421, 1935. 2.2
TNO. Methods for the calculation of physical effects due to releases of Hazadous materials (liquids and gases). Netherlands Organization for Applied Scientific Research - Yellow Book, 2005. 3.1
H.	k. Versteeg and W. Malalasekera. An introduction to Computational Fluid Dynamics: The finite volume method. Longman Scientific and Technical, v.1, 1995. (document), 2.1, 2.1,
2.1,	2.3.1, 2.3.2, 2.4.1, 2.4.1
S. S. V. Vianna and R. S. Cant. Explosion pressure prediction via polynomial mathematical correlation based on advanced CFD Modelling. Journal of Loss Prevention in the Process Industries, 25:81-89, 2012. (document), 5.2.3, 5.5, 5.6, 5.33
D.	Violato. 3D flow organization and dynamics in subsonic jets. Technische Universiteit Delft, Italy, 2013. (document), 3.1
T.	von Karman. Some remarks on the statistical theory of turbulence. Proc. 5th Int. Congr Appl. Mech., page 347, 1938. 2.2, 2.2
B. Vreman. An eddy-viscosity subgrid-scale model for turbulent shear flow: Algebraic theory and applications. Phys. Fluids, 10:3670-3681, 2004. 2.4.1
S.J. Wakes. High aspect ratio orifice jet leaks within a production area of an offshore superstructure. Third International Conference on CFD in the Minerals and Process Industries - Melbourne, 32, 2003. 3.1
Website. www.mathesongas.com/pdfs/products/Lower. acess in: 2014. (document), 3.2.1,
3.1
H. Wilkening and D. Baraldi. CFD modelling of accidental hydrogen release from pipelines. International Journal of Hydrogen Energy, 32:2206-2215, 2007. 3.1
Appendix A
Construction of the FDS file
The parameters to be modeled in FDS are declared, by hand or via BlenderFDS program, in a simple text file (input file) organized in namelist groups that describes the computational domain, boundary conditions, control parameters, and output data required by the user. The input file is saved with a name such as job_name.fds, where job_name is any character string that helps to identify the simulation. The most common namelist groups and parameters available in FDS are resumed below.
A.1 Namelist groups
•	Namelist HEAD
The namelist HEAD has two parameters named CHID and TITLE. CHID is a string with a maximum of 30 characters, and uses its name to designate the output files name. The TITLE is another string with a maximum of 60 characters to designate the simulation title [McGrattan et al., 2014a]. The examples of how the namelist HEAD group is used follows below.
&amp;amp;HEAD CHID=’vent01’, TITLE= ’Ventilation Scenario’/
•	Namelist TIME
The namelist TIME defines the duration of the simulation time and the initial time step used to advance the solution of the discretized equation. Generally, only the duration of the simulation is required on this line, via the parameter T_END. The default is 1s. For example, the following line will instruct FDS to run the simulation for 100 seconds.
&amp;amp;TIME TIME_END=100. /
If T_END is set to zero, only the set-up work is performed, allowing you to quickly check the geometry in Smokeview [McGrattan et al., 2014a].
•	Namelist MESH
All calculation in FDS is performed in a computational domain constituted of a rectangular grid named mesh. The namelist MESH define a computational domain and it has two mean parameters. The parameter XB defines the computational domain coordinates in x, y and z directions. The parameter IJK divide the computational domain in uniforms cells. The following line create a rectangular mesh of 10cm.
&amp;amp;MESH IJK=10,20,30 XB=0.0,1.0,0.0,2.0,0.0,3.0 /
The FDS mesh above is defined in the origin (0.0,0.0,0.0) and extended 1.0m in x direction, 2.0m in y direction and 3.0m in z direction [McGrattan et al., 2014a].
•	Namelist SURF
The boundary conditions on the surfaces of objects are defined by SURF namelist. The characteristics of each object is defined as the object type of the material, object temperature, emissivity, ignition temperature of a gas exit velocity, outlet temperature of a gas, among other possibilities [McGrattan et al., 2014a].The example below shows how to set a SURF namelist.
&amp;amp;SURF ID=’superf_ad’, ADIABATIC=.TRUE. /
Sets a surface named superf_ad which is adiabatic.
•	Namelist OBST
The namelist OBST has parameters to defines objects into the computational domain. Boundary conditions for each object declared may be defined using the parameter SURF_ID. SURF_ID parameter refers to a boundary condition defined in a namelist SURF to be applied to an object [McGrattan et al., 2014a]. The following line defines an object boundary conditions.
&amp;amp;SURF ID='superf_ad', ADIABATIC=.TRUE. /
&amp;amp;OBST XB=0.25,0.50,0.25,0.50,0.0,0.5, SURF_ID='superf_ad' /
The cubic object above has 0.25m in x direction, 0.25 in y direction and 0.5 in z direction, and adiabatic boundaries conditions.
• Namelist VENT
The vents are chosen in a similar manner to the obstructions, but denoting a plane abutting a solid surface. Two of the six coordinates must be the same to denote a plane. A VENT is used simply as a means of applying a particular boundary condition to a rectangular patch on a solid surface [McGrattan et al., 2014a]. For example, it is assumed that air is pushed out of or sucked into duct work within the wall. An example of vent is following below.
&amp;amp;OBST XB=0.25,0.50,0.25,0.50,0.0,0.5, SURF_ID='big_block'/
&amp;amp;VENT XB=0.25,0.50,0.25,0.50,0.5,0.5, SURF_ID='hot_patch' /
A hot surface is put on above a block.
Appendix B
Blender and BlenderFDS as an
Engineering Tool for Consequence Analysis
Based on CFD analysis for gas dispersion conducted during this work, a complete engineering procedure was defined for geometry model of a platform using basics Blender2.69 commands, set-up case using BlenderFDS3.0, simulation on FDS6.1.1 and postprocessing using Smokeview6.1.11.
Blender is a free and open source software, developed by Blender Foundation for modeling, animation, texturing, rendering, video editing and creating interactive 3D applications such as games, presentations and among others. To install blender go to www.blender.org/ , download it following the instructions for the respective operation system.
BlenderFDS is an open user interface for FDS working as an add-on (optional script that extends the functionality of a software) on Blender. Download BlenderFDS on www. blenderfds.org/ and follow the instructions to install as add-on on Blender.
B.1 Building the geometry on Blender
When start Blender it will appear a splash screen informing its version and recent opened file. Click in anywhere out of the splash screen to begin the job. It is important to always save the job before any modification, thus go to file &gt; save as (or press Shift Ctrl S).
Interaction:
Links
2.69.0
runknown
Blender 2.69
Donations
Proj_Plat.blend
Proj_Plat.blendl
Release Log
Proj_Plat.blend2
Manual
Recover Last Session
Blender Website
User Community
Python API Reference
I JE- z
Naughty 5 - feature film by Vivify Ind la
Figure B.1: Blender 2.69 Splash screen.

Transformations refer to a number of operations that can be performed on a selected object that alters its position, rotation, scales or characteristics. The basic transformations and of great important to BlenderFDS geometry includes moving, rotating and scaling. To modify these parameters go to object (1) &gt; transform (2) and type the desired value in x, y or z directions.
Figure B.2: Basics transformations to alter objects (location, rotation and scale).
After finish the transformation of one object, go to Add &gt; Mesh &gt; Cube to add a new object in the 3D view. See Figure B.3.
Figure B.3: Adding a new object in the 3D view.
Location and scales of 27 objects forming a simple platform are describe in Table B.1.
Objects	Location (m)			Scale (m)		
	x	y	z	x	y	z
Base1	0	0	0.25	8	8	0.25
Base2	4.375	0	0.75	8	3.625	0.75
Base3	3	0	0.75	5	8	0.75
Equip.1	-6	7	1.5	1	0.5	1.5
Equip.2	-6	5	1.5	1	0.5	1.5
Equip.3	-3	7	1.5	1	0.5	1.5
Equip.4	-3	5	1.5	1	0.5	1.5
Equip.5	-6	2	1.5	1	1	1.5
Equip.6	-5.5	-0.375	0.875	0.5	0.625	0.875
Equip.7	-5.5	-2.125	0.875	0.5	0.625	0.875
Equip.8	-5.5	-4.125	0.875	0.5	0.625	0.875
Equip.9	-3.5	-0.375	0.875	0.5	0.625	0.875
Equip.10	-3.5	-2.125	0.875	0.5	0.625	0.875
Equip.11	-3.5	-4.125	0.875	0.5	0.625	0.875
Equip.12	5	-6.625	1.25	2	0.375	1.25
Support1	0.75	4.625	1.5	1.25	2.875	1.5
Support2	0.75	-4.625	1.5	1.25	2.875	1.5
Tour1	0.75	4.625	3.5	0.5	1.625	3.5
Tour2	0.75	-3	3.5	0.5	0.5	3.5
Tour3	0.75	-5.25	3.5	0.5	0.5	3.5
Module	5.25	0.25	2	2.25	7.25	2
Tube1	5.625	4.68	5.5	4.375	0.5	0.5
Tube2	10.5	4.68	4.625	0.5	0.5	1.375
Tube3	9.25	4.68	3.75	1.75	0.5	0.5
Elevation	5.25	-4.125	2.25	1	1.625	2.25
Leak	-2.5	1.5	2.25	0.5	0.5	0.25
Vent	-2.5	1.5	2	0.45	0.45	0
Table B.1: Location and scales of the platform objects.
B.2 Setup case in BlenderFDS
After create all platform objects (finish the geometry model) it must be setup. As describe in Figure B.4, first step is to configure the FDS case, thus go to scene (1). There is available the BlenderFDS options. Go to BlenderFDS HEAD (2) type the file name and some
information to help you identify the case. In BlenderFDS TIME (3) choose the simulation duration, in this case 30s was chosen. Also in Figure B.4, namelists BlenderFDS DUMP, BlenderFDS MISC and BlenderFDS REAC will not be used in this example, but just checked their boxes to enable their parameters or click in the Free Text File icon folder (available in red box 2) to input the parameters by hand.
Figure B.4: Configuration of FDS file using BlenderFDS.
After click in a Free Text File icon folder, the Blender text editor will open up.
Describe the parameter freely as shown in Figure B.5. FDS will only recognize namelist and parameters between the character &amp;amp; /.
¿VENT ¿VENT ¿VENT ¿VENT
I
MB = MB = MB =
MB =
XMIN'	SURF	ID =
YMAX'	SURF	ID =
YMIN'	surf’	'id =
ZMAX'	surf’	'id =
'OPEN1/ BOUNDARY 'OPEN'/ BOUNDARY 'OPEN'/ BOUNDARY 'OPEN'/ BOUNDARY
ARE ARE ARE
ARE
OPEN OPEN OPEN
OPEN
ID-'WIND',VEL -2.0, SPEC_ID-'AIR',TMP_FR0NT-20,
1.0/ SURFACE SPECIFICATION
¿SURF
MASS FRACTION:1
¿VENT MB-'XMAX'. SURF_ID-'WIND1,
COLOR 'IVORY'/ WIND BOUNDARY IS SPECIFY WITH SURF WIND
¿SPEC ¿SPEC
ID-'AIR', BACKGROUND TRUE./ SPECIE DEFINITION
ID-'METHANE1, MASS FRACTION O-O.O, MW-16.0 / SPECIE
DEFINITION
¿SURF
MASS FRACTION:l}=1.0,
•.RAMP ¿■RAMP ¿■RAMP
■.RAMP
ID-'LEAK'.VEL 100, SPEC ID(1)='METHANE',
TMP FRONT-20, RAMP V-'BLOWER RAMP1/
ID-'BLOWER ID-'BLOWER ID-'BLOWER
ID-'BLOWER
RAMP'	. T- 0.0,	F-0.0	/ T MEANS
RAMP'	. T- 5.0,	F=0.5	/ T MEANS
RAMP'	. T- 20.0,	F-1.0	/ T MEANS
RAMP'	. T- 30.0,	F-1.0	/ T MEANS
TIME TIME
TIME TIME
AND AND
AND AND
SURFACE
F F F
F
MEANS MEANS MEANS MEANS
SPECIFICATION
VELOCITY(%):0 m/s
VELOCIT¥(%):5Q m/s
VELOCITY(%): 100 ffl/5
VELOCITY(%):100 m/S
¿SLCF
SPEC ID ■'METHANE
PBZ-2.5, QUANTITY-'MASS FRACTION',
'. VECTOR-.TRUE. / PERPENDICULAR
SLICE ON
2.5.
Z
&amp;amp;IS0F QUANTITY-'MASS FRACTION', VALUE(1)=0.03,
VALUEi2)=0.09, SPEC_ID-'METHANE'/ ISOSURFACE BETWEEN TWO VALUES.|
¿TAIL t
Figure B.5: Blender text editor with FDS namelist and parameters.
After writing the FDS namelist and parameters, just close the Blender text editor and click in Copy Properties to Scene (bottom below Free Text File). A dialog window will open up, Figure B.6. Click in the scene icon (named click here) and choose the scene you want to copy the properties written in the text editor.
Figure B.6: Adding Blender text editor information on FDS file through BlenderFDS.
Another important part on the setup case is to informs Blender objects to be recognize as FDS command. Thus, as Figure B.7 shows, select an Blender object (Base 1 is selected), go to object (1) &gt; Choose OBST (obstruction) (2) &gt; Click in BBox (3) and input the objects color as (4). This is the more simple way to define one object using BlenderFDS.
Figure B.7: Definition of the base 1 on BlenderFDS.
Use the same procedure above to defines others objects. Starts following Figure B.8
and B.9.
Figure B.8: Definition of the base 2 on BlenderFDS.
Figure B.9: Definition of the base 3 on BlenderFDS.
To define a surface to release some material, VENT namelist must be chosen. See Figure B.10 to specify this condition. Go to object (1) &gt; chose VENT (Boundary Condition Patch) (2) &gt; define as faces (3) &gt; inform extra characteristics (4). IOR= -3 means that the released will be in a negative direction of z (to the ground), SURF_ID=’LEAK’ gets information of the SURF ID=’LEAK’ declared in the Blender text editor and COLOR=’RED’ paint VENT with red color.
Figure B.10: Definition of the vent on BlenderFDS.
After specify all objects and boundary conditions (eg. VENT), add a new cube to represent the computational domain. In this example the computational domain size is 40m
in x, 40m in y and 10m in z. As shown in Figure B.11, select the new cube and go to object (1) &gt; select MESH (Domain of simulation) (2) &gt; check IJK and inform how you want to divide your domain (3) &gt; select BBox (4).
Figure B.11: Definition the base 3 on BlenderFDS.
When setup is finished go to File &gt; Export &gt; Fire Dynamics Simulator (.fds) to generate the FDS file, see Figure B.12. Specify the location to export the FDS file.
Figure B.12: Definition the base 3 on BlenderFDS.
B.3 Running FDS case and visualization on Smokeview
FDS can be run on a single computer, using one or more cores, or it can be run on multiple computers. The executable names are the same under the different operating systems (Windows, Linux, and Mac OS X) and sizes (32 and 64 bits). The single computer executable is called fds. The multiple computer executable is called fds_mpi. By default, FDS uses approximately half of the available cores on a single computer. To change the number of cores that are available for a given FDS simulation, you can set an environment variable called OMP_NUM_THREADS. For actual case we will based on Linux to run a FDS case on a single computer.
Open the terminal and go to the folder where FDS file was saved. Use one core typing export OMP_NUM_THREADS=1 or keep the FDS default. Thus, type fds job_name.fds to start FDS simulation. Figure B.13 shows a FDS case running on terminal using 4 threads.
elmo0elmo-POSITIVO-MOBILE:~/Platform_fds$ fds Flarmabl.eCl.oud .fds
4 threads available
Fire Dynamics Simulator
Compilation Date : Thu, 10 Jul 2014
Current Date : January 5, 2015	22:58:52
Version: FDS 6.1.1; MPI Disabled; OpenMP Enabled Number of available threads:	4
SVN Revision No. : 19882
Job TITLE
: Methane release tn a platform : FlammableCloud
Job ID string
Time	Step:	1,	Simulation	Time
Time	Step:	2,	Simulation	Time
Time	Step:	3,	Simulation	Time
Time	Step:	4,	Simulation	Time
Time	Step:	5,	Simulation	Time
Time	Step:	6,	Simulation	Time
Time	Step:	7,	Simulation	Time
Time	Step:	8,	Simulation	Time
Time	Step:	9,	Simulation	Time
Time	Step:	10,	Simulation	Time
Time	Step:	20.	Simulation	Time
0.05 s
0.10 s
0.15 s
0.20 s
0.25 s
0.30 s
0.35 s
0.40 s
0.45 s
0.50 s
1.00 s
Figure B.13: FDS case running on terminal.
During the simulation FDS will generate output files to be visualized in Smokeview.
Type smokeview job_name.smv in the command prompt to visualize the results. Figure B.14 and B.15 examples visualization using Smokeview.
Figure B.14: Results of FDS simulation visualized by Smokeview as slice.
Figure B.15: Results of FDS simulation visualized by Smokeview as slice vectors.
Appendix C
Set Up case in ANSYS-CFX
The principal properties, boundary conditions, initial conditions and numerical scheme to perform the dispersion analysis presented in this work were set in CFX pre processor, which is included in Flow Analysis 1 and Solver, as can be seen in Figure C.1. Figure C.1 shows the ANSYS-CFX workspace area where is defined different aspects of the physics setup.
Figure C.1: ANSYS-CFX workspace area.
Figure C.2 shows that analysis type was set as Steady State condition, since the wind profile and the flammable cloud is evaluate in a steady condition. Also, this analysis type is computationally faster than transient analysis.
Figure C.2: Analysis type option as steady state condition.
The Default Domain must be properly set up. The main modification from the default values is shown in Figure C.3.
Basic Settings | Fluid fr [y] Domain Initialization - jn Coord Frame Initial Conditions
Outline | Domain: Default Domain |	_______________________________________o
Details of Default Domain in Flow Analysis 1
Fluid Specific Initialization	B
OK I [ Apply | [ dose
Figure C.3: ANSYS-CFX workspace area
It is important to assigned each boundary conditions to each region defined in the geometry correctly and define model and characteristics of the domain. For this study four boundary conditions was set up (named AIR INLET, GROUND, LEAK, OUTLET, PLATFORM). AIR INLET was set as inlet to compute the are inlet 2.0m/s. OUTLET was set as opening condition, GROUND and PLATFORM were set as wall condition. LEAK was set as inlet to compute methane release. See Figure C.4, Figure C.5, Figure C.6, Figure C.7, Figure C.8 below.
Figure C.4: ANSYS-CFX workspace area for inlet set up.
Figure C.5: ANSYS-CFX workspace area for opening set up.
Figure C.6: ANSYS-CFX workspace area for wall set up.
Figure C.7: ANSYS-CFX workspace area for wall set up.
Figure C.8: ANSYS-CFX workspace area for inlet setup.</field>
	</doc>
</add>