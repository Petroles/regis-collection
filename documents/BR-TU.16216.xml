<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.16216</field>
		<field name="filename">22795_20837740.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">
 

 

CENTRO UNIVERSITÁRIO DE BRASÍLIA - UNICEUB 

FACULDADE DE TECNOLOGIA E CIÊNCIAS SOCIAIS APLICADAS – FATECS 

CURSO DE ENGENHARIA DA COMPUTAÇÃO 

 

 

 

 

VINÍCIU DO ESPÍRITO SANTO 

 

  

 

 

CONTROLADOR DE TEMPERATURA PARA MÁQUINA DE CAFÉ 

EXPRESSO COM ARDUINO  

 

 

 

 

 

 

 

Orientador: Prof.º. MSc. Francisco Javier De Obaldía Diaz 

 

Brasília  

2º SEMESTRE DE 2015 

VINÍCIU DO ESPÍRITO SANTO 



VINÍCIU DO ESPÍRITO SANTO 

 

 

 

 

CONTROLADOR DE TEMPERATURA PARA MÁQUINA DE CAFÉ 

EXPRESSO COM ARDUINO  

 

 

 

Trabalho de Conclusão de Curso apresentado à Banca 

examinadora do curso de Engenharia da Computação da 

FATECS – Faculdade de Tecnologia e Ciências Sociais 

Aplicadas – Centro Universitário de Brasília como 

requisito para obtenção do título de Engenheiro da 

Computação. 

 

Orientador: Prof.. MSc. Francisco Javier De Obaldía 

Diaz 

 

 

 

 

 

 

 

 

 

 

 



VINÍCIU DO ESPÍRITO SANTO 

 

CONTROLADOR DE TEMPERATURA PARA MÁQUINA DE CAFÉ 

EXPRESSO COM ARDUINO  

 

Trabalho de Conclusão de Curso apresentado à Banca 

examinadora do curso de Engenharia da Computação da 

FATECS – Faculdade de Tecnologia e Ciências Sociais 

Aplicadas – Centro Universitário de Brasília como 

requisito para obtenção do título de Engenheiro da 

Computação.  

Orientador: Prof.º. MSc. Francisco Javier De Obaldía Diaz 

 

BANCA EXAMINADORA 

 

_______________________________________________ 

Profº Dr. Abiézer Amarília Fernandes  

Coordenador do Curso 

 

 _______________________________________________ 

Profº Msc. Francisco Javier De Obaldía Diaz 

Orientador 

 

 _______________________________________________ 

Profª Dra. Ingrid Maria Dittert 

UniCeub 

 

_______________________________________________ 

Prof Msc. Luís Cláudio Lopes de Araújo 

UniCeub 

 

 

UniCeub 

Brasília  



AGRADECIMENTOS 

Agradeço, primeiramente, a Deus por todas as chances, oportunidades concedidas e 

dificuldades vencidas. 

À minha família pelo apoio, paciência, compreensão nesse momento e pela ajuda 

dada. Sem ela o projeto não seria realidade. 

À minha mãe, Wanessa de Melo Franco Silva, minha base, meu exemplo a seguir. 

Agradeço às dificuldades que ela suportou para que esse momento chegasse, sem ela isso não 

seria possível. 

À Mãe Ana, minha segunda mãe, também meu suporte e meu alicerce, sem ela esse 

projeto não seria possível 

À minha namorada, Sinara da Silveira Cemin, cujo apoio foi imprescindível à 

execução desse projeto. Sua companhia em todos os momentos, apoio e compreensão. 

Ao amigo, Guilherme Torres, pela ajuda nos momentos e contribuição dessa jornada. 

Ao professor Francisco Javier, pelo apoio, orientação e paciência, sempre 

incentivando nessa difícil caminhada. 

Aos demais amigos que me incentivaram nos momentos difíceis e, mesmo 

indiretamente, me ajudaram nesse projeto. 

Ao amigo, Dr. Luciano Coelho Milhomens Cemin, pela ajuda prestada no momento 

crítico, pela paciência pelos ensinamentos e pelo apoio nos momentos de fraqueza. 

 

 

  



Frase de efeito 

No fim tudo dá certo, e se não deu certo é porque ainda não chegou ao fim. 

Fernando Sabino 

  



SUMÁRIO 

 

AGRADECIMENTOS ............................................................................................................... 4 

LISTA DE FIGURAS ................................................................................................................ 8 

LISTA DE TABELAS ............................................................................................................. 10 

LISTA DE SÍMBOLOS E ABREVIATURAS ........................................................................ 11 

RESUMO ................................................................................................................................. 12 

ABSTRACT ............................................................................................................................. 13 

CAPÍTULO 1 – INTRODUÇÃO ............................................................................................. 14 

1.1 – Motivação e Apresentação do Problema ..................................................................... 14 

1.2 – Objetivo Geral do Projeto ............................................................................................ 16 

1.3 – Objetivos Específicos .................................................................................................. 16 

1.4 – Justificativa e Relevância do Tema ............................................................................. 16 

1.5 - Escopo do Trabalho ...................................................................................................... 17 

1.6 - Resultado do Trabalho ................................................................................................. 18 

1.7 – Estrutura do Trabalho .................................................................................................. 18 

CAPÍTULO 2 – REFERÊNCIAL TEÓRICO E BASES METODOLÓGICAS ...................... 20 

2.1 – Breve História do Café até sua Chegada ao Brasil ...................................................... 20 

2.2 – Produção e consumo do café no mundo e no Brasil .................................................... 21 

2.3 – Algumas formas de preparo do café ............................................................................ 22 

CAPÍTULO 3 – BASES METODOLÓGICAS PARA RESOLUÇÃO DO PROBLEMA ..... 26 

3.1 – Máquina de Café Expresso Manual, Semiautomáticas, Automáticas e 

Superautomáticas .................................................................................................................. 26 

3.2 – Máquina de Café expresso com Caldeira Única, Caldeira Dupla e Trocadoras de Calor ... 29 

3.3 – Outras partes importantes de uma máquina de café .................................................... 34 

3.4 – Arduino Uno ................................................................................................................ 36 

3.5 – Shields Arduino ........................................................................................................... 37 

3.6 – Termopar tipo K .......................................................................................................... 38 

3.7 – PID ............................................................................................................................... 39 

3.7.1 – Controlador proporcional ..................................................................................... 41 

3.7.2 – Controlador integral .............................................................................................. 42 

3.7.3 – Controlador derivativo .......................................................................................... 42 

3.7.4 – Controle proporcional, integral e derivativo - PID ............................................... 43 

3.7.5 – Ajuste do PID ....................................................................................................... 44 

3.8 – Display Oled I2C ......................................................................................................... 46 

CAPÍTULO 4 – MODELO PROPOSTO ................................................................................. 47 

4.1 – Instalação do Sensor Termopar Tipo K ....................................................................... 48 

4.2 – Termostatos e instalação do Relé ................................................................................ 49 

4.3 – Display Oled ................................................................................................................ 51 

4.4 – Instalação da Nanoshield ............................................................................................. 52 

4.5 – Algoritmo..................................................................................................................... 54 

4.6 – Ajuste do PID .............................................................................................................. 56 

CAPÍTULO 5 - APLICAÇÃO PRÁTICA DO MODELO PROPOSTO ................................. 58 



5.1 - Apresentação da área de Aplicação do modelo ............................................................ 58 

5.2 – Resultados da Aplicação do Projeto ............................................................................ 58 

5.2.1 – Resultados obtidos ................................................................................................ 58 

5.2.2 – Descrição Prática da Aplicação do Modelo .......................................................... 59 

5.2.3 – Implementação do PID ......................................................................................... 59 

5.2.4 – Resultados obtidos ................................................................................................ 65 

5.4 – Avaliação Global ......................................................................................................... 66 

CAPÍTULO 6 - CONCLUSÃO ................................................................................................ 67 

6.1 – Conclusões ................................................................................................................... 67 

6.2 – Sugestões para Trabalhos Futuros ............................................................................... 67 

REFERÊNCIAS BIBLIOGRÁFICAS ..................................................................................... 69 

APÊNDICE A – CÓDIGO DO PROGRAMA UTILIZADO .................................................. 71 

 



LISTA DE FIGURAS 

 

FIGURA 1.1 –MÁQUINA DE CAFÉ EXPRESSO CHEF CREMA DA ELETROLUX..................... 14 

FIGURA 1.2 –ECM CLASSIKA II................................................................................................................. 15 

FIGURA 1.3 –ESQUEMÁTICO PID ............................................................................................................. 17 

FIGURA 2.1 - CREMA ..................................................................................................................................... 23 

FIGURA 2.2 – COADOR TRADICIONAL E CAFETEIRA ELÉTRICA PARA COADO ................ 23 

FIGURA 2.3 – CAFETEIRA ITALIANA ..................................................................................................... 24 

FIGURA 2.4 – PRENSA FRANCESA .......................................................................................................... 24 

FIGURA 2.5 – CAFETEIRA EXPRESSO .................................................................................................... 25 

FIGURA 3.1 – LA PAVONI EUROPICCOLA EN ..................................................................................... 26 

FIGURA 3.2 –MÁQUINA DE CAFÉ EXPRESSO CHEF CREMA DA ELETROLUX..................... 27 

FIGURA 3.3 –MÁQUINA DE CAFÉ EXPRESSO NUOVA SIMONELLI MUSICA ........................ 28 

FIGURA 3.4 –MÁQUINA DE CAFÉ EXPRESSO JURA F50 CLASSIC ............................................. 28 

FIGURA 3.5 – CALDEIRA ............................................................................................................................. 29 

FIGURA 3.6 – CALDEIRA ÚNICA .............................................................................................................. 30 

FIGURA 3.7 – PERMUTADOR DE CALOR .............................................................................................. 31 

FIGURA 3.8– DUPLA CALDEIRA .............................................................................................................. 32 

FIGURA 3.9– CAFETEIRA DELONGHI EC2201 EXPRESSO .............................................................. 32 

FIGURA 3.10 – MÁQUINA DE CAFÉ EXPRESSO NUOVA SIMONELLI MUSICA ..................... 33 

FIGURA 3.11 – MÁQUINA DE CAFÉ EXPRESSO ROCKET R58 ...................................................... 33 

FIGURA 3.12 –FIAMMA MINIBAR ............................................................................................................ 34 

FIGURA 3.13 – EXEMPLO DE BOMBA .................................................................................................... 34 

FIGURA 3.14 – EXEMPLO DE PORTAFILTRO.......................................................................................35 

FIGURA 3.15 – EXEMPLOS DE FILTROS................. ............................................................................... 35 

FIGURA 3.16 – VISÃO DE UM GRUPO ..................................................................................................... 36 

FIGURA 3.17 – ARDUINO UNO .................................................................................................................. 37 

FIGURA 3.18 – NANOSHIELD TERMOPAR MAX31855 ....................................................................... 38 

FIGURA 3.19 – TERMOPAR TIPO K .......................................................................................................... 38 

FIGURA 3.20 –MALHA ABERTA ............................................................................................................... 39 

FIGURA 3.21 –MALHA FECHADA ............................................................................................................ 40 

FIGURA 3.21 – ELEMENTOS DE MALHA FECHADA.........................................................................40 

FIGURA 3.22 – DIAGRAMA DE BLOCOS DO CONTROLADOR DE GANHO 

PROPORCIONAL ............................................................................................................................................. 41 



FIGURA 3.23 – DIAGRAMA DE BLOCOS DO CONTROLADOR DE GANHO INTEGRAL. ..... 42 

FIGURA 3.24 – DIAGRAMA DE BLOCOS DO CONTROLADOR DE GANHO DERIVATIVO. 43 

FIGURA 3.25 – DIAGRAMA DE BLOCOS DO PID ................................................................................ 44 

FIGURA 3.26 – AÇÃO DO PID ..................................................................................................................... 44 

FIGURA 3.27 – FLUXOGRAMA DO MÉTODO DE AJUSTE GUESS AND CHECK. ..................... 45 

FIGURA 3.28 –DISPLAY OLED I2C ............................................................................................................. 46 

FIGURA 4.1 – ESQUEMÁTICO DO PROJETO ........................................................................................ 47 

FIGURA 4.2 – CALDEIRA COM O SENSOR INSTALADO ................................................................. 48 

FIGURA 4.3 – INDICAÇÃO DO TERMOSTATOS .................................................................................. 49 

FIGURA 4.4 – RELÉ DE ESTADO SÓLIDO- SSR DE 25A .................................................................... 50 

FIGURA 4.5 – RELÉ INSTALADO- SSR DE 25A .................................................................................... 50 

FIGURA 4.6 – CONEXÃO DO DISPLAY OLED I2C AO ARDUINO I2C ........................................... 51 

FIGURA 4.7 – OLED I2C CONECTADO AO ARDUINO ....................................................................... 51 

FIGURA 4.8 – LIGAÇÃO DO TERMOPAR AO ARDUINO .................................................................. 52 

FIGURA 4.9 – TERMOPAR CONECTADO AO ARDUINO .................................................................. 52 

FIGURA 4.10 – SHIELD E SENSOR ............................................................................................................. 53 

FIGURA 4.11 – VISÃO GERAL DO PROJETO COM SEUS COMPONENTES INSTALADOS ... 53 

FIGURA 4.12 – ESQUEMÁTICO DO PROJETO ...................................................................................... 54 

FIGURA 5.1 – DIAGRAMA DE BLOCOS DO CONTROLADOR PID ............................................... 59 

FIGURA 5.2 – RELAÇÃO VALOR DE KP X TEMPERATURA .......................................................... 60 

FIGURA 5.3 -  TEMPO DE AQUECIMENTO E RESFRIAMENTO EM FUNÇÃO DE KP ............ 61 

FIGURA 5.4 – RELAÇÃO VALOR DE KI X TEMPERATURA ........................................................... 62 

FIGURA 5.5 -  TEMPO DE AQUECIMENTO E RESFRIAMENTO EM FUNÇÃO DE KI ............. 63 

FIGURA 5.6 – RELAÇÃO VALOR DE KD X TEMPERATURA .......................................................... 64 

FIGURA 5.7 – TEMPO DE AQUECIMENTO E RESFRIAMENTO EM FUNÇÃO DE KD ............ 65 

 

  



LISTA DE TABELAS 

 

A TABELA 1 –DADOS COLETADOS DA CONSTANTE PROPORCIONAL - KP.. ...................... 60 

TABELA 2 –DADOS COLETADOS DA CONSTANTES INTEGRAL - KI .............................................. .62 

TABELA 3 – DADOS COLETADOS DA CONSTANTES DERIVATIVA - KD ................ 64 

TABELA 4 – CUSTO DO PROJETO .......................................................................................... 66 

 



LISTA DE SÍMBOLOS E ABREVIATURAS 

 

 

PV – Variável do Processo 

SP –Setpoint 

CV – Variável de Controle 

Kp – Constante integrativa 

Ki – Constante Integrativa 

Kd – Constante Derivativa 

P – Controlador Proporcional 

I – Controlador Integral 

D – Controlador Derivativo 

PID – Controlador Proporcional, integral e derivativo 

  



RESUMO 

 

Este projeto tem como objetivo fornecer uma forma mais barata e acessível aos 

usuários domésticos e baristas amadores que desejam ter, em sua máquina de café expresso, 

um controlador de temperatura, conhecido como PID, sem precisar, para isso, importar 

máquinas. Tendo em vista a dificuldade de se encontrar dentro do mercado brasileiro 

máquinas com PID de fábrica, foi construído um PID utilizando o Arduino Uno, nanoshield 

Termopar max31855, sensor de temperatura tipo K, relé de estado sólido – SSR e o display 

oled I2c. 

 

Palavras Chave: Cafeteira, Controlador de Temperatura, Automação, Café Expresso 

 

  



ABSTRACT 

 

This project aims to provide a cheaper and accessible solution to home users and 

amateur baristas who wish to have a temperature controller known as PID in your espresso 

machine, without the need of importing coffee makers that already have this factory resource. 

Thus, this project aims to build a temperature controller with parts and hardwares widely 

available in the domestic market and are cheap, consisting of one Arduino shield 

thermocouple max31855, thermocouple type K temperature sensor, solid state relay - SSR , 

OLED display, all those responsible for measuring and controlling temperature, and the 

espresso coffee machine itself, which will be the target monitoring and control. 

  



14 

 

CAPÍTULO 1 – INTRODUÇÃO 

 

 

1.1 – Motivação e Apresentação do Problema 

 

A motivação para a realização deste projeto se deu pela dificuldade encontrada pelos 

baristas amadores, pessoas apaixonadas por tudo relacionado ao café, em encontrar máquinas 

de qualidade no mercado nacional, com preço acessível, voltadas ao usuário doméstico e com 

o recurso de controlar a temperatura, chamado de controlador proporcional, integral e 

derivativo- PID. 

 O Brasil atualmente está passando por um período de turbulência econômica, 

apresentando uma alta considerada do dólar, cujo preço está variando constantemente, era 

2,2173, em 02/05/2014, sendo cotado na data deste projeto em 3,55 para compra (UOL, 2015). 

Adicionado ao preço das moedas estrangeiras, tem as altas taxas, aumentando 

consideravelmente o preço das cafeteiras.  

Além do exposto acima, tem o fato de não haver fabricante nacional que produza uma 

cafeteira já com essa função instalada, fazendo com que o barista amador fique refém das 

máquinas importadas. Dessa forma, caso um usuário doméstico queira importar uma máquina 

que já tenha um controlador de temperatura, PID (proporcional, integral derivativo), de 

fábrica, terá que desembolsar uma considerada quantia, tendo em vista o preço ser cotado em 

dólar ou em euro. A Figura 1.1 mostra um exemplo de uma máquina de café expresso 

produzida no país, sem o PID.  

 

FIGURA 1.1 –Máquina de café expresso Chef Crema da Eletrolux (Cafeteira Chef Crema 

Expresso Electrolux - CREMA. Em: &amp;lt;http://www3.fastshop.com.br/CAFETEIRA-CHEF-CREMA-

EXPRESSO-ELECTROLUX,product,EXCREMA,0.aspx) 



15 

 

A Figura 1.2 mostra uma máquina que já vem de fábrica com um PID: 

 

FIGURA 1.2 –ECM CLASSIKA II (Adaptado de ECM. Expresso Machines. Em: &amp;lt;

http://www.ecm.de/1/expresso-machines/ecm-home-line/single-boiler-expresso-machines/classika-ii/&gt;) 

O projeto visa criar uma solução ao usuário doméstico que queira ter em sua casa uma 

máquina capaz de controlar a temperatura de extração do café expresso, sem precisar importar 

uma máquina, usando as opções disponíveis no mercado nacional, reduzindo 

consideravelmente o seu gasto. Com isso, busca criar uma solução com PID que consiga 

controlar e manter a temperatura para que a mesma não varie muito e fique próxima daquela 

considerada ideal, sendo de 90 ºC, conforme a Associação Brasileira da Indústria do Café- 

ABIC (ABIC, 2015) 

Conforme esta associação, para se extrair um expresso perfeito, as máquinas de café 

devem operar com uma pressão constante de 9 bar e com a temperatura da água em 90 ºC 

(ABIC, 2015). Essa é a regra capaz de extrair do café todo o seu sabor. A temperatura da água 

é responsável pelo sabor e da qualidade da bebida extraída, sendo que, se for inferior à 

temperatura ideal, o expresso apresentará um gosto ácido desagradável; e, caso seja acima, o 

café apresentará um gosto queimado (BRESSANI, 2015). Assim é importante a máquina 

manter a temperatura controlada, para que não haja alteração do sabor. 

 

 

 

 



16 

 

1.2 – Objetivo Geral do Projeto 

 

O objetivo geral do projeto é construir uma solução doméstica, de menor custo com o 

uso de uma cafeteira, comprada no mercado nacional e que não possua um controlador de 

temperatura instalado de fábrica, adaptando a ela um controlador proporcional, integral e 

derivativo – PID, para produzir um café expresso de qualidade. 

Dessa forma, esse projeto tem como objetivo mostrar que existe uma solução mais 

barata, usando peças, hardwares, equipamentos, incluindo máquina de café expresso, todos 

encontrados dentro do mercado nacional e com o custo total menor, quando comparado com o 

preço de uma máquina importada. 

 

1.3 – Objetivos Específicos 

 

? Construir um controlador de temperatura – PID – capaz de controlar a temperatura 

de forma eficaz, mantendo-a próxima ao setpoint; 

? Construir um controlador de temperatura que permita ao usuário doméstico alterá-

lo a fim de melhor atender às suas necessidades. 

 

1.4 – Justificativa e Relevância do Tema 

 

Esse projeto nasceu pela dificuldade de se encontrar, dentro do mercado nacional, 

máquinas de café expresso fabricadas dentro do país, voltadas para baristas amadores, que já 

possuam a função de monitorar e controlar a temperatura de café, ou seja, já venham com PID 

instalado de fábrica. 

Hoje em dia, caso um barista amador queira ter em sua casa uma cafeteira que tenha 

PID instalado, deverá recorrer ao mercado internacional e importar uma máquina, fazendo 

que gaste uma quantia considerada, já que o preço será em moedas estrangeiras, geralmente 

em dólar ou euro. Assim, se faz necessário ter uma solução doméstica, acessível e mais 

barata, capaz de ser instalada em qualquer máquina de café expresso encontrada no mercado 

nacional. 

Essa solução será mais acessível devido as peças necessárias à construção do projeto 

serem facilmente encontradas dentro do nosso mercado, sendo fabricadas aqui inclusive. 



17 

 

Devido ao fato da maioria das peças serem fabricas aqui dentro do país e haver uma variedade 

de fornecedores, o custo do projeto, adicionado com o preço de uma cafeteira, também será 

muito mais barato comparando-se ao de uma cafeteira importada. 

 

1.5 - Escopo do Trabalho 

 

O projeto estará dividido em quatro partes 

Parte 1: A cafeteira que será alvo do PID e receberá o hardware responsável por 

controlar e monitorar a temperatura; 

Parte 2: O hardware de controle da temperatura, sendo constituído de um Arduino 

Uno, sensor de temperatura termopar tipo k, nanoshield termopar max31855 e relé de estado 

sólido-SSR; 

Parte 3: Algoritmo de programação em linguagem C/C++, responsável por integrar 

todos os componentes, sendo instalado no Arduino Uno e que será o responsável pelos 

comandos de monitorar e controlar a temperatura; 

Parte 4: Display oled I2c, responsável por mostrar a temperatura da caldeira e a 

variação desta, até chegar dentro daquela considerada ideal para o café expresso. A 

temperatura alvo será determinada em 91 ºC. 

Esquematicamente, o projeto será da seguinte forma mostrada na Figura 1.3: 

 

FIGURA 1.3 –Esquemático PID (MECATRÔNICA ATUAL. Controladores de temperatura. 

Disponível em: &amp;lt;http://www.mecatronicaatual.com.br/educacao/1507-controladores-de-temperatura-pid&gt;) 

Inicialmente será definido o sinal de referência, chamado de setpoint, o qual conterá a 

temperatura base de referência, para qual a temperatura controlada deverá se aproximar. O 

controlador será a nanoshield max31855, responsável por receber o sinal medido pelo sensor, 

o qual será no projeto o sensor termopar tipo K. O atuador será o controlador proporcional, 



18 

 

integral e derivativo, cuja função é receber a diferença entre o sinal de referência e a 

temperatura medida e exercer o controle sobre o resultado. O processo alvo será a cafeteira, 

cuja temperatura da caldeira será monitorada e controlada para que sua temperatura fique 

próxima do setpoint. 

Nos próximos capítulos esses termos serão mais explicados, de forma a facilitar o 

entendimento do projeto. 

 

1.6 – Resultado Esperado do Trabalho 

 

Controlar a temperatura de uma máquina de café expresso de forma eficiente, igual ao 

feito por máquinas que já possuam essa função de fábrica, por meio da construção de um PID, 

e com custo total do projeto mais barato comparando-se ao de uma cafeteira importada. 

 

1.7 – Estrutura do Trabalho 

 

O trabalho está estruturado da seguinte forma: 

1 Capítulo 1: No primeiro capítulo foi apresentada uma introdução do projeto e também os 

seus objetivos e as justificativas para a sua realização;  

2 Capítulo 2: nesse capítulo está descrito, de forma aprofundada, o cenário em que o 

projeto está incluído. É apresentado, em detalhes, tecnologias existentes, impacto e 

utilidade na sociedade, dados de movimentações financeiras da indústria relacionada ao 

projeto e visões gerais do mesmo, além de técnicas e formas diferentes de preparo da 

bebida;  

3 Capítulo 3: neste capítulo serão apresentados as bases metodológicas e conhecimentos 

necessários para execução do projeto. Serão apresentados, em detalhes, todos os 

dispositivos e componentes utilizados ao longo do projeto, essenciais para a compreensão 

do desenvolvimento do mesmo, sendo eles eletrônicos ou não, assim como as diferenças 

básicas entre os tipos de cafeteiras e seus componentes principais;  

4 Capítulo 4: é o capítulo no qual será mostrado como todo o corpo do projeto foi 

desenvolvido. Aqui é apresentado como foi feita toda a estrutura do projeto até a 



19 

 

implementação e configuração do arduino e todos os componentes do PID. Será mostrada 

também a forma de ajuste do controlador e os resultados obtidos; 

5 Capítulo 5: esse capítulo contém o esquema geral do projeto, com a explicação de seu 

funcionamento, bem como os testes do PID e discussão do alcance de seus objetivos e 

resultados; 

6 Capítulo 6: esse capítulo contém a conclusão do projeto, tendo como base os resultados 

alcançados e uma análise se atingiu o objetivo geral ou o específico. Neste capítulo 

também serão propostas melhorias para trabalhos futuros. 

  



20 

 

CAPÍTULO 2 – REFERÊNCIAL TEÓRICO E BASES METODOLÓGICAS 

 

 

2.1 – Breve História do Café até sua Chegada ao Brasil 

 

A origem do café tem duas vertentes, uma considerada lenda, embora amplamente 

divulgada, e outra com base em registros históricos. 

A Lenda de Kaldi (BRESSANI, 2015) narra a história de um monge que observava 

um pastor e seu rebanho de ovelhas e reparou que ambos estavam muito agitados. Curioso 

com o fato, resolveu observar de perto e notou algumas frutas vermelhas nas mãos do pastor. 

Este explicou-lhe que as mesmas davam mais energia a ele e às suas ovelhas, possibilitando-

lhes percorrer grandes distâncias, com subidas e descidas, fato este impossível sem o uso da 

fruta. O monge, dessa forma, intrigado com o fruto, resolveu levá-lo ao monastério e 

experimentá-lo, usando-o na forma de infusão, e percebeu que a bebida ajudava a resistir ao 

sono durante a meditação. 

Registros históricos, por sua vez, mostram a origem do café na Etiópia, no continente 

africano, onde até hoje faz parte da vegetação natural (ABIC, 2015), sendo levado para o 

Iêmen, no Oriente Médio, onde, consumido in natura, passa a ser cultivado (ABIC, 2015). 

Devido ao fato de ser estimulante, inicialmente comia-se somente o fruto sem 

qualquer tipo de preparo, o que dava aos pastores e a seus rebanhos a disposição de fazer com 

que percorressem grandes distâncias. Depois, o fruto passou a ser amassado e misturado com 

gordura vegetal, para ajudar no seu consumo. 

Os árabes, como foram os primeiros povos a consumir a bebida, inventaram os 

fundamentos de como beber o café, usados até hoje. Inicialmente, aproximadamente em 1000 

d.C., foi desenvolvido a forma de beber por meio da infusão dos frutos de café, a qual era 

feita com cereja. A Pérsia, atualmente conhecida como Irã (WIKIPÉDIA, 2015.), foi o 

primeiro país a torrar o grão, aproximando-se da bebida como é conhecida até hoje. 

O primeiro lugar público do mundo onde se poderia beber café foi criado em 

Constantinopla por volta de 1554. Em 1615, o fruto chegou ao continente europeu, trazido por 

viajantes. O sucesso foi imediato, abrindo várias cafeterias na Europa, em Londres, por volta 

de 1652, e, logo depois, a Procope, na França, no final do século XVII (BRESSANI, 2015) 

Os pés de café eram considerados como ouro, devido ao sucesso que faziam, sendo 

assim, os árabes possuíam pleno controle total sobre o cultivo e produção, defendendo os pés 



21 

 

de café com a vida.  A Holanda foi o primeiro país europeu a conseguir uma muda, por meio 

do contrabando, conseguindo contrabandear frutos secos para suas colônias (MINISTÉRIO 

DA AGRICULTURA, 2015) e começou a cultivá-la em estufas, seguido pela França. Com a 

demanda pela bebida aumentando, a expansão do cultivo do café foi levada às colônias desses 

países na África e no Novo Mundo, chegando ao Brasil, trazido da Guiana Francesa mais 

precisamente em 1727, entrando pelo Pará, encontrando aqui um clima favorável ao seu 

desenvolvimento (MINISTÉRIO DA AGRICULTURA, 2015). Um fato curioso é que as 

plantações de café, no nosso país, originaram-se de um único pé e, portanto, de uma mesma 

espécie, a Coffea Arábica L., café arábica. Um cafeeiro holandês deu início à plantação no 

Suriname, Guiana e no Brasil. Da mesma forma, um cafeeiro iniciou sua plantação em São 

Paulo, Minas Gerais e Rio de Janeiro. Em Jundiaí, uma muda deu início aos cafezais de 

Campinas e regiões adjacentes. 

 

2.2 – Produção e consumo do café no mundo e no Brasil 

 

O consumo mundial do café deve aumentar em 70 milhões de sacas até 2030, com um 

aumento de 1,5% ao ano, acompanhando o crescimento mundial (REVISTA GLOBO 

RURAL, 2015). A população, contudo, deve aumentar em torno de 0,5% ao ano, enquanto o 

consumo de café, nos próximos quinze anos, deve aumentar entre 2 e 2,5%. 

O Brasil é o maior exportador de café do mundo e o segundo maior consumidor 

(MINISTÉRIO DA AGRICULTURA, 2015). Em 2014, o Brasil foi responsável por 32% da 

produção mundial de café (CONSÓRCIO PESQUISA CAFÉ, 2015) O consumo interno, 

apesar de ter registrado uma retração de -1,23% no ano de 2013, no ano de 2014, houve uma 

recuperação, registrando um aumento de +1,24%, atingindo 20,333 milhões de sacas nos 

dozes, no período compreendido entre novembro de 2013 a outubro de 2014. O consumo per 

capita também registrou um aumento, atingindo a marca de 4,89 kg/habitante por ano, para o 

café torrado e moído e de 6,12kg para o café verde em grão. (ABIC, 2015). 

Conforme ABIC, o café é praticamente uma unanimidade, estando presente em quase 

todos os lares, mais precisamente em 98,2%, sendo que, cada casa tendo em média 3,4 

pessoas, destas, 2,8 bebem café. O café em pó é ainda o mais vendido, com 86,4% (ABIC, 

2015). 

Apesar de existirem diversas formas de se beber e preparar o café, a forma mais 

comum ainda é a do café filtrado, com 84% dos consumidores, e o período em que mais se 



22 

 

bebe sendo pela manhã, com 78%, seguido pela tarde, com 49%. Quando se fala em classe 

econômica, a classe A diversifica mais em relação ao preparo, buscando novas formas de 

consumir a bebida e diferentes tipos de máquinas de café. Essa classe também é a que mais 

bebe café expresso, com 72% (ABIC, 2015). O consumidor brasileiro está cada vez mais 

atento na qualidade do café. Antes ele somente bebia o café, agora está atento em outros 

fatores como aroma e o sabor que fica na boca. Dessa forma, os cafés tipos gourmets vêm 

ganhando força, já atingindo 37% dos consumidores, sendo a maior parte da classe A: 51%. 

Outro ponto que vale a pena ressaltar é o aumento dos consumidores dispostos a pagar mais 

por um café de qualidade, sendo de 44%. O local onde se bebe mais café continua sendo 

dentro de casa, sendo de 67% (ABIC, 2015). 

 

2.3 – Algumas formas de preparo do café 

 

O café era de grande importância para os árabes, passando a fazer parte do dia a dia, 

de tal forma que, em 1475, foi feita uma lei que permitia às mulheres pedirem divórcio caso 

seu marido as proibissem de beber café. Eles foram os primeiros a ter o hábito de beber o 

café, sendo que, inicialmente, a bebida era produzida deixando os grãos verdes de molho por 

vários dias. Depois passaram a ferver a água com os grãos verdes e, por fim, após o século 

XIV, desenvolveram a técnica de torrar o grão, aproximando a bebida de como ela é hoje. 

(BRESSANI 2015). 

Com a chegada do café à Europa, várias outras formas de produzir a bebida e as 

primeiras máquinas de café foram criadas. Em Veneza, beber café era um evento social, sendo 

que, as primeiras sacas obtidas foram deixadas pelos turcos após uma tentativa frustrada de 

invasão à cidade em 1687. Assim, surgiu o conhecido café vienense: café coado e adoçado 

com leite.  (ABIC, 2015). O costume de beber café espalhou-se por toda a Europa, surgindo 

várias cafeterias. 

Apesar de os árabes terem sido os primeiros a torrar o café, o expresso foi inventado 

na Europa. Os fundamentos da extração do expresso, vapor e pressão, foram inventados pelo 

francês Louis Bernard Rabaud em 1822. Os italianos, por sua vez, foram os responsáveis por 

aperfeiçoar a técnica e tornar o expresso um hábito. (BRESSANI, 2015) 

Luigi Bezzera, em 1901 inventou a primeira máquina profissional. No primeiro 

momento, as máquinas de café buscavam conciliar a estética à eficiência, sendo que, a única 

diferença entre as máquinas profissionais e as domésticas era o tamanho. Essas primeiras 



23 

 

máquinas eram difíceis de operar e caras, produzindo um café amargo. Francesco Illy, em 

1935, revolucionou criando a máquina que chamou de Illeta, com dosagem automática e com 

um jato de ar comprimido, substituindo, dessa forma, o vapor. A empresa Gaggia aperfeiçoou 

o desenho da máquina de expresso proposto por Bezzera, ao fazer com que a temperatura e a 

pressão fossem elementos independentes, assim, substituindo o pistão pelo vapor. Esses 

modelos dependiam somente do pó de café e da água fervente, proporcionando a obtenção de 

uma bebida mais pura, aromática e densa e com uma novidade, pela primeira vez obteve a 

crema, espuma que fica em cima da bebida na extração do expresso (BRESSANI, 2015). A 

Figura 2.1 mostra um expresso com a crema: 

 

FIGURA 2.1 - Crema (Adaptado de: The Coffee Brewers. Expresso: How can I tell if it's right? 

Em:&amp;lt;http://www.thecoffeebrewers.com/newtomaesfew.html) 

Por volta da década de 50 ocorreu outra inovação, a fabricante La Pavoni criou uma 

máquina de expresso com a caldeira horizontal, sendo seguida por todas as demais fabricantes 

posteriormente. 

A infusão, adição de água quente ao pó de café moído, originando a bebida, 

basicamente, ocorre através de quatro formas diferentes, a filtragem, a percolação, prensagem 

e a pressão (ABIC, 2015). 

Na filtragem, Figura 2.2, o pó de café é colocado dentro de um coador, de papel ou de 

pano, que fica dentro de um funil e esses ficam sobre um recipiente que irá recolher a bebida.  

 

 

FIGURA 2.2 – Coador tradicional e cafeteira elétrica para coado (ABIC. Tipos de Preparo. Em: 

&lt;http://www.abic.com.br/publique/cgi/cgilua.exe/sys/start.htm?sid=39#5&gt;) 



24 

 

Sobre o pó de café é despejada água quente, não fervente, produzindo, dessa forma a 

bebida. Essa é a forma mais comum de se beber o café no Brasil (ABIC, 2015).  

Na percolação, Figura 2.3, usa-se uma cafeteira conhecida como Moka, mais 

popularmente conhecida como italiana. Essa cafeteira, geralmente, fabricada de alumínio, em 

formato de decaedro, possui três partes: a parte inferior é onde se coloca a água, a parte do 

meio é uma peneira de metal, em formato de funil, onde se coloca o café moído e, por último, 

a parte de cima será a responsável por coletar a bebida. Uma vez colocada água na parte 

inferior e o café na peneira, essa cafeteira vai ao fogo. Assim, a água entrará em ebulição, 

passará pela peneira, gerando uma pequena pressão e produzirá a bebida. Essa é a forma mais 

utilizada na Europa. (ABIC, 2015)  

 

FIGURA 2.3 – Cafeteira Italiana (ABIC. Tipos de Preparo. Em: 

&lt;http://www.abic.com.br/publique/cgi/cgilua.exe/sys/start.htm?sid=39#5&gt;) 

O método de prensagem, Figura 2.4, consiste na utilização de uma cafeteira a qual 

geralmente possui as paredes de vidro. Nessa cafeteira, mistura-se o café moído com água 

quente não fervente. Deixa um tempo para se fazer a infusão e depois aperta um êmbolo, para 

separar o café moído da bebida. Esse método é mais conhecido como Prensa Francesa, sendo 

muito popular nos Estados Unidos (ABIC, 2015). A Figura 2.4 mostra um exemplo de Prensa 

Francesa. 

 

FIGURA 2.4 – Prensa Francesa (ABIC. Tipos de Preparo. Em: 

&lt;http://www.abic.com.br/publique/cgi/cgilua.exe/sys/start.htm?sid=39#5) 

O método de produzir café, Figura 2.5, por meio da pressão é conhecido como café 

expresso. Esse método foi criado pelos franceses e consiste na utilização de uma máquina que 

irá produzir pressão, através de uma caldeira cheia de água quente. Há um portafiltro, 



25 

 

recipiente onde se colocará o café moído, preferencialmente moído na hora, sobre o qual a 

água quente, não fervente, passará sobre pressão e por um determinado tempo. Esse é o 

método que consegue retirar todas as nuances do café. A Figura 2.5 mostra uma cafeteira 

expresso. 

 

FIGURA 2.5 – Cafeteira Expresso (ABIC. Tipos de Preparo. Em: 

&lt;http://www.abic.com.br/publique/cgi/cgilua.exe/sys/start.htm?sid=39#5&gt;) 

Dos aspectos abordados neste capítulo sobre os modos de preparo, sabor e consumo, 

destacam-se alguns que podem ser úteis na busca da obtenção de um café com excelência e 

com baixo custo. Com esse objetivo o próximo capítulo abordará as metodologias e tipos de 

máquinas, assim como os recursos necessários para a obtenção de um café de boa qualidade a 

baixo custo.  

 

 

  



26 

 

CAPÍTULO 3 – BASES METODOLÓGICAS PARA RESOLUÇÃO DO PROBLEMA 

 

 

As cafeteiras expresso podem oferecer ao usuário a possibilidade de fazer todo o 

processo de café, desde a moagem do grão até a extração do café, sendo totalmente 

independentes e automatizadas, deixando ao usuário somente a função de escolher a 

quantidade de expresso que deseja e apertar um botão. Outras máquinas, contudo, são menos 

automatizadas, precisando de mais participação do barista, controlando quase todo o processo 

para se extrair o expresso. A seguir serão listados os tipos e suas características básicas. 

 

3.1 – Máquina de Café Expresso Manual, Semiautomáticas, Automáticas e 

Superautomáticas  

 

As máquinas de café expresso manuais, Figura 3.1, são consideradas as que ainda 

apresentam a ideia de concepção original, destinadas a se retirar todo o potencial do café, 

operando com uma pressão em torno de 8 a 9 bar.  

 

FIGURA 3.1 – La Pavoni Europiccola EN (La Pavoni. Lever Machines. Em: &amp;lt;

http://eshop.lapavoni.com/en/lever-machines/europiccola-en.html&gt;) 

Essas máquinas são consideradas manuais pelo fato de não possuírem bomba interna 

para gerar a pressão necessária para a água passar pelo bolo de café no portafiltro, utilizando, 

para isso, o acionamento manual de uma alavanca. Algumas máquinas manuais não possuem 

a função de esquentar a máquina automaticamente, precisando o usuário colocar água quente 

antes da extração do café (VINCENZO, 2012). 

Nessa máquina, o usuário precisará de um moinho (moedor) de café para moer o café 

antes da extração ou comprar o café já moído para expresso, colocá-lo no portafiltro, 



27 

 

compactar o pó e acoplar o portafiltro na máquina para somente depois poder iniciar a 

extração do café. 

As máquinas de café expresso semiautomáticas, Figura 3.2, possuem bomba elétrica, 

aquecimento de água e controle de temperatura, todos automáticos, o usuário somente 

precisará acionar um botão para iniciar a extração e desligá-lo no final da extração, 

controlando, dessa forma, a quantidade de café expresso a ser produzido.  

 

FIGURA 3.2 –Máquina de café expresso Chef Crema da Eletrolux (Cafeteira Chef Crema 

Expresso Electrolux - CREMA. Em: &amp;lt;http://www3.fastshop.com.br/CAFETEIRA-CHEF-CREMA-

EXPRESSO-ELECTROLUX,product,EXCREMA,0.aspx&gt;) 

Igual ao que ocorre com as máquinas manuais, o usuário precisará de um moinho 

(moedor) de café para moer o café antes da extração ou comprá-lo já moído para expresso, 

colocá-lo no portafiltro, compactar o pó e acoplar o portafiltro na máquina para somente 

depois poder iniciar a extração do café. 

As máquinas automáticas, Figura 3.3, possuem muita similaridade com as 

semiautomáticas, ou seja, bomba elétrica, aquecimento de água e controle de temperatura, 

todos automáticos. A diferença está no fato de apresentarem botões de volume de café 

automáticos, geralmente para um expresso simples e outro duplo, com o volume de água já 

determinado e o barista somente precisará apertar o botão referente à quantidade que deseja. 

Algumas máquinas de café automáticas, além dos botões volumétricos, também apresentam 

um botão no qual o barista controlará a quantidade de café desejada, apertando para começar 

a extração e novamente quando chegar na quantidade desejada. 



28 

 

 

FIGURA 3.3 –Máquina de café expresso Nuova Simonelli Musica (Nuova Simonelli. Em: &amp;lt;

http://www.nuovadistribution.com/musica.html&gt;) 

Igual ao que ocorre com as máquinas citadas anteriormente neste capítulo, o usuário 

precisará de um moinho (moedor) de café para moer o café antes da extração ou comprá-lo já 

moído para expresso, colocá-lo no portafiltro, compactar o pó e acoplar o portafiltro na 

máquina para somente depois poder iniciar a extração do café (WIKIPEDIA, 2015). 

As máquinas de café superautomáticas, Figura 3.4, são as máquinas que fazem tudo, 

moem o grão de café, compactam e fazem o expresso, deixando ao usuário somente a função 

de apertar um botão para acioná-la. Algumas dessas máquinas dão à possibilidade ao usuário 

escolher a quantidade de café que será feita, ou seja, duplo ou simples, com botões 

volumétricos diferentes. Assim, essas máquinas de café já possuem um moinho interno de 

café, já compactam o pó e extraem o café (VINCENZO. 2012). 

 

FIGURA 3.4 –Máquina de café expresso Jura F50 Classic (Jura. Em: &amp;lt;

https://us.jura.com/en/homeproducts/machines/IMPRESSA-F50-Classic-UL-13684&gt;) 

 

 

 

 

 



29 

 

3.2 – Máquina de Café expresso com Caldeira Única, Caldeira Dupla e Trocadoras de Calor 

 

Antes de se explicar as diferenças entre máquinas de café quanto à sua caldeira, 

primeiramente, deve-se explicar o que vem a ser caldeira numa máquina de café expresso e 

sua importância no processo de extração do café. 

A caldeira é um cilindro de cobre, latão, aço inoxidável ou alumínio, cuja função é 

armazenar a água e esquentá-la a uma temperatura pré-determinada (GUIDE 2 COFFEE, 

2015). A água será aquecida por meio de uma resistência com o formato em espiral e situada 

na parte inferior da caldeira. 

A água será bombeada a partir do reservatório de água ou de uma conexão à rede 

hídrica para a caldeira, sendo aquecida. Uma válvula antirretorno evitará que ela volte, 

mantendo-a dentro da câmara (HOWSTUFFWORKS, 2015).  

A caldeira, portanto, é responsável por armazenar e aquecer a água que será usada na 

extração do expresso. Ela não ficará totalmente cheia de água, deixando um espaço para o 

vapor de água. Termostatos controlarão a temperatura da água, não deixando ultrapassar o 

limite determinado, sendo que, haverá um termostato destinado somente à extração do café 

expresso e outro para vaporização de leite, que requer temperatura mais elevada. 

A Figura 3.5 mostra um exemplo de uma caldeira. 

 

FIGURA 3.5 – Caldeira (Best Coffee Machines. Breville BES900XL Dual Boiler Semi Automatic Expresso 

Machine. Em: &amp;lt;http://www.best-coffee-machines.com/how-to-make-a-good-expresso/breville-bes900xl-

dual-boiler-semi-automatic-expresso-machine-2&gt;) 

As máquinas de café semiautomáticas e superautomáticas possuem muitas subclasses, 

sendo que, na verdade, todas elas podem ser agrupadas em três classes principais. 

Máquinas de café de caldeira única, do inglês single boiler, Figura 3.6, originalmente, 

eram destinadas a somente extrair o café expresso, não possuindo a função de vaporizar o 

leite e também a haste de vaporização, também conhecida como vaporizador ou capuccinador. 



30 

 

Esses modelos são mais raros, já que, hoje em dia, quase todas as máquinas oferecem a opção 

de vaporizar o leite (WIKIPEDIA, 2015). 

 

FIGURA 3.6 – Caldeira Única (Sage. the Oracle™. Em: &amp;lt;http://www.sageappliances.co.uk/the-

oracle.html&gt;) 

Atualmente, existem as máquinas de caldeira única de dupla função, do inglês single 

boiler, dual use, oferecendo a possibilidade de, além de fazer o café expresso, também 

vaporizar o leite, mas não ao mesmo tempo. Para isso, essas máquinas possuem termostatos 

destinados a controlar a temperatura de extração do café e outro destinado à vaporização do 

leite.  

Como a temperatura para extrair o café expresso é de 90 ºC e para vaporizar o leite 

sendo de 119 ºC (MUNDO ESTRANHO, 2015) e a máquina não consegue fazer essas duas 

operações ao mesmo tempo, para se alternar de uma para a outra, há a necessidade de um 

tempo de recuperação para chegar até a temperatura desejada.  

Após a extração de um café, para que a máquina possa vaporizar o leite, deverá 

aquecer a água, o que leva um tempo de espera. Agora, caso queira fazer café após a 

vaporização, será necessário esperar a temperatura diminuir até a considerada ideal para o 

expresso, pois, devida à temperatura de vaporização ser mais elevada, extrair o café sem 

deixar a temperatura diminuir, fará com que o café queime, alterando o gosto da bebida. 

Para se diminuir a temperatura após a vaporização, será necessário forçar a entrada de 

água nova dentro da caldeira, oriunda do reservatório de água ou da rede hídrica, conforme 

for o caso. Para isso, poderá acionar a máquina para que saia somente água do grupo de 

extração, sem o portafiltro conectado, ou através do braço de vapor, caso a máquina também 

possua a possibilidade de água quente. Com a entrada de água mais fria e a saída de água mais 

quente da caldeira, a temperatura total da água será diminuída.  

As máquinas de café com permutador de calor, do inglês heat exchanger, são 

máquinas com somente um boiler, contudo, diferentemente dos modelos citados 

anteriormente, conseguem extrair o café e vaporizar o leite ao mesmo tempo. 

Dentro das caldeiras dessas máquinas há o elemento denominado de permutador de 

calor, consistindo em um tubo ou tubulação, destinado somente à extração do expresso. 



31 

 

Dentro da caldeira, a água sempre será mantida na temperatura de vaporização do leite, em 

torno de 119 ºC. Assim, para extrair o café, a água não é retirada da caldeira, mas virá 

diretamente do reservatório de água ou da rede hídrica, conforme for o caso, e passará por 

dentro do permutador do calor. Como este está inserido dentro da caldeira, a água, ao passar 

dentro dele, será aquecida e atingirá a temperatura ideal para expresso (COFFEEGEEK.COM, 

2015). Os permutadores de calor são projetados de tal forma para que todo o trajeto de seu 

interior, por aonde a água deva percorrer, seja suficiente para aquecê-la até a temperatura 

ideal para expresso. A Figura 3.7 mostra um exemplo de uma caldeira com permutador de 

calor. 

 

FIGURA 3.7 – Permutador de Calor (Adaptado de: 1st-line Equipment. Heat Exchanger vs. 

Double Boiler. Em: &amp;lt;http://www.1st-line.com/store/pc/Heat-Exchanger-vs-Double-Boiler-d52.htm&gt;) 

Essas cafeteiras possuem um sensor de nível de água e sempre manterão a caldeira 

cheia e aquecida. Caso não se use a máquina por um período, a água parada dentro do 

permutador de calor ficará com a temperatura para vaporização. Dessa forma, quando for 

utilizar a máquina para se extrair um expresso e esta estiver parada sem uso por um tempo, 

recomenda-se fazer uma extração somente de água para que uma nova água, mais fria, possa 

passar pelo permutador de calor e ficar com temperatura ideal para o expresso 

(COFFEEGEEK.COM, 2015).  

As máquinas com caldeiras duplas são aquelas que possuem duas caldeiras, uma 

dedicada somente à extração do café e outra somente à vaporização do leite ou à extração de 

água quente. Nelas o usuário poderá determinar exatamente a pressão desejada para extração 

do expresso e sua temperatura, fato que não ocorre nos outros modelos. Nas permutadoras de 

calor, como basicamente são de caldeira única, uma vez modificada a pressão da caldeira, 

inevitavelmente alterará também a pressão da vaporização e da extração do expresso também 

(MILLARS, 2015). A Figura 3.8 mostra um exemplo de caldeira dupla. 



32 

 

 

FIGURA 3.8– Dupla Caldeira (1st-line Equipment. Heat Exchanger vs. Double Boiler. Em: &amp;lt;

http://www.1st-line.com/store/pc/Heat-Exchanger-vs-Double-Boiler-d52.htm&gt;) 

A questão principal nestas máquinas é o controle e a consistência, com a caldeira 

dupla não há necessidade de se esperar um tempo para extrair o café após a vaporização, 

devido à caldeira dedicada para cada operação. Há também a possibilidade de se controlar a 

temperatura ideal para cada tipo de café utilizado, com objetivo de se extrair o melhor de cada 

café em sua temperatura ideal. 

Os preços de cada máquina de café variam conforme as opções que oferecem. Assim, 

as mais baratas e facilmente encontradas dentro do nosso mercado são as máquinas 

semiautomáticas de caldeira simples de dupla utilização, como a máquina mostrada na Figura 

3.9. 

 

FIGURA 3.9– Cafeteira Delonghi EC2201 Expresso (Café Fácil. Cafeteira Expresso Delonghi EC 

220. Em: &amp;lt;http://www.cafefacil.com.br/cafeteiras-domesticas/expresso-para-po-e-sache/cafeteira-

expresso-delonghi-ec-220&gt;) 

Essa máquina, conforme consta no site pesquisado, estão em torno de R$ 422,10. As 

máquinas permutadoras de calor, Figura 3.10, não são fabricadas no território nacional, dessa 

forma, para se ter uma, somente por meio de importação. A máquina da Figura 3.10, como já 

mencionado, somente poderá ser encontrada fora do Brasil, sendo importada. 



33 

 

 

FIGURA 3.10 – Máquina de café expresso Nuova Simonelli Musica (Nuova. Em: &amp;lt;

http://www.nuovadistribution.com/musica.html&gt;) 

O preço delas está em torno de $ 1700, ficando suscetível à inconstante variação 

cambial e taxas de importação. (EBAY, 2015). Com o preço do dólar nessa data sendo de R$ 

3,97, numa conversão direta, sem as taxas de importação, essa máquina sairia no valor de R$ 

6.749 (UOL, 2015). 

As máquinas de caldeira dupla, Figura 3.11, também são encontradas somente fora do 

Brasil, não havendo fabricante de máquinas desse tipo, voltadas para usuários domésticos no 

mercado nacional. 

 

FIGURA 3.11 – Máquina de café expresso Rocket r58 (Ebay. Rocket Expresso R58 

Expressomaschine mit Dualboiler und PID System NEU &amp;amp; OVP. Em: &amp;lt;http://www.ebay.com/itm/Rocket-

Expresso-R58-Expressomaschine-mit-Dualboiler-und-PID-System-NEU-OVP-

/280908977339?hash=item41677ad4bb&gt;) 

Essa máquina da Figura 3.11 é importada e, no caso dela, o preço é dado em euros, 

também ficando suscetível à inconstante variação cambial e taxas de importação. O preço, na 

data da visualização do site, é de € 2.149 (EBAY, 2015). Tendo a cotação do euro nesta data 

sendo de R$ 4,45, uma conversão direta sem as taxas, essa máquina sairia no preço de R$ 

9563,05 (UOL,  2015). 



34 

 

A máquina a ser utilizada nesse projeto será uma Fiamma Minibar, Figura 3.12, 

semiautomática e de caldeira única, cujo preço de compra foi de R$ 600,00 na data de 02 de 

março de 2014. 

 

FIGURA 3.12 –Fiamma Minibar. Fonte: Autor 

Como o objetivo do projeto é fornecer um outro meio, mais barato, para que um 

barista amador, com orçamento mais restrito, possa ter em casa uma máquina comum, 

encontrada dentro do nosso mercado, com o PID construído por ele mesmo, uma máquina 

semiautomática e de caldeira simples é o tipo mais comum encontrado no mercado nacional. 

 

3.3 – Outras partes importantes de uma máquina de café 

 

A bomba, Figura 3.13, é responsável por retirar a água do reservatório de água ou da 

rede hídrica, conforme for o caso, e encher a caldeira, onde será aquecida, e também fornecer 

água sob pressão para a extração do café. 

 

FIGURA 3.13 – Exemplo de Bomba (Amazon. Rancilio Silvia Pump: Ulka EX5. Em: &amp;lt;

http://www.amazon.com/Rancilio-Silvia-Pump-Ulka-EX5/dp/B00B8KBVZE &gt;) 

Ela fornecerá a pressão ideal da água para extração do expresso 

(COFFEEGEEK.COM, 2015). 



35 

 

Os portafiltro, Figura 3.14, são dispositivos que guardam o filtro, onde ficará o pó de 

café moído, e será conectado à máquina de café no grupo. Possuem uma alça para serem 

manuseados e saídas para o líquido de café, podendo ser de um bico, dois bicos ou nenhum, 

cujo fundo será do próprio filtro. 

 

FIGURA 3.14 – Exemplo de Portafiltro ( ForoCoches. El hilo de los aficionados al café. Em: &amp;lt;

http://www.forocoches.com/foro/showthread.php?t=2223334&amp;amp;page=58 &gt;) 

O portafiltro é uma parte móvel, assim como o seu filtro, o qual será conectado dentro 

do dele. Vários portafiltro podem ser usados numa máquina, tendo em vista a dose de café 

almejada para extrair, simples ou duplo. Há também a possibilidade de se usar somente um, 

trocando assim o filtro conforme a dose do expresso desejada (COFFEEGEEK.COM, 2015).  

Os filtros, Figura 3.15, por sua vez, são uma espécie de peneira que receberá o pó de 

café para se extrair o café. Nele o pó de café será compactado, o filtro será inserido dentro do 

portafiltro e este será conectado à máquina de café (COFFEEGEEK.COM, 2015). 

 

FIGURA 3.15 – Exemplos de Filtros ( Home-Barista.com. Synesso Baskets - group buy!!. Em: 

&amp;lt;http://www.home-barista.com/expresso-machines/synesso-baskets-group-buy-t2303.html&gt;) 

Os filtros possuem na sua base vários furos, por aonde sairá o café durante a extração. 

Existe somente um filtro para cada dose de café pretendido, ou seja, um para simples, outro 

para duplo e um para triplo. 

O grupo de uma máquina de café, Figura 3.16, é o local onde será conectado o 

portafiltro e através do qual a água sairá e passará pelo café dentro do filtro. Os grupos fazem 



36 

 

parte da cafeteira, não são móveis como o portafiltro, alguns podem ser feitos de cobre, aço 

ou alumínio (COFFEEGEEK.COM, 2015). 

 

FIGURA 3.16 – Visão de um grupo (MaKing Expresso. “Miss” Rancilio Silvia Review”. Em: &amp;lt;

http://www.maKingexpresso.com/rancilio-silvia-html/ &gt;) 

Os grupos devem estar suficientemente aquecidos para a extração do café, influindo 

diretamente no resultado do café na xícara. Dessa forma, alguns grupos possuem dispositivos 

de aquecimento de forma ativa, outros são aquecidos pelo calor da caldeira, por meio de 

irradiação e contato entre os metais. 

A máquina escolhida para esse projeto é um modelo que possui elementos básicos a 

quase todas máquinas semiautomáticas e automáticas e que foram citados nesse subtítulo, 

dessa forma, contém o grupo, portafiltro, filtros e bomba elétrica. 

 

3.4 – Arduino Uno 

 

O arduino é um microcontrolador de prototipagem eletrônica, de hardware livre e de 

código aberto (ARDUINO, 2015). O hardware livre é um projeto de hardware aberto, 

possibilitando qualquer pessoa montar seu projeto, adaptá-lo e replicá-lo sem precisar solicitar 

permissão ao proprietário. Dessa forma, pode-se ter acesso a todo projeto básico, como o 

design dos circuitos, as comunicações entre eles e modificá-los e adaptá-los. Isso é o que 

possibilita o Arduino e qualquer pessoa poderá montar seu projeto conforme sua necessidade, 

tendo acesso a todo o projeto básico, desde os circuitos até a programação entre eles (CCSL, 

2015). Ele é considerado placa única já que todos os elementos eletrônicos para seu 

funcionamento estão numa mesma placa de circuito impresso (WIKIPÉDIA, 2015). Ele tem 

código aberto, já que disponibiliza seu código fonte, com base em C/C++, para que cada 

pessoa possa montar e programar seu projeto de acordo com suas necessidades.  

A versão do arduino utilizada nesse projeto será o Arduino Uno, como o da Figura 

3.17. 



37 

 

 

FIGURA 3.17 – Arduino Uno (Arduino - Projetos. Diferença entre Arduinos. Em: &amp;lt;

http://www.arduino-projetos.com.br/2012/10/diferenca-entre-arduinos.html &gt;) 

Como todos os demais modelos de arduino, ele possui 14 pinos digitais, os pinos de 0 

a 13 na figura, sendo 6 destes com a possibilidade de serem programados para fornecer uma 

saída PWM, modulação por largura de banda, e 6 entradas analógicas, na figura pino A0 a A5. 

Também será controlado por um microprocessador ATmel AVR, mas nele, a versão do 

microprocessador será o ATmega8U2, com o conversor USB para serial, e sua tensão 

integrada será de 3,3V, sendo esta mais confiável, ajudando nas proteções de estabilidade, 

fato este que não ocorria nas versões anterior , também possui tensão de 5V (EVANS; 

NOBLE; HOCHENBAUM, 2015).  

 

3.5 – Shields Arduino 

 

Shields são placas de hardware que, conectadas ao arduino, conferem novas funções, 

ampliando as suas capacidades. Essas placas, às vezes, possuem conectores próprios, 

permitindo a conexão de outras Shields, empilhando umas sobre as outras (EVANS; NOBLE; 

HOCHENBAUM, 2015). 

De forma, caso queira executar determina função, em alguns casos, há a necessidade 

de se conectar uma shield própria, a qual irá ampliar a capacidade do arduino. Essas Shields 

podem precisar de uma biblioteca própria a ser adicionada na programação, sendo que todas 

as bibliotecas necessárias são disponibilizadas pelo fabricante. Nesse projeto será usado o 

Nanoshield Termopar Tipo K Max31855, Figura 3.18. 



38 

 

 

FIGURA 3.18 – Nanoshield Termopar Max31855 (Circuitar. Termopar. Disponível em: &amp;lt;

https://www.circuitar.com.br/nanoshields/modulos/termopar/&gt;) 

Esse shield permite medir temperaturas de -270º C até 1800º C a partir de um sensor 

de temperatura termopar tipo k ou J que, no caso desse projeto, será um sensor termopar tipo 

K. Esse shield será o amplificador do sinal emitido pelo sensor de temperatura, possuindo 

todo os elementos para se medir temperatura, como, por exemplo, sensor interno de 

temperatura, chamado de junção de fria, amplificador e conversor analógico-digital, os quais 

permitem que a temperatura já seja dada em graus célsius, com uma resolução de 0,25ºC 

(Circuitar, 2015). 

 

 3.6 – Termopar tipo K 

 

Os termopares são sensores de temperatura, formado por dois metais diferentes, 

unidos geralmente por solda, cuja função é fornecer a temperatura e precisam de um 

amplificador para que esta possa ser lida (CIRCUITAR, 2015). A Figura 3.19 contém um 

exemplo de termopar tipo K. 

 

FIGURA 3.19 – Termopar Tipo K (HIKARI. Termopar HK-P01. Disponível em: &amp;lt;

http://www.hikariferramentas.com.br/produtos/?ip=5&amp;amp;Termopar%20HK-P01&gt;) 

O termopar tipo K (soquete tipo K) aceita uma faixa de temperatura entre -50º C até 

400º C, cuja precisão é de 0,75%, com aplicação universal. Esse é o tipo de termopar utilizado 

no projeto. 



39 

 

3.7 – PID 

 

O controle PID, proporcional, integral e derivativo é a junção de três tipos de controle, 

o proporcional, o integral e o derivativo. Antes de explicar esse controle, há a necessidade de 

se falar em alguns elementos básicos importantes a seguir. 

O controle de um sistema, denominada de ação de controle, consiste no ato de analisar 

uma saída de um determinado processo, a qual pode ser, dentre outros, a pressão, a vazão ou a 

temperatura, compará-la com um valor desejado e produzir uma ação, um sinal de controle, 

cujo objetivo é reduzir a zero ou diminuir ao máximo a diferença entre elas (OGATA, 2000). 

O processo, assim, tende a analisar, controlar e corrigir um processo com o fim de deixar a 

sua saída dentro de uma determinada faixa ou reduzir a diferença entre o valor medido e valor 

desejado. 

A ação de controle, contudo, poderá ocorrer em dois tipos de sistemas de malhas, o de 

malha aberta e o de malha fechada. A ação de controle em sistema de malha aberta, Figura 

3.20, não possui feedback, retroalimentação. 

 

FIGURA 3.20 –Malha Aberta (MECATRÔNICA ATUAL. Controladores de temperatura. 

Disponível em: &amp;lt;http://www.mecatronicaatual.com.br/educacao/1507-controladores-de-temperatura-pid&gt;) 

Na figura, observa-se a ausência de retroalimentação do sistema, ou seja, não há 

comparação do sinal da saída com o desejável. Nessa figura, o SP é denominado de setpoint, 

valor desejado para o sistema e que servirá como referência no controle; PV é denominado de 

variável do processo, valor ou variável medido no sistema o qual se deseja estabilizar e 

variável de controle – CV - é o objeto que vai sofrer a ação do controlador para que a variável 

do processo fique dentro do valor desejado ou se aproxime deste (MECATRÔNICA ATUAL, 

2015). 

A malha fechada, Figura 3.21, por sua vez, já possui a retroalimentação, com a saída 

servindo de parâmetro de análise do sistema, comparando-a com o valor desejado e, caso haja 

necessidade, irá resultar numa ação do controlador. Nele, o controlador será dependente do 

sinal da saída do sistema. 

 



40 

 

 

FIGURA 3.21 –Malha Fechada (MECATRÔNICA ATUAL. Controladores de temperatura. 

Disponível em: &amp;lt;http://www.mecatronicaatual.com.br/educacao/1507-controladores-de-temperatura-pid&gt;) 

Na figura, observa-se a retroalimentação, com o sinal da saída servindo como um dos 

elementos de entrada para calcular o erro, este, na figura, representado pela letra E. Dessa 

forma, o erro será calculado pela diferença entre o setpoint e a variável do processo, ou seja,  

E = SP - PV (MECATRÔNICA ATUAL, 2015). Vale a pena ressaltar que, em toda malha 

fechada, no primeiro momento, quando o sistema é ligado, não há a variável do processo. 

Um sistema de controle de malha fechada possui alguns elementos essenciais a serem 

discutidos, tais como o controlador automático, atuador e sensor. A Figura 3.21 contém um 

exemplo de malha fechada com seus elementos essenciais. 

 

FIGURA 3.21 – Elementos de Malha Fechada. (OGATA, 2000 Adaptado) 

 O controlador possui a função de detectar o sinal de saída do sistema, também 

chamado de sinal de erro, e amplifica-lo até determinado nível capaz de ser lido pelo atuador. 

Dessa forma, ele receberá um sinal com baixo nível de potência e o amplificará para que seja 

lido pelo atuador. 

O atuador, alimentado pelo controlador, será o elemento responsável em produzir um 

sinal destinado a agir sobre o sistema, para produzir um sinal de retroação com valor igual ou 

bem próximo do valor de referência. 

O sensor, também denominado de elemento de medição, é responsável em converter o 

sinal de saída em outra unidade para que possa ser usado e comparado com o elemento de 

referência. O sensor, dessa forma, ficará na retroalimentação do sistema de malha fechada. 

O tipo de controle a ser aplicado no projeto é o de malha fechada com a entrada sendo 

setpoint, a saída será o sinal produzido pela atuação do controlador e o sinal de erro será 



41 

 

calculado da diferença entre o sinal de referência ou setpoint e a temperatura medida.. 

Maiores detalhes sobre a aplicação serão vistos nos próximos capítulos. 

 

3.7.1 – Controlador proporcional 

 

O controle proporcional depende somente da diferença entre o setpoint e a variável do 

processo. Seja u(t) o sinal de saída, e(t) o sinal de erro atuante, ambos em relação ao tempo, e 

Kp a constante de proporcionalidade ou ganho proporcional, o controle proporcional é dado 

por: 

              (

1) 

A Figura 3.22 mostra o diagrama de blocos para este controlador: 

 

FIGURA 3.22 – Diagrama de blocos do controlador de ganho proporcional. Fonte: Autor. 

Esse controlador produz na saída um sinal cujo valor é proporcional ao erro. Na 

prática, um aumento no ganho proporcional resultará numa melhora no tempo de resposta do 

sistema, ou seja, determina a taxa de resposta de saída para o sinal de erro, atuando como um 

amplificador (NATIONAL INSTRUMENTS, 2015).  

Um aumento no ganho proporcional irá fazer com que a resposta do sistema de 

controle seja mais rápida, contudo, um aumento muito grande, tornará o sistema muito 

instável e oscilante, inclusive, podendo ficar fora de controle. Agora se for muito pequeno, 

menor será seu tempo de resposta (NATIONAL INSTRUMENTS, 2015). 

 

 

 

 



42 

 

3.7.2 – Controlador integral 

 

O controle integral adiciona o termo de erro ao longo do tempo e o multiplica pela 

constante   , ou seja 

     

  
        

(

2) 

ou 

       ?       
 

 

 
(

3) 

A Figura 3.23 mostra o diagrama de blocos para este controlador: 

 

FIGURA 3.23 – Diagrama de blocos do controlador de ganho integral. Fonte: Autor. 

Da fórmula percebe-se que, se aumentar o valor de    em três vezes, a saída u(t) será 

triplicada. Pelo fato de ir somando ao longo do tempo todos os erros, o controle integrativo 

fará com que a integral vá aumentando de forma lenta, acelerando o processo até o setpoint, 

eliminando o erro na função anterior. Se o erro for zero, a função permanecerá estacionária 

(NATIONAL INSTRUMENTS, 2015). 

Agora, pelo fato de a função adicionar os erros anteriores, isso poderá fazer com que o 

controlador ultrapasse o ponto desejado, fato este denominado como overshoot (Laboratório 

de Garagem, 2015). O controle integrativo também é denominado com função de reset ou de 

reestabelecimento. 

 

3.7.3 – Controlador derivativo 

 

 A derivada de resposta é proporcional à variação da variável do processo – PV -, ou 

seja: 



43 

 

         
     

  
 

(

4) 

A Figura 3.24 mostra o diagrama de blocos para este controlador: 

 

FIGURA 3.24 – Diagrama de blocos do controlador de ganho derivativo. Fonte: Autor. 

Esse controlador servirá para retardar a variação do sinal de saída, diminuindo a saída 

à medida em que a variável do processo estiver aumentando rapidamente e, 

consequentemente, diminuirá o overshoot do controlador integral. Aumentando   , 

consequentemente, fará com que o sistema tenha uma resposta mais forte em relação ao erro 

e, dessa forma, aumentará o tempo de resposta total do sistema. O controle derivativo é muito 

sensível ao possível ruído existente na saída do sistema, de tal forma que, caso exista muito 

ruído, o sistema de controle poderá vir a ficar muito instável (NATIONAL INSTRUMENTS, 

2015). 

 

3.7.4 – Controle proporcional, integral e derivativo - PID 

 

O controle proporcional, integral e derivativo é a soma dos controles proporcional, 

integral e derivativo, agregando todos os benefícios de cada um dos controles e eliminando as 

suas desvantagens. O PID é representado pela seguinte equação: 

              ?            
     

  

 

 

 
(

8) 

Onde    representa o ganho proporcional,    a constante derivativa e    a constante 

integral (OGATA, 2000). 

A Figura 3.25 mostra o diagrama de blocos para este controlador: 



44 

 

 

FIGURA 3.25 – Diagrama de blocos do PID. Fonte: Autor. 

A Figura 3.26 contém um diagrama esboçando a ação do controlador proporcional, 

integral e derivativo – PID 

 

FIGURA 3.26 – Ação do PID. (OGATA, 2000 Adaptado) 

No controlador PID, ao se unir os 3 tipos de controles, agrega-se o controle básico do 

controle proporcional, com a eliminação do erro do controle integrativo e com a eliminação 

das oscilações do controle derivativo (NATIONAL INSTRUMENTS, 2015). 

 

3.7.5 – Ajuste do PID 

 

Ajustar o PID significa determinar valores dos controles proporcional, integral e 

derivativo, de forma que a resposta do sistema se aproxime do setpoint. Atualmente existem 

vários métodos de ajuste, contudo, nesse projeto, será utilizado o método tentativa e erro, 

guess and check (NATIONAL INSTRUMENTS, 2015).  



45 

 

Esse método tem como objetivo encontrar os valores das constantes proporcional, 

integral e derivativa que resultam na temperatura máxima e mínima mais perto do setpoint, 

através de testes de valores. Para isso, o processo de ajuste se baseia no seguinte 

procedimento:  inicialmente, as constantes integral e derivativa são definidas em zero e 

somente a constante proporcional será alterada, tendo o valor 1 como inicial. Para cada 

constante será anotado o valor da temperatura máxima e mínima e altera-se o seu valor até 

encontrar o valor ideal, tendo como base o efeito da variação sobre o sistema. A Figura 3.27 

ilustra a ideia geral desse método de ajuste: 

 

FIGURA 3.27 – Fluxograma do método de ajuste guess and check. (Fonte: Autor) 

Assim, a Figura 3.27 ilustra a ideia geral do método de ajuste. Inicialmente, para cada 

constante, o valor inicial será 1 e serão obtidos os valores das temperaturas máxima e mínima. 

Se esses valores não forem os ideais, os mais próximos do setpoint, será definido um outro 

valor de teste para a constante e o processo será repetido até se encontrar o valor da constante 

que apresente os melhores resultados. Uma vez definido o valor, passa-se a testar valores para 

a  constante integral, já com o valor da constante proporcional definido, e, por último, serão 

testados valores para a constante derivativa, com os valores das demais constantes já 

definidos. 

Esse será o método utilizado para ajustar o PID neste projeto. 

 

 

 



46 

 

3.8 – Display Oled I2C 

 

O display Oled I2C, Figura 3.28, é um display pequeno, a sua tela possui as dimensões 

de 0.96 polegadas e com resolução de 128x64 pixels.  

 

FIGURA 3.28 –Display Oled I2C (Ebay. 0,96 "I2C IIC SPI série 128 X 64 LED LCD LED Display 

módulo para Arduino branco. Em: &amp;lt;http://www.ebay.com/itm/0-96-I2C-IIC-SPI-Serial-128X64-OLED-

LCD-LED-Display-Module-for-Arduino-white-/181287662115&gt;) 

Esse display foi o escolhido para ser usado nesse projeto devido ao fato do seu 

tamanho, apresentar uma imagem com boa qualidade e nitidez e, apresenta uma boa economia 

de energia, já que não precisa de uma luz traseira, o próprio material brilha ao ser estimulado 

por uma luz, resultando, assim, numa economia de energia. 

Tendo em vista os aspectos abordados neste capítulo, como a característica e função 

de cada componente utilizado no projeto, assim como a abordagem teórica sobre o PID, a 

função de cada controlador e o método de ajuste, o próximo capítulo abordará a montagem do 

projeto, com a instalação de seus componentes, e o desenvolvimento do algoritmo de controle 

do PID. 

  



47 

 

CAPÍTULO 4 – MODELO PROPOSTO 

 

 

Neste capítulo será proposto o modelo de resolução do problema, utilizando os 

componentes, conhecimentos e teorias propostos anteriormente, de forma a alcançar o 

objetivo almejado. A seguir serão mostrados todos os passos para que se consiga construir e 

instalar o PID. 

O seguinte modelo, Figura 4.1, mostra, de forma geral, o esquemático de como o 

projeto será montado, com a cafeteira recebendo o sensor tipo K e o relé. O arduino receberá a 

nanoshield max31855, o display e acionará e desligará o relé. Esse microcontrolador será o 

responsável por analisar os dados e exercer a função de controle e estabilizar a temperatura. 

 

FIGURA 4.1 – Esquemático do projeto (Fonte: Autor) 

A montagem do projeto foi dividida em 4 etapas a seguir: 

Parte 1: Escolha do melhor local onde será instalado o sensor de temperatura; 

Parte 2: Instalação do relé, o qual, ao ser ligado e desligado, irá aquecer ou resfriar a 

caldeira; 

Parte 3: instalação dos hardwares no arduino, instalação da nanoshield, relé e display 

oled; 

Parte 4: Algoritmo de programação em linguagem C/C++, responsável por integrar 

todos os componentes, sendo instalado no Arduino Uno e que será o responsável pelos 

comandos de monitorar e controlar a temperatura; 

Parte 5: Display oled I2c, responsável por mostrar a temperatura da caldeira e a 

variação desta, até chegar dentro daquela considerada ideal para o café expresso. A 

temperatura alvo será definida em 91 ºC. 



48 

 

 

4.1 – Instalação do Sensor Termopar Tipo K 

 

Inicialmente buscou-se encontrar o local ideal onde poderia ser instalado o sensor de 

forma que pudesse medir a temperatura de forma mais precisa, sem que houvesse perda de 

calor por dissipação. A escolha do melhor local onde se instalará o sensor é crucial, já que, 

dependendo da posição, poderá medir uma temperatura diferente daquela da caldeira. 

Recomenda-se, por isso, instalar o sensor de temperatura sempre na caldeira, evitando-se 

diferença no valor da temperatura medido. 

A cafeteira objeto desse projeto possui somente uma caldeira, a qual é responsável por 

todas as operações. Nela há um local ideal para se colocar a ponta de medição do sensor, 

conforme mostra a Figura 4.2 já com o sensor instalado. 

 

FIGURA 4.2 – Caldeira com o sensor instalado (Fonte: Autor) 

Na caldeira, a água será aquecida conforme a temperatura para a operação desejada. 

Com o tempo, a caldeira já quente passa a irradiar calor e todos os componentes em torno dela 

também ficam aquecidos, contudo, devido à distância e o material utilizado, caso o sensor 

tivesse sido colocado em outro local distante ou em outro material, mesmo que perto da 

caldeira, a temperatura medida poderia ser diferente da real e o controle, dessa forma, não 

seria eficaz. 



49 

 

Nessa caldeira, especificamente, há um buraco sem utilização na caldeira, que não 

atinge o seu interior e, por ser na própria caldeira, tornou-se o local ideal para a instalação do 

sensor. O ideal é encontrar-se um local o mais próximo possível em contato com a caldeira. 

 

4.2 – Termostatos e instalação do Relé 

 

A cafeteira possui 3 termostatos de temperatura, já instalados de fábrica, conforme a 

Figura 4.3. Sendo um para temperatura de 110º C, outro para 145º e o último para a temperatura de 

165º C. 

 

FIGURA 4.3 – Indicação do Termostatos (Fonte: Autor) 

Na figura, a seta preta mostra o termostato para 110º C, o verde é para 145º C e o 

vermelho é para 165º C.  

Devido à necessidade de controle da temperatura para que esteja próxima da 

considerada ideal para extração do café expresso e setpoint definido como 91 ºC, o relé foi 

instalado no lugar do termostato indicado pela seta preta. Dessa forma, em razão do controle 

exercido pelo PID, ele será ligado e desligado, acionando e desligando o termostato e, 

consequentemente, aquecendo ou resfriando a caldeira. 



50 

 

 

FIGURA 4.4 – Relé de Estado Sólido- SSR de 25a (Fonte: Autor) 

 A instalação do relé na cafeteira foi feita da seguinte forma: inicialmente, o 

termostato foi desconectado da caldeira e, no seu lugar na caldeira, foi conectado um fio, cuja 

outra ponta está ligada numa das entradas VAC do relé. A outra entrada VAC do relé foi 

ligado um fio, cuja outra ponta está conectada ao termostato. 

A ligação foi feita dessa forma com o objetivo de, conforme a temperatura medida, o 

relé será acionado ou desligado, aquecendo ou desligando a caldeira e, consequentemente, 

aumentando ou diminuindo a temperatura.  

 

FIGURA 4.5 – Relé instalado- SSR de 25a (Fonte: Autor) 

Na Figura 4.5, a seta branca mostra o relé instalado no local do termostato e a seta 

vermelha mostra a sua ligação no termostato. 

Devido ao fato do fio ficar perto da caldeira e, dessa forma, estar submetido à alta 

temperatura, o fio deve ser resistente à temperatura. Dessa forma, foi escolhido para fazer a 

ligação o fio de amianto, com espessura de 1mm, igual aos dos fios originais da máquina. 

As entradas VDC do relé (input) foram ligadas no arduino. O VDC negativo (input -) 

foi ligado no GND do arduino e a parte positiva (input +) foi ligada na porta PWM 10 do 

arduino. Essa porta PWM será a responsável por mandar os comandos de ligar e desligar o 

arduino. 



51 

 

4.3 – Display Oled 

 

O display oled foi conectado ligando o GND ao GND do arduino, VCC ao VCC, GND 

ao GND, SDA na entrada A4 e SCL na entrada A5 do arduino (BLOG FILIPEFLOP, 2015), 

conforme as Figuras 4.6 e 4.7.  

 

FIGURA 4.6 – Conexão do Display Oled I2C ao arduino I2C (FILIPEFLOP. COMO CONECTAR 

O DISPLAY OLED AO ARDUINO. Em:&amp;lt;http://blog.filipeflop.com/display/como-conectar-display-oled-

arduino.html&gt;) 

 

FIGURA 4.7 – Oled I2C conectado ao arduino (Fonte: Autor) 

Foi possível implementar a comunicação com o arduino e exibição de informações no 

display OLED utilizando a biblioteca OzOled disponível em OscarLiang.net 

(OSCARLIANG.NET, 2015). 

 

 



52 

 

4.4 – Instalação da Nanoshield  

 

O nanoshield termopar é o responsável por receber a informação do sensor de 

temperatura, passando-a ao arduino, para ser controlada. Para isso, a sua ligação foi feita da 

seguinte forma, conforme a Figura 4.8 

 

FIGURA 4.8 – Ligação do Termopar ao Arduino (Circuitar. Termopar. Em: 

&lt;http://blog.filipeflop.com/display/como-conectar-display-oled-arduino.html&gt;) 

O VCC foi conectado à entrada de 5v do arduino, o GND foi conectado ao GND do 

arduino, o SCK foi conectado à entrada 13, SDO à entrada 12 e o D8 à entrada 8. 

A Figura 4.9 mostra a nanoshield já conectada ao arduino. 

 

FIGURA 4.9 – Termopar conectado ao arduino (Fonte: Autor) 

Essa shield possui um borne de entrada, local onde foi conectado o sensor responsável 

por medir a temperatura. A Figura 4.10 mostra a shield já com o sensor conectado. 



53 

 

 

FIGURA 4.10 – Shield e sensor (Fonte: Autor) 

A biblioteca utilizada foi a Nanoshield_Thermocouple, disponível em GitHub 

(GITHUB, 2015) 

Dessa forma, o projeto com todos os seus componentes já conectados, ficou conforme 

a Figura 4.11: 

 

FIGURA 4.11 – Visão geral do projeto com seus componentes instalados (Fonte: Autor) 

 

 



54 

 

 

FIGURA 4.12 – Esquemático do projeto (Fonte: Autor) 

O ciclo de controle consiste na seguinte rotina: inicialmente, será definido o setpoint 

em 91 ºC e será medida a temperatura da cafeteira, sendo o sensor termopar tipo k o 

responsável pela sua leitura. O nanoshield será o controlador, responsável por receber o sinal 

enviado pelo sensor e amplificá-lo de modo que o atuador possa exercer o controle. O atuador 

será o arduino, o qual exercerá, por meio de algoritmo de programação, a função de controle, 

este sendo o PID.  Na Figura 4.12, u(t) é o sinal de saída do controlador, o sinal produzido 

que exercerá na cafeteira, tendo como base o erro calculado e(t). O erro será a diferença entre 

o setpoint e a temperatura medida pelo sensor. O erro calculado e o setpoint são dados de 

entrada para a programação do arduino 

 

4.5 – Algoritmo 

 

O algoritmo será a programação que integrará todos os hardwares necessários e fará a 

função de controle, contendo todas as rotinas do controlador proporcional, integral e 

derivativo.  

Inicialmente, buscou-se definir a melhor temperatura ideal, chamada de setpoint na 

linha código. Tendo em vista a temperatura ideal de extração, foram levadas em consideração 

algumas interferências no projeto, tal como, a tampa superior da cafeteira ser retirada de 

forma a mostrar a caldeira, o sensor de temperatura instalado e o relé. Com a retirada da 

tampa, há maior interferência do ambiente externo no sensor, já que há uma perda maior de 

temperatura para o ambiente externo. Outro fator levado em consideração é a taxa de precisão 

do sensor. 

A temperatura ideal, base do controle, foi definida em 91ºC. 



55 

 

As constantes que serão utilizadas pelo controlador foram definidas como variáveis 

globais, fora do void setup() e do void loop(): 

? Kp: constante proporcional 

? Ki: constante integral 

? Kd: constante derivativa 

? p: controle proporcional. Inicialmente foi definido com valor 0; 

? i: controle integra. Inicialmente foi definido com valor 0; 

? d: controle derivativo. Inicialmente foi definido com valor 0; 

? pid: controle proporcional, integral e derivativo. Inicialmente foi definido com 

valor 0; 

? erro: variável de erro, que irá receber a diferença entra o setpoint e a temperatura 

medida; 

? tdecorrido: variável responsável por receber o tempo decorrido para o programa 

fazer o loop de controle; 

? setpoint: variável responsável por receber a temperatura alvo desejada; 

? temperatura: variável que irá receber a temperatura medida pelo sensor. 

? Todas as variáveis acima foram definidas como float. 

? Dentro do void setup() há os seguintes códigos que merecem ser mencionados: 

? pinMode(10,OUTPUT) e digitalWrite(10, LOW): Com o comando pinMode, foi 

definido que o relé será conectado à porta PWM 10. O comando digitalWrite 

definiu inicialmente como desligado. Assim, essa porta mandará os comandos para 

o relé ser acionado ou desligado conforme a temperatura medida; 

? Dentro do void loop() há os seguintes códigos que merecem ser mencionados: 

? temperatura = thermocouple.getExternal(): a variável temperatura irá receber a 

temperatura externa medida pelo sensor; 

? erro = setpoint – temperatura: calculando a diferença entre a temperatura alvo e a 

temperatura medida; 

? tdecorrido = millis(): o tempo medido para o programa fazer o loop de controle 

será contado em milissegundos; 

? float delta = (millis() - tdecorrido)/1000.0: foi declarada a variável delta, que irá 

receber a variação de tempo que o programa levou para executar o loop de 

controle. O resultado foi dividido por 1000.0 para ser dado em segundos; 



56 

 

O controle proporcional foi definido da seguinte forma: p = Kp*erro, de acordo com a 

seção 3.7.1, do capítulo 3. Esta variável irá receber o resultado da multiplicação da constante 

de proporcionalidade multiplicada pela variável erro; 

O controle integral foi definido da seguinte forma: i += (Ki*erro)*delta, de acordo 

com a seção 3.7.2, do capítulo 3. Essa variável irá receber a somatória dela mesma com a 

multiplicação da constante integral, multiplicada pelo erro, cujo resultado será multiplicado 

pelo delta; 

O controle derivativo foi definido da seguinte forma: d = erro*Kd/delta, de acordo 

com a seção 3.7.3, do capítulo 3. Essa variável irá receber a multiplicação da constante 

derivativa, multiplicada pelo erro, cujo resultado será dividido pelo delta;  

pid: calculados todos os controladores, o pid será a somatória de todos eles, ou seja, 

pid = p+i+d; 

uma vez calculado o pid, será feito o controle em sim, com três comandos if e, 

conforme o resultado, o relé será acionado ou não: 

if(pid&gt;0){ 

     digitalWrite(10, HIGH); 

} 

  else{ 

     digitalWrite(10, LOW);  } 

Se o valor do pid for maior que zero, o relé será acionado e a caldeira da máquina 

aquecerá a água para a temperatura desejada. Caso ele seja menor ou igual a zero, o relé será 

desligado para que a caldeira resfrie até chegar na temperatura desejada. 

O código completo poderá ser visto no apêndice A. 

 

4.6 – Implementação do PID 

 

Ajustar o PID significa obter os valores das constantes proporcional, integral e 

derivativa que produzam uma resposta eficiente no sistema de controle que seja igual ou se 

aproxime do setpoint. Nesse projeto, especificamente, o ajuste será destinado a manter as 

temperaturas máxima e mínima mais próximas daquela considerada ideal. Como o projeto 

tem como objetivo específico dar ao usuário doméstico a possibilidade de alterá-lo para 

melhor atender as suas necessidades, além de controlar a temperatura de modo eficiente, 

método adotado neste projeto para configurar o controlador proporcional, integral e derivativo 



57 

 

será o método de tentativa e erro, do inglês guess and check conforme referenciado na seção 

3.7.5. Embora seja denominado tentativa e erro é um método que toma como base a atuação 

do controle PID sobre o sistema, sendo bastante utilizado em aplicações de controle. 

Esse método de ajuste está baseado no efeito que cada controlador causa no sistema, 

tendo em vista o seguinte procedimento: inicialmente deixam-se os valores das constantes 

integral e derivativa em zero e somente varia o valor da constante proporcional, cujo valor 

inicial será 1. Cada valor testado para as constantes será feito o seguinte cáculo: p = Kp*erro, 

para a constante proporcional, i += (Ki*erro)*delta, para a constante integral, d = 

erro*Kd/delta, para a constante derivativa e pid = p+i+d. Para cada valor testado, anotam-se 

as temperaturas máximas e mínimas. 

Uma vez ajustado o valor dessa constante, passa-se a variar o valor da constante 

integral, tendo cuidado para não ocorrer o overshoot, quando, ao ir somando o erro com o 

passar do tempo, na prática, o controle integrativo atinge um valor muito grande e acaba por 

ultrapassar em muito a temperatura alvo. Para se evitar isto recomenda-se evitar valores muito 

elevados para a constante integral.  Com os valores das constantes proporcional e integral 

definidos, por último, será a vez de definir o valor da constante derivativa, sempre tendo em 

vista estabilizar a temperatura evitando que esta varie muito acima ou abaixo da ideal. 

  



58 

 

CAPÍTULO 5 - APLICAÇÃO PRÁTICA DO MODELO PROPOSTO 

 

 

Este capítulo tem como função mostrar a viabilidade técnica proposta nesse projeto. 

Dessa forma, utilizará a montagem física do projeto proposta no capítulo anterior, com a qual 

serão feitos testes e analisados os resultados. 

 

5.1 - Apresentação da área de Aplicação do modelo 

 

O projeto proposto, controlador de temperatura para máquinas de café expresso com 

arduino, tem como foco principal o ambiente residencial, sendo destinado a todas as pessoas 

que possuam máquinas de café expresso em casa, as quais não possuam controlador de 

temperatura, e, por isso, queiram ter uma solução viável e mais barata para controlar a 

temperatura de extração do café expresso, sem precisar adquirir uma nova máquina.  

 

5.2 – Resultados Esperados da Aplicação do Projeto 

 

5.2.1 – Resultados obtidos 

 

Com esse projeto esperava-se um controle eficiente da temperatura da caldeira, 

diminuindo, assim, a oscilação de temperatura, evitando que esta aumente-se ou diminua-se 

muito, ficando dentro de uma faixa de temperatura próxima ao setpoint. Este controle foi 

obtido, seguindo sequência de implementação e programação realizadas. 

O objetivo do PID será, assim, a estabilidade da temperatura, devendo ser ajustado de 

forma que reduza as oscilações, diminuindo o valor da temperatura máxima e mínima, de 

forma que elas não sejam muito distantes daquela considerada ideal. Este então será o foco do 

PID, ter as menores temperaturas máximas e mínimas, foi atingido com sucesso. 

Outro fator a ser observado é a velocidade de resposta quando a temperatura fica 

diferente do setpoint, para isso, foi observado o acionando ou desligamento de relé, conforme 

for o caso. Nesse caso, observou-se a temperatura na qual haverá a mudança de estado do relé. 

Tais dados foram registrados e mostraram o ajuste conforme previsto. 



59 

 

 

5.2.2 – Descrição Prática da Aplicação do Modelo 

 

O projeto seguirá o seguinte modelo da Figura 5.1, sendo implementado, consegue 

controlar a temperatura de forma eficiente, além de fornecer a possibilidade de o usuário 

definir, conforme a suas necessidades, valores das constantes proporcional, integral e 

derivativa, observar o resultado e atingir um controle eficiente da temperatura. 

 

FIGURA 5.1 – Diagrama de blocos do controlador PID. Fonte: Autor. 

Uma vez definido o setpoint, o projeto apresentou controle eficiente, atendendo as 

necessidades de evitar que tanto a temperatura máxima e a mínima apresentem grandes 

variações, estabilizando a temperatura dentre de uma faixa aceitável para a extração do café.  

No display, serão mostrados a temperatura, o PID e o setpoint.  

Na cafeteira, dependendo do valor do PID, o relé será acionado ou desligado, com o 

objetivo de aumentar ou diminuir a temperatura da caldeira. 

 

5.2.3 – Implementação do PID 

 

Tendo em vista a aplicação do método tentativa e erro, guess and check, obtiveram-se 

os seguintes valores da constante proporcional – Kp, da constante integral – Ki e da constante 

derivativa – Kd. A seguir, serão apresentados os resultados obtidos. 

Para cada constante, foram feitos 5 testes, coletando-se as temperaturas máxima, 

mínima, a de acionamento e a desligamento do relé, o tempo de aquecimento e de 

resfriamento. Após terem sido coletados, foi feita a média e o desvio padrão dos valores. O 

tempo de subida foi medido a partir do momento em que o projeto atingiu a temperatura 

mínima e esta começou a subir até alcançar a temperatura máxima e parando de medir quando 



60 

 

começou a descer. O tempo de descida foi medido a partir do tempo em que a temperatura 

máxima atingida começou a diminuir, chegando na mínima e parando quando esta aumentou. 

Este procedimento foi feito para os três controladores. 

Os seguintes dados encontrados para a constante proporcional – Kp – estão 

representados nas seguintes Tabelas 1, 2 e 3. 

A TABELA 1 – Média dos dados coletados da Constantes Proporcional - Kp  

 Temperatura (ºC) Tempo (segundos) 

Kp Máxima Mínima Relé On Relé Off Subida Descida 

1 96,65 90,55 90,75 91,00 42,25 174,29 

10 95,90 90,60 90,75 91,00 46,36 179,84 

50 95,55 90,50 90,75 91,00 46,39 152,81 

100 96,15 90,50 90,75 91,00 52,08 182,21 

250 96,30 90,50 90,75 91,00 51,18 184,37 

desvio padrão 0,30 0,03 0 0 3,18 8,92 

A Tabela 1, a coluna Kp corresponde aos valores testados da constante proporcional, 

Máxima e Mínima são as a temperaturas máxima e mínima que cada valor testado da 

constante atingiu, Relé On corresponde ao tempo de aquecimento, Relé Off é o tempo de 

resfriamento, estes dois dados em milissegundos. Todos os valores apresentados são as 

médias dos valores medidos e, por fim, também foi feito o desvio padrão dos valores. 

FIGURA 5.2 – Relação valor de Kp x Temperatura 

 

Fonte: Autor 

Inicialmente, para Kp sendo 1, o sistema apresentou a maior temperatura máxima e 

para Kp sendo 50, ele apresentou a menor temperatura máxima. A temperatura mínima 

manteve-se quase constante, apresentando o valor mais próximo do setpoint para o Kp igual a 

96,75 

95,5 

94,25 

96,25 96,25 

90,5 90,75 90,5 90,5 90,5 

86

88

90

92

94

96

98

1 10 50 100 250

T
E

M
P

E
R

A
T

U
R

A
 º

C
 

Valores testados de Kp 

Constante Proporcional - Kp 

Temperatura Máxima Temperatura Mínima



61 

 

10. Como o objetivo é escolher as temperaturas mais próximas do setpoint, para o projeto, foi 

definido Kp = 50. 

FIGURA 5.3 -  Tempo de Aquecimento e Resfriamento em função de Kp 

 

Fonte: Autor 

Nesse gráfico, observa o melhor tempo de resfriamento para Kp = 50 e o terceiro 

melhor tempo de aquecimento.  

Conforme exposto acima, optou-se por escolher o valor cuja temperatura máxima e 

mínima possuam o valor mais próximo do setpoint. Conforme a Tabela acima, o valor de Kp 

foi definido em 50. 

A Tabela 4 mostra os valores testados para se definir a constante integrativa. Para isso, 

após ter sido carregado o código no arduino, devido à variável ser decorrente de uma 

somatória no decorrer do tempo, foi desprezado o primeiro ciclo de controle de temperatura e 

anotaram-se os resultados dos três ciclos seguintes, sendo cada ciclo considerado como 

acionando do relé uma vez, com a temperatura atingindo um valor menor do setpoint, e com o 

desligamento do relé, após a temperatura ultrapassá-lo. Estatisticamente, foi feita uma média 

com objetivo de comparar os valores.  

 

 

 

 

 

 

 

47,6568 46,362 46,394 52,088 51,184 

174,7048 179,84 

152,81 

182,21 184,37 

0

50

100

150

200

1 10 50 100 250

T
e
m

p
o
 (

se
g
u
n
d
o
s)

 

Valores Kp 

Kp x Tempo 

Tempo Aquecimento Tempo Resfriamento



62 

 

TABELA 2 – Média dos dados coletados da Constantes Integral - Ki 

 Temperatura (ºC) Tempo (segundos) 

Ki Máxima Mínima Relé On Relé Off Subida Descida 

1 100,10 83,10 83,40 90,35 73,87 497,15 

0.1 93,65 88,85 89,00 89,20 59,59 138,59 

0,05 93,95 88,70 89,30 89,50 51,86 190,52 

0,01 95,20 90,20 90,45 90,80 69,90 133,96 

0,005 95,40 90,50 90,70 90,90 46,39 149,05 

desvio padrão 1,77 2,06 2,06 0,64 9,25 110,11 

A Tabela 2, a coluna Ki corresponde aos valores testados da constante integral, 

Máxima e Mínima são as a temperaturas máxima e mínima que cada valor testado da 

constante atingiu, Relé On corresponde ao tempo de aquecimento, Relé Off é o tempo de 

resfriamento, estes dois dados em milissegundos. Todos os valores apresentados são as 

médias dos valores medidos e, por fim, também foi feito o desvio padrão dos valores. 

Os demais dados encontrados para a constante integral – Ki – estão representados nos 

seguintes Gráficos 5.4 e 5.5. 

Figura 5.4 – Relação valor de Ki x Temperatura 

 

Fonte: Autor 

100,10 
93,65 93,95 95,20 95,40 

83,10 
88,85 88,70 

90,20 90,50 

0

20

40

60

80

100

120

1 0,1 0,05 0,01 0,005

T
e
m

p
e
ra

tu
ra

 º
C

 

Valores testados 

Constante Integral - Ki 

Temperatura Máxima Temperatura Mínima



63 

 

Para Ki sendo 1, o sistema apresentou a maior temperatura máxima e para Kp sendo 

0,1, ele apresentou a menor temperatura máxima. A temperatura mínima foi se aproximando 

do setpoint na medida em que o valor de Ki foi diminuindo, contudo, a temperatura máxima 

também aumentou. Tendo como base o gráfico, optou-se por escolher o valor 0,1 de Ki, já 

que este apresenta o menor valor para a temperatura máxima e terceiro maior valor para a 

temperatura mínima. 

Figura 5.5 -  Tempo de Aquecimento e Resfriamento em função de Ki 

 

Fonte: Autor 

Observa-se que, conforme este gráfico, o valor 0.1 apresenta o segundo melhor tempo 

de resfriamento e o terceiro melhor tempo de aquecimento. Para o Ki sendo 1, observado o 

pior tempo tanto para aquecimento quanto para resfriamento. 

Assim, conforme exposto, foi adotado o valor de 0,01 para o Ki, sendo que este 

apresentou os valores de acionando e a temperatura mínima de relé mais próximos do 

setpoint. 

Uma vez definidos os valores do Kp e do Ki, foi definido o valor de Kd. Os valores de 

testes da constante derivativa estão mostrados nas seguintes Tabelas 7, 8 e 9. 

 

 

 

 

 

73,87 59,59 51,86 69,90 46,39 

497,15 

138,59 
190,52 

133,96 149,05 

0

100

200

300

400

500

600

1 0,1 0,05 0,01 0,005

T
e
m

p
o
 (

se
g
u

n
d

o
s)

 

Valores testados de Ki 

Ki x Tempo 

Tempo Aquecimento Tempo Resfriamento



64 

 

Tabela 3 – Dados coletados da Constantes Derivativa - Kd 

 Temperatura (ºC) Tempo (segundos) 

Kd Máxima Mínima Relé On Relé Off Subida Descida 

0.01 94,00 88,20 72,4 88,75 61,88 305,12 

0.1 93,05 89,15 89,20 89,45 60,86 218,00 

1 93,15 88,95 89,15 89,35 84,55 226,37 

5 94,70 89,00 89,25 89,50 60,08 313,96 

10 94,10 89,05 89,10 89,50 74,46 238,12 

Desvio padrão 0,56 0,26 5,36 0,22 8,91 39,38 

Nessa Tabela, a coluna Kd corresponde aos valores testados da constante derivativa, 

Máxima e Mínima são as a temperaturas máxima e mínima que cada valor testado da 

constante atingiu, Relé On corresponde ao tempo de aquecimento, Relé Off é o tempo de 

resfriamento, estes dois dados em milissegundos. Todos os valores apresentados são as 

médias dos valores medidos e, por fim, também foi feito o desvio padrão dos valores. 

Figura 5.6 – Relação valor de Kd x Temperatura 

 

Fonte: Autor 

Para Kd sendo 5, o sistema apresentou a maior temperatura máxima e para Kd sendo 

0,1, ele apresentou a menor temperatura máxima. A temperatura mínima apresentou o menor 

valor para o valor 0,01 de Kd e o valor mais próximo do setpoint para o valor 0,1. Tendo 

como base o gráfico, optou-se por escolher o valor 0,1 de Kd, já que este apresentou o menor 

valor para a temperatura máxima e o maior valor para a temperatura mínima. 

 

 

 

94,00 
93,05 93,15 

94,70 
94,10 

88,20 
89,15 88,95 89,00 89,05 

84

86

88

90

92

94

96

0,01 0,1 1 5 10

T
e
m

p
e
ra

tu
ra

 º
C

 

Valores Testados de Kd 

Constante Derivativa - Kd 

Temperatura Máxima Temperatura Mínima



65 

 

Figura 5.7 – Tempo de Aquecimento e Resfriamento em função de Kd 

 

Fonte: Autor 

Conforme o gráfico, observa-se que o valor de Kd sendo 0,1, apresentou o menor 

tempo de resfriamento, mas apresentou o maior tempo de aquecimento. Contudo, para o 

experimento, em virtude dos resultados obtidos paras as temperaturas máximas e mínima, 

optou-se por manter esse valor de Kd. 

Dessa forma, para esse projeto foi definido Kp sendo 50, Ki sendo 0.1 e Kd sendo 

0,1. Assim, com os valores dos controladores, o projeto atingiu os valores da temperatura 

máxima e da temperatura mínima mais pertos do setpoint.  

 

5.2.4 – Resultados obtidos 

 

O projeto foi eficiente no controle da temperatura, mantendo-a perto do setpoint, 

evitando que a temperatura máxima e a mínima variassem muito. Dessa forma, o algoritmo 

foi desenvolvido tendo como base o método de ajuste adotado, visando manter a temperatura 

não muito distante do setpoint. Com os valores propostos para as constantes proporcional, 

integral e derivativa, o resultado se aproximou da temperatura alvo, apresentando os valores 

de temperatura medidos mais próximos dela. 

O projeto conseguiu controlar o acionamento e desligamento do relé de também forma 

eficiente, acionando-o e desligando-o conforme a temperatura variasse, aquecendo ou 

resfriando a caldeira. A shield mostrou corretamente a temperatura da caldeira lida pelo 

sensor. O sensor monitorou corretamente a temperatura da caldeira.  

61,88 60,86 
84,55 

60,08 74,46 

305,12 

218,00 226,37 

313,96 

238,12 

0

50

100

150

200

250

300

350

0,01 0,1 1 5 10

T
e
m

p
o
 (

se
g
u
n
d
o
s)

 

Valores testados de Kd 

Kd x Tempo 

Tempo de Aquecimento Tempo de Resfriamento



66 

 

 

5.4 – Avaliação Global 

 

O projeto cumpriu a sua função de controlar a temperatura, minimizando evitando que 

essa variasse e se distanciasse da temperatura alvo. O PID é capaz de manter a temperatura 

dentro uma faixa muito próxima da temperatura ideal, entre 89.15, 93.05.  

Durante o desenvolvimento do projeto, o autor adquiriu conhecimentos interessantes e 

necessários para o resultado satisfatório do projeto e para o desenvolvimento de projetos 

futuros. Dentre estes conhecimentos, pode-se citar a programação do arduino e sua 

capacidade em fazer infinitos projetos, conforme a necessidade do usuário, a capacidade das 

shields do arduino, as quais ampliam a funcionalidade do arduino e, por último, a 

possibilidade de se adaptar uma cafeteira doméstica para ter funções próprias de cafeteiras 

profissionais, sem para isso, precisar comprar uma nova máquina. 

 

5.4 – Custos do modelo proposto  

 

Para esse projeto foram compradas as seguintes peças: 

Tabela 4 – Custo do Projeto 

Peças 
Preço (em reais) 

Protoboard 
3,76 

Display Oled 
15,60 

65 jumpers 
14,89 

Nanoshiel termopar 
49,90 

Relé de estado sólido 
25,00 

Sensor termopar tipo k 
15,90 

Arduino Uno 
74,90 

Cafeteira Fiamma Minibar 
650,00 

Custo total (sem incluir o frete) 
894,95 

  



67 

 

CAPÍTULO 6 – CONCLUSÃO 

 

 

6.1 – Conclusões 

 

Nesse projeto se propôs construir um controlador de temperatura proporcional, 

integral e derivativo - PID para máquinas de café encontradas dentro do mercado brasileiro e 

que não possuam essa função, com hardwares, peças e algoritmo de programação, de forma a 

oferecer uma forma barata e de fácil acesso a todos os usuários domésticos e baristas que 

queiram ter estabilidade e controle de temperatura de um expresso, sem precisar, para isso, 

comprar máquinas mais caras, importadas. 

Tendo em vista o preço das máquinas importadas, já com o PID instalado de fábrica, 

ser muito superior em relação ao preço das máquinas encontradas no Brasil, como ECM 

Classika II PID, cujos preços, na data consultados (17/11/2015) variam aproximadamente de 

R$ 3,7950 a R$ 8.709,52, sem as taxas de importação e o preço total do projeto, incluindo o 

preço da máquina, ser de R$ 894,25, esse projeto cumpriu seu objetivo principal em ser uma 

opção mais barata a quem deseje ter em sua casa um controlador de temperatura. 

O objetivo secundário do projeto, controlar a temperatura tendo em vista a considerada 

ideal para a extração do café, também foi atingido, apresentando resultados satisfatórios. O 

algoritmo minimizou a variação da temperatura, deixando-a perto daquela considerada ideal, 

não a deixando aumentar demais ou diminuir muito.  

Dessa forma, esse projeto poderá ser replicado integralmente por aqueles que desejam 

controlar a temperatura de sua cafeteira, usado como base em projetos futuros ou até poderá 

ser patenteado e vendido como Kit para ser implementado pelos baristas amadores. 

A possibilidade do usuário poder definir os valores de cada controlador e testá-los na 

prática, proporciona aos usuários a possibilidade de testar valores diferentes dos propostos 

nesse projeto e, assim, adequar o controlador PID conforme suas necessidades. 

 

6.2 – Sugestões para Trabalhos Futuros 

 

Durante a execução do projeto, suas pesquisas e implementação, surgiram novas 

possibilidades de aprimoramento e de abordagens para projetos futuros: 



68 

 

Inicialmente, a nanoshield utilizada possui uma resolução de 0,25ºC, caso seja 

necessária maior precisão de controle, é indicada a utilização de Shields que possuam uma 

resolução melhor, como a nanoshield max31856, por exemplo; 

A forma de leitura da porta PWM do relé, no lugar de ser digitalWrite, a qual somente 

aceita valores de HIGH, ligado, ou LOW, desligado poderá ser analogWrite(), aceitando 

valores de 0 a 255, sendo 0 desligado e 255 totalmente ligado. Dentro dessa faixa, poderá 

definir a intensidade de aquecimento, conforme a temperatura medida, de forma a ter mais 

controle; 

Recomenda-se, também, o estudo do consumo de energia para cada valor controlador 

proporcional, integral e derivativo, de forma a conseguir, além do controle de temperatura, o 

menor consumo de energia; 

Nos futuros trabalhos, pode-se colocar a possibilidade do usuário definir os valores de 

cada controlador, por meio de botões, deixando a possibilidade, dessa forma, que o 

controlador seja definido conforme a necessidade do barista. 

  



69 

 

REFERÊNCIAS BIBLIOGRÁFICAS 

  

BRESSANI, Edgard. Guia do barista:  da origem do café ao espresso perfeito. 4. ed. São 

Paulo: Café editora, 2015. 

EVANS, Martin; NOBLE, Joshua; HOCHENBAUM, Jordan. Arduino em ação. São Paulo: 

Novatec, 2015. 

OGATA, Katsuhiko. Engenharia de controle moderno. 3. ed. Rio de Janeiro: LTC, 1998. 

UOL. Economia. Cotações. Disponível em:&amp;lt;http://economia.uol.com.br/cotacoes/cambio/dolar-

comercial-estados-unidos/?historico&gt;. Acesso em:  24 ago. 2015. 

ABIC. Dicas de preparação de café. Disponível em: &amp;lt;

http://www.abic.com.br/publique/cgi/cgilua.exe/sys/start.htm?sid=39#5&gt;. Acesso em: 19 ago. 

2015. 

WIKIPÉDIA. Pérsia. Disponível em:  &amp;lt;https://pt.wiKipedia.org/wiKi/P%C3%A9rsia&gt;. 

Acesso em: 05 ago. 2015. 

BRASIL. Ministério da Agricultura. Café no Brasil. Disponível em:  

&lt;http://www.agricultura.gov.br/vegetal/culturas/cafe/saiba-mais&gt;. Acesso em: 05 ago. 2015. 

REVISTA GLOBO RURAL. Consumo mundial de café deve aumentar em 70 milhões de sacas até 2030. 

Disponível em:  &amp;lt;http://www.revistagloborural.globo.com/Noticias/Agricultura/Cafe/noticia/2015/03/consumo-

mundial-de-cafe-deve-aumentar-em-70-milhoes-de-sacas-ate-2030-diz-andrea-illy.html&gt;.  Acesso em: 08 ago. 

2015. 

VINCENZO, Luca. How to Make Coffee So Good You'll Never Waste Money on Starbucks 

Again. [S.l]: Amazon Digital Services, 2012. 

CONSÓRCIO PESQUISA CAFÉ. Café é a segunda bebida mais consumida no Brasil. 

Disponível em:&amp;lt;http://www.consorciopesquisacafe.com.br/index.php/imprensa/noticias/580-

cafe-e-a-segunda-bebida-mais-consumida-no-brasil&gt;. Acesso em: 08 de agosto de 2015, às 

17:42. 

GUIDE 2 COFFEE. DUAL BOILER EXPRESSO MACHINES. Disponível em: 

&lt;http://guide2coffee.com/dual-boiler-machines/&gt;. Visualizado em: 18 de setembro de 2015, 

às 16:02. 

HOWSTUFFWORKS. Máquinas de café expresso com bomba. Disponível em: 

&lt;www.casa.hsw.uol.com.br/máquina-de-cafe-expresso3.htm&gt;. Visualizado em: 18 de 

setembro de 2015, às 16:17. 

MUNDO ESTRANHO. Como funciona a máquina de café expresso? Disponível em: &amp;lt;

http://mundoestranho.abril.com.br/materia/como-funciona-a-máquina-de-cafe-expresso&gt;. 

Visualizado em 23/09, 15:30. 



70 

 

COFFEEGEEK.COM. Single Boiler vs. Heat Exchanger?. Disponível em: &amp;lt;

http://coffeegeek.com/opinions/javajim/07-14-2003&gt;. Visualizado em 23/09, 20:55. 

MILLARS. Double Boiler expresso machines verses single boiler heat exchanger expresso 

machines. Disponível em: &amp;lt;http://millarscoffee.com/education/buying-guides/20-double-

boiler-expresso-machines-verses-single-boiler-heat-exchanger-expresso-machines&gt;. 

Visualizado em 25/09, 12:43. 

EBAY. Nuova Simonelli Musica Expresso &amp;amp; Cappuccino HX Coffee Machine 58 mm 

head. Disponível em: &amp;lt;http://www.ebay.com/itm/Nuova-Simonelli-Musica-Expresso-

Cappuccino-HX-Coffee-Machine-58-mm-head-/262049852794?hash=item3d03636d7a&gt;. 

Visualizado em 25/09, as 13:56. 

ARDUINO. What is Arduino?. Disponível em: &amp;lt;https://www.arduino.cc/&gt;. Visualizado em 

29/09, 16:25. 

CCSL, Centro de Competência em Software Livre - FLOSS Competence Center, da 

USP. Não sabe o que é Hardware Livre? Venha descobrir no CCSL!. Disponível em: &amp;lt;

http://ccsl.ime.usp.br/pt-br/news/14/02/21/nao-sabe-o-que-e-hardware-livre-venha-descobrir-

no-ccsl &gt;. Visualizado em 29/09, 17:05. 

CIRCUITAR. Termopar. Disponível em: &amp;lt;

https://www.circuitar.com.br/nanoshields/modulos/termopar/&gt;. Visualizado em 14/10, 18:56. 

MECATRÔNICA ATUAL. Controladores de temperatura. Disponível em: &amp;lt;

http://www.mecatronicaatual.com.br/educacao/1507-controladores-de-temperatura-pid&gt;. 

Visualizado em 18/10, 17:12. 

NATIONAL INSTRUMENTS. Explicando a Teoria PID. Disponível em: &amp;lt;

http://www.ni.com/white-paper/3782/pt/&gt;. Visualizado em 19/10, 16:12. 

LABORATÓRIO DE GARAGEM. Artigo: Controlador PID (Proporcional-Integral-

Derivativo). Disponível em: &amp;lt;http://labdegaragem.com/profiles/blogs/artigo-controlador-pid-

proporcional-integral-derivativo-parte-1&gt;. Visualizado em 19/10, 19:12. 

BLOG FILIPEFLOP. COMO CONECTAR O DISPLAY OLED AO ARDUINO. 

Disponível em: &amp;lt;http://blog.filipeflop.com/display/como-conectar-display-oled-

arduino.html&gt;. Visualizado em 25/10, 20:10. 

OSCARLIANG.NET.  Arduino OLED Display Library. Disponível em: &amp;lt;

http://blog.oscarliang.net/arduino-oled-display-library/&gt;. Visualizado em 26/10, 14:00. 

GITHUB.Circuitar/Nanoshield_Thermocouple. Disponível em: &amp;lt;

https://github.com/circuitar/Nanoshield_Thermocouple&gt;. Visualizado em 26/10, 14:17. 

  



71 

 

APÊNDICE A – Código do programa utilizado 

 

//biblioteca do display 

#include&amp;lt;Wire.h&gt; 

#include&amp;lt;OzOLED.h&gt; 

//biblioteca do termopar 

#include&amp;lt;SPI.h&gt; 

#include "Nanoshield_Thermocouple.h" 

Nanoshield_Thermocouple thermocouple; 

//variáveis que serão usadas no PID 

float 

  Kp = 50, 

  Ki = 0.1, 

  Kd = 0.1;   

float 

  p = 0,     //controle proporcional 

  i = 0,     //controle integral 

  d = 0,     //controle derivativo 

  pid = 0,   //controle proporcional, integral e derivativo 

  erro,                     //variável de erro 

  tdecorrido = 0;                     //variável que irá receber o tempo decorrido para ocorrer o loop 

de controle, sendo 0 como inicio 

  float setpoint = 91;                 //aqui é definida a temperatura alvo, que será de 90 graus. Esse 

valor também pode ser mudado. 

  float temperatura;              //variável que vai receber a temperatura medida pelo sensor. 

 

  



72 

 

void setup() 

{ 

 pinMode(10,OUTPUT);         //porta PWM onde será colocado o relé e definida como saída. 

digitalWrite(10, LOW);      //definindo a porta como desligada 

     

  //initialze Oscar OLED display 

  OzOled.init();   

  //comandos básicos da biblioteca do display e para iniciar o display 

  OzOled.setNormalDisplay();       //Set display to Normal mode 

  OzOled.setPageMode();            //Set addressing mode to Page Mode 

  OzOled.clearDisplay(); 

  OzOled.printString("----PID----",2,0); 

 

  Serial.begin(9600); 

  Serial.println("-------------------------------"); 

  Serial.println(" Nanoshield Serial Thermometer"); 

  Serial.println("-------------------------------"); 

  Serial.println(""); 

 

  //inicia o termopar 

  thermocouple.begin(); 

} 

void loop() 

{ 

   thermocouple.read();            // aqui vai ler o termopar 

 



73 

 

  //comando de teste de erro necessário, este já veio com a biblioteca 

  Serial.print(" | External: "); 

  if (thermocouple.isShortedToVcc()) { 

    Serial.println("Shorted to VCC"); 

  } else if (thermocouple.isShortedToGnd()) { 

    Serial.println("Shorted to GND"); 

  } else if (thermocouple.isOpen()) { 

    Serial.println("Open circuit"); 

  } else { 

    Serial.println(thermocouple.getExternal()); 

  } 

 

  temperatura = thermocouple.getExternal();    //a temperatura a ser guardada para controle 

será a temperatura externa. 

  erro = setpoint - temperatura;      //calcula a variação entre a temperatura medida e a 

temperatura alvo. Faz parte da realimentação do sistema e no cálculo de cada controlador. 

   

  float delta = ((millis() - tdecorrido))/1000.0;       //calcula a diferença em segundos entre um 

loop 

  tdecorrido = millis();                //conta quanto tempo levou para dar um loop 

   

  //controle proporcional 

  p = Kp*erro; 

      

  //controle integral 

  i += (Ki*erro)*delta; 

 



74 

 

  //controle derivativo 

  d = erro*Kd/delta; 

   

  //PID 

  pid = p+i+d; 

       

  //aqui começam os controles de fato 

   if(pid&gt;0){ 

     digitalWrite(10, HIGH); 

   } 

  else{ 

     digitalWrite(10, LOW); 

  } 

     

  OzOled.printString("temp:", 0, 2); 

  OzOled.printNumber(temperatura, 2, 6,2);    //aqui mostrará a temperatura no display com 

duas casas decimais 

  OzOled.printString("setpoint:", 0, 4); 

  OzOled.printNumber(setpoint, 2, 10,4);    //aqui mostrará a temperatura no display com duas 

casas decimais 

  OzOled.printString("PID:", 0, 6); 

  OzOled.printNumber(pid, 2, 5,6);    //aqui mostrará a temperatura no display com duas casas 

decimais 

  delay (500); 

  } 


</field>
	</doc>
</add>