<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.12962</field>
		<field name="filename">18775_PPGEE_M_233_FABIANO_GABRIEL_2012.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">
UNIVERSIDADE FEDERAL DE PERNAMBUCO
CENTRO DE TECNOLOGIA E GEOCIÊNCIAS

PROGRAMA DE PÓS-GRADUAÇÃO EM ENGENHARIA ELÉTRICA

Fabiano Gabriel da Silva

DISSERTAÇÃO DE MESTRADO

Medição de impedância para monitoramento 
da vazão multifásica pela técnica da correlação



Universidade Federal de Pernambuco
Centro de Tecnologia e Geocie?ncias

Programa de Po?s-Graduac?a?o em Engenharia Ele?trica

Medic?a?o de impeda?ncia para monitoramento

da vaza?o multifa?sica pela te?cnica da

correlac?a?o

Por

Fabiano Gabriel da Silva

Dissertac?a?o submetida ao Programa de Po?s-Graduac?a?o em Engenharia
Ele?trica da Universidade Federal de Pernambuco como parte dos requisitos

para obtenc?a?o do grau de Mestre em Engenharia Ele?trica.

Orientador: Edval Jose? Pinheiro Santos, Ph.D.

Recife, Fevereiro de 2012.

c©Fabiano Gabriel da Silva, 2012



 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

Catalogação na fonte 
Bibliotecária Valdicéa Alves, CRB-4 / 1260 

 

S586m Silva, Fabiano Gabriel da . 
Medição de impedância para monitoramento da vazão multifásica pela 

técnica da correlação/ Fabiano Gabriel da Silva- Recife: O Autor, 2012. 
85folhas.; il. e tab. 
 
Orientador: Ph.D Edval José Pinheiro Santos. 
 
Dissertação (Mestrado) – Universidade Federal de Pernambuco. CTG. 

Programa de Pós-Graduação em Engenharia Elétrica, 2012. 
Inclui Referências e Apêndices. 
 
1. Engenharia Elétrica.  2. Sensores. 3. Vazão. 4. Escoamento Multifásico. 5. 

LabVIEW®. 6. Lock-in. I. Santos, Edval José Pinheiro (Orientador). II. 
Título.                     

      
                        UFPE 
 
621.3 CDD (22. ed.)          BCTG/2014-056 

 



 
 

PARECER DA COMISSÃO EXAMINADORA DE DEFESA DE  
DISSERTAÇÃO DO MESTRADO ACADÊMICO DE  

 
 
 

 
 
 
 
 
 
 
 
 

TÍTULO 
 

“MEDIÇÃO DE IMPEDÂNCIA PARA MONITORAMENTO DA VAZÃO 
MULTIFÁSICA PELA TÉCNICA DA CORRELAÇÃO” 

 
 
 
 

A comissão examinadora composta pelos professores: EDVAL JOSÉ PINHEIRO 
SANTOS, DES/UFPE; MARCO AURÉLIO BENEDETTI RODRIGUES, DES/UFPE e 
HÉLIO MAGALHÃES DE OLIVEIRA, DES/UFPE sob a presidência do primeiro, 

consideram o candidato FABIANO GABRIEL DA SILVA APROVADO. 
 
 
 

Recife, 29 de fevereiro de 2012. 
 
 
 
 
 
 

CECILIO JOSÉ LINS PIMENTEL 
Coordenador do PPGEE 

 
 

 
 
 
 

 EDVAL JOSÉ PINHEIRO SANTOS 
Orientador e Membro Titular Externo 

HÉLIO MAGALHÃES DE OLIVEIRA 
Membro Titular Externo 

 
 
 
 

 MARCO AURÉLIO BENEDETTI 
RODRIGUES  

Membro Titular Interno 

 



Agradecimentos

Primeiramente agradec?o a Deus por todas as oportunidades que ele tem dado
na minha vida, pela sau?de e motivac?a?o para poder enfrentar os obsta?culos
que determinados momentos na vida temos que superar.
Um agradecimento mais que especial a? minha ma?e, Francisca, por todo es-
forc?o e dedicac?a?o que sempre teve para poder proporcionar o melhor para os
filhos.
A? minha madrinha Gildente e ao meu padrinho Carlos Alfredo que sempre
me tiveram como um filho.
Ao Prof. Edval Jose? Pinheiro Santos por todas as oportunidades, confianc?a
e pela orientac?a?o.
A todos os professores da UFPE pela excelente qualidade de ensino proporci-
onada, desde o PROMINP, iniciado em 2008, ate? o mestrado. Grac?as a esse
conhecimento novas oportunidades surgiram na minha vida.
Um agradecimento especial ao mestre e amigo G??lson Alves, amigo para to-
das as horas e sempre com uma palavra de incentivo e motivac?a?o.
Ao Eng. Rafael Bispo pela grande ajuda no desenvolvimento das aplicac?o?es
em LabVIEW R©.
Ao amigo Jacinaldo pelo apoio nas simulac?o?es, pelo fornecimento das ima-
gens simuladas e pela amizade.
Ao te?cnico Rodrigo por estar sempre dispon??vel nos momentos que precisa-
mos.
Ao amigo de longas datas Aldysmithys, pelos o?timos momentos de estudo e
aprendizado.
Aos colegas de apartamento, Ma?rcio, Rubens e A?ngelo pela torcida sempre
positiva.
A todos que fazem do Laborato?rio de Dispositivos e Nanoestruturas (LDN)
um ambiente sempre amiga?vel e harmonioso, em especial aos colegas de curso,
Henrique Mu?ller, Leonardo Bruno, William Guterres, Cleber Renan, Diogo
Roberto, Andre? Dantas e Talita.
Aos professores Tomaz Barros e Joa?o Paulo por sempre estarem dispon??veis
a ajudar todos os alunos.
A? Suzily pela torcida sempre sincera e por todo apoio que presta a todos que
fazem parte do LDN.

FABIANO GABRIEL DA SILVA

Universidade Federal de Pernambuco
Recife, 29 de Fevereiro de 2012

iv



Resumo da Dissertac?a?o apresentada a? UFPE como parte dos requisitos
necessa?rios para obtenc?a?o do grau de Mestre em Engenharia Ele?trica.

Medic?a?o de impeda?ncia para monitoramento

da vaza?o multifa?sica pela te?cnica da

correlac?a?o

Fabiano Gabriel da Silva

Fevereiro/2012

Orientador: Edval Jose? Pinheiro Santos, Ph.D.
A?rea de Concentrac?a?o: Eletro?nica.
Palavras-chaves: sensores, vaza?o, escoamento multifa?sico, LabVIEW R©, lock-
in.
Nu?mero de pa?ginas: 98.

Foi desenvolvido um medidor de impeda?ncia ele?trica utilizando a te?cnica
de detecc?a?o s??ncrona (lock-in). Essa te?cnica utiliza um sinal de refere?ncia
para detectar sinais ele?tricos na presenc?a de n??veis altos de ru??do, sendo uti-
lizada para medir potenciais ele?tricos ou correntes ele?tricas extremamente
baixas. Isso ocorre quando se deseja medir conduta?ncias ou capacita?ncias
muito pequenas ou muito grandes. Para testar o conceito, o medidor foi
implementado e caracterizado utilizando a te?cnica de instrumentac?a?o virtual
com o aplicativo LabVIEW R©. Foram realizadas medic?o?es experimentais e
caracterizac?a?o do medidor com resiste?ncias e capacita?ncias padra?o. O obje-
tivo do projeto e? utilizar esse instrumento na implementac?a?o de um medidor
de vaza?o multifa?sica pela te?cnica da correlac?a?o. Diversas te?cnicas podem ser
usadas para realizar a medic?a?o da vaza?o. Contudo, de acordo o ambiente e
o tipo de fluido a ser medido, algumas sa?o mais eficientes que outras. Isso
acaba influenciando na confiabilidade da medic?a?o. Escoamentos multifa?sicos
sa?o os que possuem a maior dificuldade de medic?a?o por serem compostos
por mais de um tipo de fluido (a?gua, o?leo, ar etc). A medic?a?o de vaza?o esta?
presente em nosso dia a dia na produc?a?o e distribuic?a?o de petro?leo, postos de
combust??veis, nas empresas abastecedoras de a?gua e tratamento de esgotos,
nas indu?strias de bebida, entre outros. Ela e? fundamental para o controle de
processos e para tarifac?a?o. A exemplo da medic?a?o fiscal, para arrecadac?a?o
de impostos.

v



Abstract of Dissertation presented to UFPE as a partial fulfillment of the
requirements for the degree of Master in Electrical Engineering.

Impedance measurement for monitoring a

multiphase flow with the correlation

technique

Fabiano Gabriel da Silva

February/2012

Supervisor: Edval Jose? Pinheiro Santos, Ph.D.
Area of concentration: Electronics.
Keywords: sensors, flow rate, flow meter, LabVIEW R©, lock-in.
Number of pages: 98.

An electrical impedance meter using the synchronous detection technique
(lock-in) has been developed. This technique uses a reference signal to detect
electrical signals in the presence of high noise levels, being utilised to measu-
ring extremely low electric potential or electrical currents. This occurs when
one wishes to measure very small or very large capacitances or conductances.
To test the concept, the meter was implemented and characterized using the
virtual instrumentation technique in the LabVIEW R© software environment.
Experimental measurements were performed with resistors and capacitors.
To characterize the impedance meter standard resistors and capacitors were
used. The project goal is to use this instrument in the implementation of a
multiphase flow meter with the correlation technique. Several techniques can
be used to perform flow measurement, depending on the environment and
the type of fluid to be measured, some are more effective than others. This
ends up influencing the reliability of the measurement. Multiphase flow are
those having the greater difficulty of measuring as they are composed of more
than one type of fluid (water, oil, air, etc.). Flow measurement is present in
our day-to-day, in the production and distribution of oil, gas stations, in the
water supply and sewage treatment companies, beverage industries, among
others. It is a key measurement for process control and pricing. As in the
example of fiscal measurement, for collection of taxes.

vi



Suma?rio

1 Medic?a?o de vaza?o 1

1.1 Escoamento multifa?sico . . . . . . . . . . . . . . . . . . . . . . 1

1.2 Medic?a?o de vaza?o . . . . . . . . . . . . . . . . . . . . . . . . . 5

1.2.1 Medidores de vaza?o . . . . . . . . . . . . . . . . . . . . 6

1.2.2 Diferencial de pressa?o . . . . . . . . . . . . . . . . . . . 7

1.2.3 Correlac?a?o cruzada . . . . . . . . . . . . . . . . . . . . 9

1.3 Medic?a?o da vaza?o multifa?sica . . . . . . . . . . . . . . . . . . 10

1.4 Te?cnicas de medic?a?o de impeda?ncia . . . . . . . . . . . . . . . 15

1.4.1 Impedanc??metro . . . . . . . . . . . . . . . . . . . . . . 17

1.4.2 Ponte de Wheatstone . . . . . . . . . . . . . . . . . . . 18

1.4.3 Medic?a?o com a te?cnica s??ncrona lock-in . . . . . . . . . 20

1.5 Organizac?a?o da dissertac?a?o . . . . . . . . . . . . . . . . . . . . 22

2 Implementac?a?o do medidor 24

2.1 Proposta de medidor multifa?sico . . . . . . . . . . . . . . . . . 24

2.2 Processamento Paralelo . . . . . . . . . . . . . . . . . . . . . . 25

2.2.1 Paralelismo de tarefas . . . . . . . . . . . . . . . . . . 27

2.2.2 Paralelismo de dados . . . . . . . . . . . . . . . . . . . 27

2.2.3 Pepilining . . . . . . . . . . . . . . . . . . . . . . . . . 27

2.3 Instrumentac?a?o virtual . . . . . . . . . . . . . . . . . . . . . . 29

2.3.1 Criando um instrumento virtual . . . . . . . . . . . . . 30

2.3.2 Funcionamento do programa . . . . . . . . . . . . . . . 34

2.4 Implementac?a?o do amplificador s??ncrono . . . . . . . . . . . . 37

vii



2.5 Implementac?a?o com va?rios amplificadores s??ncronos . . . . . . 37

2.6 Considerac?o?es finais . . . . . . . . . . . . . . . . . . . . . . . . 41

3 Caracterizac?a?o do lock-in 43

3.1 Sistema multieletrodo e modelo . . . . . . . . . . . . . . . . . 43

3.1.1 Projeto para construc?a?o de sistema multieletrodo . . . 44

3.2 Caracterizac?a?o do processo de paralelismo de dados . . . . . . 45

3.2.1 Sistema multiprocessos . . . . . . . . . . . . . . . . . . 45

3.2.2 Variac?a?o da taxa de amostragem . . . . . . . . . . . . 48

3.2.3 Variac?a?o da freque?ncia do sinal . . . . . . . . . . . . . 49

3.3 Planta de vaza?o . . . . . . . . . . . . . . . . . . . . . . . . . . 50

3.4 Curvas de calibrac?a?o . . . . . . . . . . . . . . . . . . . . . . . 51

3.4.1 Comparac?a?o . . . . . . . . . . . . . . . . . . . . . . . . 52

3.5 Resultados da medic?a?o e ana?lise . . . . . . . . . . . . . . . . . 54

3.5.1 Resultado da visualizac?a?o do deslocamento de fase . . . 56

3.5.2 Resultados obtidos atrave?s do LabVIEW R© . . . . . . . 57
3.5.3 Resultados do sistema multiprocesso . . . . . . . . . . 59

3.5.4 Resultados obtidos com variac?a?o de freque?ncia . . . . . 66

3.6 Considerac?o?es finais . . . . . . . . . . . . . . . . . . . . . . . . 67

4 Concluso?es e trabalhos futuros 68

A Informac?o?es adicionais 80

A.1 Diagramas . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 80

A.2 Tabelas . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 80

viii



Lista de Tabelas

2.1 Para?metros DAQ - 6363. . . . . . . . . . . . . . . . . . . . . . 32

3.1 Valores m??nimo, ma?ximo e me?dio em farads (F) - Coleta 1. . . 62

3.2 Valores m??nimo, ma?ximo e me?dio em farads (F)- coleta 2. . . . 62

3.3 Valores m??nimo, ma?ximo e me?dio em farads (F) - coleta 3. . . 62

3.4 Valores m??nimo, ma?ximo e me?dio em farads (F) - coleta 4. . . 63

3.5 Valores m??nimo, ma?ximo e me?dio em farads (F)- coleta 5. . . . 63

3.6 Valores pilha com 32 posic?o?es de armazenamento em farads (F). 63

3.7 Resumo dos valores calculados pelo sistema multiprocesso ar-
mazenados nas pilhas com 16 elementos em farads (F) com
somato?rio dos valores armazenados nas pilhas P1 e P2, do
produto entre as pilhas P1 e P2, raiz quadrada do somato?rio
dos produtos com taxas de amostragem de 1 mil, 10 mil e 100
mil amostras/segundo (a/s). . . . . . . . . . . . . . . . . . . . 65

3.8 Resumo dos valores calculados pelo sistema multiprocesso ar-
mazenados nas pilhas com 32 elementos em farads (F) com
somato?rio dos valores armazenados nas pilhas P1 e P2, do
produto entre as pilhas P1 e P2, raiz quadrada do somato?rio
dos produtos com taxas de amostragem de 1 mil, 10 mil e 100
mil amostras/segundo (a/s). . . . . . . . . . . . . . . . . . . . 66

3.9 Leituras em farads (F) variando entre 3 kHz e 7 kHz. . . . . . 66

A.1 Valores teo?ricos das tenso?es de sa??da por capacita?ncia. . . . . . 82

A.2 Valores experimentais das tenso?es de sa??da por capacita?ncias.
Foi utilizado um Capacitor de precisa?o - CS 301 Precision com
capacita?ncia residual de 40 pF. . . . . . . . . . . . . . . . . . 83

ix



A.3 Comparac?a?o entre medic?o?es. Como refere?ncia foi utilizado um
capacitor de precisa?o - CS 301 Precision com capacita?ncia
residual de 40 pF. . . . . . . . . . . . . . . . . . . . . . . . . . 84

A.4 Comparac?a?o resultados mult??metro e lock-in. Como refere?ncia
foi utilizado um resistor de precisa?o - RS 201 Precision. . . . . 85

x



Lista de Figuras

1.1 Tria?ngulo do escoamento multifa?sico. . . . . . . . . . . . . . . 2

1.2 Escoamentos horizontais. . . . . . . . . . . . . . . . . . . . . . 4

1.3 Tipos de escoamento vertical. . . . . . . . . . . . . . . . . . . 5

1.4 Efeitos do regime de escoamento [21]. . . . . . . . . . . . . . . 13

1.5 Medic?a?o de impeda?ncia automonitorado. . . . . . . . . . . . . 15

1.6 Sensor capacitivo. . . . . . . . . . . . . . . . . . . . . . . . . . 16

1.7 Medic?a?o de impeda?ncia: a) me?todo amplitude-fase b) me?todo
ponte virtual. . . . . . . . . . . . . . . . . . . . . . . . . . . . 17

1.8 medidor ponte. . . . . . . . . . . . . . . . . . . . . . . . . . . 19

1.9 Diagrama amplificador lock-in. . . . . . . . . . . . . . . . . . . 21

2.1 Proposta do medidor multifa?sico. . . . . . . . . . . . . . . . . 25

2.2 Paralelismo no LabVIEW R©. . . . . . . . . . . . . . . . . . . . 28
2.3 Te?cnica de paralelismo de dados. . . . . . . . . . . . . . . . . 28

2.4 Paralelismo com a te?cnica de pipelining. . . . . . . . . . . . . 29

2.5 Painel frontal e diagrama de blocos. . . . . . . . . . . . . . . . 30

2.6 Fluxo de criac?a?o de instrumento virtual. . . . . . . . . . . . . 31

2.7 Fluxo de funcionamento do sistema. . . . . . . . . . . . . . . . 33

2.8 Blocos de telas LabVIEW R©. . . . . . . . . . . . . . . . . . . . 35
2.9 Comparac?a?o LabVIEW R© e lock-in. . . . . . . . . . . . . . . . 36
2.10 Painel frontal do amplificador lock-in. . . . . . . . . . . . . . . 37

2.11 Aquisic?a?o dos sinais de entrada . . . . . . . . . . . . . . . . . 38

2.12 Filtragem dos sinais de entrada e ca?lculo da diferenc?a de fase . 39

2.13 Identificac?a?o das cargas . . . . . . . . . . . . . . . . . . . . . . 40

xi



2.14 Ca?lculo dos valores das impeda?ncias . . . . . . . . . . . . . . . 40

2.15 Diagrama de blocos que ler e grava na pilha P1 . . . . . . . . 41

2.16 Diagrama de blocos que ler e grava na pilha P2 . . . . . . . . 41

2.17 Diagrama de blocos com a multiplicac?a?o dos vetores . . . . . . 42

2.18 Painel do amplificador lock-in com paralelismo . . . . . . . . . 42

3.1 Relac?a?o entre os eletrodos. . . . . . . . . . . . . . . . . . . . . 44

3.2 Modelo (a) dois eletrodos e (b) quatro eletrodos. . . . . . . . . 44

3.3 Detalhe do projeto do sistema com dois eletrodos. . . . . . . . 45

3.4 Sistema multiprocessos. . . . . . . . . . . . . . . . . . . . . . . 46

3.5 Tela processamento da pilha. . . . . . . . . . . . . . . . . . . . 47

3.6 Painel frontal com resultado das impeda?ncias. . . . . . . . . . 48

3.7 Variac?a?o da taxa de amostragem no DAQmx. . . . . . . . . . 49

3.8 Planta para ensaio em medidores de vaza?o. . . . . . . . . . . . 50

3.9 Gra?fico teo?rico da tensa?o de sa??da do lock-in. . . . . . . . . . . 52

3.10 Resultado experimental da tensa?o de sa??da do amplificador
s??ncrono lock-in. . . . . . . . . . . . . . . . . . . . . . . . . . . 53

3.11 Resultado da medic?a?o de capacita?ncia lock-in × mult??metro. . 53
3.12 Resultado da medic?a?o da conduta?ncia. . . . . . . . . . . . . . 53

3.13 Ambiente de sismulac?a?o. . . . . . . . . . . . . . . . . . . . . . 54

3.14 circuito de condicionamento. . . . . . . . . . . . . . . . . . . . 55

3.15 Equipamentos utilizados no experimento. . . . . . . . . . . . . 56

3.16 Tenso?es de sa??da para 100 pF e 200 pF. . . . . . . . . . . . . . 57

3.17 Tenso?es de sa??da para 500 pF e 1 nF. . . . . . . . . . . . . . . 57

3.18 Interface homem ma?quina do amplificador lock-in. . . . . . . . 58

3.19 Formas de onda para capacita?ncias de para 100 pF, 200 pF e
300 pF. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 58

3.20 Formas de onda para capacita?ncias de 500 pF, 1 nF e 1.5 nF. . 58

3.21 Placa de aquisic?a?o com sinal de sa??da derivado com conector
bnc tipo T. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 59

xii



xiii

3.22 Diagrama de ligac?a?o placa de condicionamento, DAQ com as
entradas analo?gicas (ai0, ai1 e ai2), gerador de sinal e osci-
losco?pio. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 60

3.23 Interligac?o?es entre o gerador de sinal, oscilosco?pio, placa de
aquisic?a?o e DAQ. . . . . . . . . . . . . . . . . . . . . . . . . . 60

3.24 Paralelismo com dados armazenados em 16 posic?o?es de memo?ria
e taxa de amostragem de 1 mil amostras/segundo. Com S1 e
S2 tendo o mesmo valor de refere?ncia de 4,9 pF, originado da
placa de aquisic?a?o de dados. A varia?vel n indica a posic?a?o do
valor armazenado na pilha. . . . . . . . . . . . . . . . . . . . . 63

3.25 Paralelismo com dados armazenados em 32 posic?o?es de memo?ria
e taxa de amostragem de 1 mil amostras/segundo. Com S1 e
S2 tendo o mesmo valor de refere?ncia de 4,9 pF, originado da
placa de aquisic?a?o de dados. A varia?vel n indica a posic?a?o do
valor armazenado na pilha. . . . . . . . . . . . . . . . . . . . . 64

3.26 Paralelismo com dados armazenados em 16 posic?o?es de memo?ria
e taxa de amostragem de 10 mil amostras/segundo. Com S1 e
S2 tendo o mesmo valor de refere?ncia de 4,9 pF originado da
placa de aquisic?a?o de dados. A vara?vel n indica a posic?a?o do
valor armazenado na pilha. . . . . . . . . . . . . . . . . . . . . 64

3.27 Paralelismo com dados armazenados em 32 posic?o?es de memo?ria
e taxa de amostragem de 10 mil amostras/segundo. Com S1 e
S2 tendo o mesmo valor de refere?ncia de 4,9 pF originado da
placa de aquisic?a?o de dados. A varia?vel n indica a posic?a?o do
valor armazenado na pilha. . . . . . . . . . . . . . . . . . . . . 65

3.28 Leitura da pilha com 100 mil amostras/segundo. n indica a
posic?a?o do valor armazenado na pilha. . . . . . . . . . . . . . 67

A.1 Pinagem dispositivo de aquisic?a?o de dados(DAQ) 6363 [86] . . 81



Cap??tulo 1

Medic?a?o de vaza?o

A medic?a?o de vaza?o esta? presente em nosso dia a dia sendo fundamental para
o monitoramento, controle, transfere?ncia de custo?dia, incluindo cobranc?as de
impostos, na produc?a?o e distribuic?a?o de petro?leo, postos de combust??veis, nas
empresas abastecedoras de a?gua, nas empresas de tratamento de esgotos, nas
indu?strias de bebida e aliment??cia. A vaza?o multifa?sica ocorre na produc?a?o,
transporte e refino de petro?leo, gerenciamento de reservato?rios, sistemas de
detecc?a?o de vazamentos, controle de processos de produc?a?o.

1.1 Escoamento multifa?sico

O escoamento multifa?sico pode ter duas ou mais fases fluidas presentes simul-
taneamente em uma mesma tubulac?a?o. Ele e? um feno?meno complexo devido
a grande quantidade de regimes de escoamento. Caracter??sticas monofa?sicas,
tais como perfil de velocidade, turbule?ncia e camada limite, sa?o portanto
inadequadas para descric?a?o da natureza do escoamento [1].

Um sistema multifa?sico consiste em uma fase cont??nua, ou meio flu??do, e uma
fase particulada ou dispersa com qualquer nu?mero de componentes qu??micos.
A fase cont??nua pode se tratar de um meio l??quido ou gasoso e a fase dispersa
pode estar constitu??da por part??culas so?lidas, bolhas de ga?s (exceto claro, no
caso da fase cont??nua ser gasosa) ou gotas de l??quido [2].

Na vaza?o multifa?sica os fluidos esta?o sujeitos ao feno?meno chamado de es-
corregamento, que e? o termo usado para descrever as condic?o?es em que o
escoamento possui fases com velocidades diferentes em uma sec?a?o transver-
sal de conduto. O escorregamento pode ser quantitativamente expressado
pela diferenc?a de velocidade entre as fases [1].

1



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 2

Figura 1.1: Tria?ngulo do escoamento multifa?sico.

Neste contexto, o conceito de fase e? generalizado no sentido de que na?o esta?
se referindo a fase do ponto de vista do estado termodina?mico, em que uma
mesma substa?ncia existe nas formas so?lida, l??quida ou gasosa. Fase na?o esta?
relacionado ao estado da mate?ria, mas sim ao nu?mero de interfaces presentes
no escoamento multifa?sico [3]. Considerando um escoamento com tre?s fases
em estados termodina?micos distintos, a distribuic?a?o das fases e como elas se
organizam para formar novos escoamentos e? mostrada na Figura 1.1. Nas
pontas do tria?ngulo se te?m as fases so?lida, l??quida e gasosa. De acordo com
o deslocamento, o percentual de cada fase pode aumentar ou diminuir. Essa
organizac?a?o e deslocamento das fases dentro da tubulac?a?o da? origem aos
diversos escoamentos que se classificam em horizontal e vertical [1] [6].

O escoamento multifa?sico esta? cada vez mais presente em diversas a?reas da
indu?stria (Ele?trica, Qu??mica, Meca?nica, Petrol??fera). Esse tipo de escoamento
dificulta a medic?a?o individual das propriedades e para?metros dos fluidos en-
volvidos, fazendo com que haja um maior investimento para que a medic?a?o
seja feita de forma mais eficiente [7]. A medic?a?o pode ser feita separando
as fases ou sem separac?a?o. Especialistas na a?rea de petro?leo concordam que
chegou o momento de analisar com mais detalhes o uso de tecnologia para
medic?a?o multifa?sica, sem haver separac?a?o de fases [7].

A medic?a?o sem a separac?a?o de fases traz vantagens:

• Maior precisa?o nos resultados dos testes;



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 3

• Curto per??odo de testes com mais resultados; e

• Ferramenta para diagno?stico e otimizac?a?o de produc?a?o.

Os medidores multifa?sicos permitem um monitoramento cont??nuo. Esse tipo
de tecnologia e? complexo e tem limitac?o?es Uma dessas limitac?o?es e? devido a
presenc?a de amostras de outros fluidos [4] [5]. Existe a necessidade de novas
tecnologias para medic?a?o de escoamentos multifa?sicos. O uso de medidores
multifa?sicos pode poupar custos na instalac?a?o inicial, mas devido a incerteza
nas medic?o?es deve ser feita uma ana?lise de custos em todo projeto [4] [5].

Escoamento horizontal

Na Figura 1.2 sa?o apresentados os escoamentos horizontais.

• ne?voa: Caracterizado por velocidades superficiais de ga?s e l??quido
muito altas. Todo l??quido encontra-se disperso no nu?cleo gasoso e as
got??culas formadas pelo l??quido viajam a mesma velocidade superficial
do ga?s;

• bolhas: Tende a se dispersar no topo da tubulac?a?o com a fase l??quida
cont??nua;

• tampa?o: Com o aumento da velocidade da fase gasosa no escoamento
em bolhas, ha? o coalescimento, formando bolhas alongadas em forma
de balas, que tendem a escoar no topo da tubulac?a?o;

• estratificado: Caracteriza-se pela separac?a?o gravitacional total das
fases l??quida e gasosa com escoamento cont??nuo de cada fase;

• ondulado: Com o aumento da velocidade da fase gasosa, no esco-
amento estratificado, ondas sa?o formadas na interface de separac?a?o
l??quido ga?s, gerando o regime ondulado;

• golfada: Aumentando ainda mais a velocidade do ga?s no escoamento
ondulado, as ondas passam a ocupar, em alguns casos, toda a sec?a?o



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 4

Figura 1.2: Escoamentos horizontais.

transversal da tubulac?a?o formando golfadas, que sa?o rapidamente des-
locadas dentro da tubulac?a?o; e

• anular: Ocorre com altas vazo?es de ga?s. O l??quido escoa na superf??cie
interna da tubulac?a?o, formando um filme com bolhas dispersas, e o ga?s
escoa dentro da tubulac?a?o, carregando l??quido atomizado.

Escoamento vertical

Na Figura 1.3 sa?o apresentados os escoamentos verticais.

• bolhas: A fase gasosa se encontra dispersa na fase l??quida em forma de
bolhas discretas, sendo a fase l??quida cont??nua. Esse escoamento ocorre
para baixas velocidades superficiais de ga?s;

• golfadas: aumentando a velocidade da fase gasosa, as bolhas coales-
cem e o dia?metro dessa nova bolha atinge dimensa?o similar com a da
tubulac?a?o;

• transic?a?o: Apresenta velocidades de ga?s e l??quido maiores do que o
escoamento golfadas, a quebra das bolhas do escoamento em golfadas
conduz a um padra?o insta?vel e desordenado, onde existe um movimento
oscilato?rio de l??quido para cima e para baixo na tubulac?a?o; e



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 5

Figura 1.3: Tipos de escoamento vertical.

• anular: O l??quido escoa na periferia do duto formando um filme com
bolhas dispersas e o ga?s escoa no centro da tubulac?a?o, carreando got??culas
de l??quido.

Na produc?a?o de petro?leo a medic?a?o de fluidos e? feita constantemente com a
finalidade de melhorar o gerenciamento do reservato?rio e otimizar a produc?a?o.
E? importante medir com precisa?o os fluidos produzidos nos poc?os de petro?leo
para termos uma eficiente explorac?a?o e produc?a?o [10]. Ale?m de justa co-
branc?a de impostos.

No sistema de medic?a?o convencional os fluidos sa?o medidos individualmente
atrave?s de separadores e apo?s isso e? feita a medic?a?o da vaza?o de cada fluido.
A utilizac?a?o desse processo requer uma se?rie de exige?ncias: infra-estrutura,
qualificac?a?o profissional, medidores de vaza?o convencionais. Outros aspectos
em relac?a?o ao separador convencional sa?o: eficie?ncia abaixo de 100%, erros
sistema?ticos devido a contaminac?a?o dos separadores, desgaste f??sico dos sepa-
radores devido ao tempo de utilizac?a?o, alterac?a?o das condic?o?es operacionais.

1.2 Medic?a?o de vaza?o

Vaza?o e? a quantidade de fluido que passa pela sec?a?o reta de um duto, por
unidade de tempo, pode ser medida em volume (vaza?o volume?trica) ou em
massa (vaza?o ma?ssica). Quando se trata de vaza?o volume?trica, nos casos de
fluidos compress??veis, exemplo gases, e? necessa?rio especificar a refere?ncia do
volume em relac?a?o a?s condic?o?es de temperatura e pressa?o de operac?a?o, ou se
e? convertido a?s condic?o?es de refere?ncia [9].



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 6

Na Equac?a?o 1.1 se tem a definic?a?o da vaza?o volu?me?trica e na Equac?a?o 1.2 a
definic?a?o da vaza?o ma?ssica.

Q? = Q =
volume

tempo
(1.1)

W? = W =
massa

tempo
(1.2)

Percebe-se que existe uma relac?a?o entre as vazo?es ma?ssica e volume?trica que
e? dada pela Equac?a?o 1.3. Essa relac?a?o e? a densidade e pode ser vista na
Equac?a?o 1.4.

W = ?Q (1.3)

? =
W

Q
(1.4)

Como exemplo de unidade de vaza?o ma?ssica e? o kilograma por hora (kg/h) e
para a vaza?o volume?trica tem o metro cu?bico por hora (m3/h). Uma unidade
muito usada e? barris por dia (barrels per day ou bpd).

1.2.1 Medidores de vaza?o

A seguir mostra-se a listagem dos principais medidores de vaza?o existentes
no mercado:

• Diferencial de pressa?o:

– Placa de orif??cio;

– Bocais de vaza?o; e

– Venturi.

• Tubo de pitot;

• Efeito coriolis;

• Eletromagne?tico;

• Te?rmico;

• Ultras-so?nico;



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 7

• Vo?rtice;

• Correlac?a?o cruzada; e

• Laser.

A seguir apresenta-se detalhes adicionais das te?cnicas mais comumentes uti-
lizadas em aplicac?a?o de medic?a?o de petro?leo, sa?o elas: diferencial de pressa?o
e correlac?a?o cruzada.

1.2.2 Diferencial de pressa?o

Os elementos geradores de pressa?o diferencial constituem-se em restric?o?es
para o fluxo quando montados em tubos. A ana?lise do comportamento da
pressa?o indica estabilidade na regia?o montante do elemento prima?rio, com
pequeno aumento na regia?o adjacente a? placa. Apo?s a passagem do flu??do pelo
orif??cio ocorre uma queda brusca na pressa?o, iniciando-se, posteriormente, a
recuperac?a?o parcial.

Equac?a?o da continuidade

A Equac?a?o 1.5 e? denominada equac?a?o de Bernoulli para fluidos incompress??veis.
Estabelece a relac?a?o entre as velocidades e as presso?es, numa tubulac?a?o, cujo
dia?metro tem variac?a?o, num certo trecho, ao passar de uma sec?a?o 1 para um
sec?a?o 2. E? uma consequencia da conservac?a?o da energia. Aplicada a l??quidos
incompress??veis que fluem em tubulac?a?o completamente preenchida.

V 21
2

+
P21
?

=
V 22
2

+
P22
?

(1.5)

Considerando a conservac?a?o da massa, a vaza?o volume?trica pode ser dada
num determinado instante pelo produto velocidade por sec?a?o [9], como visto
na Equac?a?o 1.6, em que a sec?a?o varia de S1 para S2.

S1.V1 = S2V2 = QV (1.6)

Manipulando a Equac?a?o 1.5 e empregando os simbolos ? e E, chega-se a
Equac?a?o 1.7 que calcula a vaza?o em func?a?o das dimenso?es da tubulac?a?o, sendo
a expressa?o teo?rica fundamental que gera as demais equac?o?es na medic?a?o de
vaza?o.

V1 = E.?
2.

?
2

?
.(P1 ?P2) (1.7)



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 8

em que,

E =
1?

(1 ??4)

? =
d

D

d = dia?metro da sec?a?o 1
D = dia?metro da sec?a?o 2

Coeficiente de descarga
Ele permite o uso pra?tico da equac?a?o de Bernoulli. Seu ca?lculo e? atrave?s da
relac?a?o entre as vazo?es real e vaza?o teo?rica, Equac?a?o 1.8

C =
V azaoreal
V azaoteorica

(1.8)

Nu?mero de Reynolds
Classifica os escoamentos em relac?a?o a velocidade. E? calculado como o pro-
duto da velocidade do escoamento pelo dia?metro da tubulac?a?o dividido pela
viscosidade.

Re = V.
D

?
(1.9)

em que, V = velocidade (m/s), D = dia?metro (m), ? = viscosidade (m2/s ).

De acordo com o nu?mero de Reynolds, os escoamentos podem ser classifica-
dos em:

• Re &amp;lt;2000, regime laminar;

• 2000 ? Re ? 4000, regime transito?rio; e

• Re ? 4000 , regime turbulento.

Os medidores de pressa?o diferencial sa?o bastante citados por autores, devido
sua robustez, confiabilidade e baixo custo de construc?a?o e manutenc?a?o. Os
medidores por diferencial de pressa?o sa?o classificados em: orif??cio, bocal e
venturi.



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 9

• As placas de orif??cio: Sa?o indicadas para medic?a?o de l??quidos, gases
e vapores. A relac?a?o entre a vaza?o e o diferencial de pressa?o segue a
Equac?a?o 1.7.

• Bocal de vaza?o: Seu princ??pio de operac?a?o e? ide?ntico ao das placas
de orif??cio, constituindo-se em elemento prima?rio gerador de pressa?o
diferencial.
Pode operar com: l??quidos limpos, sujos, viscosos ou corrosivos, gases
limpos ou sujos e vapor.

A aplicac?a?o principal dos Bocais e? a medic?a?o de vapor em regime severo
de pressa?o, temperatura e velocidade; pela sua rigidez e? dimensional-
mente mais esta?vel que as placas de orif??cio em velocidade e tempe-
ratura elevadas; e? o caso t??pico do vapor superaquecido em sa??das de
caldeira.

• Venturi: Pode operar com l??quidos, gases e vapor. Sa?o instalados em
se?rie com a tubulac?a?o e a passagem do flu??do pela garganta gera au-
mento da velocidade e reduc?a?o da pressa?o esta?tica do flu??do. Dentre
as aplicac?o?es do Venturi destaca-se a medic?a?o de ar de combusta?o de
caldeiras, gases de baixa pressa?o onde se requer perda de carga per-
manente reduzida e, pelo mesmo motivo, medic?a?o de a?gua em grandes
dutos.

Dentre os medidores baseados em diferencial de pressa?o, destaca-se o venturi
[5]. Placas de orif??cio e bocais podem ser utilizados, mas podem causar
turbule?ncias a jusante dos mesmos, favorecendo a emulsificac?a?o da mistura,
feno?meno na?o desejado [3].

1.2.3 Correlac?a?o cruzada

A correlac?a?o e? uma te?cnica bastante utilizada em medic?o?es. Ela pode ser
usada para identificar caracter??sticas dina?micas de sistemas de telecomu-
nicac?o?es, estruturais e de processo. A correlac?a?o cruzada pode ser usada
para desenvolver medidores de vaza?o para solucionar problemas industriais
e ambientais, que va?o desde o fluxo de l??quidos altamente polu??dos em tubos
para o fluxo de ga?s a partir de jatos vulca?nicos. Medidores de vaza?o por cor-
relac?a?o cruzada tornaram-se uma proposta realista por causa da reduc?a?o do
custo de circuitos integrados VLSI (Very Large Scale Integration) e micropro-
cessadores a partir do qual o dispositivo de correlac?a?o podem ser realizados.



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 10

A correlac?a?o cruzada pode ser utilizada em sistemas de radares, sonares e
uma de suas vantagens e? poder descartar sinais de ru??do [45].E? definido como
apresentado a seguir.

Rxy(?) =
1

T

? T
0

x(t? ?)y(t)dt. (1.10)

em que,
x(t) e y(t) - sa?o os sinais
? - Tempo de atraso
T - per??odo de integrac?a?o

A func?a?o de correlac?a?o cruzada, Rxy e? calculada para diferentes valores do
tempo de atraso, ?. Ela apresenta um valor ma?ximo quando o tempo de
atraso e? igual ao tempo de propagac?a?o, ??. Assim a velocidade do escoamento
pode ser calculada, como mostrado a seguir.

V =
L

??
(1.11)

em que L e? o espac?o entre os pontos que esta?o sendo medidos.

Entre os sinais que podem ser usados para aplicac?a?o da te?cnica de Correlac?a?o
cruzada pode-se citar:

1. Microondas;

2. Raios gama;

3. Diferencial de pressa?o; e

4. Impeda?ncia ele?trica.

1.3 Medic?a?o da vaza?o multifa?sica

E? a medic?a?o da vaza?o de um escoamento de duas ou mais fases sem a se-
parac?a?o pre?via das mesmas antes de entrar no medidor. Por outro lado, a
medic?a?o sem perturbac?a?o do escoamento pode-se tornar complexa, depen-
dendo do padra?o de escoamento encontrado [11] [12] [14].

A medic?a?o multifa?sica em substituic?a?o a medic?a?o convencional, na indu?stria
do petro?leo, pode trazer benef??cios para o sistema de produc?a?o [19]. As
alternativas existentes para medic?a?o de vaza?o em escoamentos multifa?sicos
podem ser enquadradas dentro de tre?s conceitos fundamentais [26]:



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 11

1. Realizac?a?o das medic?o?es sem perturbac?a?o do escoamento, independen-
temente do padra?o em que este se encontre;

2. Assumindo que na?o ha? escorregamento de fase, criando um escoamento
disperso e medic?a?o da vaza?o da mistura mais medic?a?o da fase; e

3. Separac?a?o das fases e medic?a?o da vaza?o de cada uma, utilizando medi-
dores monofa?sicos.

Existem duas formas ba?sicas de medir vaza?o em sistemas trifa?sicos (o?leo-
a?gua-ga?s): a primeira, e? medir para?metros de escoamento que sa?o func?o?es
das tre?s vazo?es e correlacionar estes atrave?s de relac?o?es pre?-estabelecidas
para determinar as vazo?es de cada fase. A segunda opc?a?o e? a medic?a?o direta
de todas as varia?veis necessa?rias, ou seja, a velocidade de cada fase e duas
frac?o?es volume?tricas, onde a terceira pode ser estabelecida pela conservac?a?o
do volume [5].

Os medidores multifa?sicos podem ser separados em duas categorias [22]:

• Medic?a?o por te?cnica de separac?a?o: Devido a dificuldade na medic?a?o
direta de componentes trifa?sicos, te?cnicas de separac?a?o sa?o usadas para
segregar o?leo, a?gua e ga?s. Em seguida casa fluxo e? medido individual-
mente.

Em sistemas de medic?a?o sem separac?a?o, existem tre?s me?todos bastante
utilizados em campo [3]:

– Medidor venturi acompanhado de um medidor de frac?a?o volume?trica
de ga?s baseado em raios gama;

– Diferentes sensores de fluxo para medir a taxa de ga?s e compo-
nentes l??quidos[12]. Na medic?a?o de ga?s u?mido utiliza-se um vortex
para medic?a?o volume?trica e dois venturis de diferentes tamanhos
para determinac?a?o de l??quido/ga?s [13]; e

– Capacita?ncias mu?ltiplas. Este me?todo, bastante utilizado em campo,
se baseia na medic?a?o de capacita?ncia do flu??do atrave?s de duas pla-
cas com eletrodos inseridas no escoamento. O sinal de sa??da e? a
medida da capacita?ncia entre as placas, que depende das proprie-
dades diele?tricas do flu??do que esta passando entre estas. Assim,
colocando-se diferentes sensores, a uma dista?ncia conhecida, pode-
se estimar a partir de uma correlac?a?o, a velocidade das grandes
bolhas de ga?s (slugs ), que e? considerada como a velocidade me?dia
do ga?s.



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 12

• Medic?a?o online: A nova gerac?a?o de medidores multifa?sicos usa a
medic?a?o direta para reduzir o espac?o exigido pelas plataformas e poc?os
de petro?leo. Eles sa?o compactos e tem sensores na?o intrusivos.

– maior rapidez na leituras;

– possibilidade de medic?o?es feitas em tempo real;

– possibilidade de explorac?a?o de reservato?rios que eram invia?veis
economicamente; e

– melhor controle de vaza?o de ga?s das va?lvulas de ga?s lift.

A vaza?o e? dada pelo produto velocidade, a?rea e frac?a?o volume?trica, Equac?a?o
1.12. A vaza?o multifa?sica total e? dada pelo somato?rio da vaza?o de cada
fluido, Equac?a?o 1.13. Na Equac?a?o 1.14 tem-se a vaza?o detalhada com todos
os fluidos multifa?sicos.

Q? = ?Af (1.12)

em que,

Q? - vaza?o
? - velocidade do fluido
A - a?rea da tubulac?a?o
f - frac?a?o volume?trica

Q? = Q?gas + Q?oleo + Q?agua (1.13)

Q? = ?gasAfgas + ?oleoAfoleo + ?aguaAfagua (1.14)

A medic?a?o de escoamentos multifa?sicos e? um processo complexo no qual
existe dificuldade de medir o escoamento por causa da diferenc?a de velocidade
entre os diversos materiais em diferentes fases que compo?em o escoamento.

Um dos principais problemas enfrentados pelos medidores multifa?sicos e? que
existe uma depende?ncia com o regime de escoamento. Na Figura 1.4 sa?o
mostrados tre?s casos de escoamento petro?leo-ga?s com a frac?a?o de volume de
petro?leo a 25%, mas com tre?s tipos de regime de escoamento: (a) homoge?nio,
(b) estratificado e (c) anular. A leitura da frac?a?o volume?trica medida nas fi-
guras foi obtida por um medidor comercial calibrado para regime homoge?nio.



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 13

Sendo assim, se o regime de escoamento muda, erros considera?veis ocorrera?o.
Portanto eles so? podem ser usados com uma gama limitada de padro?es de
escoamento (preferencialmente homoge?nios ou quase homoge?nios). Fluxos de
regime independente sa?o de particular importa?ncia para medic?a?o de vaza?o
em poc?os inclinados, horizontais ou multilaterais (cada vez mais comuns),
porque os regimes de escoamento tendem a ser estratificados ou outros tipos
que sa?o dif??ceis de medir com os medidores multifa?sicos atuais [21]

Figura 1.4: Efeitos do regime de escoamento [21].

Especificac?o?es desejadas

• Sem perda de carga; e

• Separar medic?a?o da vaza?o total e medic?a?o do percentual da fase.

Existem algumas dificuldades para medic?o?es de ga?s-so?lido, sa?o elas: regime
de escoamento, velocidade e acelerac?a?o [27]. Considerando os fundamentos
ba?sicos do escoamento multifa?sico, existem duas dificuldades principais [4] e
[5]:

a) Quantificar o total de o?leo, ga?s e a?gua presente em cada instante na
sec?a?o cruzada

b) Achar a velocidade de cada componente

Foi utilizado um estudo para determinar a influe?ncia de para?metros (viscosi-
dade, pressa?o e temperatura) na medic?a?o do volume de petro?leo. O medidor
utilizado e? o tipo turbina que utiliza a pro?pria energia extra??da da vaza?o
medida para seu funcionamento [28].

Outra forma de medic?a?o das velocidades de o?leo, a?gua e ga?s e? atrave?s da
equalizac?a?o com um misturador.



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 14

Pode-se construir um medidor de vaza?o ma?ssica multifa?sico, ja? que a vaza?o
ma?ssica e? func?a?o da densidade, velocidade e da frac?a?o volume?trica de cada
fase. O medidor seria dividido em tre?s partes:

a) Medidor de frac?a?o volume?trica;

b) Medidor de velocidade; e

c) Medidor de densidade.

A eliminac?a?o de testes com separadores de fase resulta na reduc?a?o de custos.
Os sistemas com medic?a?o multifa?sica possuem uma se?rie de vantagens em
relac?a?o aos sistemas de medic?a?o convencionais:

Incerteza e erro
A incerteza e o erro expressam a variac?a?o de um dado coletado ou lido em
relac?a?o a um valor de refere?ncia. Eles esta?o diretamente ligados durante a
realizac?a?o da medic?a?o. Eles podem ocorrer devido a diversos fatores: te?cnicos
do equipamento, humanos, ambientais [30].

• sensibilidade esta?tica;

• deslocamento do zero;

• deslocamento da sensibilidade;

• linearidade;

• histerese;

• faixa de operac?a?o;

• limiar (threshold);

• resoluc?a?o;

• repetibilidade;

• calibrac?a?o;

• exatida?o; e

• precisa?o.

Exatida?o na medic?a?o
A exatida?o na medic?a?o e? conseque?ncia de alguns efeitos. Destacam-se entre
eles:



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 15

Figura 1.5: Medic?a?o de impeda?ncia automonitorado.

• regime de escoamento;

• depende?ncia da velocidade;

• depende?ncia com sensor;

• emulsa?o; e

• salinidade.

1.4 Te?cnicas de medic?a?o de impeda?ncia

A impeda?ncia ele?trica e? definida como a raza?o entre a voltagem de entrada e
corrente resultante. A impeda?ncia meca?nica e? definida como a raza?o da forc?a
aplicada e a velocidade resultante [63]. O transdutor eletromeca?nico, como
um piezoele?trico, fornece uma maneira de se acoplar as impeda?ncias ele?trica
e meca?nica. Sendo mais fa?cil medir a impeda?ncia ele?trica do que a meca?nica,
esta caracter??stica pode ser utilizada com vantagens para muitas aplicac?o?es,
onde a func?a?o de resposta em freque?ncia poderia ser de dif??cil obtenc?a?o [64].

O me?todo da impeda?ncia se coloca como uma te?cnica de auto-monitoramento
[64]. Outro me?todo de auto-monitoramento usando ponte com circuito RC
(resistor-capacitor) com um gerador de sinal e um sensor de acelerac?a?o e? apre-
sentado no trabalho para detecc?a?o de danos utilizando sensores piezoele?tricos
[65]). Como mostrado na figura 1.5

No diagrama, Vc representa o controle de voltagem e a voltagem de sa??da
e? dada pela diferenc?a entre V1 e V2. E? necessa?rio realizar o balanceamento
preciso do circuito (R1 CPZT = R2 CPZT) para prevenir uma contaminac?a?o
no sinal de sa??da. Uma tentativa inicial de balanceamento e? utilizar o PZT
com dimenso?es similares ao do sensor ja? fixado na estrutura. Desta maneira
e? poss??vel obter a real impeda?ncia em func?a?o da freque?ncia.



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 16

Figura 1.6: Sensor capacitivo.

A impeda?ncia ele?trica de um PZT vinculado a estrutura e? igual a tensa?o
ele?trica aplicada no PZT dividido pela corrente ele?trica que atravessa o
mesmo. Na Figura 1.6 exibe-se a voltagem V0 com o resistor Rs em se?rie
com o PZT.

I =
V0
Rs

(1.15)

A impeda?ncia ele?trica (Z) aproximada e?:

Z =
Vi
I

=
Vi.Rs
V0

(1.16)

Entre os sinais que podem ser utilizados na medic?a?o da vaza?o pela te?cnica da
correlac?a?o, pode-se citar a impeda?ncia ele?trica. Instrumentos para medic?a?o
de impeda?ncia podem ser analo?gicos, digitais ou podem ser uma combinac?a?o
dos dois tipos de tecnologia. Instrumentos de medic?a?o analo?gicos sa?o ca-
racterizados por sinais cont??nuos no tempo. Um sistema de medic?a?o pura-
mente analo?gico mede, transmite, mostra e armazena informac?o?es de modo
analo?gico. O condicionamento de sinais e? usualmente realizado atrave?s da
integrac?a?o de va?rios blocos funcionais como amplificadores, filtros, oscilado-
res, moduladores, buffers entre outros. Um tipo de medidor de impeda?ncia
analo?gico bastante comum sa?o os circuitos em ponte. Estes circuitos sa?o ba-
sicamente sistemas com dois terminais sendo que a impeda?ncia a ser medida
e? conectada ao circuito e seu valor e? calculado atrave?s do balanceamento do
circuito [57].

Diversas te?cnicas podem ser usadas para medir impeda?ncia, dentre elas:

• Ohm??metro;

• Impedanc??metro: amplitude-fase, ponte virtual;

• Ponte de Wheatstone; e



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 17

Figura 1.7: Medic?a?o de impeda?ncia: a) me?todo amplitude-fase b) me?todo
ponte virtual.

• Te?cnica s??ncrona ou (Lock-in).

As te?cnicas amplitude fase, ponte virtual, me?todo ponte e algoritmo sine-
fitting possuem limitac?o?es no que diz respeito aos valores das impeda?ncias
de refere?ncia, os quais sempre precisam ser da mesma ordem de grandeza da
impeda?ncia desconhecida para minimizac?a?o dos erros durante o processo de
medic?a?o. Isso ocorre porque os valores das tenso?es nas duas impeda?ncias pre-
cisam possuir valores aproximadamente iguais para diminuir erros de quan-
tizac?a?o durante o processo de conversa?o analo?gico/digital [57].

1.4.1 Impedanc??metro

Considerando que a impeda?ncia desconhecida seja da forma Zx = Rx + jXx,
sa?o feitas duas considerac?o?es:
1) A componente Xx deve ser interpretado de acordo com o tipo de reata?ncia
a ser medida; e
2) A parte real (Rx) indica as perdas.

O sinal senoidal u(t) e a queda de tensa?o vx(t), ilustrado na Figura 1.7, sa?o
medidos, podendo ser convertidos para o dom??nio digital.

Te?cnica amplitude-fase

Na te?cnica Amplitude-fase, Figura 1.7 (a), as partes real e imagina?ria da
impeda?ncia desconhecida podem ser determinadas atrave?s da medic?a?o da



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 18

amplitude, |Zx|, da impeda?ncia e da fase, ?.
Definindo U e Vx como os valores RMS das tenso?es u(t) e vz(t), o mo?dulo de
Zx pode ser obtido atrave?s de

|Zx| =
Vx

U ?Vx
Rr (1.17)

A fase ? da impeda?ncia e? o deslocamento entre a tensa?o vx(t) e a corrente
i(t) que flui na impeda?ncia Zx que e? dada por

i(t) =
u(t) ?vx(t)

Rr
(1.18)

Assim,

Rx = |Zx|cos(?) (1.19)

Xx = |Zx|sin(?)| (1.20)

Te?cnica ponte virtual

A outra te?cnica e? a ponte virtual que consiste em fazer o balanceamento
de um ramo virtual implementado atrave?s de software. como mostrado na
Figura 1.7 (b). O balanceamento da ponte e? feito atrave?s da variac?a?o dos
para?metros da ponte virtual ate? que a diferenc?a entre a tensa?o medida vx(t) e
a tensa?o calculada v(t) seja a m??nima poss??vel. A tensa?o v(t) no ramo virtual
e? caracterizada por uma equac?a?o de diferenc?a e o valor RMS da diferenc?a
entre as tenso?es vx(t) e v(t) e? minimizado atrave?s do ajuste dos para?metros
varia?veis C e R do ramo virtual a cada instante de tempo.

1.4.2 Ponte de Wheatstone

E? um me?todo que permite o controle de uma ponte AC atrave?s da um mi-
croprocessador 8085 [67]. Uma reavaliac?a?o da ponte foi feita utilizando DSP,
conversores de 12 bits, para obter equac?o?es adequadas para uma ra?pida con-
verge?ncia. o desempenho da ponte, Figura 1.8, foi avaliado para medir longas
faixas de impeda?ncia [66].



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 19

Figura 1.8: medidor ponte.

Nesta ponte Vr e Vx sa?o duas fontes de tensa?o senoidal, com mesma freque?ncia
?0, amplitudes diferentes e fases deslocadas. A tensa?o de refere?ncia Vr tem
amplitude constante A e fase zero. Vx tem amplitude e fases deslocadas.

Vr = Asen(?0.t) (1.21)

Vx = Bsen(?0.t + ?) (1.22)

em que B e ? podem ser controlados pelo balanceamento da ponte. Os outros
dois elementos da ponte sa?o a impeda?ncia desconhecida Zx e a impeda?ncia de
refere?ncia Zr. Para simplificar, Zr e? escolhido ser resistivo, Zr=R. Quando a
ponte e? balanceada (a tensa?o e=0), a impeda?ncia desconhecida e? dada por:

Zx = R
B

A
?? (1.23)

Vx pode ser expresso em func?a?o das componentes de fase e quadratura.

Vx = W1A.sen(?0.t) + W2A cos(?0.t) (1.24)

W1 e W2 sa?o os pesos da fase e quadratura, respectivamente. Com B e ?
expressos em termos de W1 e W2, pode-se reescrever

Zx = W1R + jW2R (1.25)

W1.R e W2.R sa?o parte real e parte imagina?ria de Zx

Para balancear a ponte, os valores iniciais de W1 e W2 sa?o escolhidos e o
algoritmo iterativo modifica esses valores a cada intervalo de amostragem
para forc?ar a tensa?o e(t) a zero e a ponte ao estado de equil??brio. Neste
me?todo, a tensa?o erro e(t) a ser minimizada (ale?m de ser func?a?o de W1 e W2,
e? tambe?m func?a?o de outros para?metros conhecidos do circuito) e? amostrada



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 20

periodicamente com per??odo T atrave?s de um conversor analo?gico/digital. A
cada intervalo de amostragem, os valores de W1 e W2 sa?o ajustados de modo
a minimizar o valor do erro quadra?tico e2(t).
As duas tenso?es senoidais Vx a Vr sa?o produzidas internamente e convertidas
para a forma analo?gica por meio de dois DACs que sa?o controlados pelo DSP

Um tipo de Sine-Fitting Algorithm e? usado para determinar as amplitudes,
fases, n??veis DC e a freque?ncia comum de dois sinais analo?gicos que sa?o con-
vertidos para a forma digital. Estes sinais sa?o as quedas de tensa?o atrave?s
de uma impeda?ncia de refere?ncia e de uma impeda?ncia desconhecida. Uma
vez que este algoritmo determina sete para?metros desconhecidos este e? deno-
minado Seven-Parameter Sine-Fitting Algorithm [59]. O grande diferencial
dessa te?cnica e? o ajuste do ganho programa?vel dos conversores de acordo com
o n??vel de tensa?o de entrada [57]

A sine-fitting e? um algoritmo digital que foi utilizado para medic?a?o de im-
peda?ncia. Essa te?cnica foi implementada utilizando computador pessoal, dois
conversores analo?gico/digital e aplica o Four-Parameter Sine-Fitting Algo-
rithm para estimar a amplitude, fase, n??vel DC e freque?ncia dos sinais de
tensa?o em uma impeda?ncia de refere?ncia e em uma impeda?ncia desconhecida
[60].

1.4.3 Medic?a?o com a te?cnica s??ncrona lock-in

Em algumas aplicac?o?es, o sinal a ser medido e? muito pequeno e as vezes esta?
abaixo do n??vel de ru??do. Nesses casos, filtros lineares na?o sa?o suficientes
para extrair o sinal com a informac?a?o, portanto te?cnicas especiais tem que ser
adotadas. Entre as te?cnicas pode-se ter: amplificador lock-in (analo?gico ou
digital), autocorrelac?a?o e correlac?a?o cruzada. Todas essas soluc?o?es, mesmo se
operando com diferentes estrate?gias, aplicam o mesmo princ??pio fundamental,
que consiste em reduzir, o ma?ximo poss??vel, o ru??do de largura de banda [50].

O amplificador lock-in permite aumentar o n??vel dos sinais que esta?o abaixo
do n??vel de ru??do. Para isso, e? feito o estreitamento da banda de freque?ncia
ate? que o sinal fique acima do ru??do [69].

O amplificador lock-in e? um instrumento capaz de recuperar o sinal, utilizado
principalmente em o?tica, mas tambe?m em aplicac?o?es onde o sinal ruidoso,
gerado pelo sensor, tem uma freque?ncia fixa conhecida [71].
Comercialmente os amplificadores lock-in sa?o muito caros e na?o adequados
para aplicac?o?es porta?teis que utilizam uma u?nica ce?lula de bateria [72].



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 21

Sendo assim, o amplificador lock-in possui diversas aplicac?o?es

Na Figura 1.9 apresenta-se o diagrama simplificado do amplificador lock-in.
O diagrama e? formado pelo oscilador externo que e? um gerador de sinal,
modelo PM 5190 LF Synthesizer 1 mHz - 2 MHz. Tambe?m tem dois grandes
blocos o primeiro formado pelo bloco de condicionamento do sinal e o segundo
pelo LabVIEW R©.

Figura 1.9: Diagrama amplificador lock-in.

oscilador: O sinal produzido e? utilizado para isolar a freque?ncia que se
pretende amplificar em meio a uma gama de freque?ncias produzidas pelo
ru??do.
filtro passa-baixa: Tem a func?a?o de eliminar a freque?ncia dobro do sinal
de sa??da do multiplicador porque sa?o multiplicados dois sinais de mesma
freque?ncia e de fases diferentes, restando assim os termos das fases que tera?o
o papel de regulador de amplitude do sinal de sa??da do lock-in.
deslocador de fase: Tem como finalidade deslocar a fase para saber qual
elemento esta? sendo analisado, resistor ou capacitor.

Vosc(t) = Vg?
j?.t (1.26)

Vteste(t) = ?Rr.Vg.[G. cos(?.t + ?) ??.C.sen(?.t + ?)] (1.27)

Vmult(t) = ?Rr.V 2g .[G. cos(?.t + ?) ??.C.sen(?.t + ?)]cos(?.t??) (1.28)



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 22

Vsaida(t) = ?
R.V 2g .Av

2.
?

1 + ?2.R2.C2
[G. cos(? + ?) ??.Csen(? + ?)] (1.29)

Detecc?a?o de banda estreita
Supondo que o lock-in recebe um sinal mais um ru??do, no lugar da senoide
pura. O multiplicador e o filtro passa-baixa apenas detectam sinais cujas
freque?ncias sa?o muito pro?ximas da freque?ncia de refere?ncia do lock-in. O
ru??do, em freque?ncias distantes da de refere?ncia, e? atenuado na sa??da do mul-
tiplicador pelo filtro passa-baixa. O ru??do, nas freque?ncias muito pro?ximas
da freque?ncia de refere?ncia, ira? resultar num sinal AC de freque?ncia muito
baixa na sa??da do multiplicador. A atenuac?a?o desse ru??do ira? depender da
banda do filtro passa-baixa. Uma banda estreita ira? remover as fontes de
ru??do muito pro?ximas a? freque?ncia de refere?ncia. Uma banda muito larga
deixara? esse ru??do passar. A largura de banda do filtro determina a precisa?o
da detecc?a?o. Apenas o sinal na freque?ncia de refere?ncia ira? resultar no ver-
dadeiro sinal DC de sa??da e ele na?o sera? afetado pelo filtro. Esse e? o sinal
que deseja-se medir.

1.5 Organizac?a?o da dissertac?a?o

A motivac?a?o do trabalho e? desenvolver te?cnica de medic?a?o da vaza?o de escoa-
mento multifa?sicos (fluidos com mistura a?gua + ar, a?gua + o?leo, etc.) numa
planta de testes atrave?s da aplicac?a?o da te?cnica de impeda?ncia ele?trica para
posteriormente aplicar a tecnologia em ambientes de poc?os e tubulac?o?es de
petro?leo.

A dissertac?a?o tem como objetivos:

• Desenvolver um medidor de impeda?ncia ele?trica (resiste?ncias e capa-
cita?ncias) utilizando a te?cnica lock-in;

• Comparar os resultados obtidos na medic?a?o com valores padra?o de
refere?ncia;

• Medir simultaneamente a impeda?ncia ele?trica de dois tomo?grafos ins-
talados na planta; e

• Armazenar a leitura da impeda?ncia ele?trica dos tomo?grafos em pilhas.

Atividades a serem realizadas para atingir esses objetivos:



CAPI?TULO 1. MEDIC?A?O DE VAZA?O 23

• Participar no desenvolvimento de um transdutor capacitivo;

• Realizar a medic?a?o com a te?cnica s??ncrona ou lock-in;

• Implementar interface no LabVIEW R©;

• Calibrar o medidor implementado; e

• Implementar rotina concorrente de medic?a?o e armazenamento dos da-
dos coletados.

A dissertac?a?o esta? organizada em quatro cap??tulos.

- No Cap??tulo 1, tem-se a introduc?a?o a? vaza?o multifa?sica, incluindo al-
gumas das suas peculiaridades, te?cnicas de medic?a?o de vaza?o, dando
destaque para medic?a?o por diferencial de pressa?o e medic?a?o por cor-
relac?a?o. Finaliza-se o cap??tulo falando sobre a medic?a?o de impeda?ncia
com a te?cnica lock-in;

- No Cap??tulo 2, apresenta-se o uso do LabVIEW R© na realizac?a?o das
medic?o?es, as te?cnicas de paralelismo utilizadas pelo LabVIEW R© e a im-
plementac?a?o do medidor de impeda?ncia desenvolvido no LabVIEW R©;

- No Cap??tulo 3, apresenta-se o modelo de sistema multieletrodo, o pro-
cesso de paralelismo de dados, a planta de vaza?o, os resultados da
medic?o?es atrave?s das curvas de calibrac?a?o, os resultados e ana?lise da
implementac?a?o do transdutor capacitivo e mostra-se; e

- No Cap??tulo 4, sa?o feitas as concluso?es sobre a medic?a?o de impeda?ncia
com a te?cnica lock-in e sugesto?es de trabalhos futuros.



Cap??tulo 2

Implementac?a?o do medidor

Neste cap??tulo e? apresentada a implementac?a?o do medidor utilizando o apli-
cativo LabVIEW R© e um dispositivo de aquisic?a?o de dados (DAQ). Nessa
implementac?a?o sa?o utilizados recursos de processamento paralelo. Tambe?m
sa?o apresentados o roteiro de implementac?a?o, o diagrama do sistema imple-
mentado e sua caracterizac?a?o. O medidor implementado e? do tipo amplifi-
cador s??ncrono (lock-in), que foi caracterizado utilizando resistor e capacitor
padra?o.

2.1 Proposta de medidor multifa?sico

O objetivo do medidor proposto e? medir a vaza?o por correlac?a?o do sinal da
impeda?ncia e obter o volume da fase pela te?cnica tomogra?fica.
O medidor proposto tem que atingir as seguintes necessidades:

• na?o ser invasivo para eliminar a perda de carga;

• ser seguro para o trabalhador, na?o utilizando componentes radiativos;

• ser robusto para uso em ambientes agressivos; e

• na?o precisar de separador, embora assuma que na?o ocorra escorrega-
mento entre fases.

Na Figura 2.1 mostra-se a proposta do medidor multifa?sico usando as te?cnicas
da correlac?a?o cruzada e tomografia.

Para esse medidor as condic?o?es abaixo devem ser atendidas:

24



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 25

Figura 2.1: Proposta do medidor multifa?sico.

1. Considerar o fluido sem escorregamento, ou seja todas as fases esta?o
na mesma velocidade;

2. Medir a frac?a?o volume?trica de cada fase. Para isso utilizar a te?cnica da
tomografia;

3. Medir a velocidade de cada fase. Utilizar a te?cnica da correlac?a?o cru-
zada. Essa te?cnica foi escolhida por causar menos perdas de carga no
fluido; e

4. Calcular a vaza?o de cada fase multiplicando frac?a?o volume?trica, velo-
cidade e a?rea. A vaza?o total sera? o somato?rio da vaza?o de cada fase.

2.2 Processamento Paralelo

A comunicac?a?o entre processos (IPC - Inter-Process Comunication) ocorre
quando dois ou mais processos necessitam compartilhar ou trocar informac?o?es
entre si. Ela e? um mecanismo de comunicac?a?o que usa sistemas de mensagens
que permitem aos processos se comunicarem entre si e sincronizarem as suas
ac?o?es sem a necessidade de compartilhar o mesmo espac?o de enderec?amento
[31]



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 26

A frequente necessidade de comunicac?a?o entre processos faz com que essa
comunicac?a?o ocorra de maneira estruturada e sem interrupc?a?o.
Para que isso ocorra, tre?s to?picos devem ser analisados [32].

• como um processo passa informac?a?o para outro;

• como garantir que dois ou mais processos na?o invadam uns aos outros
quando envolvidos em atividades cr??ticas; e

• depende?ncia entre processos.

O LabVIEW R© e? uma linguagem de programac?a?o gra?fica baseada em fluxo
de dados, em que na?o ha? necessidade de escrever o co?digo especificamente
para ser executado em paralelo. Em termos computacionais, isto e? chamado
paralelismo impl??cito. A linguagem gra?fica LabVIEW R© gerencia um certo
grau de paralelismo de maneira transparente, embora existam recursos na
linguagem para ajudar o compilador na realizac?a?o do paralelismo [35].

Na linguagem de programac?a?o C, cabe ao programador gerenciar o sincro-
nismo atrave?s de te?cnicas comunicac?a?o entre processos, tais como: locks,
mutexes e atomic action. Quando sa?o gerador muitos encadeamentos de ins-
truc?o?es (threads ), esse gerenciamento da sincronizac?a?o torna-se muito dif??cil,
podendo resultar em diversos tipos de travamentos, suspendendo a execuc?a?o
do programa. Exemplos de travamentos sa?o apresentados a seguir [35]:

• Deadlock - os encadeamentos de instruc?o?es (threads ) ficam esperando
em suspenso alguma ac?a?o e na?o podem prosseguir com o processamento;

• Livelock - os (threads ) sa?o colocados em execuc?a?o, mas na?o prosseguem
pois aguardam alguma ac?a?o;

• Race Conditions - o tempo de execuc?a?o do co?digo na?o e? corretamente
gerenciado e dados na?o esta?o dispon??veis no momento certo ou o dato
correto foi sobrescrito; e

• Contenc?a?o de memo?ria - mu?ltiplos threads tentam acessar a memo?ria
ao mesmo tempo.

O aplicativo LabVIEW R© foi desenvolvido para facilitar a implementac?a?o
de processos concorrentes, tornando mais transparente a comunicac?a?o entre
processos. No entanto, existem estrate?gias adicionais para optmizac?a?o do
co?digo. Algumas delas esta?o relacionadas a seguir [35]:



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 27

• Paralelismo de tarefas - dividir o programa em tarefas que podem ter
execuc?a?o paralela;

• Paralelismo de dados - dividir grandes quantidades de dados em sub-
grupos e opera?-los em paralelo; e

• Pipelining - dividir algoritmos sequenciais em esta?gios iguais que sa?o
distribu??dos em mu?ltiplos nu?cleos.

Essas estrate?gias sa?o discutidas a seguir.

2.2.1 Paralelismo de tarefas

Paralelismo de tarefas e? simplesmente a execuc?a?o concorrente de tarefas in-
dependentes. Considere-se um processador de apenas um nu?cleo de processa-
mento que executa um navegador de internet e um editor de texto ao mesmo
tempo. Embora esses aplicativos sejam executados em threads separados, eles
compartilham o mesmo nu?clelo de processamento. O sistema operacional ira?
atribuir tempos de uso do nu?cleo de processamento de maneira alternada
para as duas tarefas em execuc?a?o.

Agora considerando um processador de dois nu?cleos para o processamento
dos mesmos dois programas, os dois aplicativos podem ser executadas inde-
pendentes um do outro. Embora essa independe?ncia pode na?o ser completa,
eles podem necessitar de compartilhar recursos, tais como impressora e rede,
que as impede de executar completamente independente e e? necessa?rio rea-
lizar comunicac?a?o entre processos, mesmo nesse caso [36]. Na Figura 2.2 e?
mostrado um exemplo aplicac?a?o com paralelismo de tarefas no LabVIEW R©.

2.2.2 Paralelismo de dados

O paralelismo de dados e? uma te?cnica de programac?a?o que divide uma grande
quantidade de dados em partes menores que podem ser operadas em para-
lelo. Apo?s os dados serem processados, eles sa?o combinados novamente em
um u?nico conjunto [37]. Na Figura 2.3 e? mostrado o diagrama com o funci-
onamento do paralelismo de dados.

2.2.3 Pepilining

Pipelining e? o processo que divide tarefas sequenciais em esta?gios distintos
que podem ser executados no modelo de linha de produc?a?o paralela [38]. Por



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 28

Figura 2.2: Paralelismo no LabVIEW R©.

Figura 2.3: Te?cnica de paralelismo de dados.

exemplo, numa linha de produc?a?o automatizada sa?o produzidas bicicletas
em tre?s esta?gios sequenciais distintos: construc?a?o do quadro, montagem das
pec?as e pintura. Se individualmente cada processo dure 1 hora, a produc?a?o
de uma bicicleta completa ira? durar 3 horas. O processo pode ser melhorado
criando estac?o?es independentes para cada esta?gio da montagem: construc?a?o,
instalac?a?o e pintura. Nessa condic?a?o, algumas das seque?ncias de fabricac?a?o
da bicicleta podem ser executadas em paralelo. Na Figura 2.4 e? apresentado
o diagrama de produc?a?o desse processo utilizando a te?cnica de pipelining.



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 29

Figura 2.4: Paralelismo com a te?cnica de pipelining.

2.3 Instrumentac?a?o virtual

Com o barateamento dos sistemas computacionais, tornou-se via?vel a rea-
lizac?a?o de instrumentos utilizando computadores. Esses instrumentos sa?o
denominados de virtuais. O instrumento virtual pode ser uma emulac?a?o de
um instrumento real, isto e?, ele e? completamente virtual, ou apenas a in-
terface e? virtual, pois ele e? capaz de interagir com o mundo externo atrave?s
alguma interface de entrada e sa??da de dados. O aplicativo LabVIEW R© e? um
ambiente de programac?a?o gra?fica com mo?dulos pre?-configurados. Assim, ele
possui condic?o?es de criar soluc?o?es definidas pelo usua?rio. Podendo ser usado
na implementac?a?o de instrumentos virtuais para uso na industria, pesquisa,
educac?a?o [29].

Os programas desenvolvidos em LabVIEW R© sa?o chamados de VIs, virtual
instruments ou instrumentos virtuais. Isto e? porque eles se assemelham ao
comportamento de instrumentos reais, tais como: oscilosco?pios, mult??metros
e outros. Cada instrumento virtual no LabVIEW R© e? composto de duas
descric?o?es apresentadas em duas janelas separadas: painel frontal e diagrama
de blocos. A janela do painel frontal e? apresentado normalmente com fundo
cinza e a janela do diagrama de blocos e? apresentada com fundo branco,
como ilustrado na Figura 2.5.

O painel frontal e? usado para implementar a interface humano ma?quina
(IHM). A IHM realiza a comunicac?a?o com o usua?rio. Esse painel e? o que
e? visto durante a execuc?a?o. A maioria dos elementos do painel frontal sa?o
chamados de controles ou indicadores. Controles sa?o usados para inserir
dados pelo usua?rio e indicadores sa?o usados para exibir dados para o usua?rio.
Eles podem ser: Leds, pusbuttons, switches, checkboxes, entre outros.

A segunda janela e? chamada de diagrama de blocos e ela define o compor-
tamento do VI atrave?s de um co?digo gra?fico.



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 30

Figura 2.5: Painel frontal e diagrama de blocos.

2.3.1 Criando um instrumento virtual

A criac?a?o de um instrumento virtual e? de acordo com os itens abaixo e com
fluxo apresentado na Figura 2.6.

1. Abrir o painel frontal do LabVIEW R©. Nele existe a barra de ferramen-
tas para incluir todos componentes;

2. A partir da barra de ferramentas, inserir os controles (entradas) e in-
dicadores (sa??das);

3. Formatar os componentes, conforme necessidade da aplicac?a?o;

4. Abrir o diagrama de blocos. Nele pode-se realizar a programac?a?o de
todos os componentes do sistema;

5. Interligar os controles aos indicadores;

6. Inserir operadores matema?ticos e outros componentes necessa?rios a?
lo?gica;

7. Interligar todos os elementos e finalizar a programac?a?o virtual;

8. Executar o programa e verificar poss??veis erros. Na barra de ferra-
mentas e? poss??vel depurar o programa vendo o fluxo de execuc?a?o das
rotinas; e

9. Testar o funcionamento do programa.



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 31

Figura 2.6: Fluxo de criac?a?o de instrumento virtual.



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 32

Fluxo de dados

Em linguagens de programac?a?o baseadas em textos, a ordem de execuc?a?o
do co?digo e? determinada pela ordem dos comandos no co?digo. Este na?o e? o
caso do LabVIEW R© que tem sua ordem de execuc?a?o determinada pelo fluxo
de dados. Isto implica em duas regras ba?sicas: Cada elemento pode execu-
tar apenas quando recebe todos os dados de suas entradas e cada elemento
somente ira? gerar as sa??das quando estiver completamente finalizado.

Aquisic?a?o de dados

O LabVIEW R© permite a aquisic?a?o e gerac?a?o de dados externos que sa?o feitas
utilizando o DAQ (Dispositivo de Aquisic?a?o). A aquisic?a?o e? feita seguindo o
fluxo exibido na Figura 2.7. Na Tabela 2.1 sa?o mostrados os para?metros do
DAQ 6363, de acordo com especificac?o?es te?cnicas [86].

Tabela 2.1: Para?metros DAQ - 6363.

Para?metros DAQ Valor

Entradas analo?gicas (AI ) 32
Sa??das analo?gicas (AO ) 6
Entradas/Sa??das digitais 48
Nu?m. max amostras por canal AI 2 MS/s
Capacidade ma?xima de sa??da 2 MS/s
Taxa ma?xima de atual. sa??da analo?gica 2,86 MS/s
Taxa ma?xima de entrada/sa??da digital 10 MHz

Utilizando o DAQ 6363, foi criado um gerador de onda para a implementac?a?o
do amplificador lock-in. A sa??da do amplificador e? levada para o oscilosco?pio
e para a entrada do DAQ. O sinal de entrada do DAQ e? utilizado no pro-
cessamento do LabVIEW R©. No circuito final, optou-se por usar um gerador
senoidal externo.

O fluxo apresentado na Figura 2.7 demonstra todo o processo de funciona-
mento do amplificador lock-in.

• O fluxo se inicia pelo gerador de sinas que tem o papel de oscilador
externo gerando um sinal senoidal para a placa de condicionamento. O
gerador permite a variac?a?o da freque?ncia e amplitude;

• O segundo bloco e? o condicionamento do sinal. Ele e? responsa?vel pelo
tratamento e amplificac?a?o do sinal vindo do gerador de onda. O sinal



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 33

gerado e? enviado para o DAQ. E? nele que liga-se o dispositivo sob
teste. Utiliza-se um capacitor padra?o, pore?m esse capacitor possui
capacita?ncias residuais que sa?o devido a pro?pria construc?a?o. O valor
dessa capacita?ncia e? de aproximadamente 40 pF;

• Outro bloco e? o dispositivo de aquisic?a?o de dados (DAQ ). Para essa
aplicac?a?o ele teve duas entradas configuradas, ai0 e ai1. Na entrada
ai0 existe o sinal vindo do oscilador externo e na entrada ai1 o sinal
condicionado originado do circuito de condicionamento;

• O bloco LabVIEW R© representa toda a instrumentac?a?o virtual. Ele e?
responsa?vel pela filtragem dos sinais do oscilador e da placa, produto e
ca?lculo da defasagem entre esses sinais, identificac?a?o do tipo de DST.
O resultado de todo processamento e? exibido nos indicadores e gra?ficos;

• O oscilosco?pio exibe as formas de onda dos sinais.

Figura 2.7: Fluxo de funcionamento do sistema.



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 34

2.3.2 Funcionamento do programa

• Dois sinais sa?o recebidos pelo DAQ, um originado pelo gerador de onda
e outro pela placa de condicionamento de dados do amplificador lock-in
e filtrados individualmente, conforme Figura 2.8 (A). Foram configu-
radas duas entradas no DAQ. ai0 - oscilador externo e ai1 - entrada do
lock-in. Detalhes sobre a pinagem do DAQ podem ser vistos na figura
A.1 do anexo 1;

• Realiza-se a leitura da freque?ncia, amplitude e fase de cada sinal ori-
ginados do oscilador externo e da placa de condicionamento, Figura
2.8 (B). A freque?ncia e amplitude sa?o usados no ca?lculo do dispositivo
sobre teste (DST) e no deslocamento de fase. A fase e? utilizada no
deslocamento de fase e identificac?a?o do tipo de DST;

• O sinal do oscilador externo e? coletado e sofre o deslocamento de fase,
Figura 2.8 (D). Apo?s isso, o sinal e? reconstru??do e exibido no gra?fico
junto com o sinal original, Figura 2.10;

• Na Figura 2.8 (C) tem-se a identificac?a?o do tipo de carga do dispositivo
sobre teste (DST);

• O ca?lculo do DST e? mostrado na Figura 2.8 (E);

• Apo?s os ca?lculos, os resultados sa?o exibidos em indicadores, Figura 2.10
(C); e

• Na Figura 2.10 sa?o exibidos os gra?ficos com as formas de onda dos
sinais de entrada, oscilador externo e o sinal filtrado da tensa?o de sa??da
do amplificador lock-in.

Na Figura 2.8 sa?o exibidos os principais blocos utilizados na aplicac?a?o em
LabVIEW R© e na Figura 2.9 mostra-se a comparac?a?o entre o bloco de funci-
onamento do amplificador lock-in e o diagrama de blocos do LabVIEW R©.



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 35

Figura 2.8: Blocos de telas LabVIEW R©.



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 36

Figura 2.9: Comparac?a?o LabVIEW R© e lock-in.



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 37

2.4 Implementac?a?o do amplificador s??ncrono

O programa em LabVIEW R© foi desenvolvido para realizar a aquisic?a?o dos
sinais vindo da placa de condicionamento. Apo?s a aquisic?a?o o programa
realiza o tratamento do sinal de entrada para fazer a identificac?a?o do tipo de
grandeza que esta? sendo medida: resiste?ncia ou capacita?ncia.

Figura 2.10: Painel frontal do amplificador lock-in.

2.5 Implementac?a?o com va?rios amplificado-

res s??ncronos

Para implementac?a?o com va?rios amplificadores s??ncronos (lock-in) em para-
lelo foi escolhido o DAQmx do LabVIEW R©, devido ser mais flex??vel, possuir
mais func?o?es e ter desempenho melhor que o DAQ [39].

Em uma arquitetura paralela, todas as tarefas DAQmx sa?o configuradas ao
mesmo tempo e todas as tarefas sa?o lidas ou escritas simultaneamente em



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 38

um u?nico ciclo. Isso pode fornecer uma vantagem de desempenho, uma vez
que o LabVIEW R© ira? realizar mu?ltiplas leituras paralelas em segmentos com
va?rios processadores. Ale?m disso, os dados podem ser lidos em cada tarefa
de forma independente, logo que estiver pronto, o que maximiza a eficie?ncia
de cada interac?a?o do loop [40].

Na Figura 2.11 e? mostrada a rotina de inicializac?a?o das tarefas de aquisic?a?o
com DAQmx que consistem em:

1. Criar mu?ltiplos canais virtuais. Na implementac?a?o foram criados os
canais de entrada analo?gica ai0 (sinal do oscilador externo), ai1 (sinal
AQ1 a ser tratado pelo lock-in 1) e ai2 (sinal AQ2 a ser tratado pelo
lock-in 2);

2. Configurar a temporizac?a?o para aquisic?a?o das operac?o?es de dados;

3. Iniciar a execuc?a?o da tarefas; e

4. Ler as amostras das tarefas de aquisic?a?o.

Figura 2.11: Aquisic?a?o dos sinais de entrada

Na Figura 2.12 e? mostrada a filtragem e ca?lculo da diferenc?a de fases

Na Figura 2.13 e? feita a identificac?a?o das cargas

Na Figura 2.14 e? feito o ca?lculo dos valores das impeda?ncias

Nas Figuras 2.15 e 2.16 sa?o apresentados os diagramas de blocos da rotina
para leitura da aquisic?a?o de dados e gravac?a?o nas pilhas P1 e P2.
Na Figura 2.17 e? mostrada multiplicac?a?o dos vetores.

Na Figura 2.18 (a) indicadores com a amplitude e freque?ncia do oscilador
externo, diferenc?a entre as fases, valores das cargas lidas (DST1 e DST2) e
tensa?o de sa??da; (b) identificac?a?o das cargas S1 e S2; (C) Sinal filtrado



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 39

Figura 2.12: Filtragem dos sinais de entrada e ca?lculo da diferenc?a de fase



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 40

Figura 2.13: Identificac?a?o das cargas

Figura 2.14: Ca?lculo dos valores das impeda?ncias



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 41

Figura 2.15: Diagrama de blocos que ler e grava na pilha P1

Figura 2.16: Diagrama de blocos que ler e grava na pilha P2

2.6 Considerac?o?es finais

Nesse cap??tulo foi apresentada a proposta do medidor multifa?sico; apre-
sentado as te?cnicas de paralelismo de dados e descrito a implementac?a?o
do amplificador s??ncrono (lock-in) utilizando blocos virtuais da ferramenta
LabVIEW R©.



CAPI?TULO 2. IMPLEMENTAC?A?O DO MEDIDOR 42

Figura 2.17: Diagrama de blocos com a multiplicac?a?o dos vetores

Figura 2.18: Painel do amplificador lock-in com paralelismo



Cap??tulo 3

Caracterizac?a?o do lock-in

3.1 Sistema multieletrodo e modelo

Na literatura existem diversos trabalhos que utilizam sistemas com multiele-
trodos. Dentre esses, um sistema de computac?a?o em tempo real usado para
medic?a?o de escoamento bifa?sico em campos de petro?leo. O sistema utiliza
uma matriz de ultrassom com sensores capacitivos e de conduta?ncia. A taxa
do escoamento e? medida usando te?cnicas de venturi e pressa?o diferencial
[49].
Abaixo se tem as relac?o?es de equac?o?es obtidas a partir do circuito da Fi-
gura 3.1. Fazendo as manipulac?o?es e considerac?o?es adequadas, chega-se a
conclusa?o que para C0 &gt;&gt; C, Y ? j?C0.

I = j?CV+ + j?C0V (3.1)

j?C0V = j?CV? + I (3.2)

V = V+ + V? (3.3)

V = (
I ? j?C0V

j?C
) ? (

j?C0V ? I
j?C

) (3.4)

V +
j?C0
j?C

V +
j?C0
j?C

V = I(
1

j?C
+

1

j?C
) (3.5)

43



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 44

V

I
=

2
j?C

1 + 2C0
C

(3.6)

Z =
1

j?C

2C

C + 2C0
(3.7)

Y = j?
C

2
(1 +

2C0
C

) (3.8)

Figura 3.1: Relac?a?o entre os eletrodos.

Na Figura 3.2 (a) e? mostrado o modelo com dois eletrodos e na Figura 3.2
(b) o modelo para quatro eletrodos.

Figura 3.2: Modelo (a) dois eletrodos e (b) quatro eletrodos.

3.1.1 Projeto para construc?a?o de sistema multieletrodo

Na figura 3.3 sa?o apresentados os detalhes de construc?a?o do sistema com dois
eletrodos. Uma parte do projeto do medidor mult??fa?sico e? a construc?a?o do



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 45

tomo?grafo que sera? utilizado em conjunto com a te?cnica da correlac?a?o para
realizar a medic?a?o da vaza?o.

Figura 3.3: Detalhe do projeto do sistema com dois eletrodos.

3.2 Caracterizac?a?o do processo de paralelismo

de dados

Nas pro?ximas sec?o?es sera?o descritos o diagrama do sistema multiprocesso de-
senvolvido usando a te?cnica de paralelismo e armazenamento de dados, as for-
mas de aquisic?a?o dos dados por variac?a?o da taxa de amostrac?a?o e freque?ncia
do sinal.

3.2.1 Sistema multiprocessos

Na figura 3.4 e? apresentado o diagrama do sistema multiprocesso desenvol-
vido utilizando te?cnica de paralelismo e armazenamento dos dados em pilhas.
O sistema e? dividido em seis partes:

1. O bloco de aquisic?a?o de dados possui duas varia?veis AQ1 e AQ2 que
representam a aquisic?a?o de impeda?ncias ele?tricas distintas;

2. Os blocos lock-in 1 e lock-in 2 fazem o tratamento dos sinais AQ1 e
AQ2;

3. Apo?s o tratamento do sinal pelos blocos lock-in 1 e lock-in 2, os resul-
tados sa?o transferidos para os blocos de leitura das pilhas. Nesse bloco



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 46

a pilha 1 armazena os resultados do lock-in 1 e a pilha 2 armazena
os blocos do lock-in 2. Cada pilha possui uma varia?vel sema?foro que
indica que a pilha esta? cheia ou na?o. Na pilha 1 o sema?foro e? S1 na
pilha 2 o sema?foro e? S2;

4. A partir do momento que as pilhas esta?o completamento preenchidas os
sema?foros iniciam o processo de gravac?a?o das pilhas ao mesmo tempo.
Cada pilha possui um somato?rio dos valores. Os valores armazenados
na pilha sa?o elevados ao quadrado;

5. Os quadrados dos valores armazenados na pilha sa?o multiplicados um
a um, sendo feito o somato?rio dessas multiplicac?o?es; e

6. Por fim se extrai a raiz quadrada do somato?rio entre os produtos das
pilhas, que e? um valor constante.

Figura 3.4: Sistema multiprocessos.

O painel frontal do Sistema Multiprocesso e? exibido na Figura 3.5. Abaixo
a descric?a?o de todas as varia?veis.

Abaixo a descric?a?o de todas as varia?veis:

• n - indica o tamanho da pilha;



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 47

• S1 e S2 - sa?o os sema?foros dos vetores Pilha 1 e Pilha 2. Quando os
vetores esta?o completamente preenchidos os sema?foros sa?o setados para
indicar a pilha esta? cheia;

• A pilha estando cheia os vetores Grava Pilha 1 e Grava Pilha 2 sa?o
preenchidos automaticamente com o quadrado de Pilha 1 e Pilha 2,
respectivamente;

• O vetor resultado armazena a multiplicac?a?o entre os vetores Grava
Pilha 1 e Grava Pilha 2;

• Soma Pilha 1 - realiza o somato?rio do vetor Pilha 1;

• Soma Pilha 2 - realiza o somato?rio do vetor Pilha 2;

• Soma produto - realiza o somato?rio do produto entre Grava Pilha 1 e
Grava Pilha 2; e

• Raiz soma produto - e? o resultado da raiz quadrada de Soma Produto.

O resultado do ca?lculo das impeda?ncias dos dispositivos sobre teste (DST)
e? exibido na Figura 3.6.

Figura 3.5: Tela processamento da pilha.



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 48

Figura 3.6: Painel frontal com resultado das impeda?ncias.

3.2.2 Variac?a?o da taxa de amostragem

Na aquisic?a?o de dados variando a taxa de amostragem procurou-se alterar
as caracter??sticas abaixo para avaliar o desempenho do sistema:

1. Definic?a?o dos sensores S1 e S2 como sendo os valores recebidos nas
entradas analo?gicas ai1 e ai2;

2. Definida da configurac?a?o do DAQmx em Continuous Samples e Sample
Clock ;

3. Variac?a?o do para?metro Sample Clock do DAQmx em 1 mil, 10 mil e
100 mil amostras/segundo para leitura dos sensores, conforme Figura
3.7;

4. Definic?a?o do tamanho de armazenamento das pilhas P1 e P2 como 2n,
onde n e? um valor nume?rico definido pelo usua?rio;

5. Leitura dos dados coletados dos sensores e armazenados nas pilhas P1
e P2;

6. Gravac?a?o dos dados lidos nas pilhas P1 e P2. A partir do momento que
a leitura dos dados atingiu o tamanho da pilha, os dados sa?o gravados;

7. Multiplicac?a?o entre as pilhas P1 e P2;

8. Soma dos valores lidos nas pilhas P1 e P2;

9. Soma do resultado do produto entre as pilhas P1 e P2;

10. Ca?lculo da raiz quadrada da soma dos produtos das pilhas P1 e P2; e

11. Exportac?a?o de todos os dados para arquivo texto.



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 49

3.2.3 Variac?a?o da freque?ncia do sinal

Na aquisic?a?o de dados com variac?a?o da freque?ncia procurou-se alterar as
freque?ncias do gerador de sinal e avaliar o comportamento do sistema, con-
forme caracter??sticas abaixo:

1. Definic?a?o dos sensores S1 e S2 como sendo os valores recebidos nas
entradas analo?gicas ai1 e ai2;

2. Variac?a?o da freque?ncia do gerador de func?o?es em 400 Hz, 500 Hz, 1
kHz, 1,5 kHz e 2 kHz para leitura dos sensores;

3. Definic?a?o do tamanho de armazenamento das pilhas P1 e P2 como 2n,
onde n e? um valor nume?rico definido pelo usua?rio;

4. Leitura dos dados coletados dos sensores e armazenados nas pilhas P1
e P2;

5. Gravac?a?o dos dados lidos nas pilhas P1 e P2. A partir do momento que
a leitura dos dados atingiu o tamanho da pilha, os dados sa?o gravados;

6. Multiplicac?a?o entre as pilhas P1 e P2;

7. Soma dos valores lidos nas pilhas P1 e P2;

8. Soma do resultado do produto entre as pilhas P1 e P2;

9. Ca?lculo da raiz quadrada da soma dos produtos das pilhas P1 e P2; e

10. Exportac?a?o de todos os dados para arquivo texto.

Figura 3.7: Variac?a?o da taxa de amostragem no DAQmx.



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 50

3.3 Planta de vaza?o

O sistema de medic?a?o constru??do esta? acoplado a uma planta para ensaio em
medidores de vaza?o existente no Laborato?rio de Dispositivos e Nanoestrutu-
ras, Figura 3.8.

Figura 3.8: Planta para ensaio em medidores de vaza?o.

Essa planta e? composta de:

• Tanque com separador;

• Inversor WEG CFW 09 :O inversor recebe do CLP o comando para
alterac?a?o da velocidade. O comando do CLP para ajuste de velocidade
e? atrave?s de linguagem ladder ;

• CLP ALTUS PO3042 com mo?dulos de entrada/sa??da;

• Interface homem ma?quina IHM CIMREX 12 : e? o meio de comunicac?a?o
entre o CLP e o inversor. Ela altera os para?metros de funcionamento
da planta;

• Tubo venturi ;

• Dens??metro;



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 51

• Sensores de pressa?o: Modelo PCB se?rie 1503, tem seu principio de
funcionamento atrave?s da piezoresistividade Gera um sinal de sa??da na
faixa de 4 a 20 mA proporcional a variac?a?o da resiste?ncia;

• Sensor acelero?metro: Modelo ENDEVCO 7703-1000, possui um ele-
mento de cristal e tem seu princ??pio de funcionamento atrave?s da pie-
zoeletricidade. E? projetado para medic?a?o de vibrac?a?o em estruturas e
objetos, sendo extremamente esta?vel e resistente a?s condic?o?es ambien-
tais. Eles sa?o capazes de trabalhar com temperaturas ate? 288 graus;

• Sensor microfone:Modelo 106B tem seu princ??pio de funcionamento
baseado na piezoeletricidade. Tem em seu interior um cristal de quartzo
que gera uma tensa?o proporcional a vibrac?a?o monitorada; e

• Bomba de vaza?o: A bomba de vaza?o modelo DANCOR, e? utilizada
para gerar a circulac?a?o do fluido pelas tubulac?o?es da planta. Possui
dois po?los de rotac?a?o, 3450 rpm, 60 Hz, monofa?sico e trifa?sico.

3.4 Curvas de calibrac?a?o

O amplificador s??ncrono (lock-in) tem como entrada um sinal amplificado
e defasado em relac?a?o ao sinal do oscilador e que carrega a informac?a?o da
admita?ncia do dispositivo sob teste. Nesta sec?a?o sa?o apresentados os gra?ficos
comparando a teoria com os resultados experimentais das tenso?es de sa??da.
Ale?m disso, tambe?m sa?o apresentadas as comparac?o?es da medic?a?o direta das
grandezas. Utilizou-se um mult??metro comercial e comparou-se o resultado
desse mult??metro com o valor nominal e o resultado da medic?a?o com ampli-
ficador lock-in.

Na Figura 3.9 e? apresentado o gra?fico dos valores teo?ricos das tenso?es ele?tricas
calculados usando a Equac?a?o 1.29, para valores de freque?ncia de 100 Hz, 500
Hz, 1 kHz e 10 kHz. Na Tabela A.1, do Ape?ndice A, sa?o apresentados os
dados de refere?ncia para gerac?a?o do gra?fico. O gra?fico e? formado pela relac?a?o
tensa?o e capacita?ncia para os valores de freque?ncia de 100 Hz, 500 Hz, 1 kHz
e 10 kHz.

Na Figura 3.10 e? mostrado o gra?fico com os resultados experimentais obtidos
na sa??da do amplificador lock-in para os valores de freque?ncia de 100 Hz, 500
Hz, 1 kHz e 10 kHz. Percebe-se que a tensa?o de sa??da satura na freque?ncia
de 500 Hz para capacita?ncias acima de 7,5 pF e na freque?ncia de 1 kHz para



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 52

capacita?ncias acima de 3,5 pF. Na Tabela A.2, do Ape?ndice A, sa?o apresen-
tados os dados do gra?fico que e? formado pela relac?a?o tensa?o e capacita?ncia
para os valores de freque?ncia de 100 Hz, 500 Hz, 1 kHz e 10 kHz.

Figura 3.9: Gra?fico teo?rico da tensa?o de sa??da do lock-in.

3.4.1 Comparac?a?o

O objetivo dessas medic?o?es foi verificar o quanto o resultado do amplificador
lock-in se aproximou do valor nominal.

Na Figura 3.11 sa?o apresentados os valores nominais das capacita?ncias, os va-
lores medidos com o mult??metro MINIPA ET-2053 DMM e os valores medidos
pelo lock-in. Na Figura 3.11 (a) sa?o apresentados os valores de capacita?ncia
ate? 1200 pF e na Figura 3.11 (b) os valores maiores que 1200 pF e menores
que 10000 pF. Os valores nominais e os valores medidos sa?o bem pro?ximos,
pore?m percebe-se que a leitura do lock-in satura a partir 3500 pF, como pode
ser visto na Figura 3.11 (b).

Na Figura 3.12 sa?o mostrados os valores nominais das conduta?ncias, com
base nos valores padra?o RS 201 Precision, e os valores medidos atrave?s do
mult??metro MINIPA ET-2053 DMM e lock-in.
As medic?o?es sa?o muito pro?ximas dos valores nominais, mas percebe-se que
quando se aproxima de 5 uS ocorre a saturac?a?o do valor medido pelo lock-in.



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 53

Figura 3.10: Resultado experimental da tensa?o de sa??da do amplificador
s??ncrono lock-in.

Figura 3.11: Resultado da medic?a?o de capacita?ncia lock-in × mult??metro.

Figura 3.12: Resultado da medic?a?o da conduta?ncia.



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 54

3.5 Resultados da medic?a?o e ana?lise

Nesta sec?a?o sa?o apresentados os resultados obtidos durante as simulac?o?es.
Na Figura 3.13 sa?o apresentados o ambiente e os equipamentos utilizados no
experimento, conforme relac?a?o abaixo:

• Computador PC (Sistema Operacional Microsoft Windows 7 Ultimate,
Processador Intel(R) Core(TM)2 Quad CPU Q9300 2.50GHz, 4 Nu?cleo(s),
4 Processadores Lo?gicos, BIOS Phoenix Technologies, LTD 6.00 PG,
19/02/2009, Memo?ria RAM 2 GB );

• DAQ 6363;

• Placa de condicionamento;

• Fonte Minipa MPC - 303DI;

• Oscilosco?pio - Minipa MO 1222;

• Gerador de sinal PM 5190 LF Synthesizer 1 mHz - 2 MHz;

• Capacitor de precisa?o - CS 301 Precision; e

• Resistor de precisa?o - RS 201 Precision.

Figura 3.13: Ambiente de sismulac?a?o.



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 55

Os equipamentos utilizados no experimento sa?o apresentados na Figura 3.15:
(a) oscilosco?pio; (b) gerador de sinal; (c) componente de precisa?o (resistor
ou capacitor ); (d) placa de condicionamento; (e) DAQ.

Circuito de condicionamento

O circuito de condicionamento e? composto por uma placa de circuito impresso
na qual tem dois conectores BNC que sa?o utilizados para entrada e sa??da do
sinal. A placa recebe o sinal do gerador de onda, que e? aplicado no dispositivo
sob teste (DST). Em seguida, um bloco de conversa?o de corrente em tensa?o
ele?trica condiciona o sinal e o devolve para o DAQ para que esse sinal seja
processado no LabVIEW R©. O dispositivo sobre teste e? conectado a? placa
atrave?s de terminais espec??ficos.

Como carga de entrada, para representar o dispositivo sob teste, foi utilizado
o capacitor padra?o modelo CS-301 Precision Capacitance Substituter - IET
LAB INC. Ele possui dois conectores de sa??da nos quais sa?o ligados dois fios
ate? a placa de condicionamento do sinal de entrada, Figura 3.14 (a), que
permite variac?o?es de valores na faixa de 1 µF ate? 900 pF, como apresentado
no diagrama do amplificador lock-in. Na Figura 3.14 pode-se ver a placa de
condicionamento do sinal tendo um capacitor simples como dispositivo sobre
teste.

Figura 3.14: circuito de condicionamento.

Realizou-se o experimento com o amplificador lock-in gerando sinal para o
DAQ, Figura 3.15 (e). Havia duas possibilidades de simular o amplificador
lock-in: Uma internamente no LabVIEW R©, utilizando os blocos e a outra
externamente, utilizando circuitos integrados. Optou-se por utilizar a placa
externa para obter resultados mais pro?ximos das condic?o?es reais, como pode
ser visto na Figura 3.15 (d). A placa e? composta por dois amplificadores
operacionais. No experimento utilizou-se o amplificador operacional 741.

PROCEDIMENTO
O procedimento consistiu em anotar para cada faixa de freque?ncia o valor



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 56

Figura 3.15: Equipamentos utilizados no experimento.

do sinal de sa??da, conforme fosse modificado os valores de resiste?ncia ou
capacita?ncia. Inicialmente foram feitas medic?o?es com resiste?ncia e depois
com capacita?ncias.
Os seguintes para?metros foram utilizados para melhor visualizac?a?o do sinais:

• Resistor de realimentac?a?o: 2 M?;

• Freque?ncia do gerador: 1 kHz;

• Tensa?o de pico: 5 Vpp;

• Freque?ncia de amostragem: 100 kHz;

• Filtro utilizado: Butterworth; e

• Ordem do filtro: 5.

Com esses para?metros os resultados obtidos foram mais aproximados dos
resultados teo?ricos.

3.5.1 Resultado da visualizac?a?o do deslocamento de
fase

Nesta sec?a?o sa?o apresentados no oscilosco?pio as formas de onda das tenso?es
de sa??da da placa de condicionamento e do oscilador externo.
Esses resultados, visualizados atrave?s de formas de onda no oscilosco?pio,
foram obtidos fazendo a medic?a?o das capacita?ncias padra?o com valores de
100 pF, 200 pF, 500 pF e 1 nF.
Na Figura 3.16 sa?o apresentadas as formas de onda obtidas para a leitura



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 57

das capacita?ncias de 100 pF e 200 pF.
Na Figura 3.17 sa?o apresentadas as formas de onda obtidas para a leitura
das capacita?ncias de 200 pF e 500 pF.
Percebe-se que a medida que se aumenta a capacita?ncia, o forma de onda do
sinal de sa??da do lock-in fica mais distorcido ate? atingir a saturac?a?o.

Figura 3.16: Tenso?es de sa??da para 100 pF e 200 pF.

Figura 3.17: Tenso?es de sa??da para 500 pF e 1 nF.

3.5.2 Resultados obtidos atrave?s do LabVIEW R©

Nesta sec?a?o sa?o apresentados os resultados obtidos atrave?s do LabVIEW R©.
Na Figura 3.18 sa?o mostrados os indicadores para a leitura de um disposi-
tivo com valor de 500 pF. Os indicadores nume?ricos mostram os valores de
amplitude, freque?ncia, o deslocamento e tensa?o de sa??da.
Na Figura 3.19 sa?o exibidas as formas de onda do oscilador externo e do lock-
in para capacita?ncias de 100 pF, 200 pF e 300 pF. Na Figura 3.20 exibe-se as
formas de onda do oscilador externo e do lock-in para capacita?ncias de 500
pF, 1 nF e 1.5 nF. A medida que se aumenta o valor da capacita?ncia, mais
distorcido fica o sinal do lock-in.



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 58

Figura 3.18: Interface homem ma?quina do amplificador lock-in.

Figura 3.19: Formas de onda para capacita?ncias de para 100 pF, 200 pF e
300 pF.

Figura 3.20: Formas de onda para capacita?ncias de 500 pF, 1 nF e 1.5 nF.



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 59

3.5.3 Resultados do sistema multiprocesso

Nesta sec?a?o sera?o apresentados os resultados da medic?a?o do sistema multi-
processo trabalhando com freque?ncia de 1 kHz. Para isso foi utilizado te?cnica
de paralelismo, armazenamento dos dados nas pilhas P1 e P2 com tamanhos
de 16 e 32, taxa de amostragem de 1 mil, 10 mil e 100 mil amostras/segundo.
A pilha P1 e? composta pelas leituras da capacita?ncia S1 e a pilha P2 pelas
leituras da capacita?ncia S2. As capacita?ncias S1 e S2 tem como origem o
mesmo capacitor da placa de aquisic?a?o de dados. Nesse caso foi utilizado um
conector BNC tipo T para derivac?a?o do sinal de sa??da da placa de condici-
onamento, Figura 3.21. Tambe?m sa?o apresentados resultados das medic?o?es
do sistema na forma de tabelas e gra?ficos.

Figura 3.21: Placa de aquisic?a?o com sinal de sa??da derivado com conector
bnc tipo T.

Montagem do experimento

1. Configurar o gerador de sinal para uma senoide com 5 Vpp;

2. Conectar o gerador de sinal a?s entradas da placa de condicionamento,
do oscilosco?pio e da entrada analo?gica ai0 do DAQ ;

3. Inserir um conector BNC tipo T a? sa??da da placa de condicionamento.
Com esse conector o sinal de sa??da da placa foi conectado a mais de
uma entrada; e

4. Conectar as sa??das da placa de condicionamento a?s entradas ai1 e ai2
do DAQ que tera?o o mesmo sinal de refere?ncia, conforme pode ser
visto no diagrama de conexa?o Figura 3.22 e na montagem real do ex-
perimento Figura 3.23.

Procedimento utilizado para medic?a?o

• Tomou-se como refere?ncia para os sensores S1 e S2 a mesma capa-
cita?ncia ligada a? placa de condicionamento, ou seja, S1 e S2 tem o



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 60

Figura 3.22: Diagrama de ligac?a?o placa de condicionamento, DAQ com as
entradas analo?gicas (ai0, ai1 e ai2), gerador de sinal e oscilosco?pio.

Figura 3.23: Interligac?o?es entre o gerador de sinal, oscilosco?pio, placa de
aquisic?a?o e DAQ.



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 61

mesmo sinal vindo da placa de condicionamento, 4,9 pF. Os sinais
existentes nas entradas ai1, referente ao sensor S1, e ai2, referente ao
sensor S2, sa?o tratados individualmente pelo LabVIEW R©;

• Ajuste do para?metro Sample Clock do DAQmx para 1 mil, 10 mil e 100
amostras/segundo;

• Execuc?a?o do programa para leitura das capacita?ncias S1 e S2;

• Armazenamento das leituras das capacita?ncias S1 e S2 nas pilhas P1 e
P2;

• Gravac?a?o das leituras das pilhas em arquivo texto; e

• Gerac?a?o de tabelas e gra?ficos com os resultados. O eixo x dos gra?ficos foi
representado pela varia?vel n que indica a posic?a?o do valor armazenado
em cada pilha.

Foram realizadas cinco coletas de dados para pilhas com 16 posic?o?es, taxas
de amostragem 1 mil, 10 mil e 100 mil amostras/segundo.
Para pilhas com 32 posic?o?es, taxas de amostragem 1 mil, 10 mil e 100 mil
amostras/segundo foram realizadas duas coletas de dados. O tamanho da
pilha foi modificado para ter um nu?mero maior de dados coletados ao mesmo
tempo e para ver o quanto o valor lido se aproxima do valor de refere?ncia.
No experimento foi utilizada uma capacita?ncia como dispositivo sobre teste
no valor de 4,9 pF.

Durante o processamento do sistema multiprocesso as pilhas P1 e P2 sa?o
preenchidas simultaneamente com os dados dos ca?lculos das capacita?ncias.
Observou-se que em alguns momentos houve perda de sincronismo nesse pre-
enchimento. Com isso, uma pilha e? preenchida mais ra?pido que a outra.

Nas tabelas 3.1 a 3.5 sa?o apresentados os valores m??nimo, ma?ximo e me?dio
para taxas de amostragem de 1 mil, 10 mil e 100 mil amostras/segundo e
pilha com 16 posic?o?es de armazenamento para coletas de 1 a 5. A Tabela 3.6
apresenta os valores m??nimo, ma?ximo e me?dio para taxas de amostragem de
1 mil, 10 mil e 100 mil amostras/segundo para a pilha com 32 posic?o?es de
armazenamento.

A Figura 3.24 apresenta o gra?fico dos valores relacionados na tabela 3.1 para
as leituras das capacita?ncias S1 e S2. Percebe-se que mesmo com a mesma
refere?ncia de capacita?ncia, 4,9 pF, S1 e S2 sa?o diferentes. S1 tem valores
entre 3,36 pF e 5,4 pF; S2 tem valores entre 3,07 pF e 5,14 pF, conforme
Tabela 3.1



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 62

Nas Figuras 3.24 e 3.25 sa?o mostradas as leituras das pilhas P1 e P2 com
16 posic?o?es e 32 posic?o?es de armazenamento e taxa de amostragem de 1 mil
amostras/segundo. Percebe-se que a maior variac?a?o das leituras ocorre para
a pilha com 32 posic?o?es na qual os valores ma?ximo e m??nimo sa?o 3,01 pF e
5,2 pF, respectivamente.

Nas Figuras 3.26 e 3.27 sa?o mostradas as leituras das pilhas P1 e P2 com
16 e 32 posic?oes de armazenamento e taxa de amostragem de 10 mil amos-
tras/segundo. Em relac?a?o a Figura 3.24, a Figura 3.26 apresenta os valores
de capacita?ncias mais constantes com variac?o?es de S1 entre 4,87 pF e 5,17,
S2 entre 4,75 pF e 5,04 pF para a pilha com tamanho de 16 posic?o?es. Para
pilha com tamanho de 32 posic?o?es a variac?a?o ocorre para S1 entre 4,85 pF e
5,18 pF, S2 entre 4,57 pF e 5,07 pF. A menor diferenc?a acontece para a pilha
com 32 posic?o?es.

Tabela 3.1: Valores m??nimo, ma?ximo e me?dio em farads (F) - Coleta 1.
Leitura capacita?ncia

Leitura P1 - 16 posic?o?es Leitura P2 - 16 posic?o?es
1 mil 10 mil 100 mil 1 mil 10 mil 100 mil

M??n 3,36E-12 4,87E-12 4,99E-12 3,07E-12 4,75E-12 4,85E-12

Ma?x 5,40E-12 5,17E-12 5,06E-12 5,16E-12 5,04E-12 4,91E-12

Me?dio 4,47E-12 5,02E-12 5,04E-12 4,27E-12 4,89E-12 4,88E-12

Tabela 3.2: Valores m??nimo, ma?ximo e me?dio em farads (F)- coleta 2.
Leitura capacita?ncia

Leitura P1 - 16 posic?o?es Leitura P2 - 16 posic?o?es
1 mil 10 mil 100 mil 1 mil 10 mil 100 mil

M??n 4,36E-12 4,87E-12 4,98E-12 4,65E-12 4,71E-12 4,84E-12

Ma?x 5,10E-12 5,18E-12 5,06E-12 4,92E-12 5,03E-12 4,92E-12

Me?dia 4,73E-12 5,01E-12 5,03E-12 4,74E-12 4,86E-12 4,89E-12

Tabela 3.3: Valores m??nimo, ma?ximo e me?dio em farads (F) - coleta 3.
Leitura capacita?ncia

Leitura P1 - 16 posic?o?es Leitura P2 - 16 posic?o?es
1 mil 10 mil 100 mil 1 mil 10 mil 100 mil

M??n 4,78E-12 4,83E-12 4,98E-12 4,90E-12 4,68E-12 4,82E-12

Ma?x 4,99E-12 5,11E-12 5,07E-12 5,01E-12 5,04E-12 4,92E-12

Me?dia 4,90E-12 5,00E-12 5,03E-12 4,94E-12 4,86E-12 4,88E-12



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 63

Tabela 3.4: Valores m??nimo, ma?ximo e me?dio em farads (F) - coleta 4.
Leitura capacita?ncia

Leitura P1 - 16 posic?o?es Leitura P2 - 16 posic?o?es
1 mil 10 mil 100 mil 1 mil 10 mil 100 mil

M??n 4,73E-12 4,89E-12 4,99E-12 3,60E-12 4,72E-12 4,85E-12

Ma?x 5,16E-12 5,17E-12 5,06E-12 4,73E-12 5,05E-12 4,91E-12

Me?dia 4,94E-12 5,02E-12 5,03E-12 4,30E-12 4,85E-12 4,88E-12

Tabela 3.5: Valores m??nimo, ma?ximo e me?dio em farads (F)- coleta 5.
Leitura capacita?ncia

Leitura P1 - 16 posic?o?es Leitura P2 - 16 posic?o?es
1 mil 10 mil 100 mil 1 mil 10 mil 100 mil

M??n 4,44E-12 3,40E-12 4,99E-12 4,42E-12 4,68E-12 4,56E-12

Ma?x 5,12E-12 5,16E-12 5,06E-12 4,86E-12 5,03E-12 4,91E-12

Me?dia 4,67E-12 4,80E-12 5,04E-12 4,61E-12 4,86E-12 4,86E-12

Tabela 3.6: Valores pilha com 32 posic?o?es de armazenamento em farads (F).
Leitura capacita?ncia

Leitura P1 - 32 posic?o?es Leitura P2 - 32 posic?o?es
1 mil 10 mil 100 mil 1 mil 10 mil 100 mil

M??n 3,01E-12 4,85E-12 4,98E-12 2,87E-12 4,57E-12 4,86E-12

Ma?x 5,20E-12 5,18E-12 5,07E-12 4,89E-12 5,07E-12 4,93E-12

Me?dia 4,61E-12 5,02E-12 5,03E-12 4,26E-12 4,87E-12 4,89E-12

Figura 3.24: Paralelismo com dados armazenados em 16 posic?o?es de memo?ria
e taxa de amostragem de 1 mil amostras/segundo. Com S1 e S2 tendo o
mesmo valor de refere?ncia de 4,9 pF, originado da placa de aquisic?a?o de
dados. A varia?vel n indica a posic?a?o do valor armazenado na pilha.



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 64

Figura 3.25: Paralelismo com dados armazenados em 32 posic?o?es de memo?ria
e taxa de amostragem de 1 mil amostras/segundo. Com S1 e S2 tendo o
mesmo valor de refere?ncia de 4,9 pF, originado da placa de aquisic?a?o de
dados. A varia?vel n indica a posic?a?o do valor armazenado na pilha.

Figura 3.26: Paralelismo com dados armazenados em 16 posic?o?es de memo?ria
e taxa de amostragem de 10 mil amostras/segundo. Com S1 e S2 tendo o
mesmo valor de refere?ncia de 4,9 pF originado da placa de aquisic?a?o de dados.
A vara?vel n indica a posic?a?o do valor armazenado na pilha.



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 65

Figura 3.27: Paralelismo com dados armazenados em 32 posic?o?es de memo?ria
e taxa de amostragem de 10 mil amostras/segundo. Com S1 e S2 tendo o
mesmo valor de refere?ncia de 4,9 pF originado da placa de aquisic?a?o de dados.
A varia?vel n indica a posic?a?o do valor armazenado na pilha.

Tabela 3.7: Resumo dos valores calculados pelo sistema multiprocesso ar-
mazenados nas pilhas com 16 elementos em farads (F) com somato?rio dos
valores armazenados nas pilhas P1 e P2, do produto entre as pilhas P1 e P2,
raiz quadrada do somato?rio dos produtos com taxas de amostragem de 1 mil,
10 mil e 100 mil amostras/segundo (a/s).

Resumo coleta de dados

Taxa Coleta ?P 1 ?P 2 ?ProdP1P2 Raizpilha

1 mil a/s 1 1,19E+015 1,14E+015 1,36E+030 1,16E+015
2 3,62E-022 3,63E-022 8,19E-045 9,05E-023
3 3,86E-022 3,92E-022 9,46E-045 9,72E-023
4 3,94E-022 3,02E-022 7,48E-045 8,65E-023
5 3,55E-022 3,43E-022 7,63E-045 8,73E-023

10 mil a/s 1 4,05E-022 3,84E-022 9,73E-045 9,86E-023
2 4,03E-022 3,79E-022 9,57E-045 9,78E-023
3 4,01E-022 3,79E-022 9,51E-045 9,75E-023
4 4,06E-022 3,79E-022 9,63E-045 9,81E-023
5 3,76E-022 3,80E-022 8,96E-045 9,47E-023

100 mil a/s 1 4,06E-22 3,82E-22 9,70E-45 6,97E+15
2 4,06E-22 3,82E-22 9,69E-45 9,85E-23
3 4,06E-22 3,82E-22 9,71E-45 9,86E-23
4 4,06E-22 3,82E-22 9,68E-45 9,84E-23
5 4,06E-22 3,78E-22 9,60E-45 9,80E-23



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 66

Tabela 3.8: Resumo dos valores calculados pelo sistema multiprocesso ar-
mazenados nas pilhas com 32 elementos em farads (F) com somato?rio dos
valores armazenados nas pilhas P1 e P2, do produto entre as pilhas P1 e P2,
raiz quadrada do somato?rio dos produtos com taxas de amostragem de 1 mil,
10 mil e 100 mil amostras/segundo (a/s).

Resumo coleta de dados

Taxa Coleta
?

P1
?

P2
?

ProdP1P2 Raizpilha

1 mil a/s 1 1,05E+015 1,09E+015 1,15E+030 1,07E+015
2 7,59E-022 7,34E-022 1,75E-044 1,32E-022

10 mil a/s 1 8,08E-022 7,63E-022 1,93E-044 1,39E-022
2 8,11E-022 7,68E-022 1,95E-044 1,40E-022

100 mil a/s 1 8,10E-022 7,66E-022 1,94E-044 1,56E-004
2 8,10E-022 7,65E-022 1,94E-044 1,39E-022

3.5.4 Resultados obtidos com variac?a?o de freque?ncia

Anteriormente trabalhou-se com valor fixo de freque?ncia de 1 kHz e variou-se
a taxa de amostragem. Nas informac?o?es abaixo, conforme pode ser visto na
Tabela 3.9 sa?o exibidas as leituras para as freque?ncias 3 kHz, 4 kHz, 5 kHz,
6 kHz e 7 kHz.

Na Figura 3.28 sa?o exibidas as formas de onda para as freque?ncias entre 3
kHz e 7 kHz. Percebe-se que as leituras com freque?ncia de 5 kHz sa?o as que
mais se aproximam do valor de refere?ncia de 4,9 pF.

Tabela 3.9: Leituras em farads (F) variando entre 3 kHz e 7 kHz.
Leitura Capacita?ncias com 32 amostras

3 kHz 4 kHz 5 kHz 6 kHz 7 kHz

M??nimo 4,76E-012 4,60E-012 4,83E-012 5,31E-012 4,00E-012

Ma?ximo 5,01E-012 4,79E-012 4,95E-012 5,67E-012 4,40E-012

Me?dio 4,90E-012 4,68E-012 4,88E-012 5,51E-012 4,24E-012

Analisando as tabelas e gra?ficos de resultados, observou-se:

• Existe perda de dados durante o processamento, ja? que os valores das
capacita?ncias S1 e S2 divergem do valor de refere?ncia em todos os
resultados;

• Existe perda de sincronismo durante o preenchimento das pilhas de
armazenamento;



CAPI?TULO 3. CARACTERIZAC?A?O DO LOCK-IN 67

Figura 3.28: Leitura da pilha com 100 mil amostras/segundo. n indica a
posic?a?o do valor armazenado na pilha.

• Quanto maior a taxa de amostragem, mais pro?ximos os resultados che-
gam ao valor de refere?ncia;

• Quanto maior o tamanho da pilha de armazenamento, maior e? o erro;

• Os resultados mais divergentes ocorreram para taxa de amostragem de
1 mil amostras/segundo para a pilha com tamanho de 32 posic?o?es e os
melhores resultados sa?o obtidos para uma taxa de amostragem de 10
mil amostras/segundo para uma pilha com tamanho de 16 posic?o?es; e

• Variando-se a freque?ncia do gerador de sinal e deixando fixa a taxa
de amostragem em 100 mil amostras/segundo, os melhores resultados
foram obtidos para freque?ncia de 5 kHz.

3.6 Considerac?o?es finais

Neste cap??tulo foram vistos o modelo com dois e quatro eletrodos; o sistema
multiprocesso desenvolvido utilizando te?cnica de paralelismo e armazena-
mento em pilhas; a calibrac?a?o do instrumento final, utilizando capacitores
e resistores padra?o, tendo seus resultados apresentados em gra?ficos; a com-
posic?a?o da planta de vaza?o e os resultados das medic?o?es com o amplificador
lock-in e com o sistema multiprocesso.



Cap??tulo 4

Concluso?es e trabalhos futuros

Com base nas ana?lises e resultados obtidos, conclui-se que:

• O sistema medidor de impeda?ncia ele?trica desenvolvido no LabVIEW R©
utilizando a te?cnica de detecc?a?o s??ncrona lock-in possibilitou medir va-
lores de capacita?ncias de 2 pF a 3,5 nF e resiste?ncias de 200 k? a 9
M?, trabalhando na freque?ncia de 1 kHz;

• Para valores de capacita?ncia acima de 3,5 nF e valores de resiste?ncia
abaixo de 200 k? e? necessa?rio substituir o resistor da realimentac?a?o do
amplificador operacional;

• Para freque?ncias acima de 10 kHz, podera? ser necessa?rio substituir o
amplificador operacional;

• Alguns fatores como: capacita?ncias parasitas, ru??do, temperatura e
caracter??sticas dos componentes tem influe?ncia direta na medic?a?o e
precisam ser melhor caracterizados;

• A te?cnica de medic?a?o utilizando amplificador lock-in e? satisfato?ria e
possui vantagem em relac?a?o a outras por realizar medic?o?es de sinais
que esta?o abaixo do n??vel de ru??do;

• O sistema de paralelismo implementado possibilitou realizar a aquisic?a?o,
armazenamento e tratamento das leituras de dois sensores em pilhas que
podem ter sua capacidade de armazenamento alterada em 2n, onde n
e? um nu?mero inteiro configurado no sistema;

• Todos os experimentos foram realizados com computador PC (Sis-
tema Operacional Microsoft Windows 7 Ultimate, Processador Intel(R)

68



CAPI?TULO 4. CONCLUSO?ES E TRABALHOS FUTUROS 69

Core(TM)2 Quad CPU Q9300 2.50GHz, 4 Nu?cleo(s), 4 Processadores
Lo?gicos, Memo?ria RAM 2 GB. Tais caracter??sticas do computador in-
fluenciam na velocidade de processamento e no tempo de resposta dos
ca?lculos realizados pelo sistema multiprocesso;

• Procurou-se variar a velocidade de aquisic?a?o dos dados alterando a
taxa de amostragem no DAQmx e a freque?ncia do sinal no gerador de
func?o?es;

• Com a freque?ncia fixa em 1 kHz a taxa de amostragem foi alterada
para 1 mil, 10 mil e 100 mil amostras/segundo. Observou-se que os
resultados mais pro?ximos com o valor de refere?ncia de 4,9 pF foram
obtidos com 10 mil amostras/segundo. Com essa taxa de amostragem
e para o tamanho de pilha de 16 posic?o?es os valores das capacita?ncias
tiveram variac?a?o entre 4,87 pF e 5,17 pF para o sensor S1, para S2 a
variac?a?o foi entre 4,75 pF e 5,04 pF. A pilha com 32 posic?o?es os valores
para S1 variaram entre 4,85 pF e 5,18 pF. Para S2 a variac?a?o foi 4,57
pF e 5,07 pF; O valor m??nimo de taxa de amostragem que o sistema
permitiu fazer os ca?lculos das capacita?ncias foi 1 mil amostras/segundo.

• Existe perda de dados durante o processamento, ja? que os valores das
capacita?ncias S1 e S2 divergem do valor de refere?ncia em todos os
resultados;

• Existe perda de sincronismo durante o preenchimento das pilhas de
armazenamento. Com isso, uma pilha e? preenchida mais ra?pido que a
outra;

• Quanto maior a taxa de amostragem, mais pro?ximos sa?o os resultados
do valor de refere?ncia;

• Quanto maior o tamanho da pilha de armazenamento, maior e? o erro
dos resultados obtidos;

• Todos os resultados tiveram diverge?ncias em relac?a?o ao valor de re-
fere?ncia de 4,9 pF. Contudo, as maiores variac?o?es ocorreram para taxa
de amostragem de 1 mil amostras/segundo para a pilha com tamanho
de 32 posic?o?es e os melhores resultados sa?o obtidos para uma taxa de
amostragem de 10 mil amostras/segundo para uma pilha com tamanho
de 16 posic?o?es;

• Variando-se a freque?ncia do gerador de sinal e deixando fixa a taxa
de amostragem em 100 mil amostras/segundo, os melhores resultados



CAPI?TULO 4. CONCLUSO?ES E TRABALHOS FUTUROS 70

foram obtidos para freque?ncia de 5 kHz que tiveram variac?a?o entre 4,54
pF e 5,94 pF; e

• A menor freque?ncia que o sistema conseguiu realizar os ca?lculos das
capacita?ncias foi 400 Hz.

Trabalhos futuros

• Avaliar o comportamento do sistema para tamanhos de pilhas superi-
ores a 32 posic?o?es de armazenamento;

• Avaliar o desempenho do sistema para freque?ncia de 100 kHz;

• Implementar placa com circuitos contendo os blocos de processamento
para ser capaz de suportar ambiente agressivos que trabalhem com
temperaturas elevadas (poc?os de petro?leo e minas);

• Implementar algoritmos em VHDL que possibilitem substituir func?o?es
do LabVIEW R© e melhorarem os resultados obtidos na medic?a?o; e

• Desenvolver te?cnicas com processamento de sinais capazes de identificar
o comportamento dos sinais obtidos durante o processamento da planta.



Refere?ncias Bibliogra?ficas

[1] The Norwegian Society for Oil and Gas Measurement. Handbook of Mul-
tiphase Flow Metering. Revision 2, March 2005.

[2] Soo, S. L.; Multiphase Fluid Dynamics, Science Press, Beijing, 1995.

[3] Paladino, E. E.; Estudo do Escoamento Multifa?sico em Medidores de
Vaza?o do tipo Pressa?o Diferencial. Tese de Doutorado, UFSC-PPGEM,
2005.

[4] Letton, W.; Svaeren, J.; Conort, G.;Topside and Subsea Experience with
the Multiphase Flow Meter,SPE Annual Technical Conference and Exhi-
bition, SPE 38783, 1997.

[5] Falcone, G.; Hewitt, G. F.; Alimonti, C.; Harrison, B.; Multiphase Flow
Metering: Current Trends and Future Developments, Proceedings of
SPE Annual Technical Conference And Exibition, New Orleans, LA,
EUA, SPE 71474, 2001.

[6] Costa e Silva, C. B.; Silva Filho, J. A. P.; Borges Filho, M. B. Medic?a?o
de vaza?o e propriedades em escoamento multifa?sico: soluc?a?o econo?mica
para diferentes atividades industriais. Boletim te?cnico da Petrobras, Rio
de Janeiro, 43(1):45-61, Jan/Mar 2000.

[7] Agar Corporation; Not All Multiphase Flowmeters Are Created Equal -
Part 1: Search the Fundamentals, Houston.

[8] Agar Corporation; Not All Multiphase Flowmeters Are Created Equal -
Part 2: The Agar Solution, Houston.

[9] Bega, E. A.(organizador);Delme?e, G. J.; Cohn, P. E.; Bulgarelli, R.;
Finkel, V. S.. Instrumentac?a?o Industrial. 2 edic?a?o, Rio de Janeiro: In-
tercie?ncia: IBP,2006.

71



REFERE?NCIAS BIBLIOGRA?FICAS 72

[10] M.J. Economides, A.D. Hill, C. Ehlig-Economides, Petroleum Produc-
tion Systems, Prentice Hall, 1994.

[11] Williams, J.; Status of Multiphase Flow Measurement Research, Procee-
dings of SPE Annual Technical Conference and Exibition, New Orleans,
LA, USA, SPE 28515, 1994.

[12] Mehdizadeh, P.; Farchy, D.; Multi-Phase Flow Metering Using Dissimi-
lar Flow Sensors: Theory and Field Trial Results, Proceedings of SPE
Middle East Oil Show, Bahrain, SPE 29847, 1995.

[13] Agar J.;Farchy, D.; Wet gas metering using dissimilar flow sensors: the-
ory and field trial results, SPE Annual Technical Conference and Exhi-
bition, 2002.

[14] Ribeiro, A.; Developments in Multphase Metering, Proceedings of 7th
Abu Dhabr International Petroleum Exibition and Conference, Abu
Dhabr, SPE 36197, 1996.

[15] Atkinson, D. I.; Berard, M.; Segeral, G.; Qualification of a Non-Intrusive
Multiphase Flow Meter in Viscous Flow, Proceedings of SPE Anual Te-
chnical Conference and Exibition held in Dallas, Texas, October 1 - 4,
SPE 63118, 2000.

[16] Fueki, M.; Urabe, S.; Yamazaki, D.; Yamashita, M.; Development of
Multiphase Flowmeter without Radioactive Source, Proceedings of SPE
Asia Pacific Conference on Integrated Modeling for Asset Management,
Yokohoma, Japan, SPE 59421, 2000.

[17] Lindsay, I., Stimpson, B., Corlett, A.; Advanced Interpretation of Ven-
turi Meter Measurements in Multiphase Flow, Proceedings of SPE An-
nual Technical Conference and Exibition, New Orleans, LA, USA, SPE
71535, 2001.

[18] Vilela, L.A.A.; Gerva?sio, E.S.; Soccol, O.J.; Botrel, T.A.; Sistema para
aquisic?a?o de dados de pressa?o e vaza?o utilizando o microcomputador,
Revista Brasileira de Agrocomputac?a?o, vol.1, no.2, p.25-30, Dez.2001.

[19] Costa e Silva, C. B.; Filho, M. J. B.; Filho, J. A. P. S.; Neto, F. J. S.;
Crite?rio para selec?a?o de medidores multifa?sicos na Petrobras, Bol. te?c.
PETROBRAS, Rio de Janeiro, 42 (1/4): 45-51, jan./dez. 1999.

[20] Cellos, H.; Wee, A.; Multiphase Flow Measurement System of High GOR
Applications, Proceedings of SPE Western Regional Meeting, Anchorage,
Alaska, EUA, SPE 54605, 1999.



REFERE?NCIAS BIBLIOGRA?FICAS 73

[21] Hammer, E.A.; Johansen, G.A.; Process tomography in the oil industry:
state of the art and future possibilities, Meas. Control 212-216, 1997.

[22] I. Ismail; J.C. Gamio; S.F.A. Bukhari; W.Q. Yang; Tomography for
multi-phase flow measurement in the oil industry, Flow Measurement
and Instrumentation, vol. 16, pp. 145-155, 2005.

[23] Huang, S.; Green, R.G.; Plaskowski, A.; Beck, M.S.;, A high frequency
stray-immune capacitance transducer based on the charge transfer prin-
ciple, Instrumentation and Measurement, IEEE Transactions on, vol.37,
no.3, pp. 368-373, Sep. 1988.

[24] Mohamad, E.J.; Rahim, R.A.;, Multiphase flow reconstruction in oil pi-
pelines by portable capacitance tomography, Sensors, 2010 IEEE, pp.273-
278, Nov. 2010.

[25] A. Plaskowski, M.S. Beck, R. Thorn, T. Dyakowski; Imaging Industrial
Flows: Applications of Electrical Process Tomography, Institute of Phy-
sics Publishing, UK, 1995.

[26] Boyer, C.;Lemonnier, H.; Design of a flow metering process for twophase
dispersed flows, International Journal of Multiphase Flow, vol. 22,
pp.713-732, 1996.

[27] S. Liu; Q. Chen; H.G. Wang; F. Jiang; I. Ismail; W.Q.Yang; Electri-
cal capacitance tomography for gas/solids flow measurement for circula-
ting fluidized beds, Flow Measurement and Instrumentation: Sci. Direct,
pp.135-14 Fev. 2005.

[28] Damasceno, M.A.; Penha, J.K.M.; Silva Junior, N.F.; Felipe, R.N.B.
;Felipe, R.C.T.S.; Medeiros, G.G. Influence of the Temperature, Pressure
and Viscosity on the oil Measurement with Turbine Type Measurers,
Brazilian Archive of Biology and Technology, vol.49, Special: pp.65-
71,Jan. 2006.

[29] Ronchi, A. V. M.; Adamatti, L.V.; Silva, T. R. da;, Medidor de vaza?o
ma?ssica de gases tipo turbina, Trabalho de graduac?a?o. UFRGS, 2011.

[30] Franc?a, F.A.; Instrumentac?a?o e medidas: grandezas meca?nicas, UNI-
CAMP, 2007.

[31] Operac?o?es nos Processos. Processos Cooperativos, Comunicac?o?es en-
tre Processos, Introduc?a?o aos Sistemas Operacionais. Dispon??vel em
www.jairo.pro.br, Acesso em 04 de maio de 2013.



REFERE?NCIAS BIBLIOGRA?FICAS 74

[32] Tanenbaum, A. S.;Sistemas Operacionais Modernos, 2 edic?a?o, Sa?o
Paulo: Pearson Prentice Hall, 2003.

[33] Machado, Francis Berenger;Arquitetura de Sistemas Operacionais, 2
edic?a?o, 1997.

[34] Sincronizac?a?o e Comunicac?a?o entre Processos, Sistemas Operacionais.
Dispon??vel em www.uniban.br, Acesso em 04 de maio de 2013.

[35] National Instruments - Developer Zone. LabVIEW 8.5, Dipon??vel em
www.ni.com/white-paper/6514/pt, Publicado em 18 de maio de 2012,
Acesso em 24 de abril de 2013.

[36] National Instruments - Developer Zone. Programming Strate-
gies for Multicore Processing: Task Parallelism, Dipon??vel em
www.ni.com/white-paper/6420/en, Publicado em 06 de dezembro de
2011, Acesso em 24 de abril de 2013.

[37] National Instruments - Developer Zone. Estrate?gias de Programac?a?o
para Processamento Multicore: Paralelismo de Dados, Dipon??vel em
www.ni.com/white-paper/6421/pt, Publicado em 16 de dezembro de
2011, Acesso em 24 de abril de 2013.

[38] National Instruments - Developer Zone. Estrate?gias de Pro-
gramac?a?o para Processadores Multicore:Pipelining, Dipon??vel em
www.ni.com/white-paper/6425/pt, Publicado em 16 de dezembro de
2011, Acesso em 24 de abril de 2013.

[39] National Instruments - Developer Zone. Learn 10 Functions in NI-
DAQmx and Handle 80 Percent of Your Data Acquisition Applications,
Dipon??vel em www.ni.com/white-paper/2835/en, Publicado em 04 de
janeiro de 2012, Acesso em 29 de abril de 2013.

[40] National Instruments - Developer Zone. Exemplo de refere?ncia de trans-
missa?o de dados em alta velocidade para mu?ltiplos dispositi vos DAQmx,
Dipon??vel em www.ni.com/white-paper/5911/pt, Publicado em 20 de
dezembro de 2011, Acesso em 02 de maio de 2013.

[41] Zhang Wenzhao; Liu Zhizhuang; Xu Xiao; Liu Ailing; Chen Aiwu;,A
liquid DP flow sensor on straight pipe, Industrial Mechatronics and Au-
tomation (ICIMA), 2010 2nd International Conference on, vol.1, no.,
pp.481-485, 30-31 May 2010.



REFERE?NCIAS BIBLIOGRA?FICAS 75

[42] Ismail, I.; Shafquet, A.; Karsiti, M.N.;, Application of electrical capaci-
tance tomography and differential pressure measurement in an air-water
bubble column for online analysis of void fraction, Modeling, Simulation
and Applied Optimization (ICMSAO), 2011 4th International Confe-
rence on, pp.1-6, April 2011.

[43] Jian Qiu Zhang; Yong Yan;, Detecting the blockage of the sensing lines
of a differential-pressure flow sensor in a dynamic process using wavelet
transform techniques, Instrumentation and Measurement, IEEE Tran-
sactions on, vol.55, no.4, pp.1443-1448, Aug. 2006.

[44] Jian Qiu Zhang; Yong Yan;, A self-validating differential-pressure flow
sensor [using wavelet transforms], Instrumentation and Measurement
Technology Conference, 2001. IMTC 2001. Proceedings of the 18th
IEEE, vol.2, pp.1227-1230 vol.2, 2001.

[45] Beck, M. S.; Correlation in instruments: cross correlation flowme-
ters,,Journal of Physics E: Scientific Instruments: Instrument Science
and Technology, Vol. 14, 1981.

[46] W. Q. Yang; Beck, M. S.; An inteligent cross correlator for pipeline flow
velocity measurement, Flow Mea. Instrum, vol.8, no.2, pp. 77-84, 1997.

[47] Deng, X.; Dong, F.;Xu, L. J.;Liu, X. P.;Xu, L. A.;The design of a dual-
plane ERT system for cross correlation measurement of bubbly gas/liquid
pipe flow, Institute of Physics Publishing: Meas. Sci. Technol., pp.1024-
1031 Dez. 2001.

[48] Shafquet, Areeba; Ismail, I.; Karsiti, Mohd Noh;, Study of Void Frac-
tion Measurement in a Two Phase Flow by Using Differential Pressure
and Electrical Capacitance Tomography, Mathematical/Analytical Mo-
delling and Computer Simulation (AMS), 2010 Fourth Asia Internatio-
nal Conference on, pp.408-413, 26-28 May. 2010.

[49] Meribout, M.; Al-Rawahi, N.Z.; Al-Naamany, A.M.; Al-Bimani, A.; Al
Busaidi, K.; Meribout, A.;, An Accurate Machine for Real-Time Two-
Phase Flowmetering in a Laboratory-Scale Flow Loop, Instrumentation
and Measurement, IEEE Transactions on, vol.58, no.8, pp.2686-2696,
Aug. 2009.

[50] Falconi, C., Martinelli, E., Natale C. D., Amico, A. D., Maloberti F.,
Malcovati, P., Baschirotto, A., Stornelli, V., Ferri, G., Electronic in-
terfaces, Sensors and Actuators B: Chemical, vol.121, pp.295-329, jan.
2007.



REFERE?NCIAS BIBLIOGRA?FICAS 76

[51] Xiang Deng; Ye Chen; Zengwei Yan; Zheng Wei;, AC Impedance Model
of Array Electrodes in Multisensor Fusion System for Two-Phase Flow
Measurement, Instrumentation and Measurement, IEEE Transactions
on, vol.59, no.6, pp.1722-1726, june. 2010.

[52] Baxter, Larry K. Capacitive sensors: design and application. Nova York:
IEEE, 1997.

[53] H.E. Merritt, Hydraulic Control Systems, John Wiley e Sons, Inc,
NewYork, 1967.

[54] Kang, Jiyeon; Park, Frank C.;, Minimum heat loss control of fluid-
powered systems, Control, Automation and Systems (ICCAS), 2011 11th
International Conference on, pp.1383-1387, Oct. 2011.

[55] Billeter, T. Roger;, Sensor for Measurement of Fuel Rod Gas Pressure
during Loss of Fluid Tests, Nuclear Science, IEEE Transactions on,
vol.27, no.1, pp.826-832, Feb. 1980.

[56] Jiann-Chang Lin; Shuhn-Shyurng Hou; Shu-Jhang Li;, The effects of
temperature-dependent specific heats of the working fluid on the perfor-
mance of a Dual cycle with heat loss and friction, Consumer Electronics,
Communications and Networks (CECNet), 2011 International Confe-
rence on, vol., no., pp.5378-5381, 16-18 April 2011.

[57] Ribeiro, K. C.; Medic?a?o da impeda?ncia utilizando sistemas digitais, Dis-
sertac?a?o de mestrado, UFMG-PPGEE-CPDEE, 2007.

[58] Angrisani, L.; Baccigalupi, A.; Pietrosanto, A.;A digital signal-
processing instrument for impedance measurement, Instrumentation and
Measurement, IEEE Transactions on, vol.45, no.6, pp.930-934, Dec.
1996.

[59] Tomas, R; M. Ramos Pedro; Cruz Serra, A. DSP based portable im-
pedance measurement instrument using sine-fitting algorithms. Procee-
dings of the IEEE Instrumentation and Measurement Technology Con-
ference, 2005. IMTC 2005. vol. 2, pp.1018-1022, May. 2005.

[60] Ramos, P.M.; Silva, M. Fonseca; Serra, A. Cruz. Low frequency impe-
dance measurement using sine-fitting Measurement. Journal of the Inter-
national Measurement Confederation (IMEKO). vol. 35, pp.89-96, Jan.
2004.



REFERE?NCIAS BIBLIOGRA?FICAS 77

[61] Sun, F., Chaudhry, Z., Liang, C., and Rogers, C. A. Truss structure
integrity identification using PZT sensor-actuator. J. Intelligent Mat.
Sys. and Struct. 6, pp.134-139, 1995.

[62] Park, G.; Cudney, H.H; Inman, D.J; Impedance-based health monito-
ring of civil structural components. Journal of infrastructure systems. 6,
pp.153-160, 2000.

[63] Ewins, D. J.;Modal Testing: Theory and Practice. John Wiley e Sons
inc, 1984.

[64] Tebaldi, A.;Detecc?a?o de Falhas Estruturais Usando Sensores e Atua-
dores Piezele?tricos e Algoritmos Gene?ticos. Dissertac?a?o de Mestrado,
(Dem/Feis/Unesp), Ilha Solteira, SP, Brasil, 2003.

[65] De Vera, C. P.; GUEMES, J. A., Embedded Self-Sensing Piezoelectric
for Damage Detection. Proceedings of the International Workshop on
Structural Health Monitoring, September 18-20, Stanford, CA 445-455,
1997.

[66] Awad, S.S.; Narasimhamurthi, N.; Ward, W.H.;, Analysis, design, and
implementation of an AC bridge for impedance measurements, Ins-
trumentation and Measurement, IEEE Transactions on, vol.43, no.6,
pp.894-899, Dec 1994.

[67] Dutta, M.; Rakshid, A.; Battacharyya, S. N.; Choudhwy, J. K.;An ap-
plication of the LMS adaptive algorithm for a digital AC bridge, IEEE
Trans. Instrum. Meas., vol. 36, pp. 894-897, 1987.

[68] Santos, Edval J. P. Sensores Industriais. Recife, 2009/2010.

[69] Santos, Edval J. P. Eletro?nica Analo?gica Integrada e Aplicac?o?es. Recife,
2009/2010.

[70] Thumas, Jose Eduardo. Fundamentos de Engenharia de Petro?leo. 2
edic?a?o, Rio de Janeiro: Intercie?ncia: Petrobras,2004.

[71] Ferri, G., De Laurentiis, P., Di Natale, C., D Amico, A.,A low voltage
integrated CMOS lock in amplifier prototype for LAPS applications, Sen-
sors and Actuators A, vol.92, pp. 263-272, 2001.

[72] Sonnaillon, M. O., Bonetto, F. J.,A low-cost, highperformance, digital
signal processor-based lock-in amplifier capable of measuring multiple fre-
quency sweeps simultaneously, Review of Scientific Instruments, vol.76,
jan. 2005.



REFERE?NCIAS BIBLIOGRA?FICAS 78

[73] An Hu; Chodavarapu, V.P.;,CMOS Optoelectronic Lock-In Amplifier
With Integrated Phototransistor Array, Biomedical Circuits and Sys-
tems, IEEE Transactions, vol.4, no.5, pp.274-280, Oct. 2010.

[74] S. Johnson; M. Thomas; C. Kros; Membrane capacitance measurement
using patch clamp with integrated self-balancing lock-in amplifier, Pflu-
gers Arch-Eur. J. Physiol., vol.443, no.4, pp.653-663, Feb. 2004.

[75] De Marcellis, A.; Ferri, G.; Patrizi, M.; Stornelli, V.; D’Amico, A.;
Di Natale, C.; Martinelli, E.; Alimelli, A.; Paolesse, R.;, An integrated
analog lock-in amplifier for low-voltage low-frequency sensor interface,
Advances in Sensors and Interface, 2007. IWASI 2007. 2nd International
Workshop on, pp.1-5, june 2007.

[76] Gnudi, A.; Colalongo, L.; Baccarani, G.;,Integrated Lock-In Amplifier for
Sensor Applications, Solid-State Circuits Conference, 1999. ESSCIRC
’99. Proceedings of the 25th European, pp.58-61, sept. 1999.

[77] Azzolini, C.; Magnanini, A.; Tonelli, M.; Chiorboli, G.; Morandi,
C.;Integrated lock-in amplifier for contactless interface to magnetically
stimulated mechanical resonators, Design and Technology of Integrated
Systems in Nanoscale Era, 2008. DTIS 2008. 3rd International Confe-
rence on, pp.1-6, mar. 2008.

[78] Yang Qing;Design and simulation of a lock-in amplifier, Cross Strait
Quad-Regional Radio Science and Wireless Technology Conference
(CSQRWC), 2011.

[79] Resende, Leonardo Correia. Desenvolvimento de um Amplificador Lock-
In com DSP operando em Altas Frequ?e?ncias. Dissertac?a?o de mestrado.
Centro Brasileiro de Pesquisas F??sicas-CBPF, 2008.

[80] Kun, C.; Dezhi, Z.; Jianhui, Z.; Shangchun, F.; An Open-Loop Charac-
teristic Testing System of Coriolis Mass Flowmeter Based on Virtual
Instrument Technology, Computing, Control and Industrial Engineering
(CCIE), 2010 International Conference on, vol.2, pp.61-64, June 2010.

[81] Chen Aiwu; Liu Ailin; Liu Zhizhuang; Zhang Wenzhao; Tang Xinling;
Design of flow control system on sprayer, Computer Application and
System Modeling (ICCASM), 2010 International Conference on, vol.12,
pp.V12-577-V12-580, Oct. 2010.



REFERE?NCIAS BIBLIOGRA?FICAS 79

[82] Huang Ming-Jian; Tang Zhen-Juan; Zhu Jiang; Sun Shi-Xiang; Xu
Cui-Cui;Calibration System of Large Diameter Flowmeter Base on Lab-
VIEW, Intelligent Systems and Applications, 2009. ISA 2009. Interna-
tional Workshop on, pp.1-4, may. 2009.

[83] Gan, K.B.; Zahedi, E.; Ali, M.A.M.; Design and Implementation of
A PC-Based Digital Synchronous Detection System for Biological Sig-
nal Measurement, Research and Development, 2007. SCOReD 2007. 5th
Student Conference on, pp.1-4, 12-11 dec. 2007.

[84] Moody, K.L.; Hollingsworth, N.A.; Nielsen, J. -F; Noll, D.; Wright,
S.M.; McDougall, M.P., A LabVIEW-based operating system for parallel
transmit systems, Biomedical Imaging: From Nano to Macro, 2011 IEEE
International Symposium on , pp.771,774, March 30 2011-April 2 2011.

[85] Lunca, E.; Damian, C.; Mariut, F., Simplifying the communication with
I C devices using LabVIEW and the PC’s parallel port, Remote En-
gineering and Virtual Instrumentation (RE V), 2012 9th International
Conference on , pp.1,4, 4-6 July 2012.

[86] National Instruments. NI USB-6363 X Series Data Acquisition - Speci-
fications.



Ape?ndice A

Informac?o?es adicionais

A.1 Diagramas

A pinagem do DAQ utilizado na simulac?a?o e? mostrada na Figura A.1.

A.2 Tabelas

Nas Tabelas A.1, A.2, A.2, A.3, A.4 sa?o mostrados os dados usados na
gerac?a?o dos gra?ficos de resultado das curvas de calibrac?a?o do cap??tulo 3.

80



APE?NDICE A. INFORMAC?O?ES ADICIONAIS 81

Figura A.1: Pinagem dispositivo de aquisic?a?o de dados(DAQ) 6363 [86]



APE?NDICE A. INFORMAC?O?ES ADICIONAIS 82

Tabela A.1: Valores teo?ricos das tenso?es de sa??da por capacita?ncia.
Valores teo?ricos Vsa teo (V)

C(pF) fo=10kHz fo=1kHz fo=500Hz fo=100Hz

100 0,3925 0,03925 0,019625 0,003925

200 0,785 0,0785 0,03925 0,00785

300 1,1775 0,11775 0,058875 0,011775

400 1,57 0,157 0,0785 0,0157

500 1,9625 0,19625 0,098125 0,019625

600 2,355 0,2355 0,11775 0,02355

700 2,7475 0,27475 0,137375 0,027475

800 3,14 0,314 0,157 0,0314

900 3,5325 0,35325 0,176625 0,035325

1000 3,925 0,3925 0,19625 0,03925

1500 5,8875 0,58875 0,294375 0,058875

2000 7,85 0,785 0,3925 0,0785

2500 9,8125 0,98125 0,490625 0,098125

3000 11,775 1,1775 0,58875 0,11775

3500 13,7375 1,37375 0,686875 0,137375

4000 15,77 1,57 0,785 0,15

4500 17,6625 1,76625 0,883125 0,176625

5000 19,625 1,9625 0,98125 0,19625

5500 21,5875 2,15875 1,079375 0,215875

6000 23,55 2,355 1,1775 0,2355

6500 25,5125 2,55125 1,275625 0,255125

7000 27,475 2,7475 1,37375 0,27475

7500 29,4375 2,94375 1,471875 0,294375

8000 31,4 3,14 1,57 0,314

8500 33,3625 3,33625 1,668125 0,333625

9000 35,325 3,5325 1,76625 0,35325



APE?NDICE A. INFORMAC?O?ES ADICIONAIS 83

Tabela A.2: Valores experimentais das tenso?es de sa??da por capacita?ncias.
Foi utilizado um Capacitor de precisa?o - CS 301 Precision com capacita?ncia
residual de 40 pF.

Valores experimentais Vsa exp[V]

C(pF) fo=10kHz fo=1kHz fo=500Hz fo=100Hz

100 0,0950 0,05353 0,02682 0,005468

200 0,8847 0,09361 0,0469 0,0095

300 1,05577 0,1378 0,05971 0,0097

400 1,1323 0,1770 0,08213 0,01477

500 1,1694 0,2070 0,11047 0,01982

600 1,19256 0,2415 0,1146 0,02203

700 1,2068 0,2800 0,1300 0,0305

800 1,2168 0,3230 0,1597 0,03317

900 1,2242 0,3670 0,1859 0,03414

1000 1,2316 0,412 0,2022 0,03364

1500 1,2458 0,627 0,2899 0,0527

2000 1,2514 0,839 0,3983 0,074

2500 1,254 1,006 0,4867 0,094

3000 1,25575 1,218 0,589 0,1139

3500 1,258 1,388 0,7005 0,1285

4000 1,2586 1,105 0,8046 0,1516

4500 1,25905 0,907 0,9046 0,1734

5000 1,2595 0,753 1,0068 0,1882

5500 1,25966 0,631 1,11 0,208

6000 1,25991 0,526 1,15755 0,2313

6500 1,2604 0 1,244 0,243

7000 1,26036 0,3837 1,3245 0,2647

7500 1,26038 0 1,4435 0,2892

8000 1,26046 0,2638 1,34 0,3039

8500 1,2611 0 1,2272 0,3188

9000 1,26096 0,1713 1,1318 0,3378



APE?NDICE A. INFORMAC?O?ES ADICIONAIS 84

Tabela A.3: Comparac?a?o entre medic?o?es. Como refere?ncia foi utilizado um
capacitor de precisa?o - CS 301 Precision com capacita?ncia residual de 40 pF.

Comparac?a?o medic?a?o mult??metro e lock-in.

C (pF) Nominal (pF) Mult??metro(pF) Lock-in (pF) Erro (pF)

0 0 157 41 41

100 100 269 140,42 40,42

200 200 365 244,87 44,87

300 300 484 343,42 43,42

400 400 601 446,22 46,22

500 500 707 544,5 44,5

600 600 816 647,88 47,88

700 700 918 744,59 44,59

800 800 1019 847,6 47,6

900 900 1117 953,55 53,55

1000 1000 1219 1056 56

1500 1500 1716 1574 74

2000 2000 2210 2097 97

2500 2500 2702 2619 119

3000 3000 3188 3079 79

3500 3500 3680 3597 97

4000 4000 4182 2966 1034

4500 4500 4676 2509 1991

5000 5000 5160 2145 2855

5500 5500 5650 1856 3644

6000 6000 6150 1610 4390

6500 6500 6650 1408 5092

7000 7000 7140 1236 5764

7500 7500 7630 1088 6412

8000 8000 8120 960 7040

8500 8500 8620 845 7655

9000 9000 9110 745 8255



APE?NDICE A. INFORMAC?O?ES ADICIONAIS 85

Tabela A.4: Comparac?a?o resultados mult??metro e lock-in. Como refere?ncia
foi utilizado um resistor de precisa?o - RS 201 Precision.

Comparac?a?o medic?o?es lock-in e Mult??metro comercial

R (M?) Nominal (M?) Mult??metro (M?) lock-in (M?) Erro

9,9 9,9 9,83 9,89 0,01

9,8 9,8 9,73 9,8 0

9,7 9,7 9,62 9,7 0

9,6 9,6 9,53 9,6 0

9,5 9,5 9,43 9,48 0,02

9,4 9,4 9,33 9,38 0,02

9,3 9,3 9,23 9,28 0,02

9,2 9,2 9,13 9,18 0,02

9,1 9,1 9,03 9,08 0,02

9 9 8,93 8,99 0,01

8,9 8,9 8,83 8,89 0,01

8,8 8,8 8,74 8,78 0,02

8,7 8,7 8,63 8,69 0,01

8,6 8,6 8,53 8,58 0,02

8,5 8,5 8,43 8,49 0,01

8,4 8,4 8,33 8,38 0,02

8,3 8,3 8,24 8,29 0,01

8,2 8,2 8,14 8,18 0,02

8,1 8,1 8,04 8,08 0,02

8 8 7,94 7,97 0,03

7,9 7,9 7,84 7,9 0

7,8 7,8 7,74 7,79 0,01

7,7 7,7 7,64 7,69 0,01

7,6 7,6 7,54 7,59 0,01

7,5 7,5 7,45 7,49 0,01

7,4 7,4 7,34 7,39 0,01

7,3 7,3 7,24 7,291 0,009

6 6 5,95 5,99 0,01

5 5 4,97 4,99 0,01

4 4 3,97 3,99 0,01

3 3 2,998 2,99 0,01

2 2 2 2 0

1 1 0,998 0,997 0,003

0,5 0,5 0,499 0,498 0,002

0,2 0,2 0,2002 0,199 0,001

0,15 0,15 0,1502 0,272 0,122

0,14 0,14 0,1403 0,319 0,179

0,13 0,13 0,1302 0,396 266

0,12 0,12 0,1202 0,537 0,417

0,11 0,11 0,1101 0,86 0,75

0,1 0,1 0,1001 2,05 1,95


	Page 1

</field>
	</doc>
</add>