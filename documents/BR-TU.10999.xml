<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.10999</field>
		<field name="filename">16208_Antonio_2016.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">
Diogo André Forte Grácio António

Licenciado em Ciências da Engenharia Electrotécnica e de Computadores

Transreceptor Acústico de Comunicação Digital
Sem Fios para Nó Sensor Subaquático

Dissertação para obtenção do Grau de Mestre em

Engenharia Electrotécnica e de Computadores

Orientador: João Pedro Abreu de Oliveira, Professor Auxiliar,
FCT-UNL

Júri

Presidente: Prof. Doutor Rodolfo Alexandre Duarte Oliveira, FCT-UNL
Arguente: Prof. Doutor Arnaldo Guimarães Batista, FCT-UNL

Vogal: Prof. Doutor João Pedro Abreu de Oliveira, FCT-UNL

Março, 2016





Transreceptor Acústico de Comunicação Digital Sem Fios para Nó Sensor Su-
baquático

Copyright © Diogo André Forte Grácio António, Faculdade de Ciências e Tecnologia, Uni-

versidade NOVA de Lisboa.

A Faculdade de Ciências e Tecnologia e a Universidade NOVA de Lisboa têm o direito,

perpétuo e sem limites geográficos, de arquivar e publicar esta dissertação através de

exemplares impressos reproduzidos em papel ou de forma digital, ou por qualquer outro

meio conhecido ou que venha a ser inventado, e de a divulgar através de repositórios

científicos e de admitir a sua cópia e distribuição com objectivos educacionais ou de

investigação, não comerciais, desde que seja dado crédito ao autor e editor.





"A variabilidade do meio aquático é tal, e a uma velocidade tal,
que as condições mudam a cada segundo. Em termos práticos a

transmissão de uma mensagem poderá levar vários segundos,
ficando assim sujeita à variabilidade do meio de propagação."

Sérgio Jesus, coordenador do Laboratório de Processamento de
Sinais (SiPLAB) da Universidade do Algarve e Coordenador do

projecto europeu Underwater Acoustic Network (UAN).





Agradecimentos

Dedico estas breves linhas às pessoas e às entidades que, directa ou indirectamente me

apoiaram ao longo dos últimos anos e me possibilitaram o progresso desta dissertação e

ajudaram a concluir o curso com êxito.

Ao Professor João Pedro Oliveira pelo seu apoio, paciência e palavras de encorajamento

nos momentos mais retrocedidos.

À Professora Helena Fino por todo o apoio e amizade ao longo do meu percurso

académico e pela oportunidade em participar na unidade curricular "Teoria de Circuitos

Eléctricos" como monitor na companhia de bons profissionais. Também não posso ignorar

as restantes pessoas, desde professores a staff da faculdade, que fizeram parte desta minha
jornada.

Aos meus colegas e amigos de electrotécnica, em especial, Tiago Dias, João Santos e

André Rosado que caminharam comigo ao longo destes anos. Que possamos continuar a

disfrutar de bons momentos juntos e acompanhar os sucessos uns dos outros.

Aos amigos João Morcela, Carlos Mendes, Filipe Graça e Pedro Graça deixo uma es-

pecial palavra de apreço, pelo convívio e apoio durante esta dissertação, apesar de não

saberem o que é a lei de ohm, desejando-lhes todo o sucesso nos seus percursos pessoais

e profissionais.

À Faculdade de Ciências e Tecnologias da Universidade Nova de Lisboa, o meu agra-

decimento.

Por último, mas não menos importante, à minha família, por serem aquela pedra basi-

lar de apoio incondicional durante toda a minha formação académica. Ao meu pai pelas

palavras encorajadoras nas horas certas, à minha mãe por estar sempre presente, ao meu

irmão e avós. À minha namorada, Catarina, obrigado por toda a paciência, apoio e amor

que todos os dias enriqueceu a minha vida.

Obrigado a todos!

vii





Resumo

As comunicações digitais em ambientes subaquáticos representam, actualmente, uma

necessidade humana e um desafio à engenharia de sistemas.

As pesquisas acerca de redes subaquáticas de sensores sem fios estão a ganhar cada

vez mais atenção devido às aplicações em diversos cenários, tais como a preservação

de ecossistemas, a prevenção de desastres ambientais, a exploração de petróleo, gás e

reservatórios de água doce e a monitorização de veículos subaquáticos autónomos.

A maioria destas aplicações em meios subaquáticos recorre a sinais acústicos, já que

relativamente a sinais de natureza electromagnética ou óptica, os sinais acústicos sofrem

uma atenuação reduzida. Como os sistemas acústicos possuem uma largura de banda

limitada, é exigido que um sistema de comunicação acústico subaquático seja, simultane-

amente, eficiente na gestão dos recursos que possui e eficaz nos mecanismos que imple-

menta para ultrapassar as limitações impostas pelo canal subaquático de comunicação

acústica.

Enquadrada neste âmbito, a presente dissertação propõe uma solução completa de

um sistema de comunicação digital de sinais acústicos, elemento essencial numa rede de

sensores sem fios subaquática. Para a implementação do modem acústico foram utilizados

componentes que facilitam a manutenção e reduzem o custo do nó. Apresenta um baixo

consumo energético (0.8 W na transmissão e 0.65 W na recepção) com um débito de 300

bps e uma taxa de erro inferior a 10?1.

Palavras-chave: Modem acústico subaquático, redes de sensores sem fios, canal de comu-

nicação acústico, comunicação digital, baixo custo, baixo consumo energético

ix





Abstract

Underwater Digital Communication (UDC) is an essential feature needed to deploy

undersea sensor networks.

Research on underwater networks for wireless sensor nodes is a growing field due its

application in several scenarios, namely in the study of the preservation of ecosystems,

prevention of natural disasters, oil and gas exploration, water reservoirs and monitoring

autonomous underwater vehicles.

The majority of these underwater sensors makes use of acoustic waves for data com-

munication, given their reduced attenuation when compared to electromagnetic and

optical signals. Because of the limited bandwidth of these acoustic signals, an underwa-

ter acoustic communication system needs to be, simultaneously, efficient on its resources
management and on the mechanisms that it implements to overcome the limitations

given by the acoustic communication channel.

Regarding this issue, this present thesis proposes a complete solution to a digital com-

munication system of acoustic signals, an essential element in an underwater wireless

sensor network. To implement the acoustic modem, some components were used that

facilitate its maintenance and reduce the cost. It has a low power consumption (0.8 W at

transmission and 0.65 W at reception) with a data rate of 300 bps and a bit error rate of

less than 10?1.

Keywords: Underwater acoustic modem, wireless sensor network, acoustic communica-

tion channel, digital communication, low-cost, low-energy

xi





Índice

Lista de Figuras xv

Lista de Tabelas xix

Siglas xxi

1 Introdução 1

1.1 Motivação . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1

1.2 Objectivo . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2

1.3 Estrutura da Dissertação . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3

2 Comunicações Digitais em Ambiente Subaquático 5

2.1 Rede de Sensores em Ambiente Subaquático . . . . . . . . . . . . . . . . . 5

2.2 Comunicações Subaquáticas Suportadas em Ondas Electromagnéticas . . 7

2.2.1 Ondas de Rádio Frequência . . . . . . . . . . . . . . . . . . . . . . 7

2.2.2 Ondas Ópticas . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10

2.3 Comunicações Subaquáticas Suportadas em Ondas Acústicas . . . . . . . 11

2.3.1 Caracterização do Meio de Suporte ao Canal Acústico . . . . . . . 11

2.3.2 Propagação Acústica . . . . . . . . . . . . . . . . . . . . . . . . . . 14

2.3.3 Sistemas Acústicos Subaquáticos Existentes . . . . . . . . . . . . . 20

2.4 Conclusões . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26

3 Transreceptor Acústico para Comunicações Digitais Subaquáticas 27

3.1 Arquitectura do Sistema e Orçamento da Ligação . . . . . . . . . . . . . . 27

3.2 Transdutores Electroacústicos . . . . . . . . . . . . . . . . . . . . . . . . . 29

3.3 Design e Simulações do Sistema . . . . . . . . . . . . . . . . . . . . . . . . 32

3.3.1 Circuito Transmissor . . . . . . . . . . . . . . . . . . . . . . . . . . 32

3.3.2 Circuito Receptor . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41

4 Implementação e Teste do Transreceptor Acústico Proposto 55

4.1 Validação Pré-Protótipo . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 55

4.2 Implementação do Protótipo em PCB . . . . . . . . . . . . . . . . . . . . . 59

4.3 Teste do Protótipo na Água . . . . . . . . . . . . . . . . . . . . . . . . . . . 67

4.3.1 Configuração do Teste . . . . . . . . . . . . . . . . . . . . . . . . . 67

xiii



ÍNDICE

4.3.2 Análise de Resultados . . . . . . . . . . . . . . . . . . . . . . . . . 68

5 Conclusões e Trabalho Futuro 73

5.1 Limitações . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74

5.2 Trabalho Futuro . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74

Bibliografia 77

A Orçamento 83

B Esquemático do circuito v.Beta 85

C Programação do Microcontrolador 87

C.1 Código do Bloco Transmissor . . . . . . . . . . . . . . . . . . . . . . . . . . 87

C.2 Código do Bloco Receptor . . . . . . . . . . . . . . . . . . . . . . . . . . . 90

xiv



Lista de Figuras

2.1 Rede de sensores de comunicação em ambiente subaquático . . . . . . . . . . 5

2.2 Diagrama de blocos de um sistema de comunicação acústica unidireccional . 6

2.3 Diagrama de blocos de um sistema de comunicação acústica bidireccional . . 6

2.4 Atenuação subaquática em função da frequência das ondas RF . . . . . . . . 7

2.5 Comprimento de onda em ambiente subaquático e terrestre em função da

frequência das ondas RF . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8

2.6 Perdas por refracção entre o ar e a água em função da frequência das ondas RF 9

2.7 Coeficiente de absorção de ondas ópticas em água pura [15, 16] . . . . . . . . 10

2.8 Temperatura e velocidade do som na água em função da profundidade . . . 12

2.9 Escala prática de salinidade da água (baseado em [21]) . . . . . . . . . . . . . 13

2.10 Salinidade em função da temperatura da água [20] . . . . . . . . . . . . . . . 13

2.11 Densidade em função da temperatura da água [20] . . . . . . . . . . . . . . . 14

2.12 Coeficiente de absorção acústica em água salgada (S=35 ppt) em função da

frequência da onda . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17

2.13 Coeficiente de absorção acústica em água doce (S=0.5 ppt) em função da

frequência da onda . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17

2.14 Perdas acústicas por espalhamento em função da frequência da onda na água 18

3.1 Blocos principais do modem acústico subaquático . . . . . . . . . . . . . . . . 27

3.2 Modelo de propagação acústica subaquática . . . . . . . . . . . . . . . . . . . 28

3.3 Circuito equivalente de um altifalante piezoeléctrico . . . . . . . . . . . . . . 30

3.4 Impedância de um altifalante piezoeléctrico em função da frequência . . . . 30

3.5 Diagramas polares de direccionalidade da resposta dos transdutores . . . . . 31

3.6 Diagrama de blocos do circuito de transmissão . . . . . . . . . . . . . . . . . 32

3.7 Diagrama de blocos de um DDS . . . . . . . . . . . . . . . . . . . . . . . . . . 33

3.8 Mapa simplificado dos pinos utilizados existentes no módulo DDS AD9850 . 34

3.9 Módulo DDS AD9850 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 34

3.10 Diagrama de modulação ASK . . . . . . . . . . . . . . . . . . . . . . . . . . . 36

3.11 Circuito para implementação de modulação ASK . . . . . . . . . . . . . . . . 36

3.12 Circuito em LTspice do amplificador de potência LM386 . . . . . . . . . . . . 37

3.13 Simulação em LTspice do ganho do amplificador de potência LM386 . . . . . 38

3.14 Simulação em LTspice da largura de banda do amplificador de potência LM386 38

xv



Lista de Figuras

3.15 Simulação em LTspice da potência entregue a uma carga de 8 ? por parte do

amplificador de potência LM386 considerando 1% de THD . . . . . . . . . . 39

3.16 Simulação em LTspice do rendimento do amplificador de potência LM386 . . 39

3.17 Simulação em LTspice da cadeia transmissora . . . . . . . . . . . . . . . . . . 40

3.18 Simulação em LTspice da cadeia transmissora . . . . . . . . . . . . . . . . . . 40

3.19 Diagrama de blocos do circuito de recepção . . . . . . . . . . . . . . . . . . . 41

3.20 Circuito em LTspice do LNA LTC6910-1 . . . . . . . . . . . . . . . . . . . . . 42

3.21 Simulação em LTspice da resposta em frequência do LNA LTC6910-1 . . . . 43

3.22 Simulação em LTspice da distorção do LNA LTC6910-1 . . . . . . . . . . . . 43

3.23 Simulação em LTspice do ganho do LNA LTC6910-1 . . . . . . . . . . . . . . 44

3.24 Resposta de um filtro passa-banda genérico ao degrau unitário . . . . . . . . 46

3.25 Resposta em frequência de um filtro passa-banda genérico . . . . . . . . . . . 46

3.26 Topologia do filtro Sallen-Key . . . . . . . . . . . . . . . . . . . . . . . . . . . 47

3.27 Circuito de configuração Sallen-Key . . . . . . . . . . . . . . . . . . . . . . . 47

3.28 Simulação em LTspice da resposta em frequência do filtro passa-banda . . . 49

3.29 Circuito rectificador de precisão de onda completa . . . . . . . . . . . . . . . 50

3.30 Função de transferência de um comparador Schmitt-trigger . . . . . . . . . . 51

3.31 Circuito comparador Schmit-trigger . . . . . . . . . . . . . . . . . . . . . . . . 51

3.32 Simulação em LTspice da cadeia receptora . . . . . . . . . . . . . . . . . . . . 53

3.33 Simulação em LTspice de sinais da cadeia receptora . . . . . . . . . . . . . . . 54

3.34 Simulação em LTspice do sinal recebido pelo transdutor e do sinal desmodu-

lado pela cadeia receptora . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54

4.1 Diagrama do teste no ar em laboratório . . . . . . . . . . . . . . . . . . . . . . 55

4.2 Circuito transmissor montado em breadboard para testes no ar . . . . . . . . . 56

4.3 Circuito receptor montado em breadboard para testes no ar . . . . . . . . . . 56

4.4 Circuito de todo o sistema montado em breadboard para testes no ar . . . . . 57

4.5 Desmodulação do sinal transmitido através do ar . . . . . . . . . . . . . . . . 57

4.6 Interface para o utilizador enviar e receber mensagens . . . . . . . . . . . . . 58

4.7 Aplicação móvel para enviar e receber mensagens por via rádio . . . . . . . . 58

4.8 Dispositivo Bluetooth 4.0 Low Energy . . . . . . . . . . . . . . . . . . . . . . . 58

4.9 Implementação do circuito em PCB v.Beta . . . . . . . . . . . . . . . . . . . . 59

4.10 Circuito assemblado v.Beta . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 59

4.11 Encapsulamento TO-220 do circuito integrado LM7805CT . . . . . . . . . . 60

4.12 Dimensionamento do circuito regulador de tensão . . . . . . . . . . . . . . . 60

4.13 Simulação em LTspice do circuito regulador de tensão . . . . . . . . . . . . . 61

4.14 Mapa de pinos do microcontrolador ATmega328P-PU . . . . . . . . . . . . . 62

4.15 Hidrofone H1c utilizado no teste experimental subaquático . . . . . . . . . . 63

4.16 Altifalante piezoeléctrico SPS-8770-03 . . . . . . . . . . . . . . . . . . . . . . 63

4.17 Altifalante piezoeleléctrico SPS-8770-03 à prova de água utilizado no teste

experimental subaquático . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 63

xvi



Lista de Figuras

4.18 Resposta em frequência do hidrofone H1c . . . . . . . . . . . . . . . . . . . . 64

4.19 Amplificador piezoeléctrico LM4960SQ-02 [70] . . . . . . . . . . . . . . . . . 64

4.20 Diagrama de obtenção da potência média consumida pelo altifalante piezoe-

létrico . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 65

4.21 Potência consumida pelo amplificador LM4960SQ-02 e altifante SPS-8770-03 66

4.22 Potência média entregue ao altifante SPS-8770-03 pelo amplificador LM4960SQ-

02 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 66

4.23 Reservatório de água utilizado no teste subaquático . . . . . . . . . . . . . . . 67

4.24 Diagrama do fluxo do algoritmo de detecção de erros implementado . . . . . 69

4.25 Tensão rms recebida no receptor em função da potência de transmissão . . . 69
4.26 Taxa de erro de bits em função da potência de transmissão . . . . . . . . . . . 70

B.1 Esquemático do circuito desenvolvido em Eagle v.Beta . . . . . . . . . . . . . 85
B.2 Camada superior da placa desenvolvida em Eagle v.Beta . . . . . . . . . . . . 86
B.3 Camada inferior da placa desenvolvida em Eagle v.Beta . . . . . . . . . . . . 86

xvii





Lista de Tabelas

2.1 Alcance, taxa de transmissão e aplicações da generalidade dos modems RF em
ambientes subaquáticos . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9

2.2 Comparação entre modems acústicos subaquáticos comerciais . . . . . . . . . 22
2.3 Comparação entre modems acústicos subaquáticos propostos em trabalho de

investigação . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25

2.4 Caracterização de comunicações sem fios em ambientes subaquáticos . . . . 26

4.1 Características gerais do microcontrolador ATMEGA328-PU . . . . . . . . . 62

4.2 Especificações do transdutor receptor H1c [68] . . . . . . . . . . . . . . . . . 64

4.3 Especificações do transdutor emissor SPS-8770-03 [69] . . . . . . . . . . . . 64

4.4 Especificações gerais do amplificador piezoeléctrico LM4960SQ-02 [70] . . . 64

4.5 Potência consumida pelo nó subaquático em diferentes estados de operação . 70

4.6 Estimação da capacidade da bateria do nó necessária para uma duração de

vida de 1 mês . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 71

A.1 Lista de materiais, quantidade e preço respectivo . . . . . . . . . . . . . . . . 84

xix





Siglas

ASK Amplitude-Shift Keying.

AUVs Autonomous Underwater Vehicles.

BER Bit Error Rate.

BLE Bluetooth Low Energy.

BPSK Binary Phase-Shift Keying.

CPU Central Processing Unit.

DDS Direct Digital Synthesizer.

DSSS Direct Sequence Spread Spectrum.

ELF Extremely Low Frequency.

FSK Frequency-Shift Keying.

I2C Inter-Integrated Circuit.

IDE Integrated Development Environment.

LNA Low Noise Amplifier.

MCU Microcontroller.

MFSK Multi Frequency Shift Keying.

MIMO Multiple-Input and Multiple-Output.

NL Noise Level.

OFDM Orthogonal Frequency-Division Multiplexing.

OOK On-Off Keying.

xxi



SIGLAS

PCB Printed Circuit Board.

PLL Phase-Lock-Loop.

ppt parts per thousand.

PROM Programmable Read-Only Memory.

PSK Phase-Shift Keying.

PSU Pratical Salinity Unit.

PWM Pulse-Width Modulation.

QAM Quadrature Amplitude Modulation.

QPSK Quadrature Phase-Shift Keying.

RAM Random Access Memory.

RF Radio Frequency.

ROVs Remotely Operated Vehicles.

SIL Sound Intensity Level.

SL Source Level.

SMD Surface-Mount Device.

SNR Signal-Noise Ratio.

THD Total Harmonic Distortion.

TL Transmission Losses.

USB Universal Serial Bus.

UWSNs Underwater Wireless Sensor Networks.

xxii



C
a
p
í
t
u
l
o

1
Introdução

1.1 Motivação

As redes de sensores sem fios em meios subaquáticos (do inglês Underwater Wireless
Sensor Networks, frequentemente abreviado para UWSNs) suportam inúmeras aplicações
em diversas áreas tais como, a oceanografia, biologia marítima, estudos da interacção

entre oceanos e a atmosfera, estudos do clima, aquecimento global, arqueologia no fundo

do mar, predições sísmicas, detecção de poluentes e substâncias contaminantes, controlo

da água e exploração de gás, óleo e petróleo.

A existência de pequenas e densas redes de sensores sem fios na terra foi possível

graças ao aparecimento de plataformas de rádio de baixo custo, como a Pico-Radio e a

Mica2 [1, 2]. No entanto, debaixo de água, a comunicação sem fios torna-se mais exigente.

Grande parte da pesquisa sobre os oceanos é suportada através da colocação de sen-

sores, a partir dos quais são medidos os factores ambientais que melhor descrevem a

complexidade dos ecossistemas. Informação sobre a temperatura da água, a salinidade

e variáveis bio-ópticas constituem alguns exemplos. Por sua vez, medições mais comple-

xas acarretam outros factores como a concentração de nutrientes, a presença/ausência

de estrogénios ambientais, de bactérias patogénicas e fluxos de nutrientes na água. Para

além das aplicações descritas anteriormente, as redes de sensores sem fios subaquáticas

têm sido aproveitadas para detectar danos estruturais em pontes e outras estruturas civis,

assim como, para monitorizar equipamentos industriais em unidades de fabrico de modo

a prever falhas mecânicas [3, 4].

Existem diversas situações onde é profícuo optar pela transmissão de dados por meio

aquático, evitando a utilização de cabos eléctricos que podem traduzir-se em custos ex-

tremamente elevados ou serem tecnicamente inviáveis. Actualmente, recorrendo a ondas

1



CAPÍTULO 1. INTRODUÇÃO

acústicas, é possível utilizar condutas de água como meio de transporte, onde no seu inte-

rior existem sistemas de aquisição de dados, nós sensores, separados a uma determinada

distância para captar diferentes tipos de informação e transmiti-las para um sistema de

processamento de dados.

As comunicações sem fios subaquáticas podem dividir-se em dois grandes grupos:

ondas electromagnéticas (ópticas e rádio frequência) e ondas acústicas. As ondas ópticas

só possuem um bom desempenho em águas muito límpidas e requerem um alinhamento

entre os nós. As comunicações de rádio são pouco fiáveis debaixo de água, com pouca

estabilidade e um raio de comunicação muito curto. Posto isto, as comunicações acústicas

subaquáticas têm sido alvo de notáveis desenvolvimentos, pois propagam-se facilmente

na água. No entanto, também revelam algumas limitações, tais como:

• Limitada largura de banda disponível;

• Canal subaquático prejudicado pelo multi-percurso;

• Atraso da propagação do sinal acústico em canal subaquático cinco vezes maior do

que o atraso da propagação do sinal electromagnético em canal terrestre;

• Taxa de erro de bits elevada;

• Perdas temporárias de conectividade (zonas de sombra).

• Custo elevado.

• Baterias limitadas quando não podem ser recarregadas com recurso a painéis sola-

res.

• Desgaste devido à corrosão o que pode levar a falhas.

1.2 Objectivo

O principal objectivo da presente dissertação é o design, implementação e concepção

de um modem acústico de baixa potência e de baixo custo capaz de enviar e receber

mensagens, passível de ser utilizado em diversas aplicações em ambiente subaquático.

Para atingir este objectivo, foram identificadas diversas etapas que incluem:

1. geração da onda portadora e modulação do sinal digital;

2. amplificação e drive do sinal;

3. envio e recepção da onda acústica através da utilização de transdutores acústicos.

4. amplificação e filtragem do sinal recepcionado e respectiva desmodulação.

2



1.3. ESTRUTURA DA DISSERTAÇÃO

Os requisitos base do projecto são:

• Baixa transmissão de dados.

• Alcance de transmissão moderado.

• Baixa profundidade.

• Alta eficiência energética.

1.3 Estrutura da Dissertação

O presente documento é dividido em cinco capítulos ao longo dos quais são abordados

os seguintes tópicos:

Capítulo 2 - Comunicações Digitais em Ambiente Subaquático Breve introdução às

redes de sensores em ambiente subaquático enquadrando-se as tecnologias de comunica-

ção sem fios que podem ser utilizadas neste meio, nomeadamente, através de mecanismos

de propagação eletromagnética ou de propagação acústica. Os existentes sistemas em

operação são revistos.

Capítulo 3 - Transreceptor Acústico para Comunicações Digitais Subaquáticas Des-

crição das características e dos tipos de transdução existentes em transdutores electroa-

cústicos de forma a determinar o que melhor se aplica ao meio. Modelo de propagação

do sinal acústico subaquático entre dois pontos, emissor e receptor, e dimensionamento

proposto, com respectivas simulações, para uma possível solução de alto nível para um

transreceptor a aplicar em ambiente aquático.

Capítulo 4 - Implementação e Teste do Transreceptor Acústico Proposto Validação

experimental de um pré-protótipo e posterior concepção do protótipo do sistema pro-

posto. Discussão sobre os resultados obtidos dentro de água, nomeadamente, através da

análise dos débitos efectivamente obtidos.

Capítulo 5 - Conclusões e Trabalho Futuro Conclusão sobre o projecto realizado, iden-

tificando as suas limitações que serão endereçadas nas propostas de trabalho futuro.

3





C
a
p
í
t
u
l
o

2
Comunicações Digitais em Ambiente

Subaquático

2.1 Rede de Sensores em Ambiente Subaquático

A procura por sistemas capazes de comunicar através de diferentes meios está a aumentar

devido à expansão das actividades humanas [5]. De forma a alcançar este propósito, os

actuais sistemas de comunicações subaquáticas sem fios assentam na transmissão e recep-

ção digital, com portadoras no domínio electromagnético e/ou acústico.

Estação à 

superficie

Satélite

Estação 

em terra Boia sensorBoia sensor

Ancora

Transdut or

Nó sensor/

Gateway
Nó sensor/

Gateway
Nó sensor/

Gateway

Figura 2.1: Rede de sensores de comunicação em ambiente subaquático

5



CAPÍTULO 2. COMUNICAÇÕES DIGITAIS EM AMBIENTE SUBAQUÁTICO

Numa rede de sensores em ambiente subaquático (ver figura 2.1), um conjunto de nós,

ancorados ao fundo do mar, podem estabelecer comunicações a um ou mais gateways por
meio de ondas acústicas. Por sua vez, estes gateways subaquáticos podem ser equipados
com dois transreceptores acústicos. Um transreceptor de curta distância, é responsável

pela interligação entre nós sensores vizinhos permitindo o envio de comandos e configura-

ções e/ou recolher dados monitorizados [6]. Um transreceptor de longo alcance, permite

o envio de dados para uma estação à superfície que se encarrega em gerir múltiplas co-

municações em paralelo e reencaminhar o tráfego através de um transmissor de rádio de

longo alcance para outras estações rádio terrestres e/ou satélites.

As comunicações acústicas subaquáticas entre dois pontos podem ser divididas em

dois tipos: unidirecionais e bidirecionais [7]. No sistema unidirecional um dos nós só é

capaz de receber ondas acústicas, enquanto no sistema bidirecional ambos os nós podem

receber e enviar. Neste caso, o transdutor receptor não está autorizado a receber qualquer

sinal emitido pelo transdutor emissor do mesmo sistema. Esta condição implica que sejam

utilizadas duas frequências diferentes, uma para a transmissão e outra para a recepção.
 

Ar 

Água 

Circuito 

ReceptorM
C

U

Transdutor Rx

Circuito 

Transmissor

M
C

U

Transdutor Tx

Figura 2.2: Diagrama de blocos de um sistema de comunicação acústica unidireccional 

Ar 

Água 

Circuito 

Transmissor

Circuito 

Receptor

M
C

U

Transdutor Tx

Transdutor Rx

Circuito 

Transmissor

Circuito 

Receptor M
C

U

Transdutor Tx

Transdutor Rx

Figura 2.3: Diagrama de blocos de um sistema de comunicação acústica bidireccional

As arquitecturas gerais de dispositivos de comunicação acústica unidireccional e bidi-

reccional, respectivamente, são retratadas nas figuras 2.2 e 2.3. Na figura 2.2, o sistema

consiste apenas num transdutor, ligado a um circuito de recepção controlado por uma

unidade de processamento (em inglês MCU). Na figura 2.3, o sistema consiste em dois

transdutores, um ligado a um circuito de transmissão e outro a um circuito de recepção,

ambos conectados a uma unidade de processamento. Em ambas as arquitecturas, todo o

sistema é mantido numa caixa estanque, à excepção dos transdutores que são mantidos

em contacto com a água.

6



2.2. COMUNICAÇÕES SUBAQUÁTICAS SUPORTADAS EM ONDAS

ELECTROMAGNÉTICAS

2.2 Comunicações Subaquáticas Suportadas em Ondas

Electromagnéticas

Uma onda electromagnética é uma onda de energia que se propaga no meio em resultado

de perturbações periódicas do campo electromagnético, nomeadamente, quando existe

movimentos oscilatórios de cargas eléctricas.

2.2.1 Ondas de Rádio Frequência

As ondas de rádio frequência são ondas electromagnéticas que se localizam dentro da

faixa de frequências abaixo dos 300 GHz. As comunicações de rádio frequência subaquá-

ticas têm sido investigadas desde o aparecimento das ondas rádio e têm recebido uma

atenção considerável desde a década de 70 [8]. Porém, foram desenvolvidos poucos siste-

mas de rádio frequência (do inglês Radio Frequency, frequentemente abreviado para RF)

subaquáticos devido à forte atenuação associada ao meio.

A existência de sais dissolvidos, tornam a água electricamente condutora. Quanto

maior for a condutividade da água, maior é a atenuação dos sinais de rádio que a atraves-

sam. No caso extremo da água do mar, esta tem um teor elevado de sal e, portanto, alta

condutividade variando de 2 S/m na Região Ártica fria para 8 S/m no Mar Vermelho [9].

A condutividade média da água do mar situa-se em torno dos 4 S/m, enquanto a conduti-

vidade da água doce situa-se, tipicamente, na ordem de alguns mS/m [10]. Nesse contexto,

a atenuação das ondas de rádio na água, ?, aumenta com o incremento da condutividade

e da frequência [9] e é expressa por

? = 0.0173
?
f ? [dB/m] , (2.1)

onde f é a frequência em hertz (Hz) e ? a condutividade em S/m.

Frequência (Hz)
103 104 105 106

A
te

n
u

a
çã

o
 (

d
B

/m
)

10-2

10-1

100

101

102

Água salgada
Água doce

Figura 2.4: Atenuação subaquática em função da frequência das ondas RF

7



CAPÍTULO 2. COMUNICAÇÕES DIGITAIS EM AMBIENTE SUBAQUÁTICO

A figura 2.4 mostra a atenuação na água do mar (com condutividade 4 S/m) e na água

doce (com condutividade 0.01 S/m) em função da frequência do sinal. Como a atenuação

na água do mar é muito elevada, para comunicar a uma distância razoável é necessário

utilizar frequências muito baixas, levando à utilização de antenas de grande dimensão

obrigando, igualmente, ao aumento da potência de emissão.

O comprimento de onda na água, ?, é calculado por [9]

? = 1000

?
10
f ?

[m] , (2.2)

onde f é a frequência em Hz e ? é a condutividade em S/m.

A figura 2.5 mostra o comprimento em função da frequência de onda no ar, na água

do mar (com condutividade 4 S/m) e na água doce (com condutividade (0.01 S/m). O

comprimento de onda de um sinal no ar é consideravelmente maior quando comparado

com o ambiente subaquático.

Frequência (Hz)
103 104 105 106

C
o

m
p

ri
m

e
n

to
 d

e
 O

n
d

a
 (

m
)

100

101

102

103

104

105

106

Ar
Água salgada
Água doce

Figura 2.5: Comprimento de onda em ambiente subaquático e terrestre em função da
frequência das ondas RF

Uma das formas de contornar estas fortes perdas na transmissão de longa distância

é encaminhar o sinal para a superfície e utilizar a propagação no ar, onde a atenuação é

mais baixa, fazendo regressar o sinal à água junto ao receptor. No entanto, as ondas ao

atravessarem meios ambientes diferentes sofrem atenuação devido a perdas por refracção

(RL). No caso da superfície da água, RL é dado por [9],

RL = ?20 log
(

7.4586
106

)?
10
f
?

[dB] , (2.3)

onde f é a frequência em Hz e ? a condutividade em S/m.

8



2.2. COMUNICAÇÕES SUBAQUÁTICAS SUPORTADAS EM ONDAS

ELECTROMAGNÉTICAS

Frequência (Hz)
103 104 105 106

A
te

n
u

a
çã

o
 (

d
B

)

10-2

10-1

100

101

102

Água salgada
Água doce

Figura 2.6: Perdas por refracção entre o ar e a água em função da frequência das ondas
RF

A figura 2.6 ilustra as perdas por refracção em função da frequência na água do mar

e na água doce. Conclui-se que com o aumento da frequência, diminuem as perdas por

refracção.

Dada a severa atenuação em sinais RF, apenas alguns sistemas subaquáticos foram

concebidos em RF. Têm sido usados sinais rádio de baixa frequência (do inglês Extremely

Low Frequency, frequentemente abreviado ELF) em aplicações militares. A Alemanha

foi pioneira nas comunicações de rádio em submarinos durante a Segunda Guerra Mun-

dial, [11]. O modem subaquático RF SeaText, lançado pela Wireless Fibre Systems [12],
em 2006, pode comunicar até várias dezenas de metros a uma velocidade de 100 bps. A

Wireless Fibre Systems lançou outro modem, SeaTooth, que pode suportar 1 a 100 Mbps
até 1 metro de distância [12].

Tabela 2.1: Alcance, taxa de transmissão e aplicações da generalidade dos modems RF em
ambientes subaquáticos

Alcance
Taxa de transmissão

em água salgada
Taxa de transmissão

em água doce
Aplicações

&amp;lt;1 m 100 Mbps 100 Mbps ancorar AUVs1

10 m 100 kbps 1 Mbps
download de informação de AUVs

comunicação entre mergulhadores

50 m 6 kbps 100 kbps comunicação entre mergulhadores

200 m 100 bps 1 kbps
controlo de AUVs

comunicação entre mergulhadores

2 km 1 bps 10 bps telemetria de águas profundas

10 km 1 bps 1 bps telemetria de águas profundas

1do inglês Autonomous Underwater Vehicles, frequentemente abreviado para AUVs

9



CAPÍTULO 2. COMUNICAÇÕES DIGITAIS EM AMBIENTE SUBAQUÁTICO

A tabela 2.1 [12] mostra as possíveis taxas e distâncias de transmissão dos modems RF
sem fios tanto para água salgada como para água doce e as suas principais aplicações.

2.2.2 Ondas Ópticas

As ondas eletromagnéticas no espectro do visível têm comprimentos de onda entre os 400

nm (azul claro) e os 700 nm (luz vermelha). Devido ao seu curto comprimento de onda, as

ondas ópticas oferecem a possibilidade de comunicações digitais de alto débito. Todavia

estas ondas sofrem fortes atenuações, devido à absorção das ondas na água na banda do

óptico e ao forte espalhamento provocado pelas partículas em suspensão existente na

água [13], limitando, assim, a distância da ligação.

A intensidade luminosa, na água, junto ao receptor localizado a d metros do emissor

com uma intensidade I0, em Candelas (cd), pode ser descrita por

I(?) = I0(?)e
?k(?)d [cd] , (2.4)

onde k(?) é o coeficiente de absorção [14], em m?1, dado, aproximadamente, por

k(?) = ??(?) + ??(?) [m
?1] , (2.5)

onde ??(?) representa a absorção, em m
?1, e ??(?) a turvação da água, em m

?1. A disper-

são das moléculas da água e a absorção das partículas podem ser desprezadas.

Comprimento de Onda (nm)

C
o

e
fi

c
ie

n
te

 d
e

 A
b

s
o

rç
ã

o
 (

m
-1

)

200 300 400 500 600 700

0

1

2

3

Figura 2.7: Coeficiente de absorção de ondas ópticas em água pura [15, 16]

A molécula da água, H2O, absorve fortemente a radiação no espectro do vermelho.

Por sua vez os sais dissolvidos, tais como NaCl, MgCl2, Na2SO4, CaCl2, KCl absorvem

radiação em comprimentos de onda adicionais [17]. Como pode ser visto na figura 2.7, o

10



2.3. COMUNICAÇÕES SUBAQUÁTICAS SUPORTADAS EM ONDAS ACÚSTICAS

coeficiente de absorção na água é menor para comprimentos de onda em torno de 400-

500 nm, a região azul-verde do espectro da luz visível. As águas oceânicas profundas têm

índice de turvação mais baixo permitindo que 10% da luz transmitida abaixo da superfície

do mar possa atingir uma profundidade de 90 metros. Por outro lado, nas águas costeiras,

a presença de uma elevada turvação, a mesma quantidade de luz transmitida apenas

atinge os 15 metros de profundidade [17].

A turvação da água desempenha um papel determinante no desempenho dos modems
ópticos o que tem limitado o desenvolvimento deste tipo de equipamentos. O modem
óptico descrito em [18] atinge uma distância de 2 metros a uma taxa de transmissão de

57 kbps. Em [19], um protótipo de um modem óptico para águas profundas, atinge 10
Mbps até 100 metros. Recentes pesquisas também envolveram uma abordagem híbrida

que combina a tecnologia óptica e acústica.

2.3 Comunicações Subaquáticas Suportadas em Ondas

Acústicas

As ondas acústicas estão associadas ao movimento vibratório das partículas do meio

líquido gerado por uma fonte sonora. A energia envolvida é transferida para o meio na

forma de energia acústica. Dada a maior densidade da água, as ondas acústicas viajam 4 a

5 vezes mais rapidamente na água (1500 m/s, aproximadamente) do que no ar. As ondas

acústicas podem ser afectadas pela absorção, espalhamento e ruído na água. Todavia, o

nível de atenuação resultante permite, ainda assim, atingir distâncias significativas.

2.3.1 Caracterização do Meio de Suporte ao Canal Acústico

As propriedades do meio que exercem grande influência na acústica subaquática são a

temperatura, a salinidade e a densidade, com impacto na velocidade do som.

2.3.1.1 Temperatura e Velocidade do Som

A temperatura é a grandeza mais importante no que diz respeito à propagação do som na

água. Esta influencia, fortemente, a densidade e a sua respectiva estratificação, a distribui-

ção de nutrientes e a concentração biológica. Após as primeiras medições da temperatura

na água realizadas no século XVII, foi rapidamente observado que a temperatura da água

decresce com a profundidade. Verificou-se que a maior parte da energia incidente (por

exemplo de origem solar) na água é absorvida nos primeiros metros de profundidade.

De acordo com a figura 2.8, verifica-se que existe uma rápida variação de temperatura

entre os 400 e os 1100 metros de profundidade. Esta zona é denominada por termoclina e

depende da sazonalidade e da latitude. A temperatura é praticamente constante a partir

dos 1500 metros de profundidade. A principal grandeza considerada na propagação

sonora é a velocidade do som, e que depende da compressibilidade e da densidade do

meio. Portanto, varia em virtude da dinâmica do ambiente aquático e é obtida por modelos

11



CAPÍTULO 2. COMUNICAÇÕES DIGITAIS EM AMBIENTE SUBAQUÁTICO

empíricos que a descrevem em função dos parâmetros, tais como temperatura, salinidade

e pressão/profundidade.

Observa-se que a velocidade do som aumenta com o incremento de qualquer um dos

três parâmetros referenciados atrás, sendo a temperatura, o factor mais determinante.

Abaixo da superfície encontra-se a região I, onde a velocidade é influenciada pelas va-

riações no aquecimento da superfície da água e pela acção do vento. Na região II, a

velocidade do som decresce rapidamente com a profundidade, onde é largamente con-

trolada pela temperatura e salinidade. Por fim, abaixo da termoclina e estendendo-se até

ao fundo, encontra-se a região III, caracterizada pelo aumento da velocidade do som de

acordo com o aumento da pressão.

Velocidade (m/s)Temperatura (º C)

P
ro

fu
n

d
id

a
d

e
 (

m
)

Região I

Região II

Região III

Elevadas latitudes

Médias latitudes

Verão

Inverno

Trópicos

1500 1520 15400 5 10 15 20

500

1000

1500

2000

2500

3000

3500

4000

4500

Figura 2.8: Temperatura e velocidade do som na água em função da profundidade

2.3.1.2 Salinidade

A salinidade é o termo usado para expressar a quantidade de sais dissolvidos na água.

Afecta a compressibilidade e, consequentemente, a velocidade de propagação do som,

o índice de refracção, o ponto de congelamento e a temperatura de máxima densidade.

É expressa, adimensionalmente, por uma escala relativa, obtida a partir da comparação

da grandeza com uma amostra padrão, conhecida como escala prática de salinidade (do

inglês Pratical Salinity Unit, frequentemente abreviado por PSU). Anteriormente, era

expressa em ppt (1 ppt corresponde a 1 grama por litro) [20].

De acordo com a figura 2.9, a água dos oceanos da Terra tem uma salinidade média

aproximada de 35 ppt, a água salobra apresenta salinidades entre 0.5 ppt e 30 ppt e a

água doce pode conter uma salinidade entre 0 ppt e 0.5 ppt.

12



2.3. COMUNICAÇÕES SUBAQUÁTICAS SUPORTADAS EM ONDAS ACÚSTICAS

Mar Vermelho - 40 ppt

Mar Mediterrâneo - 38 ppt

Média água do mar – 34.7 ppt

Mar Preto – 18 ppt

Mar Báltico – 8 ppt

Água potável – 0.1 ppt

Limite para a irrigação da 

agricultura – 2 ppt

Á
g

u
a

 s
a
lg

a
d

a
Á

g
u
a

 s
a
lo

b
ra

Água doce

Figura 2.9: Escala prática de salinidade da água (baseado em [21])

Temperatura de densidade 

máxima

Temperatura de congelação

T
e

m
p

e
ra

tu
ra

 (
ºC

)

Salinidade (psu)

Figura 2.10: Salinidade em função da temperatura da água [20]

13



CAPÍTULO 2. COMUNICAÇÕES DIGITAIS EM AMBIENTE SUBAQUÁTICO

Notar que, pela figura 2.10, a salinidade não só afecta a densidade da água, mas

também a temperatura a que ocorre a densidade máxima e o ponto de congelação da

água [20].

2.3.1.3 Densidade

A densidade da água é importante no estudo da sua dinâmica, porque pequenas variações

podem produzir correntes bastante fortes, sendo, portanto, responsável pela estabilidade

hidrostática dos oceanos, rios ou lagos. Relacionada com esta propriedade está a compres-

sibilidade, que expressa as mudanças de volume, face a variações de pressão com impacto

na velocidade de propagação do som [20].

Temperatura (ºC)

Gelo

Água

D
e

n
s

id
a

d
e

 (
g

/c
m

^
3

)

Máxima densidade a 4ºC

Figura 2.11: Densidade em função da temperatura da água [20]

2.3.2 Propagação Acústica

2.3.2.1 Intensidade Acústica

Como as variações de pressão de um meio líquido são provocadas pelo movimento os-

cilatório das partículas na direcção de propagação, a relação entre a velocidade dessas

partículas e a pressão é dada por

p = ?cµ [Pa] , (2.6)

onde p é a pressão, dada em pascal (Pa), ? a densidade, em kg/m3, c a velocidade do som

e µ a velocidade da partícula, ambas em m/s.

A constante de proporcionalidade ?c é chamada de impedância acústica específica ou

característica, dada em ohm, e é uma propriedade do meio onde a onda se propaga. A

intensidade acústica média é definida como o fluxo médio de energia através de uma área

14



2.3. COMUNICAÇÕES SUBAQUÁTICAS SUPORTADAS EM ONDAS ACÚSTICAS

unitária, orientada na direcção normal à propagação expressa por

I =
P
A

=
p2rms
?c

[W/m2] , (2.7)

onde P é a potência do sinal acústico, em watt (W), A a área, em m2, prms a pressão média

quadrática, em Pa, ? a densidade, em kg/m3, e c a velocidade do som, em m/s.

2.3.2.2 Nível do Sinal na Fonte

O nível de transmissão da fonte (do inglês Source Level, frequentemente abreviado para

SL) do som refere-se à intensidade do sinal It, que por sua vez depende da potência

de transmissão acústica, Pt [22]. Dada a potência Pt, a intensidade de sinal subaquático

transmitido a 1 metro da fonte pode ser obtido por

It =
Pt

2?×1m×H
[W/m2] , (2.8)

onde H é a profundidade, em metros.

Pela equação 2.9, obtém-se o nível da fonte em relação a uma intensidade de referência,

de 1 µPa na água, equivalente a 6.7×10?19 W/m2, [22].

SL = 10 log
(

It
6.7×10?19

)
[dB re 1 µPa @1m] (2.9)

2.3.2.3 Atenuação de Percurso

As perdas de transmissão (do inglês Transmission Losses, abreviado para TL), expressam

a atenuação sonora ao longo da sua trajectória. As perdas de propagação do sinal acústico

em águas pouco profundas [22] são dadas por

TL = 10×µ× log(D) + ?(f )×D [dB] , (2.10)

onde D é a distância, em km, entre a fonte e o receptor, ? o coeficiente de absorção do

meio (dependente da frequência), em dB/km e µ um coeficiente entre 1 e 2 que depende

do tipo de espalhamento.

A absorção de ondas acústicas na água depende da temperatura, profundidade, sali-

nidade e acidez da água, bem como da frequência da onda. A equação 2.11 expressa o

coeficiente de absorção da água do mar à frequência f (kHz), descrita como a soma dos

processos de relaxação química e da absorção da água pura [13].

?(f ) =
A1p1f1f

2

f 21 + f
2

+
A2p2f2f

2

f 22 + f
2

+ A3p3f
2 [dB/km] . (2.11)

O primeiro termo da equação mostra a contribuição do ácido bórico em que f1 representa

a sua frequência de relaxação. O segundo termo é proveniente da contribuição do sulfato

15



CAPÍTULO 2. COMUNICAÇÕES DIGITAIS EM AMBIENTE SUBAQUÁTICO

de magnésio em que f2 representa a sua frequência de relaxação, e o terceiro termo é

proveniente da contribuição da molécula H2O. As dependências de pressão são dadas por

p1, p2, e p3 e A1, A2 e A3 são constantes [23].

A obra de François e Garrison, publicada em 1982 [23], reuniu um conjunto de me-

dições anteriores, incluindo a publicação de Fisher e Simmons, de 1977. Uma análise

mais recente e aprofundada foi feita por Ainslie e McColm, publicada em 1997, baseada

no mesmo conjunto de dados. A expressão do coeficiente de absorção da água proposta

por Ainslie e McColm apresenta duas componentes: uma originada pelo movimento das

partículas em meio viscoso que apresenta poucos efeitos para frequências audíveis, mas

dominante para frequências maiores que 1 MHz e outra devida a elementos químicos

existentes na água. Algumas moléculas tem mais do que um estado estável e as alterações

de uma para outra depende da pressão. Diferentes mudanças de fase envolvem diferentes

tempos de reacção e este atraso na resposta pode ser caracterizado por um tempo de rela-

xação. Este termo só afecta as frequências mais baixas, onde f1 e f2 podem ser calculados

a partir das equações 2.12 e 2.13, respectivamente [23].

f1 = 0.78

?
S
35
e
T
26 [kHz] (2.12)

f2 = 42e
T
17 [kHz] (2.13)

Ambas as expressões dependem da temperatura, T (º C), mas apenas f1, associada

ao ácido bórico, depende significativamente da salinidade, S (ppt). A expressão final

para as constantes Ax [23] associadas aos dois termos de relaxação química somados à

componente responsável pela absorção da água pura resulta em

? = 0.106
f1f

2

f 21 + f
2
e
pH?8
0.56 + 0.52

(
1 +

T
43

)(
S
35

)
f2f

2

f 22 + f
2
e
?D
6 + 0.00049f 2e?(

T
27 +

D
17 ) [dB/km].

(2.14)

Nas figuras 2.12 e 2.13, considerando pH=7.1, T=20 ° C e D=0.1 km, são visualizados

os coeficientes de absorção para água salgada e água doce, respectivamente. De referir

que a absorção é apenas parte do total referente às perdas de transmissão. Normalmente,

a maior contribuição para a perda de transmissão é devido ao espalhamento da onda à

medida que se propaga para além da fonte acústica.

Chama-se frente ou superfície de onda o lugar geométrico dos pontos no espaço em

que a onda tem a mesma fase, num dado instante de tempo. Num meio homogéneo e livre,

onde não há influência de fronteiras, o som proveniente de uma fonte pontual propaga-

se uniformemente em todas as direcções, com uma velocidade constante e em direcção

perpendicular à frente da onda. Se o meio fluído se encontrar limitado por interfaces

paralelas, as frentes de onda começam por ser esféricas nas regiões próximas da fonte

(sendo a atenuação proporcional ao quadrado da distância percorrida pela onda), embora

a interacção com as interfaces, as confinam numa propagação cilíndrica. Neste caso, a

perda de potência sonora aumenta linearmente com a distância a partir da origem.

16



2.3. COMUNICAÇÕES SUBAQUÁTICAS SUPORTADAS EM ONDAS ACÚSTICAS

Frequência (Hz)
100 101 102 103 104 105 106

A
b

so
rç

ã
o

 (
d

B
/k

m
)

10-10

10-8

10-6

10-4

10-2

100

102

104

Água pura
Ácido bórico
Sulfato de magnésio
Absorção total

Figura 2.12: Coeficiente de absorção acústica em água salgada (S=35 ppt) em função da
frequência da onda

Frequência (Hz)
100 101 102 103 104 105 106

A
b

so
rç

ã
o

 (
d

B
/k

m
)

10-12

10-10

10-8

10-6

10-4

10-2

100

102

104

Água pura
Ácido bórico
Sulfato de magnésio
Absorção total

Figura 2.13: Coeficiente de absorção acústica em água doce (S=0.5 ppt) em função da
frequência da onda

17



CAPÍTULO 2. COMUNICAÇÕES DIGITAIS EM AMBIENTE SUBAQUÁTICO

Em ambientes homogéneos, as perdas por espalhamento são dadas por

10 log(Dµ) [dB], (2.15)

onde D é a distância percorrida pela onda, em metros, e µ um coeficiente que se situa

entre 1 para propagações cilíndricas e 2 para propagações esféricas (ver figura 2.14).

Distância (m)
100 101 102 103

P
e

rd
a

s 
(d

B
)

0

10

20

30

40

50

60

Espalhamento cilíndrico
Espalhamento esférico

Figura 2.14: Perdas acústicas por espalhamento em função da frequência da onda na água

Num meio não homogéneo, porém, as trajectórias dependem do perfil da velocidade

do som e da geometria do meio entre a fonte e o receptor.

2.3.2.4 Desvanecimento por Multi-Percurso

O multi-percurso em canais de comunicação subaquáticos é causado por dois factores es-

senciais: reflexão da onda na superfície, no fundo e em quaisquer objectos/animais e pela

refracção do som na água, consequência da lei de Snell [24]. A temperatura na coluna

de água, juntamente com diferentes correntes a vários níveis de profundidade são ou-

tras causas responsáveis por variações nas velocidades de propagação e de interferências

intersimbólicas.

As interacções da energia sonora com a superfície e o fundo alteram a trajectória, pois

parte da energia é reflectida em várias direcções e o restante passa para o meio contíguo,

por refracção. As ondas sonoras também sofrem espalhamento aleatório ao incidirem

em peixes, organismos planctónicos, bolhas de ar, entre outros. De entre os diversos

fenómenos físicos que afectam a propagação acústica destacam-se aqueles que ocorrem

quando as ondas atravessam meios de propriedades diferentes. Nesta situação, parte da

energia é reflectida de volta para o meio de onde ela provinha e parte é transmitida ou

refractada para o segundo meio.

A superfície do mar, além de ser reflectora, é também uma interface espalhadora do

som. Conforme a rugosidade for aumentando com a acção do vento, a reverberação e

18



2.3. COMUNICAÇÕES SUBAQUÁTICAS SUPORTADAS EM ONDAS ACÚSTICAS

as perdas na reflexão, a atenuação por bolhas e pela turbulência e a geração de ruídos

começam a influenciar a propagação acústica [25]. Se as ondulações à superfície forem

muito pequenas, essa interface é considerada plana, respondendo como um reflector

perfeito ou ideal [26].

Analogamente à superfície, a interacção do som com o fundo afecta a propagação

devido à reverberação e às perdas na reflexão, a atenuação devido à porosidade dos sedi-

mentos. Esses efeitos, porém, são mais difíceis de serem calculados devido à composição

diversa e estratificada do fundo, a qual varia desde rocha dura até lama macia. Nesses

efeitos, também estão incluídas as variações bruscas na densidade e na velocidade do

som [25]. A topografia do fundo pode ser também, muito variável e acidentada, o que

em certos casos, bloqueia a propagação sonora, provocando o surgimento de áreas de

sombra. De um modo geral, quanto maior a frequência, maior a sensibilidade do sinal à

rugosidade [27].

2.3.2.5 Ruído

Para além da absorção e espalhamento do sinal na água, é necessário ter em conta o ruído

na selecção da faixa de frequências para comunicações subaquáticas [28, 29], conside-

rando uma dada relação sinal-ruído (S/R). O ruído acústico (do inglês Noise Level, fre-

quentemente abreviado para NL) em ambiente subaquático está sempre presente, gerado

por uma variedade de fontes naturais ou provocado pelo homem, sendo que o impacto

de cada um dos factores no nível de ruído total é classificado pela sua distribuição na

frequência. A actividade do transporte marítimo pode dominar o nível de ruído em baías

ou portos, enquanto as correntes de águas são a principal fonte de ruído nos rios.

Podem ser consideradas quatro fontes de ruído principais - turbulência, transporte

marítimo, ondulação e ruído térmico - descritas como sendo do tipo gaussiano e apresen-

tam uma densidade espectral de potência constante ao longo da frequência.

O ruído existente causado pela turbulência [30, 31] situa-se a baixas frequências (&lt;

10 Hz), sendo descrito por

10 logNt(f ) = 17?30 log(f ) [dB] . (2.16)

O termo usado para descrever o ruído causado por embarcações [32], afecta os sinais

com frequências no intervalo entre 10 Hz e 100 Hz e é apresentado por

10 logNs(f ) = 40 + 20(s?0.5) + 26 log(f )?60 log(f + 0.03) [dB] , (2.17)

onde s é o factor de transporte, entre 0 e 1.

O ruído responsável pela ondulação marítima [32, 33] afecta os sinais a frequências

situadas entre 100 Hz e 100 kHz e é enunciado por

10 logN?(f ) = 50 + 7.5?
1
2 + 20 log(f )?40 log(f + 0.4) [dB] , (2.18)

19



CAPÍTULO 2. COMUNICAÇÕES DIGITAIS EM AMBIENTE SUBAQUÁTICO

onde ? é a velocidade do vento, em m/s.

O ruído térmico [30] é causado pela agitação molecular e afecta os sinais com frequên-

cias superiores a 100 kHz, sendo expresso por

10 logNth(f ) = ?15 + 20 log(f ) [dB] . (2.19)

A densidade espectral de potência do ruído pode ser calculada por Nt(f ) + Ns(f ) +

N?(f ) + Nth(f ) dado que se consideram serem independentes entre si.

2.3.3 Sistemas Acústicos Subaquáticos Existentes

As ondas acústicas são utilizadas em sistemas de comunicações subaquáticas devido à

baixa atenuação do som neste ambiente, quando comparando com outras tecnologias.

2.3.3.1 Modems Comerciais

Os modems acústicos subaquáticos comerciais são usados por grandes companhias petro-
líferas, agências governamentais e universidades.

A LinkQuest dispõe de modems de curto e longo alcance [34]. O UW M1000, que é
utilizado essencialmente em águas pouco profundas, tem baixa potência (1 W de trans-

missão e 0.75 W de recepção) e é capaz de comunicar até cerca de 350 metros com uma

taxa de transmissão de dados de 17800 bps. O UW M10000, um modem de profundidade,
consome 40 W na transmissão e 0.8 W na recepção podendo comunicar até 10 km com

uma velocidade de transmissão de dados de 2500 a 5000 bps.

A Teledyne Bentos fabrica modems que têm sido utilizados em redes de sensores su-
baquáticas a cargo da Marinha Norte Americana. Os seus modems são comercializados
principalmente para comunicações de profundidade, ponto-a-ponto, isto é, do fundo do

oceano directamente para a superfície, por exemplo [35]. Conseguem comunicar para

além de 1 km a 10240 bps sem erros em situações ideais. No entanto, as típicas taxas de

transmissão de dados situam-se entre os 2400 bps. Estes modems têm um consumo de 20
a 84 W de potência na transmissão e 0.7 W na recepção.

A TriTech Internacional desenvolveu o Micron Data Modem [36] para pequenos veí-
culos controlados remotamente (do inglês Remotely Operated Vehicles, frequentemente

abreviado para ROVs). O MicronModem, o mais leve modem acústico no mercado, torna-o
adequado para aplicações que têm restrições de tamanho e peso (como a bordo de peque-

nas AUVs ou ROVs). O custo é na ordem dos 3000 e, representando cerca de metade do

preço em relação a outros modems acústicos no mercado. No entanto, o MicronModem
apresenta um consumo de energia moderado (7.92 W na transmissão e 720 mW na recep-

ção) para uma distância máxima de 500 metros e um débito de 40 bps.

20



2.3. COMUNICAÇÕES SUBAQUÁTICAS SUPORTADAS EM ONDAS ACÚSTICAS

O Grupo Aquatec é outra empresa que projecta modems acústicos [36]. Os seus modems
de longo alcance oferecem uma taxa de transmissão de dados entre 100 a 2000 bps e um

alcance de até 5 km.

A EvoLogics desenvolveu seis modems acústicos subaquáticos que fazem uso da sua
tecnologia subaquática patenteada (S2C) [37]. S2C foi concebido para imitar o padrão

de som do golfinho e espalhar continuamente a energia do sinal por uma vasta gama de

frequências, de modo a que a componente de multi-percurso não interfira. Os modems vão
desde os de alta velocidade (31 kbps) para aplicações de pequeno/médio alcance (1000

m) em águas rasas aos de longa distância (8 km) com uma taxa de transmissão de dados

inferior (6.9 kbps) em águas profundas.

A DSPComm produz o AquaComm, um modem sem fios subaquático que fornece
ao utilizador a capacidade de definir a potência de transmissão e recepção de dados

oferecendo assim uma solução de baixo consumo de energia para aplicações de curto al-

cance [38]. O AquaComm atinge distâncias de 3 km e oferece taxas de transmissão entre

100 a 480 bps.

O MicroModem [39] desenvolvido pelo WHOI (Woods Hole Oceanographic Institu-

tion) é uma arquitectura open source alternativa para soluções comerciais. É programá-
vel pelo utilizador e pode suportar vários instrumentos. Actualmente é utilizado para

comunicação e navegação de veículos autónomos subaquáticos e em boias sensores. O

MicroModem utiliza dois tipos de modulação na camada física: esquema de modulação

na frequência (do inglês Frequency-Shift Keying, frequentemente abreviado para FSK) ou

esquema de modulação na fase (do inglês Phase-Shift Keying, frequentemente abreviado

para PSK), com taxa de transmissão que poderá chegar aos 5400 bps em PSK.

A tabela 2.2 resume e compara os modems de cada uma das empresas mencionadas em
termos de frequência de operação, potência de transmissão e recepção, esquema de mo-

dulação, taxa de transmissão de bits e custo. Para valores não especificados na literatura

denota-se por "NS". As frequências de operação variam entre 8 kHz e 78 kHz, as potências

de transmissão variam entre 2.5 W e 80 W e as taxas de transmissão de bits variam entre

40 e 15000 bps. Todos os modems fazem uso de transdutores comerciais que só por si
custam alguns milhares de euros, contribuindo com uma grande parcela do custo total

do modem.

21



C
A
P
Í
T
U
L
O

2
.
C
O
M

U
N
I
C
A
Ç
Õ
E
S
D
I
G
I
T
A
I
S
E
M

A
M

B
I
E
N
T
E
S
U
B
A
Q
U
Á
T
I
C
O

Tabela 2.2: Comparação entre modems acústicos subaquáticos comerciais

Modem Frequência (kHz) Potência (W)
Taxa de Transmissão (bps) Alcance (km) Custo (e)

Empresa Modelo Centro Largura de Banda Tx Rx

LinkQuest [34]

UW M1000 35.7 17.9 1 0.75 17800 0.35

&gt; 6000

UW M2000 35.7 17.9 2 0.8 17800 1.5
UW M2000H 35.7 17.9 2 0.8 17800 1.5
UW M2200 71.4 35.7 6 1 35700 1
UW M3000 10 5 12 0.8 5000 3

UW M3000H 10 5 12 0.8 5000 3
UW M4000 17 8.5 7 0.8 8500 4

UW M10000 10 5 40 0.8 5000 10

TELEDYNE
BENTHOS [35]

ATM9XX (PSK) 11.5/18.5/24.5 5 20 0.7 2400 6
&gt; 6500ATM9XX (MFSK2) 11.5/18.5/24.5 5 20 0.7 15360 6

ATM885 18.5 5 84 0.7 15360 0.7

TriTech [36] MicronModem 22 4 8 0.7 40 0.5 ? 3000

Aquatec [36]
AQUAModem 500 29 4 NS NS 100 0.25

&gt; 7000
AQUAModem 1000 9.7 4.5 20 0.6 2000 5

EvoLogics [37]

S2CR 48/78 63 30 18 1.1 31200 1

&gt; 10000
S2CR 40/80 51 26 40 1.1 27700 1
S2CR 18/34 26 16 35 1.3 13900 3.5
S2CR 12/24 18.5 11 15 1.1 9200 6
S2CR 7/17 12 10 40 1.1 6900 8

DSPComm [38]
AquaComm Marlin 23 14 1.8 0.3 480 1

&gt; 5300AquaComm Mako 23 14 1.8 0.3 240 1
AquaComm Orca 23 14 1.8 0.3 100 3

WHOI [39]
MicroModem (FSK) 25 4 100 0.2 80 2

&gt; 6000
MicroModem (PSK) 25 4 100 2.2 5400 2

2do inglês Multi Frequency Shift Keying, frequentemente abreviado para MFSK

2
2



2.3. COMUNICAÇÕES SUBAQUÁTICAS SUPORTADAS EM ONDAS ACÚSTICAS

2.3.3.2 Soluções Propostas por Projectos de Investigação

As pesquisas sobre os modems acústicos subaquáticos têm sido conduzidas com o objectivo
de reduzir o consumo energético e custo, testando novos algoritmos de comunicação para

aumentar a taxa de transmissão de dados e melhorar o desempenho do dispositivo quando

colocado em ambientes adversos.

O Instituto de Ciências da Informação da Universidade do Sul da Califórnia desenvol-

veu um modem protótipo para o projecto experimental de redes de sensores subaquáticas
sísmicas (SNUSE) [40]. O principal objectivo do projecto era fornecer um modem de baixa
potência e baixo custo para operar entre 50 a 500 metros para aplicações de monitorização

sísmica. Para conseguir esse objectivo, o protótipo incluí um receptor barato e de baixa

potência que consome apenas 500 µW, um microcontrolador e um esquema de modula-

ção baseado em FSK. O protótipo custou menos de 90 e, com uma potência máxima de

transmissão de 2 W, 25 mW de recepção e 500 µW em stand-by, sendo que apenas ficou
optimizado para experiências no ar.

As pesquisas da Universidade da Califórnia em Irvine resultaram no desenvolvimento

de modems acústicos constituídos por altifalantes e microfones genéricos para estabelecer
comunicações entre redes de sensores acústicas subaquáticas com a ideia de que o uso de

hardware simples pode reduzir muito o custo do projecto do modem [41].

O AquaModem [42], concebido na Universidade da Califórnia em Santa Barbara foi

projectado para aplicações de curto alcance (&lt;1 km) em linha recta debaixo de água rasa.

O modem foi testado num coral e o seu alcance atinge os 440 metros com uma taxa de
transmissão de dados de 133 bps e uma taxa de erro inferior a 1% [43].

As pesquisas da Universidade Kookmin, Coreia, projectaram um modem acústico su-
baquático que faz uso de quatro pequenos transdutores de ar para comunicar com outros

nós que se encontrem a Norte, Sul, Este e Oeste, respectivamente, e um quinto transdutor

para comunicar com o nó da superfície. O projecto usa um microcontrolador ATmega

128 que faz interface com um processador PXA270 Arm para a camada MAC. Opera a 30

kHz e é capaz de transmitir dados a 5 kbps até distâncias de 30 metros [44].

Um grupo de investigação conduzido por Vasilescu desenvolveu o AquaNode. Apre-

senta um modelo híbrido: por via óptica para transmissão ponto-a-ponto, a curta distân-

cia, a uma taxa de transmissão de 330 kbps e por via acústica para transmissão a longo

alcance com uma taxa de transmissão de 300 bps [45].

23



CAPÍTULO 2. COMUNICAÇÕES DIGITAIS EM AMBIENTE SUBAQUÁTICO

As pesquisas da Universidade de Connecticut notibilizaram-se por um modem base-
ado em OFDM, assente num TMS320C6713 DSP com o objectivo de fornecer uma maior

taxa de transmissão de dados em relação a outros modems de investigação [46]. O modem
foi testado num tanque de água, em laboratório, não tendo sido testado no terreno [47].

Sozer e Stojanovic desenvolveram um modem acústico reconfigurável (rModem) [48].
Outras numerosas pesquisas têm implementado algoritmos de comunicação num laptop e
usado hardware comprado comercialmente para controlar e realizar testes em água, com
implementações baseadas em OFDM [49, 50, 51, 52, 53, 54] e em MIMO [55, 56]. Estes e

outros projectos são úteis para examinar a capacidade de diferentes esquemas de modu-

lação.

A tabela 2.3 compara os modems de investigação descritos anteriormente em termos de
plataforma, esquema de modulação, taxa de transmissão de dados e alcance. Para valores

não especificados na literatura denota-se por "NS".

24



2
.
3
.
C
O
M

U
N
I
C
A
Ç
Õ
E
S
S
U
B
A
Q
U
Á
T
I
C
A
S
S
U
P
O
R
T
A
D
A
S
E
M

O
N
D
A
S
A
C
Ú
S
T
I
C
A
S

Tabela 2.3: Comparação entre modems acústicos subaquáticos propostos em trabalho de investigação

Instituição Modem Plataforma
Frequência

(kHz)
Alcance

(km)
Taxa de Transmissão

(bps)
Modulação

University of Southern California USC [40] ATMEGA 128L MCU (Mica2) 18 0.5 600 FSK

University of California, Irvine UCI [40] Tmote (MSP430 MCU) 1.5 0.01 48 FSK

University of Connecticut uConn [46] TMS320C6713 DSP 12.5 (Lab) 6200 OFDM (QPSK4)

Massachusetts Institute of Technology rModem [48] TMS320C6713 DSP 12 0.016 550 QPSK

University of California, Santa Barbara AquaModem [42] TMS320C6713 DSP 24 0.44 133 DSSS5

Kookmin University Kookmin [44] ATMEGA 128 MCU 30 0.03 5000 OOK6

Massachusetts Institute of Technology AquaNode [45] ADBlackfin B533 DSP 30 0.4 300 FSK

University of California, San Diego UCSD [57] FPGA NS NS NS NS

Northwestern Polytechnical University in China NPUC [58] ADSP-TS101 + FPGA NS (Lab) 1000 OFDM (BPSK7 )

North Carolina State University NCSU [59] ATmega 168 MCU 47.5 0.1 31 4-FSK

Gangneung-Wonju National University GaWoNU [60] ARMCortex-M3 70 0.07 200 OOK

ITACA Institute ITACA [61] C8051F920 85 0.1 1000 FSK

3do inglês Quadrature Phase-Shift Keying, frequentemente abreviado para QPSK
4do inglês Direct Sequence Spread Spectrum, frequentemente abreviado para DSSS
5do inglês On-Off Keying, frequentemente abreviado para OOK
6do inglês Binary Phase-Shift Keying, frequentemente abreviado para BPSK

2
5



CAPÍTULO 2. COMUNICAÇÕES DIGITAIS EM AMBIENTE SUBAQUÁTICO

2.4 Conclusões

Após descrito o efeito do ambiente subaquático nas ondas RF, ópticas e acústicas, a tabela

2.4 (baseado em [13]) resume e compara as características das comunicações subaquáticas

RF, óptica e acústica.

As ondas de rádio podem proporcionar elevadas taxas de transmissão de dados, mas

estão sujeitas a uma forte atenuação devido à condutividade da água. As ondas ópticas

proporcionam ainda maiores taxas de transmissão de dados, mas estão sujeitas à atenua-

ção devido à turvação da água.

Por fim, as ondas acústicas permitem estabelecer ligações a distâncias mais longas,

mas suportam taxas de transmissão de dados mais baixas e estão sujeitas aos efeitos de

desvanecimento multi-percurso. As aplicações subaquáticas onde se pretendem incluir re-

des de sensores sem fios exigem baixas taxas de transmissão de dados e como tal, as ondas

acústicas são as mais robustas e fiáveis, justificando assim, a sua utilização no desenvolvi-

mento de um transreceptor acústico. Para aumentar o débito em sistemas de transmissão

acústica submarina deve-se usar frequências elevadas. No entanto, a atenuação é maior a

altas frequências. Por essa razão é necessário chegar a um compromisso e verificar o que

em cada caso é mais importante, se a distância ou a resolução.

Tabela 2.4: Caracterização de comunicações sem fios em ambientes subaquáticos

RF Óptica Acústica

Velocidade da Onda (m/s) ? 3×108 ? 3×108 ? 1.5× 103

Taxa de Transmissão &amp;lt;10 Mbps &amp;lt;1 Gbps &amp;lt;100 kbps

Alcance ? 1 a 100 m ? 1 a 100 m ? km

Perdas de Potência ? 28 dB/km/MHz ? turvação &gt; 0.1 dB/m/Hz

Largura de Banda ? MHz ? 1014 to 1015 Hz ? kHz

Principais Dificuldades potência limitada ambiente limitado
largura de banda limitada

interferências

26



C
a
p
í
t
u
l
o

3
Transreceptor Acústico para Comunicações

Digitais Subaquáticas

3.1 Arquitectura do Sistema e Orçamento da Ligação

O objectivo passa por desenvolver um modem acústico, capaz de transmitir e receber
dados em ambiente subaquático, de baixo custo e de baixo consumo energético. A sua

arquitectura pode ser dividida em diversos blocos. No entanto, o foco do sistema proposto

nesta dissertação vai para dois dos blocos principais, um circuito para a transmissão e

outro para a recepção (ver figura 3.1). Para entender correctamente como operam os trans-

dutores acústicos de forma a determinar a qualidade do desempenho e a conveniência

do transdutor são descritas as principais formas de transdução e especificações na secção

seguinte.

Circuito Transmissor

Circuito Receptor

M
C

U

Transdutor Tx

Transdutor Rx

Sensor/Actuador

Sensor/Actuador

Sensor/Actuador

sinais digitais sinais analógicossinais digitais/analógicos

Unidade de Potência

Figura 3.1: Blocos principais do modem acústico subaquático

27



CAPÍTULO 3. TRANSRECEPTOR ACÚSTICO PARA COMUNICAÇÕES DIGITAIS

SUBAQUÁTICAS

Em todos os projectos de comunicação entre dois pontos é fundamental descrever o

modelo de propagação do sinal desde a origem até ao receptor contabilizando todas as

perdas que existem durante o trajecto (ver figura 3.2). 

 

 

 

Modem 

Receptor 

Modem 

Transmissor 

D

H SL

TL

Ar 

Água 

Figura 3.2: Modelo de propagação acústica subaquática a uma profundidade H e a uma
distância D

O nível de intensidade sonora num ponto à distância, D (km), da fonte (do inglês

Sound Intensity Level, frequentemente abreviado para SIL) é dado por

SIL = SL?TL [dB re 1 µPa] , (3.1)

onde SL é o nível sonoro na fonte e TL as perdas totais de transmissão ao longo do trajecto.

Sabendo a potência acústica de transmissão, obtém-se o nível sonoro na fonte, SL, pela

equação 2.9. Através da soma dos efeitos da absorção, TLa, e do espalhamento geométrico,

TLs, as perdas totais de transmissão, TL, podem ser estimadas por

TL = TLa + TLs [dB] . (3.2)

Pelas equações 3.3 e 3.4, o cálculo da tensão recebida no receptor depende da sensibi-

lidade do transdutor.

dBrecebido = SIL + Sensibilidade [dB re 1V ] . (3.3)

Vrecebido = 10
dBrecebido

10 [V ] . (3.4)

A relação sinal-ruído (do inglês Signal-Noise Ratio, frequentemente abreviado para

SNR) no receptor para a distância e potência de transmissão estabelecidas é

SNR = SL?TL?NL [dB] , (3.5)

onde SL é o nível de intensidade sonora na fonte, TL as perdas de transmissão devido a

absorção e espalhamento e NL o ruído associado à banda do canal de comunicação.

28



3.2. TRANSDUTORES ELECTROACÚSTICOS

3.2 Transdutores Electroacústicos

Um transdutor acústico é um dispositivo que converte energia eléctrica em energia mecâ-

nica e vice-versa. Existem muitos factores que afectam o design de um transdutor acústico,

podendo desempenhar funções tanto de sensor como de actuador. De entre muitos trans-

dutores electroacústicos, destacam-se o altifalante como actuador e o microfone (no ar) e

o hidrofone (na água) como sensores.

Os transdutores electroacústicos operam usando uma variedade de diferentes materi-

ais ou mecanismos de transdução.

Em transdutores magnéticos, geralmente encontrados em transdutores de meio ga-

soso, uma bobine é colocada num campo magnético gerado por um magneto permanente.

Ao fluir uma corrente eléctrica alternada (sinal eléctrico) pela bobine produz um campo

magnético e uma força que faz o cone de papel (ou aglomerado de madeira ou PVC) preso

à bobina vibrar, pressionando e distendendo o meio à sua volta. O resultado desse pro-

cesso é a produção de ondas sonoras cujas características correspondem ao sinal eléctrico

aplicado. De modo semelhante, quando o som chega ao diafragma, este vibra, fazendo

vibrar a bobina, produzindo nos seus terminais uma pequena corrente eléctrica. A sua

magnitude e direcção são directamente proporcionais ao movimento da bobine e do dia-

fragma. Este tipo de transdutores são altamente confiáveis, resistentes e fidedignos.

Os transdutores também podem ser concebidos usando materiais magnetostrictivos

para transduzir. Quando estes materiais são colocados sobre um campo magnético, as

suas dimensões mecânicas mudam em função da força do campo magnético, que por sua

vez pode ser utilizado para gerar som.

Outros transdutores utilizam cristais piezoelétricos, normalmente feitos a partir de

um material cerâmico, como o quartzo, o sal de Rochelle ou o Difosfato de Amónia para a

transdução em meios gasosos e aquáticos. O princípio de funcionamento é totalmente di-

ferente quando comparado com a transdução magnética. Não existe bobine, nem campo

magnético. Quando sujeitos a um sinal eléctrico, os átomos dos cristais ficam sujeitos

a uma "pressão eléctrica", isto é, os átomos ao deslocarem-se para se reequilibrarem,

deformam-se ligeiramente, alterando a sua forma. Durante o seu movimento vibrató-

rio geram ondas de pressão acústica. Um aumento da amplitude do sinal, irá resultar

numa deformação maior e, consequentemente, numa saída de som maior. O efeito in-

verso também é válido. Quando a onda sonora atinge as faces do material cerâmico, fá-lo

vibrar deformando-o levemente, gerando uma tensão em resposta a essa deformação pro-

porcional às variações da pressão sonora. Os materiais de transdução mais usados em

transdutores piezoeléctricos são o Titanato de bário e o Titanato Zirconato de Chumbo,

muitas vezes referidos como cerâmicas piezoeléctricas. A sua popularidade é devida a um

custo relativamente baixo, somado à capacidade de ser fabricado numa grande variedade

de formas e tamanhos.

29



CAPÍTULO 3. TRANSRECEPTOR ACÚSTICO PARA COMUNICAÇÕES DIGITAIS

SUBAQUÁTICAS

No circuito equivalente de um cristal piezoeléctrico, L, C e R dependem das proprie-

dades do cristal e C1 é a capacitância entre os eléctrodos (ver figura 3.3). Os altifalantes

piezoeléctricos têm um circuito equivalente electrónico complexo, mas pode ser visto

como uma carga capacitiva com valores compreendidos entre 10 nF e 1 µF.

R

C1

C

L

Figura 3.3: Circuito equivalente de um altifalante piezoeléctrico

Como os altifalantes piezoelétricos actuam, principalmente, como uma carga capaci-

tiva, a impedância complexa irá diminuir com o aumento da frequência (ver figura 3.4).

Z

f

_

ZC1 = ?jXC1

XC1 =
1
?C1

.

Figura 3.4: Impedância de um altifalante piezoeléctrico em função da frequência

Os transdutores também são seleccionados com base na frequência de operação, sen-

sibilidade e direccionalidade da resposta.

Os transdutores emissores produzem uma maior intensidade sonora quando operam

na vizinhança da frequência de ressonância, por isso, o sistema deve ser projectado para

operar na sua frequência de ressonância. Do mesmo modo, quando utilizados como re-

ceptores, os transdutores acústicos irão produzir um sinal eléctrico maior para uma dada

pressão sonora. No entanto, o sistema deve operar abaixo da sua frequência de ressonân-

cia de forma a tirar partido de uma resposta constante e, aproximadamente, plana do

transdutor.

30



3.2. TRANSDUTORES ELECTROACÚSTICOS

A sensibilidade e a direccionalidade medem, em termos práticos, a receptividade e a

resposta a um determinado impulso de diferentes direcções, respectivamente, tais como:

• Omnidireccional - Sensível a sons de todas as direcções (ver figura 3.5a).

• Cardioide - Mais sensível a sons que chegam na direcção do seu eixo principal, re-

jeitando parcialmente sons laterais e, totalmente, sons vindos da direcção posterior

(ver figura 3.5b).

• Direccional - Sensível exclusivamente a sons advindos da direcção do seu eixo prin-

cipal, sendo insensível a sons de outras direcções (ver figura 3.5c).

• Supercardioide - Rejeição total dos sons que chegam da direcção posterior ao seu

eixo principal. Em comparação com o cardióide, a sua rejeição a sons laterais tam-

bém é maior (ver figura 3.5d).

• Bidireccional - Variação do tipo direccional (ver figura 3.5e).

(a) Omnidireccional (b) Cardioide (c) Direccional

 

(d) Supercardioide (e) Bidireccional

Figura 3.5: Diagramas polares de direccionalidade da resposta dos transdutores

31



CAPÍTULO 3. TRANSRECEPTOR ACÚSTICO PARA COMUNICAÇÕES DIGITAIS

SUBAQUÁTICAS

3.3 Design e Simulações do Sistema

3.3.1 Circuito Transmissor

Na figura 3.6, visualiza-se o diagrama dos principais blocos do circuito de transmissão,

que é, essencialmente, constituído por um gerador de sinal, um microcontrolador e um

amplificador de potência. O microprocessador é responsável por enviar os dados quer

sejam provenientes da aquisição de sinal de um sensor (ou por ligação rádio via Bluetooth
Low Energy (BLE)) e programar o gerador de sinais com o intuito de gerar um sinal. Pos-
teriormente, ocorre a modulação, que introduz o sinal digital na portadora, e finalmente

amplificado de forma a activar o transdutor acústico.

MCU

Transdutor TX

Gerador da 

Portadora

4 bits de 

controlo

Modulador

A
m

p
. 

P
o

tê
n

c
ia

Sensor

portadora

dados dados 

modulados

dados modulados 

amplificados

BLE

Figura 3.6: Diagrama de blocos do circuito de transmissão

Gerador da Portadora
Com o objectivo de gerar um sinal analógico à saída programado através do microcontro-

lador, optou-se por uma arquitectura de síntese directa digital (do inglês Direct Digital

Synthesis, frequentemente abreviado para DDS). O custo competitivo, o alto desempe-

nho, a fácil implementação e programação e capacidade de gerar vários tipos de ondas

(sinusoidais, quadradas e triângulares) fazem desta tecnologia uma boa alternativa para

várias aplicações aos circuitos sintetizadores de frequência baseados em PLL (do inglês,

Phase-Lock-Loop) ou pontes de Wien, por exemplo.

De uma forma simples, um DDS pode ser implementado a partir de um sinal de re-

lógio de referência preciso, um contador de endereços, uma memória programável só de

leitura (do inglês, Programmable Read-Only Memory, frequentemente abreviado para

(PROM)) e um conversor D/A (ver figura 3.7).

32



3.3. DESIGN E SIMULAÇÕES DO SISTEMA

MCU

Transdutor Tx

Circuito de Transmissão

Gerador de 

Sinais

n bits

Modulador

A
m

p
. 

P
o

tê
n

c
ia

Contador de 

Endereços

Tabela de 

Valores
Registos Conversor D/A

fc fOUTn bits n bits n bits

Clock

Figura 3.7: Diagrama de blocos de um DDS

A informação da amplitude digital que corresponde a um ciclo completo da onda é

armazenado na PROM, que funciona como uma tabela de valores. O contador de endere-

ços acede a cada um dos registos da PROM e os seus conteúdos (amplitudes de onda) são

apresentados pelo conversor D/A de alta velocidade, gerando uma determinada forma de

onda. A frequência de saída desta implementação é dependente da frequência do relógio

de referência e do step size da onda que é programada na PROM.

A frequência do sinal obtido na saída, fOUT , obedece à seguinte relação:

fOUT =
M×fc

2N
[Hz] , (3.6)

onde M é o valor da palavra de frequência (do inglês, Tunning Word), fc a frequência do

relógio de referência, em Hz, e N a largura do acumulador de fase, em bits.

Apresenta algumas vantagens, tais como:

• Micro resolução da frequência de saída e capacidade de ajuste da fase, controlados

digitalmente;

• Extremamente rápido na sintonização da frequência (ou fase) de saída;

• Boa fiabilidade, ruído de jitter e desempenho AC da saída analógica;

• Inerentemente estável;

• A arquitectura digital DDS elimina a necessidade de um sistema de sintonização e

ajuste manual;

• A interface do controlo digital da arquitectura DDS facilita um ambiente onde os

sistemas podem ser controlados remotamente, e optimizados, sob o controlo de um

microprocessador;

• Flexibilidade em modificar a forma de onda;

• Maior imunidade às variações do ambiente que poderiam afectar circuitos de natu-

reza analógica (temperatura, tensão de alimentação, entre outras).

33



CAPÍTULO 3. TRANSRECEPTOR ACÚSTICO PARA COMUNICAÇÕES DIGITAIS

SUBAQUÁTICAS

O módulo AD9850 (ver figura 3.9) é um dispositivo DDS com um núcleo de alta

velocidade que oferece um ajuste da frequência a 32 bits, o que resulta numa resolução

de saída de 0.0291 Hz para uma entrada de relógio de referência de 125 MHz.

A arquitectura do circuito permite gerar uma frequência de até metade da frequência

do relógio de referência, bem como ser alterada digitalmente (de forma assíncrona). O

dispositivo também inclui 5 bits de modulação da fase com controlo digital, o que permite

o deslocamento da fase da saída em incrementos de 180°, 90°, 45°, 22.5°, 11.5° e qualquer

combinação dos mesmos.

O controlo e ajuste da frequência e modulação da fase podem ser programados por

via paralela ou série. Neste projecto, o carregamento dos dados foi realizado por via série,

através de 4 pinos: reset, actualizar frequência/reset registo de dados, palavra de frequên-
cia e dados via série (ver figura 3.8). A potência de consumo ronda os 380 mW, quase sem

distorção do sinal de saída.

+ VS GND

Reset

Act ualizar f requência/

Reset do regist o de dados

Palavra de 

frequência

fOUT

Dados via série

CLOCK  DE  

REFERÊNCIA

125 MHz

Figura 3.8: Mapa simplificado dos pinos uti-
lizados existentes no módulo DDS AD9850

Figura 3.9: Módulo DDS AD9850

Modulador
Em 1924, Nyquist determinou a capacidade máxima de um canal desconsiderando a

existência do ruído,

C = 2Blog2 (N) [bps] , (3.7)

onde C é a capacidade máxima do canal, B a largura de banda, em Hz, e N o número de

níveis do sinal.

A base do teorema diz que um canal com largura de banda B pode enviar no máximo

2B valores de tensão diferentes por segundo, ou seja, no máximo pode-se alterar a onda

portadora a cada meio ciclo a fim de transmitir um sinal binário. É importante referir que

o teorema de Nyquist não leva em consideração a existência de ruído. Assim, é possível,

teoricamente, aumentar indefinidamente a taxa de transmissão do canal, simplesmente

34



3.3. DESIGN E SIMULAÇÕES DO SISTEMA

aumentando o número de níveis da modulação. No entanto, visto que quanto maior o

número de níveis, mais difícil será a correcta reconstrução do sinal na existência de ruído,

pois os níveis ficam mais próximos entre si. Uma solução para esse problema é aumentar

a energia do sinal.

O teorema de Shannon, expresso pela equação 3.8, já considera a existência de ruído,

impondo limites para a máxima taxa de transmissão do canal e para a modulação multi-

nível que pode ser utilizada.

C = Blog2

(
1 +

S
N

)
[bps] , (3.8)

onde S é a potência do sinal enviado através de uma linha e N a potência do ruído.

As modulações em amplitude e em frequência do tipo ASK (do inglês, Amplitude-

Shift Keying) [43, 60] e FSK [39, 40, 44, 57] permitem que a descodificação não necessite de

acompanhamento de fase da portadora. A principal vantagem destes tipos de modulação

é a sua simplicidade, não sendo necessários processadores com elevados recursos, o que

leva a um maior consumo de energia. Devido à baixa complexidade destes métodos leva

o sistema a estar sujeito a interferências causadas pelo efeito de Doppler e propagação

muti-percurso.

Para aumentar a eficiência espectral e o alcance da comunicação, existem alternativas,

baseadas em técnicas de modulação de fase coerente, como PSK [62] e QAM (do inglês,

Quadrature Amplitude Modulation) [47]. No entanto, para fazer face à propagação no

canal acústico sem perda significativa de eficiência espectral, os sinais de entrada devem

ser equalizados de acordo com a resposta do canal e depois descodificados. Ao utilizar

estas técnicas, a complexidade do modem e o consumo de energia aumentam.

A escolha do tipo de codificação para a modulação do sinal pretendido requer um com-

promisso entre a largura de banda da transmissão e a probabilidade de erro e respectiva

simplicidade de implementação, tanto na modulação como na desmodulação. Visto que

um dos requisitos é que o sistema seja de baixa potência, e tendo em conta a natureza da

frequência da portadora, situada na banda acústica, entre os 20 Hz e os 20 kHz, onde não

é possível uma elevada largura de banda, ao contrário do que acontece com as ondas RF,

de altas-frequências, pretende-se um esquema de codificação que minimize a utilização

da largura de banda de cada byte, mantendo a simplicidade.

Os circuitos de modulação e desmodulação digital em amplitude são simples e por

isso são usados em sistemas de custo relativamente baixo. Exigem metade da largura

de banda acústica relativamente a FSK (utiliza apenas um canal, em vez de dois) para

transmitir uma determinada quantidade de dados, satisfazendo as pretensões do projecto,

apesar de ser muito sensível ao ruído.

35



CAPÍTULO 3. TRANSRECEPTOR ACÚSTICO PARA COMUNICAÇÕES DIGITAIS

SUBAQUÁTICAS

A modulação ASK, representada na figura 3.10, consiste na variação da amplitude da

onda sinusoidal portadora mediante o estado lógico do sinal modulador.

MCU

Transdutor Tx

Circuito de Transmissão

Gerador de 

Sinais

n bits

Modulador

A
m

p
. 

P
o

tê
n

c
ia

Contador de 

Endereços

Tabela de 

Pesquisa
Registos Conversor D/A

fc fOUTn bits n bits n bits

Clock

Sinal modulador 

m(t)

Onda modulada ASK 

Sask (t)

Onda portadora

C(t)

Figura 3.10: Diagrama de modulação ASK

A onda portadora C(t), gerada pelo gerador de sinais, pode ser expressa por

C(t) = Ac cos(2?fOUT t) . (3.9)

A onda modulada Sask(t), dada pela equação 3.10, é obtida através da multiplicação

entre o sinal modulador m(t) e a onda portadora c(t).

Sask(t) = m(t)C(t) = m(t)Ac cos(2?fOUT t) . (3.10)

Para implementar este tipo de modulação, optou-se pelo circuito apresentado na fi-

gura 3.11, constituído por um transístor bipolar NPN 2N2222.

MCU

Transdutor Tx

Circuito de Transmissão

Gerador de 

Sinais

n bits

Modulador

A
m

p
. 

P
o

tê
n

c
ia

Sinal modulador 

m(t)

Onda modulada ASK 

Sask (t)

Onda portadora

C(t)

Sinal modulador 

m(t)

Onda portadora

C(t)

Onda modulada ASK 

Sask (t)

R3
47 k

R4
1 M

R1
10 k

R2
10 k

Q1
2N2222

interruptor

Figura 3.11: Circuito para implementação de modulação ASK

Quando o sinal lógico m(t) = 0, enviado pelo microcontrolador, a tensão aplicada à

base do transistor é nula e, portanto, o interruptor encontra-se aberto (Q1 está OFF) e o
sinal modulado, Sask(t), repete o sinal portador, C(t).

Quando m(t) = 1, a tensão aplicada na base é de 5 V, Q1 está ON, o transístor comporta-

se como um interruptor fechado, resultando numa ausência de sinusoide no sinal modu-

lado, Sask(t).

36



3.3. DESIGN E SIMULAÇÕES DO SISTEMA

Amplificador de Potência
Para desempenhar a função do amplificador de potência, simulado em LTspice (ver figura

3.12), foi utilizado, numa primeira escolha, o integrado LM386 [63]. O ganho é fixado

internamente a 20 (V/V) para manter o mínimo de componentes externos, no entanto

existem dois pinos (1 e 8) para controlo do ganho (ver figura 3.13). Para um ganho mí-

nimo, a largura de banda é 325 kHz, aproximadamente (ver figura 3.14). O transdutor

considerado foi um altifalante de transdução magnética de 0.5 W com 8 ? de impedância.

Figura 3.12: Circuito em LTspice do amplificador de potência LM386 com ganho 20

Quando alimentado a 5 V, este amplificador entrega, tipicamente, 250 mW à carga de

8 ?, considerando 1% de distorção (do inglês Total Harmonic Distortion, frequentemente

breviado para THD) (ver figura 3.15) com um rendimento de 60 %, aproximadamente

(ver figura 3.16).

3.3.1.1 Simulação da Cadeia Transmissora

Para verificar a funcionalidade da cadeira transmissora e servir como base de comparação

dos resultados obtidos em ambiente terrestre, foram realizadas simulações LTspice de

todo o circuito transmissor (ver figura 3.17).

Algumas considerações importantes a ter em conta na interpretação dos resultados:

• O ganho do amplificador foi ajustado para o maior valor possível, introduzindo um

condensador de 10 nF entre o pino 1 e 8;

• É indicado o uso de um condensador de 100 nF (ByPass) entre o pino 7 e a massa
para evitar instabilidades no circuito, quando o ganho é superior a 20 (V/V);

• A resistência R6 permite regular o volume;

• A resistência R5 com o valor de 8 ? simboliza a impedância do altifalante a utilizar

no teste em laboratório com o modem a operar através do ar;

37



CAPÍTULO 3. TRANSRECEPTOR ACÚSTICO PARA COMUNICAÇÕES DIGITAIS

SUBAQUÁTICAS

Figura 3.13: Simulação em LTspice do ganho do amplificador de potência LM386: sinal
de entrada com 1 mV (verde) e sinal à saída do amplificador com ganho máximo (azul) e
ganho mínimo (vermelho)

Figura 3.14: Simulação em LTspice da largura de banda do amplificador de potência
LM386

38



3.3. DESIGN E SIMULAÇÕES DO SISTEMA

Figura 3.15: Simulação em LTspice da potência entregue a uma carga de 8 ? por parte do
amplificador de potência LM386 considerando 1% de THD

Figura 3.16: Simulação em LTspice do rendimento do amplificador de potência LM386

39



CAPÍTULO 3. TRANSRECEPTOR ACÚSTICO PARA COMUNICAÇÕES DIGITAIS

SUBAQUÁTICAS

Figura 3.17: Simulação em LTspice da cadeia transmissora

• De forma a maximizar a transferência de energia entre o amplificador e o altifalante,

a impedância de saída do amplificador de potência deve corresponder à impedância

de entrada do transdutor. Sendo o transdutor a utilizar predominantemente indu-

tivo, foi utilizado um condensador de 250 µF de forma a fazer parecer o transdutor

mais resistivo perto da sua frequência de operação;

• Para modelar o DDS AD9850 foi usada uma fonte de tensão com a função de gerar

uma onda sinusoidal com 1 V de amplitude e 2 kHz de frequência. Por defeito,

a tensão de saída do DDS AD9850 é de 1 V. Em relação ao sinal proveniente do

microcontrolador, foi também gerado com recurso a uma fonte de tensão, mas com

a função de gerar pulsos com uma amplitude de 5 V, com tempos de subida e descida

de 0.01 ps e um período de onda de 5 ms com o sinal a 5 V durante metade desse

tempo, ou seja, 2.5 ms;

Figura 3.18: Simulação em LTspice da cadeia transmissora: sinal digital enviado (sinal
azul), sinal modulado analógico contendo a informação antes de ser amplificado (sinal
vermelho) e o sinal modulado após a passagem pelo amplificador recebido pelo altifalante
(sinal verde)

40



3.3. DESIGN E SIMULAÇÕES DO SISTEMA

Na figura 3.18 estão apresentados três sinais: os dados digitais enviados (azul), o

sinal modulado analógico contendo a informação antes de ser amplificado pelo integrado

LM386 (vermelho) e o sinal modulado após a passagem pelo amplificador recebido pelo

altifalante (verde). Como se verifica, existe um aumento da amplitude do sinal depois da

passagem pelo amplificador, comprovado pela figura 3.13. Enquanto, a onda a vermelho

apresenta uma amplitude de 5 mV, a onda verde apresenta uma amplitude aproximada

de 800 mV, contabilizando um ganho de 160 (V/V) com uma potência na carga de 20 mW

sem distorção.

3.3.2 Circuito Receptor

Na figura 3.19, visualiza-se o diagrama dos principais blocos do circuito de recepção,

essencialmente constituído por um amplificador de baixo ruído (do inglês Low Noise

Amplifier, frequentemente abreviado para LNA) com ganho programável, um filtro activo

e um circuito de desmodulação. O design necessita de ser facilmente modificável para

acomodar diferentes transdutores com diferentes bandas e frequências de ressonância. O

microcontrolador é responsável por interpretar os dados recebidos pelo transdutor após

uma amplificação e filtragem e posterior desmodulação do sinal analógico em digital. O

nível de amplificação do sinal é controlado pelo microcontrolador através de seis bits de

programação e é tanto maior quanto menor for a potência do sinal recebido. Os dados

recebidos pelo microcontrolador podem ser enviados para qualquer dispositivo móvel,

caso seja necessário, por via rádio.

Desmodulador

Transdutor RX

MCU

Filtro

L
N

A

dados

dados recebidos 

amplificados dados recebidos

BLE

6 bits de 

controlo

dados recebidos 

filtrados

Figura 3.19: Diagrama de blocos do circuito de recepção

3.3.2.1 LNA Programável

O amplificador deverá ter um nível de ganho suficiente para detectar os sinais fracos

provenientes do transdutor de forma a tornar possível a desmodulação do sinal fornecido

ao microprocessador. Através de um sistema de controlo automático de ganho, a cadeia

41



CAPÍTULO 3. TRANSRECEPTOR ACÚSTICO PARA COMUNICAÇÕES DIGITAIS

SUBAQUÁTICAS

de recepção é capaz de se adaptar a variações do nível do sinal recebido. Dependente

da distância que o receptor possa estar do transmissor, é necessário programar e variar

o ganho de amplificação. Para isso, é medido o nível médio do sinal recebido e enviada

essa informação para o microcontrolador para que este decida se é necessário aumen-

tar ou diminuir o ganho, digitalmente. No entanto, é preferível incrementar a potência

acústica do sinal transmitido em detrimento de aumentar o ganho na cadeia de recepção,

minimizando a degradação da relação sinal-ruído.

A selecção do LNA tem em conta:

• A sensibilidade que indica o nível mínimo que é detectável pelo amplificador;

• Factor de ruído que mostra a qualidade do amplificador quanto ao ruído.

O LTC6910-1 [64], simulado em LTspice (ver figura 3.20), é um amplificador de ganho

programável digitalmente, de baixo ruído e elevada sensibilidade, de fácil utilização e

ocupa pouco espaço em placa de circuito impresso (do inglês Printed Circuit Board,

frequentemente abreviado para PCB). O ganho inversor é ajustado através de uma entrada

digital de 3 bits para seleccionar ganhos de 1, 2, 5, 10, 20, 50 e 100 (V/V) com uma saída

rail-to-rail.

Figura 3.20: Circuito em LTspice do LNA LTC6910-1

Para um ganho de 100 e um sinal de entrada de 100 µV, o amplificador apresenta

uma largura de banda de 100 kHz, aproximadamente (ver figura 3.21), e uma baixa

distorção (ver figura 3.22), quando alimentado a 5 V. Colocando dois dispositivos em

série, consegue-se um ganho máximo elevado (ver figura 3.23).

42



3.3. DESIGN E SIMULAÇÕES DO SISTEMA

Figura 3.21: Simulação em LTspice da resposta em frequência do LNA LTC6910-1 para
um ganho de 100 com Vin=100 µV, alimentado a 5 V

Figura 3.22: Simulação em LTspice da distorção do LNA LTC6910-1 para um ganho de
100 com Vin=100 µV, alimentado a 5 V

43



CAPÍTULO 3. TRANSRECEPTOR ACÚSTICO PARA COMUNICAÇÕES DIGITAIS

SUBAQUÁTICAS

Figura 3.23: Simulação em LTspice do ganho do LNA LTC6910-1: sinal de entrada com
100 µV de amplitude (azul) e sinal à saída do amplificador com ganho 1000 (vermelho),
ganho 2000 (verde) e ganho 5000 (roxo)

44



3.3. DESIGN E SIMULAÇÕES DO SISTEMA

3.3.2.2 Filtro

No projecto do filtro pretende-se um circuito linear, do tipo passa banda, onde qualquer

sinal de interferência ou ruído fora da banda de comunicação é atenuado.

De um modo geral, para um sistema passa banda, a função de transferência do filtro

no domínio s pode ser escrita como a razão de dois polinómios,

Vo(s)
Vi(s)

=
A02??0s

s2 + 2??0s + ?
2
0

=
A0

?0
Q s

s2 + ?0Q s + ?
2
0

=
A0Bs

s2 + Bs + ?20
, (3.11)

onde A0 é o ganho na banda central e ?0 a frequência natural, ? o factor de amorteci-

mento, Q o factor de qualidade e B a largura de banda.

A resposta no domínio do tempo de um filtro passa-banda genérico é dada pela figura

3.24 (com A0=1, ?0=1 kHz ' 6283.1 rad/s e vários valores de Q). Mais importante que
o comportamento do filtro no domínio do tempo é o seu comportamento no domínio

da frequência. A resposta em frequência do sistema pode ser visualizada na figura 3.25.

Entre a frequência de corte inferior e a frequência de corte superior, está a frequência

de ressonância, na qual o ganho do filtro é máximo. A largura de banda de um filtro

é a diferença entre essas duas frequências, medidas onde ocorre uma atenuação de -3

dB em relação ao ganho máximo. Um filtro passa banda pode ser caracterizado pelo

seu factor de qualidade Q. Quanto maior, menor será a largura de banda do filtro. Um

filtro ideal possui uma largura de banda totalmente plana. Atenua completamente todas

as frequências fora dessa banda e a transição para fora da banda seria instantânea na

frequência. Na prática, nenhum filtro é ideal e não atenua todas as frequências fora da

faixa desejada.

Em relação à topologia do circuito o filtro pode ser classificado como passivo, im-

plementado recorrendo apenas a elementos reactivos, condensadores e bobines, como

o filtro elíptico ou Cauer, ou activo, baseado em amplificadores operacionais, como os

filtros Sallen-Key, de realimentação múltipla, variáveis de estado e biquadráticos. No caso

das ondas RF, de alta-frequência, não é possível implementar filtros com recurso a am-

plificadores operacionais, uma vez que necessitam de uma elevada largura de banda, na

ordem das dezenas de GHz, inexistentes no mercado, sendo implementados por meio de

componentes passivos. Todavia, as ondas acústicas, permitem implementar filtros acti-

vos, recorrendo a amplificadores operacionais com uma largura de banda, na ordem das

dezenas de kHz. Filtros com um único amplificador operacional (AmpOp) normalmente

não estão disponíveis em integrados mas podem ser facilmente implementados de forma

discreta.

45



CAPÍTULO 3. TRANSRECEPTOR ACÚSTICO PARA COMUNICAÇÕES DIGITAIS

SUBAQUÁTICAS

#10-3
0 1 2 3 4 5 6 7 8 9

-0.2

0

0.2

0.4

0.6

0.8

1

1.2

Q = 0.1
Q = 0.3
Q = 0.5
Q = 0.8
Q = 1

Step Response

Time (seconds)

A
m

p
lit

u
d
e

Figura 3.24: Resposta de um filtro passa-banda genérico ao degrau unitário para diferen-
tes valores de Q

M
a

g
n

itu
d

e
 (

d
B

)

-80

-60

-40

-20

0

20

101 102 103 104 105 106

P
h

a
se

 (
d

e
g

)

-90

-45

0

45

90

Q = 0.1
Q = 0.3
Q = 0.5
Q = 0.8
Q = 1

Bode Diagram

Frequency  (rad/s)

Figura 3.25: Resposta em frequência de um filtro passa-banda genérico para diferentes
valores de Q

46



3.3. DESIGN E SIMULAÇÕES DO SISTEMA

A configuração do filtro escolhida foi o de fonte de tensão controlada por tensão ou

Sallen-Key (ver figura 3.26). De notar que no desenho da topologia Sallen-Key, à medida

que as impedâncias são trocadas por resistências ou condensadores a função do filtro

muda, tornando-o totalmente reconfigurável (ver figura 3.27). Considerando a implemen-

tação genérica do sistema, pode desejar-se alterar os transdutores utilizados, optando

por uns com uma resposta em frequência mais ou menos selectiva. Alterações no ganho

das funções de transferência podem ser realizadas com um divisor de tensão na entrada

do filtro (desde que mantenha a impedância de entrada inalterada) ou utilizando um

divisor de tensão na saída do AmpOp e usando este divisor para realimentar o filtro. No

primeiro caso obtém-se uma redução do ganho, no segundo um aumento. Estas técnicas

não alteram os outros parâmetros da função de transferência. Por outro lado, mantendo

inalterado o valor das resistências, variando o valor dos condensadores modifica-se a

frequência central do filtro, ?0. É igualmente importante que o AmpOp utilizado na

montagem possua uma largura de banda B de pelo menos 10 ×?0.

Figura 3.26: Topologia do filtro Sallen-Key

Figura 3.27: Circuito de configuração Sallen-Key com resistências e condensadores

47



CAPÍTULO 3. TRANSRECEPTOR ACÚSTICO PARA COMUNICAÇÕES DIGITAIS

SUBAQUÁTICAS

A função de transferência no domínio da frequência é dada por

H(s) =
Gs

s2 + ?0Q (3?G)s + ?
2
0

=

(
1 + RARB

)
s

R1C1

s2 +
(

1
R1C1

+ 1R2C1 +
1

R2C2
? RARBRFC1

)
s + R1+RFR1RFR2C1C2

. (3.12)

O ganho G e o factor de qualidade Q, que se deseja ser unitário, são controlados por

RA e RB.

G = 1 +
RB
RA

= 1 +
100 k?
100 k?

= 2 , 1 ?G &amp;lt;3. (3.13)

Q =
1

3?G
=

1
3?2

= 1 . (3.14)

A frequência central f0, onde é máxima a magnitude da resposta em frequência, é

definida por R e C.

f0 =
?0
2?

=
1

2?RC
= 2 kHz . (3.15)

Considerando C = C1 = C2, R = R1 = RF e R2 = 2R e a equação 3.15, tem-se???????????????
C = C1 = C2 = 8 nF

R = R1 = RF = 10 k?

R2 = 2R = 20 k?

(3.16)

e um ganho em f0 dado por

A0 =
G

3?G
= 2 = 6 dB . (3.17)

A resposta em frequência do filtro passa-banda com os valores nominais dos compo-

nentes calculados na secção 3.3.2.2 é visualizado na figura 3.28 e apresenta um ganho

em f0 de 6 dB, tal como foi calculado pela equação 3.17. A largura de banda do sistema é

imposta pela largura de banda do filtro de 2 kHz, aproximadamente.

48



3.3. DESIGN E SIMULAÇÕES DO SISTEMA

Figura 3.28: Simulação em LTspice da resposta em frequência do filtro passa-banda

3.3.2.3 Desmodulador

O desmodulador consiste num detector assíncrono seguido de um comparador, para sim-

plificar a estrutura e reduzir o custo, com o objectivo de reverter o processo da modulação,

detectando a onda portadora modulada e extrair dela o sinal de interesse, a informação,

para que o microcontrolador seja capaz de interpretar a mensagem enviada pelo trans-

missor.

O objectivo da detecção passa por obter uma tensão contínua que represente o perfil

da envolvente da portadora. Numa configuração tradicional, há que ter em conta a tensão

de condução do díodo. Para contornar o efeito desta tensão de condução do díodo, criou-

se um circuito rectificador activo, com base em amplificadores operacionais. A vantagem

destes circuitos é que todas as "deficiências" do díodo são compensadas pelo amplifica-

dor operacional, sendo possível montar um circuito com características bem próximas

do ideal. O rectificador de meia-onda é o mais simples possível. No entanto, aproveita

apenas um semiciclo da tensão fornecida. A forma de se utilizar ambos os semiciclos da

onda é utilizar o rectificador de onda completa, simplificando a filtragem seguinte (ver

figura 3.29). Os díodos de Schottky presentes na figura 3.29, devido à sua tecnologia de

fabricação e ao material usado, apresentam características especiais, como a comutação

rápida e uma menor queda de tensão no sentido directo.

Após o rectificador de precisão de onda completa, é necessário um circuito RC série

funcionando como filtro passa-baixo. O objectivo é eliminar variações bruscas na tensão

de saída do rectificador sobre o comparador. Quanto maior a constante de tempo RC,

maior o tempo de queda da tensão aos terminais do condensador, ou seja, mais tempo

demora a descarregar e por conseguinte a sua tensão é mantida bem próxima do valor

de pico da tensão vinda do rectificador. A escolha do valor de RC é de fundamental

importância para que o condensador não descarregue muito rapidamente nem muito

lentamente de forma a acompanhar a envolvente da onda. Se o valor RC for muito menor

49



CAPÍTULO 3. TRANSRECEPTOR ACÚSTICO PARA COMUNICAÇÕES DIGITAIS

SUBAQUÁTICAS

R3
10 k

R4
10 k

R5
5.1 k

VIN

VOUT

D3

D4

R1
10 k

R2
10 k

D1

D2

-

+

-

+

Figura 3.29: Circuito rectificador de precisão de onda completa

que o período da portadora (1/fc), o condensador descarregará muito rápido quando o

sinal cai abaixo do seu valor de pico, o que fará com que a saída do detector não siga a

envolvente dessa onda. Se, por outro lado, o valor de RC for muito maior que a frequência

máxima do sinal modulador utilizado, fm, então o condensador descarregará muito len-

tamente e a saída do detector não seguirá a envolvente da onda. Assim, para se ter uma

boa desmodulação do sinal transmitido, deve-se utilizar uma constante de tempo RC que

satisfaça a desigualdade

1
2?fc

?RC ?
1

2?fm
. (3.18)

O comparador Schmitt-trigger, também conhecido como circuito bi-estável, difere de

um comparador normal pelo facto de a sua função de transferência incluir uma zona

não unívoca na vizinhança da tensão de comutação, vulgarmente referida como zona de

histerese.

A característica VoVi , presente na figura 3.30, pode ser descrita pela sobreposição de

outras duas, sendo a primeira válida se o amplificador operacional estiver inicialmente

na zona de saturação negativa, e a segunda no caso de o amplificador operacional estar

inicialmente na zona de saturação positiva. Ou seja, a tensão de saída do comparador

na zona correspondente a VTL &amp;lt;Vi &amp;lt;VTH – zona de histerese - depende do seu estado

anterior, tal como é descrito pelo sentido das setas. Esta característica é muito utilizada

em sistemas de comunicação para evitar possíveis problemas de comutação devido à

existência de ruído sobreposto com o sinal de entrada. A zona de histerese evita que

aconteçam oscilações na saída do comparador provocadas por ruído que afecte a zona

50



3.3. DESIGN E SIMULAÇÕES DO SISTEMA

Vo

ViVTL

Vo

ViVTH

Vo

ViVTHVTL

Figura 3.30: Função de transferência de um comparador Schmitt-trigger

em que acontece a comutação porque cria uma margem de protecção a esse ruído. A

saída de um comparador normal pode apresentar comutações indesejadas devido ao

ruído. A utilização de um comparador Schmitt-trigger resolve este problema, dado que

a comutação no sentido ascendente só acontece quando a tensão de entrada ultrapassa

VTH, ou no sentido descendente quando a tensão de entrada for inferior a VTL. Ou seja,

só há uma transição indesejada se o módulo do ruído for superior a VTH ?VTL.
No dimensionamento do circuito (ver figura 3.31), deve ter-se em conta a amplitude

máxima de ruído, pois uma margem muito alargada introduz um atraso considerável na

comutação. Este atraso é devido ao facto da comutação não ocorrer durante a passagem

pela tensão de comparação, e é tanto maior quanto maiores forem as margens VTL e VTH,

calculadas pela equação 3.19.

R1
100 k

R2
10 k

VOUT

VIN

VREF

-

+

V
+

Figura 3.31: Circuito comparador Schmit-trigger

V + =
R2

R1 + R2
VOUT +

R1
R1 + R2

VREF =

???????????????
VTL =

R2
R1+R2

VDD +
R1

R1+R2
VREF

VTH =
R2

R1+R2
VCC +

R1
R1+R2

VREF

(3.19)

51



CAPÍTULO 3. TRANSRECEPTOR ACÚSTICO PARA COMUNICAÇÕES DIGITAIS

SUBAQUÁTICAS

3.3.2.4 Simulação da Cadeia Receptora

Para verificar a funcionalidade da cadeia receptora e servir como base de comparação

dos resultados obtidos em ambiente terrestre, foram realizadas simulações LTspice do

circuito receptor (ver figura 3.32).

Algumas considerações importantes a ter em conta na interpretação dos resultados:

• Uma vez que não é possível, em LTspice, obter o sinal recebido pelo microfone,

gerou-se um sinal com uma modulação ASK com 1 mV de amplitude e uma frequên-

cia de 2 kHz, através do bloco modulator existente na biblioteca LTspice;

• Para modelar o comportamento dos integrados LM324 [65] e LTC6910-1 foi neces-

sário recorrer às suas bibliotecas LTspice. Apesar de o integrado LM324 não ser

rail-to-rail (quando alimentado a 5 V atinge 3.5 V, apenas) serve perfeitamente para
efeitos de simulação. Na implementação do circuito em breadboard optou-se pelo
AmpOp MCP6004 [66], um quad AmpOp que oferece entrada e saída rail-to-rail e
de baixa potência com uma faixa de operação que vai desde 1.8 a 6 V com um GBW

de 1 MHz;

• Foi atribuído um ganho de 500 ao conjunto amplificador.

Na figura 3.33 estão apresentados três sinais: o sinal recebido depois de amplificado

(ganho de 500 (V/V)) com uma amplitude de 500 mV e centrado a 2.5 V (sinal azul),

o sinal filtrado (sinal vermelho) com um ganho de 2 (V/V) (6 dB) e o sinal do detector

de envolvente, após a passagem pelo rectificador de onda completa e pelo filtro passa-

baixo (sinal verde). Na figura 3.34, visualiza-se o sinal recebido pelo transdutor (uma

sequência "1", "0", "1", ...) com 1 mV de amplitude e uma frequência de 2 kHz (sinal azul)

e o sinal desmodulado correctamente (sinal vermelho), constatando-se que o sinal foi bem

recebido.

52



3
.
3
.
D
E
S
I
G
N

E
S
I
M

U
L
A
Ç
Õ
E
S
D
O

S
I
S
T
E
M

A

Figura 3.32: Simulação em LTspice da cadeia receptora

5
3



CAPÍTULO 3. TRANSRECEPTOR ACÚSTICO PARA COMUNICAÇÕES DIGITAIS

SUBAQUÁTICAS

Figura 3.33: Simulação em LTspice de sinais da cadeia receptora: sinal recebido depois de
amplificado (sinal azul), sinal filtrado (sinal vermelho) e o sinal do detector de envolvente
(sinal verde)

11

0

1

0

1

Figura 3.34: Simulação em LTspice do sinal recebido pelo transdutor (sinal azul) e do
sinal desmodulado (sinal vermelho) pela cadeia receptora

54



C
a
p
í
t
u
l
o

4
Implementação e Teste do Transreceptor

Acústico Proposto

De forma a verificar a funcionalidade do projecto, o modem acústico foi implementado e

testado em dois ambientes diferentes, primeiro no ar servindo como uma pré validação

do protótipo e de seguida na água.

4.1 Validação Pré-Protótipo

O primeiro teste em laboratório realizou-se com o modem acústico a operar através do ar,

onde cada um dos blocos, transmissor e receptor, figuras 4.2 e 4.3, respectivamente, foram

implementados numa breadboard individual com os mesmos componentes seleccionados
na simulação LTspice. O processamento e controlo de cada um dos blocos esteve a cargo

de dois Arduinos Mega independentes entre si (ver figura 4.1). Para esquematizar o que

foi implementado neste pré-protótipo, apresenta-se o diagrama da figura 4.1.

Microfone

Circuito 

Transmissor

(brea dboar d)M
C

U

Altifalante

USB USBM
C

U

Circuito 

Receptor

(brea dboar d)

Figura 4.1: Diagrama do teste no ar em laboratório

55



CAPÍTULO 4. IMPLEMENTAÇÃO E TESTE DO TRANSRECEPTOR ACÚSTICO

PROPOSTO

Por se tratar de um teste de validação no ar, a nível de transdutores utilizou-se um

microfone áudio de elevada sensibilidade para a recepção e para a emissão utilizou-se

um altifalante de 0.5 W com 8 ? de impedância.

 

Figura 4.2: Circuito transmissor montado em breadboard para testes no ar

 

Figura 4.3: Circuito receptor montado em breadboard para testes no ar

O teste experimental representado na figura 4.4 serviu, essencialmente, para validar e

calibrar os circuitos transmissor e receptor. Para isso, colocou-se o altifalante a uma curta

distância do microfone a transmitir uma sequência de caracteres, afastando-o progressi-

vamente, onde cada símbolo a transmitir, composto por 8 bits, foi enviado com um débito

de 50 bps.

Na figura 4.5, visualiza-se o sinal enviado pela cadeia transmissora e o respectivo

sinal recebido, desmodulado, pelo bloco receptor. Verifica-se um atraso no sinal recebido

desmodulado em relação ao sinal transmitido, cerca de 2.5 ms, devido ao tempo de pro-

pagação da onda no meio somado ao tempo de análise e processamento do sinal. Na

simulação LTspice (ver figura 3.34) ocorre um atraso, embora diminuto, na ordem dos

400 µs.

56



4.1. VALIDAÇÃO PRÉ-PROTÓTIPO

 

Figura 4.4: Circuito de todo o sistema (circuito transmissor e circuito receptor) montado
em breadboard para testes no ar

 

Figura 4.5: Desmodulação (sinal azul) do sinal transmitido (sinal amarelo) através do ar

57



CAPÍTULO 4. IMPLEMENTAÇÃO E TESTE DO TRANSRECEPTOR ACÚSTICO

PROPOSTO

A programação do processamento e controlo dos microprocessadores foi realizada em

C++ na IDE (do inglês Integrated Development Environment) do Arduino7. Também foi

desenvolvida uma interface, em C#, para interagir com o utilizador. As duas interfaces

criadas permitem enviar e receber caracteres através de duas caixas de texto individuais

(ver figura 4.6).

 

Figura 4.6: Interface para o utilizador enviar e receber mensagens

O dispositivo (BLE) (ver figura 4.8) foi incorporado ao pré protótipo para permitir a

ligação a um dispositivo móvel. Requer apenas uma porta série adicional fornecida pelo

Arduino Mega para comunicação. Foi seleccionada a aplicação iShield, disponível através
da App Store, cujo ambiente de aplicação é visualizado na figura 4.7.

 

Figura 4.7: Aplicação móvel para
enviar e receber mensagens por via
rádio

 

Figura 4.8: Dispositivo Bluetooth 4.0
Low Energy

Em suma, os resultados em laboratório foram semelhantes às simulações realizadas

em LTSpice, tendo sempre em conta a tolerância dos valores reais dos componentes e

o ruído existente numa breadBoard provocado pela alimentação do circuito. Embora as
conclusões tiradas neste capítulo sejam com o modem a operar no ar, servem como base

de veracidade de que é possível comunicar pelo ar através de ondas acústicas e de apoio

à experiencia subaquática.

7em Anexo C

58



4.2. IMPLEMENTAÇÃO DO PROTÓTIPO EM PCB

4.2 Implementação do Protótipo em PCB

Depois dos resultados satisfatórios dos testes realizados em breadboard com o modem a
transmitir e receber sinais pelo ar, o circuito foi desenvolvido em PCB8 (ver figuras 4.9 e

4.10).

Regulador de Tensão

V
IN

Transmissor

T
ra

n
s
d

u
to

r s
a

id
a

M
ic

ro
c
o

n
tr

o
la

d
o

r

Receptor

T
ra

n
s
d

u
to

r e
n

tr
a

d
a

Figura 4.9: Implementação do cir-
cuito em PCB v.Beta

Figura 4.10: Circuito assemblado
v.Beta

Na figura 4.10 estão presentes os vários subsistemas da v.Beta, caso dos circuitos trans-
missor e receptor, o microprocessador e o regulador de tensão, utilizando componentes9

SMD (do inglês Surface-Mount Device) quando possível.

Regulador de Tensão
O principal objectivo do regulador de tensão é garantir um trânsito de potência adequado

às necessidades de todo o sistema e reduzir os riscos de danos que possam ser infligidos

ao mesmo, reduzindo as interferências vindas da alimentação. Os reguladores de tensão

na forma de circuito integrado de três terminais são quase que obrigatórios em projectos

com fontes de alimentação para circuitos de pequena e média potência, como é o caso,

cujo objectivo principal passa pela manutenção da tensão de saída dentro dos limites

exigidos pelo circuito eléctrico que está a ser alimentado.

Uma vez que todo o sistema é alimentado a 5 V, a escolha do regulador de tensão

recaiu sobre o circuito integrado LM7805CT (ver figura 4.11) que fornece uma tensão

de saída de 5 V com uma corrente de até 1 A, tipicamente, e protecção interna contra

curto-circuitos na saída, dimensionado de acordo com o datasheet [67] e expresso pela
figura 4.12.

8esquemático em Anexo B
9lista de material em Anexo A

59



CAPÍTULO 4. IMPLEMENTAÇÃO E TESTE DO TRANSRECEPTOR ACÚSTICO

PROPOSTO

Figura 4.11: Encapsulamento TO-220 do circuito integrado LM7805CT

O condensador de 0.33 µF desacopla a entrada, enquanto o de 0.1 µF tem por fina-

lidade evitar oscilações em altas frequências, garantindo uma maior estabilidade e me-

lhorar a resposta transitória. A massa necessita de ser comum entre a tensão de entrada

e saída. O condensador CI é necessário, apenas, se o regulador estiver localizado a uma

distância significativa do filtro da alimentação do sistema.

MCU

Transdutor Tx

Circuito de Transmissão

Gerador de 

Sinais

n bits

Modulador

A
m

p
. 

P
o

tê
n

c
ia

Sinal modulador 

m(t)

Onda modulada ASK 

Sask (t)

Onda portadora

C(t)

VIN VOUT

CO
0.1 uF

LM7805CT

CI
0.33 uF

Figura 4.12: Dimensionamento do circuito regulador de tensão

Para um bom funcionamento do circuito integrado, a tensão de entrada precisa de

ser 2 V mais elevada do que a tensão que se deseja na saída, mesmo durante o ponto

mais baixo do ripple de entrada, comprovado pelas simulações realizadas em LTspice (ver
figuras 4.13a e 4.13b). Na figura 4.13b para tensões de 9 V com ripple de entrada de 5 mV,
obteve-se uma tensão de 5 V na saída com ripple de 4.7 µV perfeitamente aceitável. Ape-
nas grandes variações seriam realmente prejudiciais, o que prova o bom funcionamento

do circuito. Na figura 4.13a, como a tensão de entrada não é 2 V superior à tensão que

se deseja na saída, o funcionamento do integrado fica aquém do esperado, obtendo-se na

saída uma tensão de 4.5 V, aproximadamente, com oscilações de 1 mV.

Microcontrolador
Os microcontroladores são dispositivos de uso geral, constituídos por uma unidade cen-

tral de processamento (do inglês Central Processing Unit, frequentemente abreviado para

CPU) relativamente pequeno, sinais de relógio, temporizadores, memória e portas de

entrada e saída digitais e analógicas.

O microprocessador utilizado, o ATmega 328P-PU, apresenta características conside-

radas úteis para o projecto (ver tabela 4.1): opera com tensões entre 1.8 V e 5.5 V, alto

desempenho e baixo consumo energético, 32 kB de memória flash, dispõe de 14 portas
de entrada/saída digitais (dos quais 6 podem ser usados como saídas PWM (do inglês

Pulse-Width Modulation) e 6 entradas analógicas.

60



4.2. IMPLEMENTAÇÃO DO PROTÓTIPO EM PCB

(a) Simulação em LTspice do circuito regulador de tensão para uma tensão de entrada de 6 V

(b) Simulação em LTspice do circuito regulador de tensão para uma tensão de entrada de 9 V

Figura 4.13: Simulação em LTspice do circuito regulador de tensão

O microprocessador é o responsável por todo o controlo do nó sensor e cada pino

apresenta a sua função (ver figura 4.14): recebe e envia os dados através dos pinos 0 (RX)

e 1 (TX), respectivamente, programa e comanda o DDS através dos pinos 10, 11, 12 e 13. O

ganho do LNA, dependente da potência de sinal recebida e programado através dos pinos

2, 3, 4, 5, 6 e 7. Finalmente, recebe os sinais dos sensores através dos pinos analógicos e

ainda recebe e envia dados por BLE através dos pinos 8 e 9, convertidos numa porta série

através da biblioteca SoftwareSerial.

Além disso, a gestão energética do nó sensor é realizada na totalidade pelo micropro-

cessador. Ainda que não seja visível, o microprocessador é responsável pela periodicidade

de transmissão e recepção de dados. Dependendo da gestão que se queira fazer, pode-se

aumentar ou diminuir esse período, quer seja de transmissão/recepção ou aquisição de

dados por parte dos sensores.

61



CAPÍTULO 4. IMPLEMENTAÇÃO E TESTE DO TRANSRECEPTOR ACÚSTICO

PROPOSTO

MCU

Transdutor Tx

Circuito de Transmissão

Gerador de 

Sinais

n bits

Modulador

A
m

p
. 

P
o

tê
n

c
ia

reset

digital 0 (RX)

digital 1 (TX)

digital 2

digital 3 (PWM)

digital 4

VCC

GND

clock

clock

digital 5 (PWM)

digital 6 (PWM)

digital 7

digital 8

analógico 5

GND

AREF

VCC

1

2

3

4

5

6

7

8

9

10

11

12

13

14

28

27

26

25

24

23

22

21

20

19

18

17

16

15

analógico 4

analógico 3

analógico 2

analógico 1

analógico 0

digital 13

digital 12

digital 11 (PWM)

digital 10 (PWM)

digital 9 (PWM)

Figura 4.14: Mapa de pinos do mi-

crocontrolador ATmega328P-PU

Tabela 4.1: Características gerais do micro-

controlador ATMEGA328-PU

Tipo de Encapsulamento PDIP

Tipo de Montagem through-hole

Núcleo do Dispositivo AVR

Número de Pinos 28

Largura do Bus de Dados 8 bits

Tamanho da Memória do Programa 32 kB

Frequência Máxima 20 MHz

Tamanho da RAM8 2 kB

Número de Canais USB9 -

Número de Canais PWM 6

Número de Entradas Analógicas 6

Número de Canais I2C10 1

Tensão de Alimentação 1.8 a 5.5 V

Transdutores Acústicos e Amplificadores
Em relação à estrutura mecânica dos protótipos a operar na água, os transdutores, ao

contrário dos que foram utilizados nos testes no ar, teriam de ser estanques e robustos.

Após algumas tentativas falhadas de os isolar, de modo a serem utilizados nos testes em

água, em alternativa, foram analisados alguns modelos comercialmente disponíveis. Para

o receptor, optou-se por um hidrofone H1c da Aquarian Audio [68]. Este hidrofone utiliza

um tipo de transdução piezoeléctrica e é projectado para proporcionar um desempenho

de áudio de alta qualidade com uma boa sensibilidade e baixo ruído num dispositivo de

baixo custo (ver figura 4.15). Para o transmissor, optou-se por um altifalante piezoeléc-

trico da Sonitron [69] coberto por um material impermeável, uma solução de baixo custo

que permite um suporte robusto do ponto de vista físico e eléctrico, assim como uma

capacidade razoável de protecção a infiltrações, combinando um consumo de corrente

muito baixo com um volume de saída alto (ver figuras 4.16 e 4.17). As especificações de

cada um dos transdutores utilizados encontram-se nas tabelas 4.2 e 4.3.

A alteração do transdutor de transmissão em meio líquido implicou algumas alte-

rações no protótipo v.Beta, nomeadamente, o amplificador de potência LM386 por não
corresponder aos níveis de tensão exigidos por transdutores piezoeléctricos, maioritari-

amente capacitivos. Nos testes realizados com o modem a transmitir através da água, a

8do inglês Random Access Memory
9do inglês Universal Serial Bus

10do inglês Inter-Integrated Circuit

62



4.2. IMPLEMENTAÇÃO DO PROTÓTIPO EM PCB

aposta recaiu sobre o amplificador áudio piezoeléctrico, PAA-LM4960SQ-02 [70], acon-

selhado pela Sonitron para este modelo de transdutor, possuindo os componentes e os

pinos de controlo da figura 4.19 e as características da tabela 4.4.

Figura 4.15: Hidrofone H1c utilizado no teste experimental subaquático

Figura 4.16: Altifalante piezoeléc-
trico SPS-8770-03

 

Figura 4.17: Altifalante piezoeleléc-
trico SPS-8770-03 à prova de água
utilizado no teste experimental su-
baquático

63



CAPÍTULO 4. IMPLEMENTAÇÃO E TESTE DO TRANSRECEPTOR ACÚSTICO

PROPOSTO

Tabela 4.2: Especificações do transdutor
receptor H1c [68]

Gama de Operação 1 Hz a 100 kHz

Capacitância 25 nF

Resposta Polar omnidirecional

Profundidade de Operação &amp;lt;80 m

Resposta em Frequência figura 4.18

Tabela 4.3: Especificações do transdutor
emissor SPS-8770-03 [69]

Gama de Operação 200 Hz a 20 kHz

Capacitância 580 nF

Distorção ? 1.5 %

Impedância @ 1 kHz 266 ?

Tensão de Alimentação 5 a 60 Vpp

Frequência (Hz)

A
m

p
li
tu

d
e

 R
e

la
ti
v
a

 (
d

B
)

Figura 4.18: Resposta em frequência do hidrofone H1c (curvas referenciadas a um hidro-
fone de referência Reson 4013 avaliado com uma sensibilidade de -212 dB re 1V/µPa)

Figura 4.19: Amplificador piezoe-

léctrico LM4960SQ-02 [70]

Tabela 4.4: Especificações gerais do amplificador

piezoeléctrico LM4960SQ-02 [70]

Tensão de Alimentação 3 a 7 V

Máxima Tensão de Saída 24 Vpp

Capacitância Máxima do Transdutor 600 nF

Topologia de Tensão
integrated step up

converter

Classificação do Amplificador classe AB

Configuração Usada pelo Amplificador bridge tied load

Consumo Médio de Corrente 85 mA

64



4.2. IMPLEMENTAÇÃO DO PROTÓTIPO EM PCB

De uma forma geral, o LM4960SQ-02 consegue oferecer 24 Vpp através de uma saída

áudio diferencial a uma frequência fixa de 1.6 MHz, com um ganho de 74 (V/V) para

uma entrada máxima de 325 mVpp, a um altifalante de cerâmica com uma THD inferior

a 1% durante a operação, quando alimentado a 5 V. O seu modo de operação, simplifica-

damente, assenta num conversor DC-DC indutivo que traz uma tensão mais baixa para

um nível mais elevado de tensão para os dois andares de amplificação. Estes amplifica-

dores são projectados especificamente para fornecer uma saída de alta qualidade com

uma quantidade mínima de componentes externos, ideal para aplicações onde o baixo

consumo de energia é uma exigência principal.

A potência média consumida por um altifalante piezoelétrico pode ser calculada mul-

tiplicando a tensão rms, Vrms, pela corrente rms, Irms.

Altifalante

SP S-8770-03

1

3

R
10 

2

Irms

+

-
Vrms

A
m

p
.

P
ie

z
o

L
M

4
9

6
0
S

Q
-0

2

Figura 4.20: Diagrama de obtenção da potência média consumida pelo altifalante piezoe-
létrico

A corrente rms, foi medida em osciloscópio e calculada pela equação 4.1, através da
colocação, provisória, de uma resistência de baixo valor (10 ?) em série com o altifalante

(ver figura 4.20).

Irms =
VR
R

=
V1 ?V2
R

(4.1)

Por sua vez, a tensão rms é dada por,

Vrms = V2 ?(?V3) (4.2)

Finalmente, a potência consumida é expressa por,

Pmdia = Vrms×Irms?Irms×
I2rms
R

(4.3)

A potência consumida pelo conjunto, amplificador LM4960SQ-02 e altifalante, para

diferentes tensões de entrada no amplificador foi testada e apresenta-se na figura 4.21.

Por sua vez, na figura 4.22, para os mesmos valores de tensão de entrada no amplificador

avalia-se a potência média entregue ao altifalante SPS-8770-03.

65



CAPÍTULO 4. IMPLEMENTAÇÃO E TESTE DO TRANSRECEPTOR ACÚSTICO

PROPOSTO

Tensão de Entrada no Amplificador (mV)
10 20 30 40 50 60 70 80 90 100

P
o

tê
n

ci
a

 C
o

n
su

m
id

a
 p

e
lo

 A
m

p
lif

ic
a

d
o

r 
e

 S
p

e
a

ke
r 

(W
)

0

0.5

1

1.5

2

2.5

3

Figura 4.21: Potência consumida pelo amplificador LM4960SQ-02 e altifante SPS-8770-
03 para diferentes valores de tensão de entrada no amplificador

Tensão de Entrada no Amplificador (mV)
10 20 30 40 50 60 70 80 90 100

P
o

tê
n

ci
a

 M
é

d
ia

 E
n

tr
e

g
u

e
 à

 C
a

rg
a

 (
W

)

0

0.1

0.2

0.3

0.4

0.5

0.6

Figura 4.22: Potência média entregue ao altifante SPS-8770-03 pelo amplificador
LM4960SQ-02 para diferentes valores de tensão de entrada no amplificador

66



4.3. TESTE DO PROTÓTIPO NA ÁGUA

4.3 Teste do Protótipo na Água

Nesta secção do documento é inicialmente descrita a configuração das condições do teste

realizado em laboratório e, posteriormente, são analisados os principais resultados do

estudo no canal acústico subaquático.

4.3.1 Configuração do Teste

Os testes de processamento de sinal realizados num meio subaquático possuem algu-

mas limitações importantes a destacar. Com o protótipo desenvolvido pretende-se su-

portar potências acústicas que permitam a propagação dos sinais transmitidos em meios

subaquáticos com um volume considerável de água, onde um sistema completamente

submergido comunica, em estacionariedade de movimento, com um equipamento fixo,

localizado à superfície marítima.

Contudo, no âmbito desta dissertação, a acessibilidade a um meio com estas caracterís-

ticas é condicionada por aspectos logísticos, sendo escassas as oportunidades de realizar

os testes pretendidos num ambiente desta natureza. Não sendo possível essa configuração,

assume-se um ambiente de águas pouco profundas com um volume de água muito re-

duzido, simulando um cenário de comunicação unidireccional no plano horizontal entre

dois sistemas, um transmissor e um receptor, em linha de vista, alimentados com recurso

a pilhas (500 mAh @ 9 V) (ver figura 4.23). Para isso foi necessário uma duplicação do

sistema implementado em PCB. No entanto, em futuros testes no campo, o ideal seria

alimentar os circuitos através de painéis solares quando possível. A título de referência,

o reservatório utilizado possui 0.18 m de altura, 0.80 m de comprimento e 0.40 m de

largura.

Receptor Transmissor

Figura 4.23: Reservatório de água utilizado no teste subaquático

67



CAPÍTULO 4. IMPLEMENTAÇÃO E TESTE DO TRANSRECEPTOR ACÚSTICO

PROPOSTO

O ambiente subaquático utilizado nos testes de laboratório corresponde nitidamente

a um cenário de águas pouco profundas. É expectável que neste meio a propagação dos

sinais acústicos seja condicionada pela geometria do canal, predominando os efeitos de

reflexão sobre as superfícies de fronteira do meio. Avaliando o volume de água (42 litros),

pode afirmar-se que as variações nos parâmetros fundamentais que regulam a velocidade

do sinal sonoro possuem um carácter uniforme em todo o meio. Inferiu-se, por meio de

sensores, que o meio aquático, em valores médios, possuía uma temperatura ambiente de

20.3 °C e uma acidez de 7.2 pH. Como o parâmetro da salinidade é substancialmente mais

complexo de determinar, sendo requerido equipamento específico, estima-se uma salini-

dade de 0.5 ppt. De referir também a ausência de vento (?=0) e de transporte marítimo

(s=0) no teste experimental para uma frequência de transmissão agora de 13700 Hz para

tirar partido da maior sensibilidade do hidrofone, o que obriga a um redimensionamento

dos circuitos de filtragem e desmodulação do sinal discutidos nas Secções 3.3.2.2 e 3.3.2.3

do Capítulo 3. O débito foi fixado em 300 bps.

4.3.2 Análise de Resultados

Em primeiro lugar, investigou-se a tensão de saída do hidrofone variando a tensão de

entrada do amplificador e consequentemente a potência média eléctrica de transmissão

entregue ao altifalante, verificando a existência de uma relação entre a pressão acústica e

as tensões de entrada e saída dos transdutores em comunicações subaquáticas.

Pelas equações descritas na Secção 3.1 do Capítulo 3 e considerando a configuração

do teste descrita anteriormente, as perdas de percurso são dadas apenas pela absorção,

?=6.3× 10?5 dB/km, uma vez que é desprezado o espalhamento para a distância praticada.
Na figura 4.25, observa-se que a tensão de saída do transdutor receptor é proporcional à

potência de transmissão. A curva correspondente à potência de transmissão acústica foi

obtida considerando a potência acústica igual à potência eléctrica entregue ao transdutor.

No entanto, verifica-se que existe um coeficiente de transdução que não pode ser despre-

zado. Dizer ainda, que o facto de o altifalante, SPS-8770-03, ter sido revestido por uma

tinta impermeável o impeça de obter a melhor performance debaixo de água.

Por fim, na figura 4.26 é representado a taxa de erro de bits (do inglês Bit Error Rate,

frequentemente abreviado para BER) para a mesma potência eléctrica média de transmis-

são, obtido através do envio de um ficheiro de texto entre o transmissor e o receptor. De

acordo com os resultados, o valor do BER mantém-se praticamente contante. Isso deve-se

ao facto de estes resultados terem sido alcançados através de diferentes valores de ganho

no receptor. Se os resultados fossem avaliados com o mesmo ganho no receptor seria ex-

pectável que o valor do BER aumentasse com o aumento da potência de transmissão. Os

resultados são melhores, para metade, quando se introduz detecção de erros no receptor

através da programação do microcontrolador. Basicamente, de uma forma simples, foi

68



4.3. TESTE DO PROTÓTIPO NA ÁGUA

realizado através de múltiplas transmissões com redundância. Os dados ("a", "b", "c", "d" e

"e") são enviados 5 vezes, repetidamente, por parte do transmissor e quando recebidos,

pelo menos, três dados iguais, o receptor interpreta como sendo a mensagem correcta (ver

figura 4.24).

a=b a=c
S N

a=d

 

a=e

 

N

SS
S

INICIO

a=c

a=d
S N

a=e

 

 

SS

N

a=d

a=e

S

S

N

b=c

b=db=e

c=d

c=e Dados recebidos 
correctamente

a,b,c,d,e

Dados recebidos 
correctamente

Dados recebidos 
correctamente

Dados recebidos 
incorrectamente

N

N

Dados recebidos 
correctamente

Dados recebidos 
correctamente

Dados recebidos 
incorrectamente

N

Dados recebidos 
correctamente

Dados recebidos 
incorrectamente

N

Dados recebidos 
correctamente

S

S

N

Dados recebidos 
correctamente

Dados recebidos 
incorrectamente

N

S

N

S

Dados recebidos 
incorrectamente

Dados recebidos 
incorrectamente

Dados recebidos 
correctamente

SN

N

Figura 4.24: Diagrama do fluxo do algoritmo de detecção de erros implementado

Potência de Transmissão (W)
0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5 0.55

T
e

n
sã

o
 R

M
S

 R
e

ce
b

id
a

 n
o

 R
e

ce
p

to
r 

(V
)

10-3

10-2

10-1

100

Potência Eléctrica
Potência Acústica

Figura 4.25: Tensão rms recebida no receptor em função da potência de transmissão

69



CAPÍTULO 4. IMPLEMENTAÇÃO E TESTE DO TRANSRECEPTOR ACÚSTICO

PROPOSTO

Potência Eléctrica Média de Transmissão (W)
0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5 0.55

B
E

R

10-2

10-1

100

Sem Detecção de Erro
Com Detecção de Erro

Figura 4.26: Taxa de erro de bits em função da potência de transmissão

4.3.2.1 Consumo Energético

Nesta secção, é descrito a avaliação de desempenho energético do modem desenvolvido.

Inicialmente foi avaliado o consumo energético do nó em diferentes estados de operação

e depois feita uma estimativa da capacidade da bateria necessária para um mês de vida.

O consumo de energia do nó foi medido durante a transmissão e recepção, quando o

modem está a enviar e a receber pacotes, respectivamente, e em stand-by (ver tabela 4.5).

Tabela 4.5: Potência consumida pelo nó subaquático em diferentes estados de operação

Estado Potência (W )

Transmissão 0.8 a 3.1

Recepção 0.65

Stand-by 0.5

Como se pode observar, o modem consome, no máximo, 3.1 W durante a transmissão

e 655 mW durante a recepção. Quando está em modo stand-by, i.e., não estando a transmi-
tir nem a receber, o modem consome cerca de 0.5 W. O maior consumo de energia medido

em modo operacional foi durante a transmissão, estando directamente relacionado com a

distância de transmissão que se pretende.

A tabela 4.6 indica a capacidade da bateria necessária para garantir o funcionamento

do modem subaquático durante 1 mês, assumindo que o sistema está em operação durante

apenas 10 segundos por hora (5 segundos em modo de transmissão e 5 segundos em modo

de recepção) e em stand-by o resto do tempo. Considera-se que um dia tem 24 horas e um
mês com 31 dias.

70



4.3. TESTE DO PROTÓTIPO NA ÁGUA

Tabela 4.6: Estimação da capacidade da bateria do nó necessária para uma duração de
vida de 1 mês

Capacidade da bateria necessária (mWh)

Transmissão 3203

Recepção 676

Stand-by 370 966

TOTAL 374 845

A capacidade total da bateria necessária é cerca de 375 000 mWh, o que significa

que seriam necessárias cerca de 84 baterias 500 mAh @ 9 V, pilha utilizada no ensaio

experimental, para executar o nó durante um mês, sendo impraticável para aplicações

reais sem um bom controlo de gestão de potência. Um solução mais viável passaria pelo

uso de outro tipo de baterias com uma maior capacidade.

71





C
a
p
í
t
u
l
o

5
Conclusões e Trabalho Futuro

A presente dissertação tem como principal objectivo relatar todo o trabalho de investiga-

ção de maneira a que se torne possível implementar e conceber um modem acústico de
consumo energético reduzido, com a particularidade de ser reconfigurável e que suporte o

envio e recepção de sinais em redes de sensores subaquáticas de curto alcance, recorrendo

a vários componentes de hardware e software.

O ambiente subaquático é reconhecido como um meio pouco favorável para comunica-

ções digitais, devido a inúmeros factores que dificultam a propagação de ondas acústicas.

Deste modo, inicialmente, foi fundamental desenvolver um levantamento de informações

na literatura cientifica mais recente, a fim de compreender como estes factores podem

afetar a comunicação nestes ambientes subaquáticos.

Procedeu-se à elaboração de uma pesquisa, relativamente aos modems acústicos su-
baquáticos já existentes, tendo em conta as suas características e finalidades. O modem
que se propõe difere dos demais, uma vez que incide sobre uma solução de baixo-custo,

mas continuando a fornecer uma razoável taxa de transmissão de dados.

Para simular e permitir uma análise teórica do comportamento dos blocos consti-

tuintes do nó utilizou-se a ferramenta LTspice. De modo a verificar o funcionamento do

modem acústico subaquático foram realizados testes experimentais, tanto no ar como na
água, tendo sido alcançados débitos de 300 bps com taxas de erro inferiores a 10?1.

De forma a aferir o desempenho energético do nó, foi medido o seu consumo em

transmissão e recepção, 1 a 3.1 W e 0.6 W, respectivamente e em modo stand-by com 0.5
W.

73



CAPÍTULO 5. CONCLUSÕES E TRABALHO FUTURO

5.1 Limitações

Como em todos os protótipos e suas aplicações, esta primeira versão acústica subaquática

também apresenta algumas limitações:

• O microcontrolador não apresenta nenhuma conexão com o PC, portanto, se se

pretender aceder aos dados recebidos pelo modem só é possível via rádio (BLE);

• Apesar dos filtros passa-banda e passa-baixo adicionados entre o amplificador e o

desmodulador, o desempenho do sistema sofre de alguma degradação, devido ao

ruído existente no meio.

• Apesar de o protótipo desenvolvido ter sido pensado para efectuar comunicação bi-

direccional, nos testes experimentais não o foi possível, dada a limitação do número

de transdutores disponíveis.

• O sistema apresenta apenas um método para detecção de erros. Não foi implemen-

tado um mecanismo de correcção de erros. O utilizador apenas é informado que o

sinal não foi bem recebido.

• Apesar de o protótipo apresentar um consumo energético baixo durante a trans-

missão e recepção, durante o modo stand-by o seu consumo não é suficientemente
baixo.

5.2 Trabalho Futuro

Durante todo o percurso e desenvolvimento desta dissertação, surgiram, naturalmente,

novas ideias e conceitos com o intuito de aperfeiçoar algumas características do pro-

jecto desenvolvido, tentando resolver as limitações identificadas anteriormente. Como

em qualquer trabalho existem barreiras e limitações sobretudo devido ao difícil acesso a

determinados recursos. E, por esse motivo, não foi possível implementar todos os princí-

pios idealizados que poderiam tornar o modem mais eclético para uma maior diversidade
de aplicações em ambientes aquáticos.

Sugiro algumas possíveis futuras abordagens de trabalho:

• Com o fim de aumentar a performance do sistema, deviam ser implementados

algoritmos de detecção e correcção de erros mais eficazes.

• A caracterização do canal acústico e a comunicação digital em meio aquático pode-

ria ser estendida a outros ambientes submersos quer sejam de água doce ou salgada.

Tornava-se interessante um meio subaquático com uma maior dinâmica, possuindo

um comportamento dispersivo no domínio da frequência mais acentuado. O pro-

tótipo teria de ser modificado, permitindo que este fosse efectivamente submerso,

suportando pressões razoáveis para possibilitar os testes em águas profundas.

74



5.2. TRABALHO FUTURO

• Necessidade de reduzir o consumo de energia do sistema, essencialmente no trans-

missor, uma vez que a ideia seria alimentar o receptor através de um painel solar.

Poderiam ser adicionados circuitos de baixa potência wake-up e sleep-mode.

• Maior largura de banda e uma taxa de transmissão de dados superior - apreciando

os resultados que foram obtidos, podem ser exploradas outras técnicas de proces-

samento de sinal. A utilização de um outro esquema de modulação, aumentaria a

largura de banda no receptor permitindo maiores taxas de transmissão. No entanto,

o aumento da largura de banda no receptor tem um custo, a redução do alcance

da transmissão. Por outro lado, optimizar o desempenho do circuito amplificador

de potência do emissor poderia ser outra solução, possibilitando um aumento da

distância de comunicação.

• Canal adaptativo: o design do modem proposto para esta dissertação apenas atinge
uma boa performance em ambientes com um baixo multi-percurso. Para canais com

um maior multi-percurso, poderia ser programado um algoritmo que medisse as

características do canal e aplicasse uma equalização e/ou aumentar a duração do

período de cada símbolo.

75





Bibliografia

[1] D. Estrin, L. Girod, G. Pottie e M. Srivastava. “Instrumenting the World with Wire-

less Sensor Networks”. Em: IEEE International Conference on Acoustics (2001).

[2] M. J. A. Jan M. Rabaey, Julio L. da Silva Jr. , Danny Patel, Shad Roundy. “PicoRa-

dio Supports AdHoc Ultra-Low Power Wireless Networking”. Em: IEEE Computer
(2000), pp. 42–48.

[3] A. K. J. Lynch, K. Law, E. Straser e E. Kenny. “The Development of a Wireless

Modular Health Monitoring System for Civil Structures”. Em: Proceedings of the
MCEER Mitigation of Earthquake Disaster by Advanced Technologies Workshop (2000).

[4] N. Ramanathan, M. Yarvis, J. Chhabra, N. Kushalnagar, L. Krishnamurthy e D. Es-

trin. “A Stream-Oriented Power Management Protocol for Low Duty Cycle Sensor

Network Applications”. Em: Proceedings of the 2nd IEEE Workshop on Embedded
Sensor Networks (2005).

[5] R. Headrick. “Growth of Underwater Communication Techonogy in the U.S. Navy”.

Em: IEEE Communication Magazine (2009), pp. 80–82.

[6] T. D.Pompili e I.F.Akyildiz. “Three–Dimensional and Two Dimensional Develop-

ment Analysis foe Underwater Acoustic Sensor Network”. Em: Ad Hoc Networks
(2009), pp. 778–790.

[7] V. M. Hung e U. J. Na. “Remote Control System of a 6 DOF Underwater Robot”.

Em: International Conference on Control, Automation and Systems (2008).

[8] T. T. Wu. “Electromagnetic Propagation Between Antennas Submerged in the Ocean”.

Em: IEEE Transactions on Antennas and Propagation (1973).

[9] L. B. Vkbr. “Underwater Radio Communication”. Em: Amateur Radio (1987), pp. 1–
8.

[10] R. Moore. “Radio Communications in the Sea”. Em: IEEE Spectrum (1967), pp. 42–
51.

[11] T Shelley. “Radio Waves Transmit Information Underwater”. Em: Eureka Magazine
(2005).

[12] Wireless Fibre Systems. url: http://www.wireless_bre.co.uk (acedido em
28/03/2016).

77

http://www.wireless_bre.co.uk


BIBLIOGRAFIA

[13] L. Liu, S. Zhou e J.-H. Cui. “Prospects and Problems of Wireless Communication for

Underwater Sensor Networks”. Em: Wireless Communications and Mobile Computing
(2008), pp. 977–994.

[14] Y. Ito, S. Haruyama e M. Nakagawa. “Short-Range Underwater Wireless Communi-

cation using Visible Light LEDs”. Em: IEICE (2006).

[15] J. R. Apel. “Principles of Ocean Physic”. Em: Academic Press 38 (1987), pp. 509–
584.

[16] H. Arst. “Optical Properties and Remote Sensing of Multicomponental Water Bo-

dies”. Em: Praxis Publising (2003), pp. 8–28.

[17] M. A. Chancey. “Short Range Underwater Optical Communication Links”. Em:

North Carolina State University (2005).

[18] F. Schill, U. R. Zimmer e J. Trumpf. “Visible Spectrum Optical Communication

and Distance Sensing for Underwater Applications”. Em: Australasian Conference
on Robotics and Automation (2004).

[19] N. Farr, A. Chave, L. Freitag, J. Preisig, S. White e D. Yoerger. “Optical Modem

Technology for Sea Floor Observatories”. Em: Oceans (2005).

[20] C. Kemker. “Water Temperature: Fundamentals of Environmental Measurements”.

Em: Fondriest Environmental (2014).

[21] Salinity. url: https : / / en . wikipedia . org / wiki / File : Water _ salinity _
diagram.png (acedido em 28/03/2016).

[22] R. J. Urick. “Principles of Underwater Sound”. Em: New York (1983).

[23] M. a. Ainslie e J. G. Mccolm. “A Simplified Formula for Viscous and Chemical

Absorption in Sea Water”. Em: The Journal of the Acoustical Society of America 103
(1998).

[24] P. J. Stojanovic M. “Underwater Acoustic Communication Channels: Propagation

Models and Statistical Characterization”. Em: IEEE Communications Magazine 47
(2009), pp. 84–89.

[25] P. C. Etter. “Underwater Acoustic Modeling and Simulation”. Em: Press, CRC (2003).

[26] H. Medwin, C. S. Clay e T. K. Stanton. “Fundamentals of acoustical oceanography”.

Em: The Journal of the Acoustical Society of America (1999).

[27] X. Lurton. An Introduction to Underwater Acoustics: Principles and Applications. 2002.

[28] J. Preisig. “Acoustic Propagation Considerations for Underwater Acoustic Com-

munications Network Development”. Em: Proceedings of First ACM International
Workshop on Underwater Networks (2006).

[29] M. Stojanovic. “On the Relationship Between Capacity and Distance in an Underwa-

ter Acoustic Communication Channel”. Em: ACM SIGMOBILE Mobile Computing
and Communications Review (2006).

78

https://en.wikipedia.org/wiki/File:Water_salinity_diagram.png
https://en.wikipedia.org/wiki/File:Water_salinity_diagram.png


BIBLIOGRAFIA

[30] A. Abrar, D. Zhang, B. Su, T. W. Button, K. J. Kirk e S. Cochran. “1-3 Connectivity

Piezoelectric Ceramic-Polymer Composite Transducers Made with Viscous Polymer

Processing for High Frequency Ultrasound”. Em: Ultrasonics 42 (2004), pp. 479–
484.

[31] A. O. Systems. “Applied Ocean Systems”. Em: SAM1 Wireless Subsea Acoustic Mo-
dem (2013).

[32] J.-H. Li, B.-H. Jun, P.-M. Lee e S.-W. Hong. “A Hierarchical Real-Time Control

Architecture for a Semi-Autonomous Underwater Vehicle”. Em: Ocean Engineering
32 (2005), pp. 1631–1641.

[33] M. Martins, J. Cabral, G. Rocha e S. Lanceros-Mendez. “Theoretical Modeling and

Experimental Validation of an Underwater Acoustic Communication System”. Em:

IEEE Journal of Oceanic Engineering (2013).

[34] LinkQuest Inc., underwater acoustic modems. url: http://www.linkquest.com/
html/models1.htm (acedido em 28/03/2016).

[35] Benthos Inc., acoustic modems. url: http://www.benthos.com/acoustic-telesonar-
modem-product-comparison.asp (acedido em 28/03/2016).

[36] Aquatec Group, AQUAmodem 500 overview. url: http://www.aquatecgroup.com/
aquamodem.html (acedido em 28/03/2016).

[37] EvoLogics, underwater acoustic modem. url: http : / / www . evologics . de / en /
products/acoustics/index.html (acedido em 28/03/2016).

[38] DSPComm, AquaComm: underwater wireless modem. url: http://www.dspcomm.
com/productsaquacomm.html (acedido em 28/03/2016).

[39] J. Wills, W. Ye, J. Heidemann e M. Rey. “Low-Power Acoustic Modem for Dense

Underwater Sensor”. Em: Proceedings of ACM International Workshop on Underwater
Networks (2006).

[40] R. Jurdak, C. V. Lopes e P. Baldi. “Software Acoustic Modems for Short Range

Mote-based Underwater Sensor Networks”. Em: OCEANS - Asia Pacific (2006).

[41] R. A. Iltis, R. Kastner, D. Doonan, R. Moore e M. Chin. “An Underwater Acoustic

Telemetry Modem for Eco-Sensing”. Em: Proceedings of OCEANS MTS/IEEE (2005).

[42] T. Fu, D. Doonan, C. Utley, B. Benson, R. Kastner, R. A. Iltis e H. Lee. “AquaMo-

dem Field Tests in Moorea”. Em: Proceedings of ACM International Workshop on
Underwater Networks (2007).

[43] J.-I. Namgung, N.-Y. Yun, S.-J. S.-H. Park, C.-H. Kim e J.-H. Jeon. “Adaptive MAC

Protocol and Acoustic Modem for Underwater Sensor Networks”. Em: Proceedings
of ACM International Workshop on Undderwater Networks (2009).

[44] I. Vasilescu, C. Detweiler e D. Rus. “AquaNodes: An Underwater Sensor Network”.

Em: Proceedings of ACM International Workshop on Underwater Networks (2007).

79

http://www.linkquest.com/html/models1.htm
http://www.linkquest.com/html/models1.htm
http://www.benthos.com/acoustic-telesonar-modem-product-comparison.asp
http://www.benthos.com/acoustic-telesonar-modem-product-comparison.asp
http://www.aquatecgroup.com/aquamodem.html
http://www.aquatecgroup.com/aquamodem.html
http://www.evologics.de/en/products/acoustics/index.html
http://www.evologics.de/en/products/acoustics/index.html
http://www.dspcomm.com/products aquacomm.html
http://www.dspcomm.com/products aquacomm.html


BIBLIOGRAFIA

[45] H. Yan, S. Zhou, Z. J. Shi e B. Li. “A DSP Implementation of OFDM Acoustic

Modem”. Em: Proceedings of ACM International Workshop on Underwater Networks
(2007).

[46] S. Zhou, Z. Shi, J. Cui, H. Zhou, J. Liu e P. Carroll. “Aqua-fModem: A Stand-alone

Underwater Acoustic Modem Based on OFDM Technology”. Em: Demo Presentation
(2009).

[47] E. M. Sozer e M. Stojanovic. “Reconfigurable Acoustic Modem for Underwater

Sensor Networks”. Em: Proceedings of ACM International Workshop on Underwater
Networks (2006).

[48] Gendron. “Orthogonal Frequency Division Multiplexing with On-Off-Keying: Non-
coherent Performance Bounds, Receiver Design and Experimental Results”. Em:

Navy Journal of Underwater Acoustics 56 (2006), pp. 267–300.

[49] M. Stojanovic. “Low Complexity OFDM Detector for Underwater Acoustic Chan-

nels”. Em: Oceans (2006).

[50] B. Li, S. Zhou, M. Stojanovic, L. L. Freitag e P. Willett. “Multicarrier Communication

over Underwater Acoustic Channels with Non-Uniform Doppler Shifts”. Em: IEEE
Journal of Oceanic Engineering 33 (2008), pp. 198–209.

[51] B. Li, S. Zhou, M. Stojanovic e P. Willett. “Non-Uniform Doppler Compensation

for Zero-Padded OFDM over Fast-Varying Underwater Acoustic Channels”. Em:

OCEANS - Europe (2007).

[52] B. Li, S. Zhou, J. Huang e P. Willett. “Scalable OFDM Design for Underwater Acous-

tic Communications”. Em: Acoustics, Speech and Signal Processing (2008).

[53] R. A. Iltis. “Matching Pursuits Channel Estimation for an Underwater Acoustic

OFDM Modem”. Em: IEEE International Conference on Acoustics, Speech and Signal
Processing (2008).

[54] D. B. Kilfoyle, J. C. Preisig e A. B. Baggeroer. “Spatial Modulation Experiments

in the Underwater Acoustic Channel”. Em: IEEE Journal of Oceanic Engineering 30
(2005), pp. 406–415.

[55] S. Roy, T. M. Duman, V. McDonald e J. G. Proakis. “High Rate Communication for

Underwater Acoustic Channels using Multiple Transmitters and Space-Time Co-

ding: Receiver Structures and Experimental Results”. Em: IEEE Journal of Oceanic
Engineering 32 (2007), pp. 663–688.

[56] B. Li, S. Zhou, M. Stojanovic, J. Huang e P. Willett. “MIMO-OFDM over an Un-

derwater Acoustic Channel”. Em: Oceans (2007).

[57] B. Benson. “Design of a Low-Cost Underwater Acoustic Modem for Short-Range

Sensor Networking Appications”. Em: University of California, San Diego (2010).

80



BIBLIOGRAFIA

[58] Z. Yan, J. Huang e C. He. “Implementation of an OFDM Underwater Acoustic

Communication System on an Underwater Vehicle with Multiprocessor Structure”.

Em: Front. Electr. Electron. Eng. (2007).

[59] G. Parsons, S. Peng e A. Dean. “An Ultrasonic Communication System for Biotele-

metry in Extremely Shallow Waters”. Em: In Proceedings of the Third ACM Interna-
tional Workshop on Wireless Network Testbeds (2008).

[60] T. Won e S. Park. “Design and Implementation of an Omni-Directional Underwater

Acoustic Micro-Modem based on a Low-Power Microcontroller Unit”. Em: Sensors
(2012).

[61] A. Sanchez, S. Blanc, P. Yuste, A. Perles e J. Serrano. “An Ultra-Low Power and

Flexible Physical Modem Design to Develop Energy-Efficient Underwater Sensor
Networks”. Em: Sensors (2012).

[62] L. Freitag, M. Grund, S. Singh, J. Partan, P. Koski e K. Ball. “The WHOI Micro-

Modem: An Acoustic Communications and Navigation System for Multiple Plat-

forms”. Em: OCEANS (2005).

[63] LM386 Low Voltage Audio Power Amplifier. url: http://www.ti.com/lit/ds/
symlink/lm386.pdf (acedido em 28/03/2016).

[64] LTC6910-1: Digitally Controlled Programmable Gain Amplifiers in SOT-23. url:
http://cds.linear.com/docs/en/datasheet/6910123fa.pdf (acedido em

28/03/2016).

[65] LM324 Quad Operational Amplifiers. url: http://www.ti.com/lit/ds/symlink/
lm324.pdf (acedido em 28/03/2016).

[66] MCP6001/2/4 Low Power OpAmp. url: http://ww1.microchip.com/downloads/
en/DeviceDoc/21733j.pdf (acedido em 28/03/2016).

[67] LM78XX Voltage Regulator. url: http://www.mouser.com/ds/2/149/LM7805-
189995.pdf (acedido em 28/03/2016).

[68] H1c Hydrophone. url: http://shop.nauta-rcs.it/WebRoot/StoreIT2/Shops/
5246/542A/9832/A64C/5487/7A2B/3E95/9311/B648/H1c_manual.pdf (acedido

em 28/03/2016).

[69] SPS serie: SPS-8770-03. url: http://docs-europe.electrocomponents.com/
webdocs/126c/0900766b8126cdcc.pdf (acedido em 28/03/2016).

[70] Piezo-Ceramic Audio Amplifiers: PAA-LM4960SQ-02. url: http://www.sos.sk/a_
info/resource/u/PAA-LM4960SQ-02.pdf (acedido em 28/03/2016).

81

http://www.ti.com/lit/ds/symlink/lm386.pdf
http://www.ti.com/lit/ds/symlink/lm386.pdf
http://cds.linear.com/docs/en/datasheet/6910123fa.pdf
http://www.ti.com/lit/ds/symlink/lm324.pdf
http://www.ti.com/lit/ds/symlink/lm324.pdf
http://ww1.microchip.com/downloads/en/DeviceDoc/21733j.pdf
http://ww1.microchip.com/downloads/en/DeviceDoc/21733j.pdf
http://www.mouser.com/ds/2/149/LM7805-189995.pdf
http://www.mouser.com/ds/2/149/LM7805-189995.pdf
http://shop.nauta-rcs.it/WebRoot/StoreIT2/Shops/5246/542A/9832/A64C/5487/7A2B/3E95/9311/B648/H1c_manual.pdf
http://shop.nauta-rcs.it/WebRoot/StoreIT2/Shops/5246/542A/9832/A64C/5487/7A2B/3E95/9311/B648/H1c_manual.pdf
http://docs-europe.electrocomponents.com/webdocs/126c/0900766b8126cdcc.pdf
http://docs-europe.electrocomponents.com/webdocs/126c/0900766b8126cdcc.pdf
http://www.sos.sk/a_info/resource/u/PAA-LM4960SQ-02.pdf
http://www.sos.sk/a_info/resource/u/PAA-LM4960SQ-02.pdf




A
p
ê
n
d
i
c
e

A
Orçamento

83



APÊNDICE A. ORÇAMENTO

Tabela A.1: Lista de materiais, quantidade e preço respectivo

Componente Preço (e)/unidade Unidades Preço (e)

Hidrofone H1c 130 1 130

Altifalante SPS-8770-03 11.27 1 11.27

Módulo BLE Mini 15 1 15

DDS 9850 9 1 9

PCB 15 1 15

Condensadores Cerâmicos SMD

10 nF 0.01 10 0.1

100 nF 0.02 5 0.1

1 µF 0.04 10 0.4

10 µF 0.13 7 0.91

Condensadores Eléctroliticos

100 uF 0.24 3 0.72

200 uF 0.48 2 0.96

Díodo Schotsky SMD 0.48 5 2.4

Resistências SMD

1 k? 0.03 2 0.06

1.1 k? 0.03 2 0.06

2.2 k? 0.03 1 0.03

5.1 k? 0.03 1 0.03

10 k? 0.03 13 0.39

47 k? 0.03 1 0.03

100 k? 0.03 2 0.06

1 M? 0.03 2 0.06

Potênciometros

10 k? 1.37 1 1.37

50 k? 1.21 5 6.05

Pinheads

J14 1.12 2 2.24

J6 0.67 2 1.34

J4 0.59 1 0.59

J2 0.48 3 1.44

Suporte Atmega328P-PU 0.32 1 0.32

Atmega328P-PU 3.21 1 3.21

LM7805 0.54 1 0.54

MCP6004 0.52 2 1.04

LTC6910 3.14 2 6.28

Resonador 20 MHz 0.41 1 0.41

Transístor NPN 2N2222A 1.76 1 1.76

TOTAL 213.2

84



A
p
ê
n
d
i
c
e

B
Esquemático do circuito v.Beta

Figura B.1: Esquemático do circuito desenvolvido em Eagle v.Beta

85



APÊNDICE B. ESQUEMÁTICO DO CIRCUITO V.BETA

Altifalante

SPS-8770-03

Figura B.2: Camada superior da placa desenvolvida em Eagle v.Beta

Altifalante

SPS-8770-03

Figura B.3: Camada inferior da placa desenvolvida em Eagle v.Beta

86



A
p
ê
n
d
i
c
e

C
Programação do Microcontrolador

C.1 Código do Bloco Transmissor

1 #include&amp;lt;Arduino.h&gt;

2 #include&amp;lt;OneWire.h&gt;

3 #include&amp;lt;SoftwareSerial.h&gt;

4 SoftwareSerial mySerial(8, 9);

5

6 #define DATA 13

7 #define W_CLK 12

8 #define FQ_UD 11

9 #define RESET 10

10 #define BLE_MODE 7

11

12 #define pulseHigh(pin)

13 {

14 digitalWrite(pin, HIGH);

15 digitalWrite(pin, LOW);

16 }

17

18 int DS18S20_Pin = 2;

19 OneWire ds(DS18S20_Pin);

20 unsigned long previousTime = 0;

21 const long interval = 8640000;

22 String receber;

23 float temperature;

24

25 float getTemp() {

26 byte data[12];

27 byte addr[8];

28 if ( !ds.search(addr)) {

29 ds.reset_search();

87



APÊNDICE C. PROGRAMAÇÃO DO MICROCONTROLADOR

30 return -1000;

31 }

32 if ( OneWire::crc8( addr, 7) != addr[7]) {

33 Serial.println("CRC?is?not?valid!");
34 return -1000;

35 }

36 if ( addr[0] != 0x10 &amp;amp;&amp;amp; addr[0] != 0x28) {

37 Serial.print("Device?is?not?recognized");
38 return -1000;

39 }

40 ds.reset();

41 ds.select(addr);

42 ds.write(0x44, 1);

43 byte present = ds.reset();

44 ds.select(addr);

45 ds.write(0xBE);

46 for (int i = 0; i &amp;lt;9; i++) {

47 data[i] = ds.read();

48 }

49 ds.reset_search();

50 byte MSB = data[1];

51 byte LSB = data[0];

52 float tempRead = ((MSB&amp;lt;&amp;lt;8) | LSB);

53 float TemperatureSum = tempRead / 16;

54 return TemperatureSum;

55 }

56

57 void tfr_byte(byte data)

58 {

59 for (int i = 0; i &amp;lt;8; i++, data &gt;&gt;= 1) {

60 digitalWrite(DATA, data &amp;amp; 0x01);

61 pulseHigh(W_CLK);

62 }

63 }

64

65 void sendFrequency(double frequency)

66 {

67 int32_t freq = frequency * 4294967295 / 125000000;

68 for (int b = 0; b &amp;lt;4; b++, freq &gt;&gt;= 8) {

69 tfr_byte(freq &amp;amp; 0xFF);

70 }

71 tfr_byte(0x00);

72 pulseHigh(FQ_UD);

73 }

74

75 void AD9850_init()

76 {

77 digitalWrite(RESET, LOW);

78 digitalWrite(W_CLK, LOW);

79 digitalWrite(FQ_UD, LOW);

88



C.1. CÓDIGO DO BLOCO TRANSMISSOR

80 digitalWrite(DATA, LOW);

81 }

82

83 void AD9850_reset()

84 {

85 digitalWrite(W_CLK, LOW);

86 digitalWrite(FQ_UD, LOW);

87 digitalWrite(RESET, LOW);

88 delay(5);

89 digitalWrite(RESET, HIGH);

90 delay(5);

91 digitalWrite(RESET, LOW);

92 delay(5);

93 digitalWrite(W_CLK, LOW);

94 delay(5);

95 digitalWrite(W_CLK, HIGH);

96 delay(5);

97 digitalWrite(W_CLK, LOW);

98 delay(5);

99 digitalWrite(DATA, LOW);

100 digitalWrite(FQ_UD, LOW);

101 delay(5);

102 digitalWrite(FQ_UD, HIGH);

103 delay(5);

104 digitalWrite(FQ_UD, LOW);

105 }

106

107 void setup()

108 {

109 Serial.begin(300);

110 mySerial.begin(57600);

111 pinMode(FQ_UD, OUTPUT);

112 pinMode(W_CLK, OUTPUT);

113 pinMode(DATA, OUTPUT);

114 pinMode(RESET, OUTPUT);

115 pinMode(BLE_MODE, INPUT);

116 AD9850_init();

117 AD9850_reset();

118 }

119

120 void loop()

121 {

122 unsigned long currentTime = millis();

123 if (digitalRead(BLE_MODE) == HIGH) {

124 if (mySerial.available() &gt; 0) {

125 receber = mySerial.readString();

126 Serial.println(receber);

127 Serial.println(receber);

128 Serial.println(receber);

129 Serial.println(receber);

89



APÊNDICE C. PROGRAMAÇÃO DO MICROCONTROLADOR

130 Serial.println(receber);

131 }

132 }

133 else {

134 if (mySerial.available() &gt; 0)

135 mySerial.flush();

136 if (currentTime - previousTime &gt; interval) {

137 previousTime = currentTime;

138 temperature = getTemp();

139 Serial.print("Temperatura:?");
140 Serial.println(temperature);

141 Serial.print("Temperatura:?");
142 Serial.println(temperature);

143 Serial.print("Temperatura:?");
144 Serial.println(temperature);

145 Serial.print("Temperatura:?");
146 Serial.println(temperature);

147 Serial.print("Temperatura:?");
148 Serial.println(temperature);

149 }

150 }

C.2 Código do Bloco Receptor

1 #include&amp;lt;Arduino.h&gt;

2 #include&amp;lt;VirtualWire.h&gt;

3 #include&amp;lt;SoftwareSerial.h&gt;

4 SoftwareSerial mySerial(8, 9);

5 #define G2 4

6 #define G1 3

7 #define G0 2

8 #define G2_ 7

9 #define G1_ 6

10 #define G0_ 5

11

12 void setup()

13 {

14 mySerial.begin(57600);

15 Serial.begin(300);

16 pinMode(G2, OUTPUT);

17 pinMode(G1, OUTPUT);

18 pinMode(G0, OUTPUT);

19 pinMode(G2_, OUTPUT);

20 pinMode(G1_, OUTPUT);

21 pinMode(G0_, OUTPUT);

22 digitalWrite(G2, HIGH);

23 digitalWrite(G1, LOW);

24 digitalWrite(G0, LOW);

90



C.2. CÓDIGO DO BLOCO RECEPTOR

25 digitalWrite(G2_, HIGH);

26 digitalWrite(G1_, HIGH);

27 digitalWrite(G0_, HIGH);

28 }

29

30 void loop()

31 {

32 char receber1[] = "";

33 char receber2[] = "";

34 char receber3[] = "";

35 char receber4[] = "";

36 char receber5[] = "";

37

38 while (Serial.readBytesUntil(’\n’, receber1, 100) &amp;lt;0) {}

39 while (Serial.readBytesUntil(’\n’, receber2, 100) &amp;lt;0) {}

40 while (Serial.readBytesUntil(’\n’, receber3, 100) &amp;lt;0) {}

41 while (Serial.readBytesUntil(’\n’, receber4, 100) &amp;lt;0) {}

42 while (Serial.readBytesUntil(’\n’, receber5, 100) &amp;lt;0) {}

43

44 if (strcmp (receber1, receber2) == 0) {

45 if (strcmp (receber1, receber3) == 0) {

46 Serial.write(receber1);

47 mySerial.write(receber1);

48 }

49 else if (strcmp (receber1, receber4) == 0) {

50 Serial.write(receber1);

51 mySerial.write(receber1);

52 }

53 else if (strcmp (receber1, receber5) == 0) {

54 Serial.write(receber1);

55 mySerial.write(receber1);

56 }

57 }

58 else if (strcmp (receber1, receber3) == 0) {

59 if (strcmp (receber1, receber4) == 0) {

60 Serial.write(receber1);

61 mySerial.write(receber1);

62 }

63 else if (strcmp (receber1, receber5) == 0) {

64 Serial.write(receber1);

65 mySerial.write(receber1);

66 }

67 }

68 else if (strcmp (receber1, receber4) == 0) {

69 if (strcmp (receber1, receber5) == 0) {

70 Serial.write(receber1);

71 mySerial.write(receber1);

72 }

73 }

74 else if (strcmp (receber2, receber3) == 0) {

91



APÊNDICE C. PROGRAMAÇÃO DO MICROCONTROLADOR

75 if (strcmp (receber2, receber4) == 0) {

76 Serial.write(receber2);

77 mySerial.write(receber2);

78 }

79 else if (strcmp (receber2, receber5) == 0) {

80 Serial.write(receber2);

81 mySerial.write(receber2);

82 }

83 }

84 else if (strcmp (receber3, receber4) == 0) {

85 if (strcmp (receber3, receber5) == 0) {

86 Serial.write(receber3);

87 mySerial.write(receber3);

88 }

89 }

90 else {

91 Serial.println("Dados?recebidos?incorrectamente!");
92 mySerial.println("Dados?recebidos?incorrectamente!");
93 }

94 }

92


	Lista de Figuras
	Lista de Tabelas
	Siglas
	Introdução
	Motivação
	Objectivo
	Estrutura da Dissertação

	Comunicações Digitais em Ambiente Subaquático
	Rede de Sensores em Ambiente Subaquático
	Comunicações Subaquáticas Suportadas em Ondas Electromagnéticas
	Ondas de Rádio Frequência
	Ondas Ópticas

	Comunicações Subaquáticas Suportadas em Ondas Acústicas
	Caracterização do Meio de Suporte ao Canal Acústico
	Propagação Acústica
	Sistemas Acústicos Subaquáticos Existentes

	Conclusões

	Transreceptor Acústico para Comunicações Digitais Subaquáticas
	Arquitectura do Sistema e Orçamento da Ligação
	Transdutores Electroacústicos
	Design e Simulações do Sistema
	Circuito Transmissor
	Circuito Receptor


	Implementação e Teste do Transreceptor Acústico Proposto
	Validação Pré-Protótipo
	Implementação do Protótipo em PCB
	Teste do Protótipo na Água
	Configuração do Teste
	Análise de Resultados


	Conclusões e Trabalho Futuro
	Limitações
	Trabalho Futuro

	Bibliografia
	Orçamento
	Esquemático do circuito v.Beta
	Programação do Microcontrolador
	Código do Bloco Transmissor
	Código do Bloco Receptor


</field>
	</doc>
</add>