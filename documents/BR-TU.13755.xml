<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.13755</field>
		<field name="filename">19869_C%c3%a2mara%20Automatizada%20Para%20Teste%20De%20Detetores%20De%20Gases_Gon%c3%a7alo%20Pereira_2018.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">
  

Gonçalo Manuel Machado Pereira 

 

 

 

 

 

Câmara Automatizada Para Teste De 

Detetores De Gases 

 

 

 

 

 

 

UNIVERSIDADE DO ALGARVE 

INSTITUTO SUPERIOR DE ENGENHARIA  

2018 



  

  



  

Gonçalo Manuel Machado Pereira 

 

 

 

 

Câmara Automatizada Para Teste De 

Detetores De Gases 

 

 

Mestrado Em Engenharia Elétrica Eletrónica 

Trabalho efetuado sob a orientação de: 

Prof. Dr. Paulo Santos 

 

 

 

UNIVERSIDADE DO ALGARVE 

INSTITUTO SUPERIOR DE ENGENHARIA  

2018 



  

 



  

  

 

 

 

 

 

Câmara Automatizada Para Teste De Detetores De Gases 

 

 

Declaração de autoria de trabalho 

 

Declaro ser o autor deste trabalho, que é original e inédito. Autores e trabalhos 

consultados estão devidamente citados no texto e constam da listagem de referências 

incluída. 

 

(Gonçalo Manuel Machado Pereira) 

 

………………………………….. 

  



  

 

 

 

 

 

 

 

 

 

 

 

 

 

©Copyright: (Gonçalo Manuel Machado Pereira) 

A Universidade do Algarve tem o direito, perpétuo e sem limites geográficos, de arquivar 

e publicitar este trabalho através de exemplares impressos reproduzidos em papel ou de 

forma digital, ou por qualquer outro meio conhecido ou venha a ser inventado, de o 

divulgar através de repositórios científicos e de admitir a sua cópia e distribuição com 

objetivos educacionais ou de investigação, não comerciais, desde que seja dado crédito 

ao autor e editor.  

  



  

 
 
 
 
 
 
 
 
 
 
 
 
 

AGRADECIMENTOS 
 
 

Agradeço a todas as pessoas e entidades que de algum modo contribuíram para a 
realização deste projeto. 
  



  

  



  

 

 

 

 

 

 

 

RESUMO 

 

A ideia da construção de uma câmara automatizada para o teste de detetores de 

gases surge no desenvolvimento de um detetor de monóxido de carbono (CO) e gás de 

petróleo liquefeito (LPG) na empresa Global Fire Equipment, S.A. (GFE). O projeto 

consiste na criação de uma câmara hermética capaz de realizar os testes necessários para 

atestar o correto funcionamento de um detetor de gás usado nos sistemas endereçáveis de 

deteção de incêndios. 

A opção da construção de uma câmara para o teste dos detetores de gases prende-

se com o facto de câmaras de teste com as características necessárias serem soluções por 

medida e dispendiosas, que encarecem o desenvolvimento do produto.  

A Câmara Automatizada Para Teste De Detetores De Gases (CGAS) é constituída 

por três partes, a unidade de processamento (computador), a unidade de controlo e a 

câmara de teste. A câmara possui vários sensores e atuadores, que serão monitorizados 

pela unidade de controlo, equipada com uma central de deteção de incêndios. Por fim esta 

unidade é controlada pelo computador através de um ambiente gráfico gerado pelo 

software Labview. 

PALAVRAS-CHAVE: CGAS, PCB CGAS, Transdutor de CO, Transdutor LPG, 

Firmware, LabVIEW, Aplicação CGAS. 

  



  

  



  

 

 

 

 

 

 

 

Abstract 

 

The idea of building an automated gas detector test chamber originated in the 

development of a carbon monoxide (CO) and liquefied petroleum gas (LPG) detector at 

Global Fire Equipment, S.A. (GFE). The project consists of creating an airtight chamber 

capable of performing the necessary tests to attest the correct functioning of a gas detector 

used in Addressable Fire Detection Systems. 

The option of constructing a chamber for the testing of gas detectors is related with the 

fact that test chambers with the necessary characteristics are not cost-effective and are 

customized solutions that make the product development more expensive. 

The Automated Chamber for Testing Gas Detectors (CGAS) consists of three parts, the 

processing unit (computer), the control unit and the test chamber. The chamber has 

several sensors and actuators, which will be monitored by the control unit, equipped with 

a fire detection panel. Finally, this unit is controlled by the computer through a graphical 

user interface generated by Labview Software. 

KEYWORDS: CGAS, PCB CGAS, CO Transducer, LPG Transducer, Firmware, 

LabVIEW, CGAS Application. 

 
 
  



  

  



  

Índice Geral 

ÍNDICE DE FIGURAS ................................................................................................... i 

ÍNDICE DE TABELAS ............................................................................................... vii 

LISTA DE ABREVIATURAS ...................................................................................... ix 

1. INTRODUÇÃO ....................................................................................................... 1 

1.1. Enquadramento .................................................................................................. 1 

1.2. Motivação .......................................................................................................... 2 

1.3. Objetivos ............................................................................................................ 2 

2. ESTADO DA ARTE ............................................................................................... 5 

2.1. Detetores de gases .............................................................................................. 5 

2.2. Testes de detores de gases ................................................................................. 6 

2.3. Câmaras de teste de gases .................................................................................. 6 

2.4. Câmaras de teste standard .................................................................................. 8 

2.5. Análise de câmaras de teste de gases ................................................................. 9 

2.5.1. Sistema da Insistec para teste de sensores de gás .............................................. 9 

2.5.2. Sistema da Kenosistec para teste de sensores de gás ....................................... 10 

2.5.3. Sistema da INERIS para teste de sensores de gás............................................ 11 

2.5.4. Sistema da BAM para teste e calibração de sensores de gás ........................... 12 

2.5.5. Instalações para o teste de sensores de hidrogénio em segurança da JRC 

(SenTeF) ..................................................................................................................... 13 

2.6. Justificação para a construção da câmara de gases .......................................... 17 

3. EQUIPAMENTOS DE AUTOMATIZAÇÃO.................................................... 18 

3.1. Sensores e equipamentos de automatização usados em laboratórios.......... Erro! 

Marcador não definido. 

3.1.1. Controladores térmicos de caudal mássico para gases .................................... 18 

3.1.2. Higrómetros ..................................................................................................... 19 

3.1.3. Cromatógrafo ................................................................................................... 20 

3.1.4. Sensor de pressão ............................................................................................. 21 



  

3.1.5. Medidores de fluxo de ar ................................................................................. 22 

3.1.6. Sensores de temperatura .................................................................................. 24 

3.1.7. Sensor temperatura Pt100 ................................................................................ 25 

3.2. Norma EN 54-26 .............................................................................................. 25 

3.2.1. Métodos de ensaio e avaliação ......................................................................... 26 

3.2.2. Câmara de ensaio de gás da EN54-26 ............................................................. 27 

3.2.3. Condições dos testes ........................................................................................ 28 

3.2.4. Testes a efetuar ao detetor na câmara de ensaio de gás [1] ............................. 29 

4. CONSTRUÇÃO E MONTAGEM DA CGAS .................................................... 35 

4.1. Descrição geral da câmara automatizada para teste de detetores de gases ...... 35 

4.2. Transdutores e atuadores na CGAS ................................................................. 37 

4.2.1. Sonda de velocidade do ar ............................................................................... 38 

4.2.2. Sonda de humidade e temperatura ................................................................... 39 

4.2.3. Transdutor de pressão absoluta ........................................................................ 40 

4.2.4. Transdutor de CO ............................................................................................. 41 

4.2.4.1. Calibração do transdutor CO por comparação com outro transdutor ....... 43 

4.2.4.2. Calibração do transdutor de CO com gás calibrado ................................. 45 

4.2.5. Transdutor de LPG ........................................................................................... 49 

4.2.6. Central de deteção de incêndios ....................................................................... 53 

4.2.7. Instalação elétrica ............................................................................................ 53 

4.2.8. Instalação pneumática da CGAS ..................................................................... 54 

4.2.8.1. Transdutor de pressão ............................................................................... 55 

4.2.8.2. Cilindro pneumático ................................................................................. 56 

4.2.8.3. Válvula pneumática do cilindro ................................................................ 57 

4.2.8.4. Válvula pneumática do ar comprimido .................................................... 58 

4.2.9. Sistema de admissão de gás ............................................................................. 58 



  

4.2.9.1. Garrafas de gás ......................................................................................... 59 

4.2.9.2. Sistema de controlo de admissão dos gases.............................................. 60 

4.3. Placa de controlo PCB CGAS ......................................................................... 61 

4.4. Desenho da câmara automatizada para o teste de detetores de gases .............. 66 

4.5. Construção da câmara automatizada para teste de detetores de gases ............. 70 

4.6. Montagem da câmara automatizada para teste de detetores de gases. ............. 74 

4.6.1. Montagem da porta .......................................................................................... 74 

4.6.2. Montagem do interior da câmara ..................................................................... 75 

4.6.3. Montagem das paredes da câmara ................................................................... 75 

4.6.4. Montagem da válvula de exaustão ................................................................... 77 

4.6.5. Montagem final ................................................................................................ 77 

4.6.6. Suporte para o detetor ...................................................................................... 79 

4.6.7. Informações e segurança .................................................................................. 79 

5. SOFTWARE DE INTERLIGAÇÃO DA CGAS ................................................. 81 

5.1. Firmware da PCB CGAS ................................................................................ 81 

5.2. Aplicação CGAS no LabVIEW ....................................................................... 88 

6. TESTES E ANÁLISE DA CGAS ...................................................................... 109 

6.1. Detetores para o teste ..................................................................................... 109 

6.2. Teste do sensor LPG ...................................................................................... 111 

6.3. Teste do detetor de CO .................................................................................. 112 

6.4. Compatibilidade com a norma EN54-26 ....................................................... 114 

6.5. Custos do projeto CGAS ................................................................................ 115 

6.6. Oportunidade de melhorias e correções na CGAS ........................................ 116 

7. CONCLUSÃO ..................................................................................................... 119 

APÊNDICES ............................................................................................................... 127 

APÊNDICE 1 - Projeto das Instalações ................................................................... 128 

APÊNDICE 2 - Etiquetas ......................................................................................... 129 



  

APÊNDICE 3 – Firmware ....................................................................................... 130 

APÊNDICE 4 – Instruções de utilização da CGAS ................................................. 131 

APÊNDICE 5 – Lista de Material e Custos da CGAS ............................................. 132 

APÊNDICE 6 – Relatório Teste do NB-983CO ...................................................... 133 

ANEXOS ..................................................................................................................... 134 

ANEXO A – Datasheet do Sensor ECO-Sure 2E .................................................... 135 

ANEXO B – Datasheet do Sensor TGS 6810 .......................................................... 136 

ANEXO C – Certificado da Garrafa de CO a 200ppm ............................................ 137 

ANEXO D – Certificado da Garrafa de CO a 5% .................................................... 138 

ANEXO E – Manual de utilizador do NB-983CO ................................................... 139 

ANEXO G – Manual de utilizador do NB-983LPG................................................. 140 

 

 

 

  



 

i 

 

ÍNDICE DE FIGURAS 

 

Figura 1 - Câmara de Teste de Gás CO na Prevalent Manufacturer Group LTD , China ......... 7 

Figura 2 - Gas Sensor Testing System - Kenosistec UHV &amp;amp; Thin Film Equipment ................. 7 

Figura 3 - Sistema da Insistec: GAS SENSOR EVALUATOIN EQUIPMENT ..................... 10 

Figura 4 - Câmara do Sistema da Kenosistec para Teste de Sensores de Gás ......................... 11 

Figura 5 - Instalações da INERIS para Teste de Sensores de Gás ........................................... 12 

Figura 6 - Sistema da BAM para Teste e Calibração de Sensores de Gás ............................... 12 

Figura 7 - Esquema do Sistema de Mistura de Gás e do Sistema de Teste e Calibração da BAM

 .................................................................................................................................................. 13 

Figura 8 - Diagrama de Blocos da Instalação de teste da JRC ................................................. 14 

Figura 9 - Painel de controlo das instalações de teste de sensores da JRC .............................. 15 

Figura 10 - Diagrama do sistema das instalações de teste de sensores de gás da JRC ............ 16 

Figura 11 - Controlador de Fluxo de Massa da Bronkhorst ..................................................... 19 

Figura 12 - Princípio de Funcionamento do Higrómetro de Espelho Refrigerado .................. 20 

Figura 13 - Global Analysers Solution Compact GC 4.0 [8] ................................................... 21 

Figura 14 - Anemómetro Mecânico [14] .................................................................................. 23 

Figura 15 - Sensor de velocidade do ar - anemómetro hot-film [16] ....................................... 24 

Figura 16 - Aspeto de uma Pt100 ............................................................................................. 25 

Figura 17 - Aspeto de uma Pt100 com parafuso e conector ..................................................... 25 

Figura 18 - Vista de Lado do Exemplo da Câmara de teste de Gás descrita na Norma EN54-26

 .................................................................................................................................................. 28 

Figura 19 - Condições de exposição aos agentes poluentes ..................................................... 33 

Figura 20 - Sonda EE671-V2XCKD ........................................................................................ 39 

Figura 21- SONDA DE HUMIDADE E TEMPERATURA EE060 ....................................... 40 

Figura 22 - Transdutor de pressão absoluta ............................................................................. 40 



 

ii 

 

Figura 23 - Sensor ECO-Sure (2e), esquema e PCB ................................................................ 42 

Figura 24 - Gráficos da 1ª calibração CO por comparação ...................................................... 44 

Figura 25 – Gráficos da 2ª calibração por comparação. ........................................................... 44 

Figura 26 - Gráfico das linhas de tendência do transdutor de CO ........................................... 45 

Figura 27 - Calibração do sensor de CO com gás calibrado. ................................................... 47 

Figura 28 - Gráfico das respostas do transdutor de CO ........................................................... 49 

Figura 29 - Transdutor LPG: esquema do regulador e sensor. ................................................. 50 

Figura 30 - Transdutor de LPG: esquema do amplificador de instrumentação. ...................... 51 

Figura 31 - Central de deteção de incêndios JUNIOR V4 ....................................................... 53 

Figura 32 -  Esquema Elétrico: Alimentação ........................................................................... 54 

Figura 33 - Esquema pneumático da CGAS ............................................................................ 55 

Figura 34 - Sensor de pressão PSE530-M5-L .......................................................................... 56 

Figura 35 - Cilindro pneumático (esquerda), controlador de velocidade (centro) e interruptores 

magnéticos (direita) .................................................................................................................. 57 

Figura 36 - Válvula SY3120-5MOE-C4 .................................................................................. 57 

Figura 37- Válvula VQ21A1-5YZ-C6-F-Q ............................................................................. 58 

Figura 38- Esquema do sistema de admissão de gás ................................................................ 59 

Figura 39 - Garrafa de LPG e conectores (esquerda), garrafa CO e regulador (direita). ......... 60 

Figura 40 - Regulador de pressão (esquerda), controlador de fluxo (centro) e Válvula 

VDW10EA (direita) ................................................................................................................. 61 

Figura 41 - Desenho 3D da PCB CGAS (esquerda) e Fotografia da PCB CGAS terminada 

(direita) ..................................................................................................................................... 61 

Figura 42 - Circuito de alimentação da PCB CGAS ................................................................ 62 

Figura 43 - Circuito do microcontrolador da PCB CGAS ....................................................... 63 

Figura 44 - Circuito de entradas da PCB CGAS ...................................................................... 64 

Figura 45 - Circuito de saídas da PCB CGAS ......................................................................... 65 

Figura 46 - Desenho da câmara automatizada para teste de detetores de gases ....................... 66 



 

iii 

 

Figura 47 - Painéis de entradas e saídas (a cor verde) e chassis (a cor azul) ........................... 67 

Figura 48 - Aberturas na câmara .............................................................................................. 68 

Figura 49 - Válvula de exaustão em pormenor ........................................................................ 68 

Figura 50 - Interior da câmara .................................................................................................. 69 

Figura 51 - Desenho da porta. .................................................................................................. 70 

Figura 52 - Peça e caminhos de corte (Esquerda); Código G (direita). ................................... 71 

Figura 53 - Fresadora CNC com software LinuxCNC (peça de apoio da porta). .................... 72 

Figura 54 - Peça favo de mel no software Cura ....................................................................... 73 

Figura 55 - Área de impressão na impressora 3D .................................................................... 73 

Figura 56 - Montagem da porta. 1-Aro, 2-Portas, 3-Dobradiças, 4-Apoio da porta, 5-Parafuso 

do volante, 6-Barra da porta, 7-União, 8-Volante. ................................................................... 74 

Figura 57 - Montagem do interior: 1-placa do meio, 2-placa de cima, 3-aro interno, 4-Moldura, 

5-Favo CE, 6-Favo CD, 7-Favo BE, 8--Favo BD, 9-Ventoinha .............................................. 75 

Figura 58 - Montagem das paredes da câmara: 1-Acrílico F, 2-Acrílico LE, 3-Acrílico LD, 4-

Acrílico T, 5-Acrílico INF, 6-Acrílico SUP, 7-Acrílico INF R ............................................... 76 

Figura 59 - Montagem das tampas. 1-Tampa SUP, 2-Tampa T, 3-Tampa TR, 4-Tampa LE. . 76 

Figura 60 - Montagem da válvula de exaustão. 1-Curva PVC, 2-Cilindro pneumático, 3-Tampa 

da válvula, 4-Aro da válvula, 5- Cilindro da válvula, 6-Tampa LE. ........................................ 77 

Figura 61 - Montagem final. 1-Painel ES CIMA, 2-sinalizadores, 3 e 4-Caixas, 5-Painel ES LE, 

6-Chassi CIMA, 7-Chassi INF, 8-Pés. ..................................................................................... 78 

Figura 62 - Desenho 3D final. .................................................................................................. 78 

Figura 63 - Furação na Placa de Cima para a fixação da base ................................................. 79 

Figura 64 - Logotipo CGAS ..................................................................................................... 79 

Figura 65 - Chapa de caraterísticas da CGAS .......................................................................... 80 

Figura 66 - Fluxograma do firmware ....................................................................................... 82 

Figura 67 - Função de leitura da UART ................................................................................... 83 

Figura 68 – Função de leitura das portas digitais ..................................................................... 83 



 

iv 

 

Figura 69 - Exemplos da função de leitura das portas analógicas ........................................... 85 

Figura 70 - Exemplos da função de escrita nos portos de saídas digitais ................................ 86 

Figura 71 – Firmware, envio dos Bytes pela UART ................................................................ 87 

Figura 72- Firmware - espera de comunicação ........................................................................ 87 

Figura 73 – Labview, fluxograma geral da aplicação CGAS .................................................. 89 

Figura 74 – LabVIEW – estruturas e aplicação do fluxograma ............................................... 90 

Figura 75 – LabVIEW - bloco diagrama, condição de iniciar o teste. ..................................... 91 

Figura 76 - LabVIEW - blocos de diagrama, comunicação série com a JUNIOR .................. 91 

Figura 77 – LabVIEW - Diagrama de Blocos “SubVI ler_bit” ............................................... 92 

Figura 78 – LabVIEW - Diagrama de Blocos, comunicação série com PCB CGAS. ............. 93 

Figura 79 – LabVIEW - Diagrama de Blocos, SubVI Enviar .................................................. 94 

Figura 80 – LabVIEW - blocos diagrama, “SubVI Ler_in” .................................................... 94 

Figura 81 – LabVIEW - blocos de diagrama, SubVI CO_2_F. ............................................... 95 

Figura 82 – LabVIEW - bloco diagrama, fim da comunicação série PCB CGAS. ................. 95 

Figura 83 – LabVIEW - blocos digrama, segunda sequência .................................................. 96 

Figura 84 – LabVIEW - blocos digrama, terceira sequência. .................................................. 97 

Figura 85 – LabVIEW - bloco diagrama, quarta frame. .......................................................... 98 

Figura 86 – LabVIEW - blocos de diagrama, confirmação de válvula exaustão fechada. ...... 98 

Figura 87 – LabVIEW - Diagrama de Blocos, tempo do teste. ............................................... 99 

Figura 88 – LabVIEW - blocos de diagrama, detetor em alarme .......................................... 100 

Figura 89 – LabVIEW - Diagrama de Blocos, condições de fim de teste. ............................ 100 

Figura 90 – LabVIEW - blocos digrama, abertura e fecho dos gases. ................................... 101 

Figura 91 – LabVIEW - Diagrama de Blocos, atualização gráficos. ..................................... 101 

Figura 92 – LabVIEW - blocos de diagrama, frame registo. ................................................. 102 

Figura 93 - LabVIEW - Blocos de Diagrama, frame abrir válvula EX ................................. 102 

Figura 94 – LabVIEW - Diagrama de Blocos, frame DESCONTAMINAÇÃO ................... 103 



 

v 

 

Figura 95 – LabVIEW - Diagrama de Blocos, frames PARAGEM e REGISTO. ................. 104 

Figura 96 – LabVIEW - Painel Frontal .................................................................................. 105 

Figura 97 – LabVIEW - Project Explorer .............................................................................. 107 

Figura 98 - Ícone da aplicação CGAS .................................................................................... 107 

Figura 99 - Esquema de ligação do detetor com o ZMU ....................................................... 109 

Figura 100 - ZMU instalado na base do detetor ..................................................................... 110 

Figura 101 - Painel frontal teste detetor LPG ........................................................................ 112 

Figura 102 - Painel frontal - teste do detetor de CO .............................................................. 113 

Figura 103 - Regulador de pressão LM52-6-L-100-1,5 ......................................................... 114 

Figura 104 - Gráfico dos custos do projeto CGAS ................................................................ 115 

Figura 105 - Aspeto final da CGAS ....................................................................................... 118 

  



 

vi 

 

  



 

vii 

 

ÍNDICE DE TABELAS 

Tabela 1 - Caraterísticas do sensor ECO-Sure (2e) .................................................................. 42 

Tabela 2 - Calibração por comparação com gás, offset e ajuste do ganho. .............................. 48 

Tabela 3 - Calibração com gás calibrado: resumo das leituras. ............................................... 48 

Tabela 4 - Descodificação do byte Inputs ................................................................................ 84 

Tabela 5 - Descodificação das entradas analógicas ................................................................. 85 

Tabela 6 - Descodificação das saídas ....................................................................................... 86 

Tabela 7 - Descodificação dos bytes enviados pelo firmware ................................................. 87 

 

  



 

viii 

 

  



 

ix 

 

LISTA DE ABREVIATURAS 

 

CGAS  Câmara Automatizada de Teste de Detetores de Gases 

GFE   Global Fire Equipment   

CO   Monóxido de carbono  

LPG  Liquefied petroleum gas 

UV  Radiação ultravioleta 

CO2  Dióxido de carbono  

LN2  Nitrogénio Líquido  

CH4  Metano 

H2  Hidrogênio  

PCI  Interconector de Componentes Periféricos 

CEI  Comité Eletrotécnico Italiano 

MCF  Controlador de fluxo de massa 

PLA   Poliácido láctico 

STL   Biblioteca Padrão de Gabaritos 

HVAC  Esquecimento ventilação e ar condicionado  

LEL  Limite explosivo inferior  

UART  Universal Asynchronous Receiver Transmitter 

VI  Virtual Instrumento 

ppm  Partes por milhão 

 
 
 
 
 
 



 

x 

 

 
  



 

1 

 

 

 

 

 

1. INTRODUÇÃO 
 

O projeto Câmara Automatizada Para Teste De Detetores De Gases (CGAS) consiste 

no desenvolvimento e construção de um protótipo capaz de realizar testes a detetores de 

gases com aplicação nos sistemas de deteção de incêndios seguindo uma sequência 

automatizada.  

 

1.1. Enquadramento 

A Global Fire Equipment (GFE), referência internacional em equipamentos de 

deteção de incêndios, vê na deteção de gases uma boa oportunidade de mercado. A equipa 

de pesquisa e desenvolvimento está a desenvolver equipamentos próprios, capazes de 

detetar a presença de gases (gás de petróleo liquefeito LPG e monóxido de carbono CO) 

com elevada precisão e cumprindo as normas europeias. Na fase de produção dos 

detetores, para garantir a sua funcionalidade e qualidade de excelência, a GFE submete 

os detetores a rigorosos testes de controlo e seu registo. Neste sentido é fundamental 

existir um sistema capaz de realizar o teste de forma autónoma, assegurando a qualidade 

e repetibilidade dos resultados.  

O tema deste projeto foi proposto pelo Eng. Miguel Sousa, ex-diretor técnico de GFE-

TEC, após o meu pedido de colaboração para a realização do projeto de mestrado, fazendo 

o enquadramento das minhas funções na empresa de chefe geral de produção. 

 

 

 



 

2 

 

1.2. Motivação 

 

Foi com grande motivação que foi aceite a elaboração deste projeto, que integra duas 

vertentes, profissional e pessoal.  

Na vertente profissional e no exercício das funções na GFE, considero como muito 

importante existir um sistema capaz de realizar os testes funcionais de forma autónoma, 

diminuindo a probabilidade da existência de erros e eliminando tarefas de caráter 

repetitivo e monótono. A elaboração do projeto trouxe mais sensibilidade para 

compreender o funcionamento e o raciocínio por detrás das variadas máquinas e robôs 

usados numa produção, fundamental para diagnosticar e resolver problemas. 

A nível pessoal é uma realização a construção de um projeto envolvendo áreas como 

a mecânica e eletrónica, duas áreas com as quais existe uma identificação e 

desenvolvimento de outros projetos como passatempo. 

 

1.3. Objetivos 

O objetivo deste projeto m estrado é a construção de um protótipo da câmara de testes 

de gases, recolha e processamento dos dados adquiridos pelos sensores. Na construção e 

desenvolvimento do protótipo vai ter em conta a descrição da câmara de teste do anexo 

G da Norma EN 54 - 26. A câmara será um cubo em acrílico com cerca de .  com 
uma porta de acesso ao seu interior, tendo como entradas (inputs) os detetores e o tipo de 

gás a testar, sendo depois todo o processo automatizado, de acordo com o seguinte: 

- Garantia da porta fechada; 

- Homogeneização do gás; 

- Cálculo da concentração do gás na câmara; 

- Ausência de fugas; 

- Aquisição de dados e registo; 

- Exaustão do gás do interior da câmara; 

- Confirmação do manuseamento em segurança dos detetores em teste. 



 

3 

 

Para atingir estes objetivos serão usados vários tipos de sensores, em paralelo com o 

desenvolvimento da eletrónica necessária à recolha e processamento de dados, registo e 

visualização num ambiente gráfico. 

  



 

4 

 

  



 

5 

 

 

 

 

 

2. ESTADO DA ARTE 
 

Apesar do desenvolvimento da CGAS surgir da inexistência de uma solução standard 

no mercado, foi feita uma pesquisa de soluções e tecnologias usadas em projetos que se 

aproximam desta solução, como câmaras de teste utilizadas ou desenvolvidas por 

laboratórios e os seus instrumentos e transdutores instalados. Foi, assim, feita a análise 

da norma EN 54-26, onde estão descritas todas as características que a câmara de teste de 

detetores de monóxido de carbono, usados em sistemas de deteção de incêndio, deve 

contemplar [1].  

 

2.1. Detetores de gases  

Os detetores de gás podem ser utilizados individualmente como equipamento de 

proteção individual, ou usados em sistemas de proteção combinados como, por exemplo, 

numa central de deteção de incêndios. 

A função dos detetores de gás é medir a concentração de um gás. Nos dispositivos 

individuais ou portáteis esta medição é transmitida ao utilizador através de um display 

normalmente combinado com um sinal luminoso e sonoro, o qual é ativado quando a 

concentração atinge valores perigosos. Nos fixos ou pontuais, dispositivos usados nos 

sistemas de proteção, a informação é transmitida à central que irá atuar conforme a sua 

programação. Os detetores portáteis são usados na sua maioria por trabalhadores em 

ambientes com atmosferas perigosas e em inspeções de instalações de gases, sendo 

normalmente capazes de detetar vários tipos de gases. Os detetores fixos são utilizados 

para monitorizar e controlar ambientes em que exista o risco de contaminação do ar, por 

gases tóxicos ou explosivos. Este tipo de detetores, por serem de aplicação específica, 



 

6 

 

normalmente detetam só um tipo de gás, sendo que associam um sensor de gás a um 

circuito de processamento de sinal de modo a permitir usar o sinal obtido pelo sensor.  

A Global Fire Equipment encontra-se a desenvolver detetores de gás para serem 

incorporados nos seus sistemas de deteção de incêndio, tornando-os assim num sistema 

de proteção mais completo. 

 

2.2. Testes de detores de gases 

No fabrico de detetores de gases é muito importante garantir a sua funcionalidade e 

fiabilidade, sendo para tal necessário efetuarem-se testes e calibrações. 

Podemos distinguir os testes aos detetores de gás em produção em dois tipos: 

funcionais e de controlo ao processo de fabrico. 

O teste funcional tem como objetivo testar o detetor quanto à sua principal função que 

é detetar o gás. Este teste é realizado na fase final da sua assemblagem e consiste em 

submeter o detetor a uma concentração predefinida do gás, que quando atingida o detetor 

deve ativar o alarme. O teste pode ser feito colocando os detetores dentro de uma câmara 

selada e injetando o gás, controlando a quantidade de modo a conseguir a concentração 

correta, ou aplicando uma mistura do gás diretamente sobre o sensor, já com a 

concentração necessária à sua ativação. 

O teste ao controlo do processo de fabrico tem como objetivo assegurar que o detetor 

mantém as mesmas características e funcionalidades desde o início da sua produção. Este 

controlo tem especial importância quando o produto é certificado, ou está num processo 

de certificação. Normalmente o teste de controlo ao processo de fabrico é realizado por 

amostragem, pois é um teste exaustivo e demorado. Para realizar este teste são usadas 

câmaras de teste cujo funcionamento e construção estão descritos na Norma pela qual o 

detetor é certificado. 

2.3. Câmaras de teste de gases 

As câmaras de testes de gases vão de uma simples caixa em acrílico, onde são 

colocados os detetores, sendo a concentração do gás calculada através da relação do 

volume de ar existente dentro da caixa com o volume de gás injetado manualmente 

através de uma seringa para dentro da caixa como mostra a Figura 1, até câmaras 



 

7 

 

automatizadas de milhares de euros, que além de controlarem a concentração do gás 

controlam também outras grandezas tais como a temperatura, a humidade e a pressão 

Figura 2.  

Câmaras automatizadas para teste de gases não são um produto que se encontre 

facilmente no mercado, tendo a desvantagem de, normalmente, serem dedicadas a um 

certo tipo de gás. Pelo exposto, as câmaras de teste de gases têm que ser personalizadas a 

pedido do cliente, o que se traduz num aumento de custos para o projeto. 

 

Figura 1 - Câmara de Teste de Gás CO na Prevalent Manufacturer Group LTD , China 

 

 

Figura 2 - Gas Sensor Testing System - Kenosistec UHV &amp;amp; Thin Film Equipment 



 

8 

 

2.4. Câmaras de teste standard 

Existem disponíveis no mercado câmaras de teste com vários objetivos, estando a sua 

disponibilidade diretamente relacionada com a oportunidade de mercado.  

Os produtos antes de chegarem ao mercado passam por uma série de testes, muitos 

destes testes são comuns a vários tipos de produtos, tornando viável a comercialização de 

câmaras para estes testes. 

Podemos encontrar facilmente câmaras de teste como [2]: 

- Temperatura 

- Corrosão 

- UV 

- CO2 e LN2 

- Humidade 

- Choque térmico 

- Altitude 

- Vibração  

- Aceleração 

- Vácuo 

- Armazenamento de baterias de Lítio 

- Pó 

- Penetração de água (índice IP) 

Os fabricantes de câmaras de teste, além de câmara standard, oferecem também a 

possibilidade de customização, sendo que a mais solicitada é a alteração das dimensões.  

 

 

 



 

9 

 

2.5. Análise de câmaras de teste de gases  

Na pesquisa efetuada sobre câmaras de teste de gases, nos poucos exemplares que 

foram identificados, verifica-se que são projetos realizados com um objetivo próprio e 

por vezes com a intervenção de várias entidades, exemplo disso é a Gas Sensor Testing 

System da Kenosistec desenvolvida com a parceria do ISTITUTO ITALIANO DEL 

MARCHIO DI QUALITÀ [3]. 

Estas câmaras foram desenvolvidas com o objetivo de testar/calibrar sensores de gás, 

ou detetores e a maior parte são usadas em laboratórios de pesquisa ou certificação. As 

câmaras que se analisam a seguir, são: 

- “Full-Automatic GAS SENSOR EVALUATION EQUIPMENT” da Insistec empresa 

na área da segurança e tecnologia, Figura 3. 

- “Gas Sensor Testing System” da Kenosistec, fabricante de equipamentos para deposição 

de filmes finos em nanotecnologia, desenhada e desenvolvida com a ajuda do IMQ – 

ISTITUTO ITALIANO DEL MARCHIO DI QUALITÀ, Figura 4. 

- Sistema para teste de sensores de gás da Ineris, organismo público francês de 

investigação de carácter industrial e comercial, Figura 5. 

- GASI, Sistema de mistura de gases de ensaio e câmara de ensaio no 

Instituto Federal de Pesquisa e Ensaios de Materiais (BAM), Alemanha, Figura 6. 

- Instalações para o teste de sensores de hidrogénio em segurança (SenTeF) da JRC, 

Centro Comum de Investigação da Comissão Europeia. 

 

2.5.1. Sistema da Insistec para teste de sensores de gás 

A câmara de teste “Full-Automatic GAS SENSOR EVALUATION 

EQUIPMENT” da Insistec, foi concebida para o teste de dois gases CO e CH4 e usa 

medidores de fluxo de massa para injetar a quantidade certa do gás no interior da câmara. 

Tem dois modos de funcionamento, calibração e alarme [4]. No modo calibração usa dois 

pontos de referência: sem presença do gás e com alta concentração; já no modo alarme 

testa a performance da ativação do alarme dos sensores na presença do gás acima da 

concentração de funcionamento.  



 

10 

 

  O sistema é controlado por um software através de um Interconector de 

Componentes Periféricos (PCI). A concentração dos gases é obtida por dois analisadores, 

um de CO e outro de CH4, com capacidade de medição 30 – 500ppm e 1350 - 12250ppm, 

respetivamente. A densidade é controlada por purgas de gás até o analisador medir a 

concentração desejada e utiliza um ventilador para melhor distribuição e homogeneização 

dos gases. Para a exaustão do gás do interior da câmara são usadas duas válvulas e dois 

ventiladores axiais, um para extrair e outro para insuflar.  

Nas características de segurança, a câmara está equipada com um sensor de 

pressão de 0 a 1000Pa (pressão máxima que ela suporta) e uma válvula de segurança aos 

600Pa. Dispõe também de sinalizadores, botão de emergência, sensores de vibração e de 

fugas. 

 

Figura 3 - Sistema da Insistec: GAS SENSOR EVALUATION EQUIPMENT 

2.5.2. Sistema da Kenosistec para teste de sensores de gás 

 A Câmara da Kenosistec tem a particularidade de usar três células independentes, 

cada uma equipada com sensores de pressão, humidade, velocidade de fluxo e 

temperatura - nesta câmara a temperatura além de monitorizada também é controlada, 

Figura 4. O fluxo dos gases e concentração desejada é calculada por um microprocessador 

que permite o controlo dos fluxos de ar seco e húmido, e obter-se a humidade relativa 

específica. A concentração de gás é calculada através de espectrómetros [5]. 



 

11 

 

As células são seladas e contém ligações para alimentar os sensores e monitorizar 

facilmente os vários sinais pelo sistema de controlo. O sistema vem equipado com 3 

controladores térmicos de caudal mássico para gases, dois para ar (seco e húmido) e outro 

para gás, e com humidificador e condensador termorregulado. 

O sistema permite realizar sequências automáticas para realizar um teste em 

conformidade com as normas do Comité Electrotécnico Italiano (CEI), o software de 

controlo além de monitorizar o processo também regista os dados e preenche relatórios.  

 

 

Figura 4 - Câmara do Sistema da Kenosistec para Teste de Sensores de Gás 

2.5.3. Sistema da INERIS para teste de sensores de gás. 

A figura 5bmostra o sistema INERIS as concentrações dos gases são geradas por 

controladores digitais de fluxo de massa [5]. Através de cilindros genéricos é possível 

gerar misturas e humidade recorrendo a um gás portador, como o nitrogénio ou dióxido 

de carbono. O teste pode ser realizado usando uma máscara sobre o sensor fornecida pelo 

fabricante ou volume da câmara, que está equipada com sensores ambientais. Os testes 

podem ser realizados automática, e ou manualmente.  

A humidade e temperatura são monitorizadas através de sonda capacitiva e uma sonda 

Pt100 respetivamente, todos as saídas são registadas num sistema de aquisição de dados. 



 

12 

 

 

Figura 5 - Instalações da INERIS para Teste de Sensores de Gás 

 

2.5.4. Sistema da BAM para teste e calibração de sensores de gás 

O sistema da BAM calibra e testa sensores de gás utilizando um sistema de mistura 

dinâmico capaz de gerar diferentes concentrações e misturas até três gases, Figura 6 e 7 

[5]. Para este controlo usam-se controladores térmicos de caudal mássico para gases na 

mistura sendo também controlada a humidade. A gestão do teste é realizada por um 

computador que obtém os dados através de uma rede IEEE-BUS e é analisada pelos 

softwares LabView e Excel. 

Para analisar com mais precisão as misturas e concentrações dos gases este 

sistema dispõe de um higrômetro, um cromatógrafo e um espectrómetro. 

 

 

Figura 6 - Sistema da BAM para Teste e Calibração de Sensores de Gás 



 

13 

 

 

Figura 7 - Esquema do Sistema de Mistura de Gás e do Sistema de Teste e Calibração 

da BAM 

2.5.5. Instalações para o teste de sensores de hidrogénio em 

segurança da JRC (SenTeF) 

As instalações para o teste de sensores de hidrogénio da JRC, pode ser dividida 

em quatro partes, como se pode ver na Figura 8 delimitado por tracejado [5]: 

- Sistema de manuseamento de gás; 

- Sistema de controlo e aquisição de dados; 

- Sistema analisador de gás; 

- Gestão e fornecimento de energia. 

Para aquisição de dados dos sensores podem ser usados equipamentos adicionais 

de modo tornar o sinal compatível com os equipamentos de aquisição.  

Este sistema foi pensado para uma simulação realista em termos ambientais e para 

realizar testes de resposta dinâmica e estabilidade a longo prazo, enquanto a Figura 9 



 

14 

 

apresenta o painel de conteúdo elaborado em ambiente LabView do teste de sensores da 

JRC. 

Um higrômetro de ponto de orvalho mede a humidade, a concentração do gás é 

analisada por um cromotógrafo equipado com dois detetores, condutividade térmica 

(TCD) e um detetor de ionização de chama (FID). 

 

Figura 8 - Diagrama de Blocos da Instalação de teste da JRC 

 

Para descrever o sistema ao pormenor, vamos analisar a Figura 10: 

- Secção A, grupo de entrada dos gases é composto por controladores térmicos de caudal 

mássico para gases (MFC), que podem ser ligados a garrafas de gás ou a um sistema de 

distribuição. 

- Secção B, sistema de simulação de atmosfera, humidificação e contaminação do ar como 

a poluição (ex. vapor de gasolina). 

- Secção C, dois cilindros com 3,8 litros, usados para armazenamento da mistura de gás 

criada, de modo a controlar a velocidade do fluxo. 

- Secção D, Controladores térmicos de caudal mássico para gases, para controlar o fluxo.  

- Secção E, Câmaras de ensaio, uma ambiental (C1) e uma para ensaios dinâmicos (C2). 

A câmara de ensaio ambiental permite medições controladas a longo prazo, controlando 



 

15 

 

gradualmente a temperatura, uma simulação mais perto das condições naturais. A câmara 

C2 é usada para alterações mais rápidas da composição do gás, temperatura e caudal.  

- Secções F e G são dedicadas aos aparelhos de medição, da humidade e da composição 

do gás. 

-Secção H, define as taxas de fluxo para as experiências dinâmicas. 

-Secção I, em combinação com a bomba de vácuo da secção H faz a purga de toda a 

instalação com argónio.  

Toda a instalação é controlada por hardware da National Instruments TM e software 

programado em LabVIEW TM, o processo é gerido no ambiente gráfico programado no 

LabVIEW através de um computador, Figura 9, tendo o operador acesso à programação 

das secções acima descritas (exceto G e H) e uma visualização geral do decorrer do teste. 

O programa controla e adquire os valores de sensores de pressão, temperatura, humidade 

e controladores térmicos de caudal mássico para gases, através de um módulo Fieldpoint 

200. O Cromotógrafo é operado por um computador separado.  

 

Figura 9 - Painel de controlo das instalações de teste de sensores da JRC 



 

16 

 

 

Figura 10 - Diagrama do sistema das instalações de teste de sensores de gás da JRC 



 

17 

 

2.6. Justificação para a construção da câmara de gases 

Como referido anteriormente, as câmaras de teste de gases existentes no mercado não 

oferecem uma solução completa às necessidades da GFE, seja pela falta de rigor e 

segurança nas câmaras mais simples, ou pelos elevados custos e desperdício de recursos 

nas câmaras personalizadas. Por este facto, a empresa optou pela construção de uma 

câmara à sua medida. 

A construção da câmara de testes, além da vantagem económica, vai naturalmente 

exigir um maior conhecimento do funcionamento dos sensores e das suas caraterísticas, 

que se irá traduzir num melhor conhecimento técnico na deteção de gases.  

Apesar da norma EN 54-26 ainda não estar em vigor à data, será uma questão de 

tempo, neste sentido é importante que câmara se aproxime da descrita no anexo G da EN 

54-26 [1], de modo a que os testes na fase de desenvolvimento e conceção do detetor de 

CO sejam o mais próximos possível dos futuros ensaios a realizar em laboratórios 

acreditados no processo de certificação CE. 

 

  



 

18 

 

 

 

 

 

3. EQUIPAMENTOS DE AUTOMATIZAÇÃO 
 

A automatização de qualquer processo exige leituras e ações sobre as variáveis, 

aquisição e controlo, onde as câmaras de teste para detetores de gases são um exemplo 

disso. Neste capítulo vão ser analisados alguns exemplos de sensores e equipamentos 

utilizados no controlo deste tipo de processos. 

 

3.1. Controladores térmicos de caudal mássico para 

gases 

Os controladores térmicos de caudal mássico para gases (MFC) é um dispositivo 

que mede e controla o fluxo de líquidos ou gases, este controlo é efetuado através do 

envio do valor do fluxo desejado para o MFC através de um sinal digital ou analógico. O 

dispositivo consiste num controlador, num sensor e numa electroválvula. O gás entra no 

dispositivo e divide-se em dois circuitos, o principal que segue em direção à 

electroválvula e um segundo em que o gás é forçado por uma resistência, à sua passagem, 

a fluir por um tubo capilar. Este tubo está equipado com dois sensores de temperatura e 

uma resistência, Figura 11. 

A resistência de aquecimento está instalada entre os dois sensores de temperatura, o gás 

ao fluir no tubo vai provocar uma diferença de temperatura entre os dois sensores, que é 

diretamente proporcional ao fluxo de massa que passa através do sensor. Com a 

informação do fluxo do gás, o controlador atua sobre a electroválvula de modo a ajustar 

o fluxo para o valor definido [6]. Os MFC são calibrados para um determinado gás e as 

especificações do fabricante, como por exemplo a pressão do gás, devem ser cumpridas. 

 



 

19 

 

 

Figura 11 - Controlador de Fluxo de Massa da Bronkhorst 

3.2. Higrómetros 

Os higrómetros são instrumentos que permitem medir a humidade e podem 

classificados pelo princípio de funcionamento: higrómetros de condensação, de absorção 

e elétricos.  

- Os higrómetros de absorção são instrumentos que determinam a humidade pela 

absorção do vapor de água por uma substância química higroscópica. No caso dos 

higrómetros de condensação, é na relação das características do ar e de uma superfície 

fria onde o vapor de água condensa, que se consegue determinar a humidade. Higrómetros 

elétricos usam elétrodos metálicos revestidos com sais onde a humidade atmosférica vai 

fazer variar a resistência entre eles. 

- O higrómetro de espelho refrigerado (CMH) é usado na indústria e laboratórios 

onde a precisão da humidade é importante. O princípio de funcionamento é de um 

higrómetro de condensação, que permite calcular a temperatura do ponto de orvalho, 

através da condensação do vapor de água existente num gás sobre um espelho refrigerado, 

através da análise da reflexão de um feixe de luz sobre o espelho, Figura 12. O espelho é 

refrigerado a uma temperatura tal que a taxa de condensação é igual à taxa de evaporação, 

definindo assim a temperatura do ponto de orvalho. Estes aparelhos requerem alguma 

manutenção como a limpeza do espelho e podem ser adquiridos com um analisador, 

permitindo a visualização de vários parâmetros relacionados com a humidade, registos 

dos dados e comunicação com um PC através de RS232 [7]. 

 



 

20 

 

 

Figura 12 - Princípio de Funcionamento do Higrómetro de Espelho Refrigerado 

 

3.3. Cromatógrafo 

 

O Cromatógrafo é um instrumento capaz de identificar e quantificar várias 

substâncias, como os gases existentes numa mistura, Figura 15. Para identificar as 

substâncias é necessário separá-las e para isso recorre a uma série de detetores como 

exemplo [8]: 

• TCD (Detetor de Condutividade Térmica) 

• FID (Detetor de Ionização de Chama)  

O detetor de condutividade térmica compara a condutividade térmica de dois 

fluxos de gases, sendo um dos gases a referência e o outro o gás a ser analisado. O 

princípio de funcionamento baseia-se em de que a velocidade a que um corpo perde calor 

depende do gás que o rodeia. Num encapsulamento, o gás passa por um filamento 

aquecido e a velocidade da condutividade térmica do gás vai afetar a resistência elétrica 

do filamento. Os dois fluxos formam uma ponte de Wheatstone, que permite detetar as 

variações de tensão [9].  

O Detetor de Ionização de Chama quantifica os iões que são gerados pela queima 

do composto por uma chama de hidrogénio e a corrente iónica é medida por um elétrodo 

colocado por cima da chama - este detetor é de alta sensibilidade e estabilidade [10]. 



 

21 

 

 

Figura 13 - Global Analysers Solution Compact GC 4.0 [8] 

 

3.4. Sensor de pressão 

 

Um sensor de pressão é um dispositivo que converte a pressão num sinal, neste 

caso num sinal elétrico. Com o objetivo principal de medir a pressão, estes sensores 

podem ser também utilizados para medir outras unidades como é o caso da altitude. 

A pressão de operação é uma característica que define a pressão mínima e 

máxima, na qual o sensor pode operar, os sensores de pressão podem ser classificados 

consoante as seguintes caraterísticas: 

- Pressão de operação 

- Tipo de pressão 

- Precisão 

- Tipo de sinal de saída 

- Tipo de montagem 

- Tipo de tecnologia 

- Pressão absoluta, que mede a pressão relativa ao vácuo. 

- Pressão manométrica, em que a referência é a pressão atmosférica. 



 

22 

 

- Pressão de vácuo, que mede a diferença negativa em relação à pressão 

atmosférica. 

- Pressão diferencial, mede a diferença entre duas pressões. 

- Pressão manométrica selada, semelhante à manométrica, mas com referência a 

uma pressão fixa. 

A unidade de pressão pode ser dada em psi, mbar, Pa ou em percentagem. 

O tipo de sinal de saída pode ser digital, analógico, analógico amplificado, por 

frequência, linear de tensão ou de corrente. 

O sensor está disponível em vários formatos para facilitar a montagem, entre os 

quais [11]: montagem em placa de circuito impressa, calha DIN, em painel, etc.  

As tecnologias usadas para converter a pressão num sinal elétrico nos sensores 

são por exemplo [12]: 

- Sensores potenciométricos: um potenciómetro é acionado pelo movimento de 

um tubo helicoidal que expande e contrai com a variação da pressão. 

- Sensores indutivos: funcionamento idêntico aos potenciómetros, mas o elemento 

transdutor é uma LVDT (Transformador Diferencial de variável linear) em vez do 

potenciómetro. 

- Sensores capacitivos: através de um diafragma é criado um condensador variável 

que se deforma com a pressão. 

- Sensores piezoresistivos: utilizam materiais que variam a sua resistência elétrica 

quando submetidos a tensões mecânicas. A pressão vai criar uma tensão mecânica no 

material e com essa variação da resistência é possível obter um sinal elétrico.   

 

3.5. Medidores de fluxo de ar 

Existem vários métodos de medir ou estimar o fluxo de ar [13], como exemplo: 

anemómetros mecânicos, anemómetros térmicos, etc. 

Os anemómetros mecânicos são os dispositivos mais conhecidos para a medição 

do fluxo do ar. O fluxo de ar ao passar por uma ventoinha ou pás montadas no eixo cria 

um movimento rotativo, Figura 16. A forma mais comum de medir o movimento é 



 

23 

 

colocando um gerador no mesmo eixo das ventoinhas e através da energia produzida é 

possível estabelecer uma relação com a velocidade do fluxo [14].  

 

Figura 14 - Anemómetro Mecânico [14] 

 

Os anemómetros térmicos determinam o fluxo de ar com base no princípio da 

transferência térmica, também conhecidos com hot-film ou hot-wire. Este sensor 

comporta duas resistências depositadas num substrato de vidro, Figura 17. Uma das 

resistências funciona como sensor que mede a temperatura do fluido, enquanto a outra é 

aquecida e mantida a uma temperatura constante pela passagem de corrente elétrica. A 

massa ao fluir pelo sensor vai arrefecer a temperatura da resistência aquecida e a 

velocidade do ar vai ser calculada com base na potência necessária para manter constante 

a temperatura entre as duas resistências [15]. 



 

24 

 

 

 

Figura 15 - Sensor de velocidade do ar - anemómetro hot-film [16] 

 

3.6. Sensores de temperatura 

 

A temperatura é uma grandeza monitorizada em quase todos processos e para a 

medir existem vários tipos de sensores para variadas aplicações. A medição da 

temperatura pode ser feita por contacto direto com o corpo ou por radiação. Nos sensores 

de contacto direto temos: Termo-resistências metálicas, Termístores e Termopares. 

As termo-resistências metálicas ou RTD (Resistence Temperaure Detector) são 

construídas por um núcleo de material isolante com uma resistência enrolada à sua volta. 

A variação da temperatura vai alterar o valor da resistência elétrica do material condutor, 

que pode ser em platina níquel, cobre ou tungsténio. São sensores com elevada precisão 

e fiabilidade, mas têm a desvantagem de serem pouco sensíveis [17]. 

Os termístores são construídos por materiais semicondutores como os óxidos de 

níquel, de cobalto ou de manganês. Existe dois tipos de termístores: os NTC (Negative 

Temperature Coefficient) e os PTC (Positive Temperature Coefficient). Nos NTC a 

resistência diminui com o aumento da temperatura, ao contrário dos PTC, em que a 

resistência aumenta com o aumento da temperatura.  

Os termopares são sensores ativos formados pela junção de dois materiais 

condutores, onde a variação da temperatura vai criar uma força eletromotriz, a partir da 



 

25 

 

qual se pode medir a temperatura. Tem a vantagem de conseguir medir temperaturas altas 

e tem pouca inércia térmica. 

 

3.7. Sensor temperatura Pt100 

O sensor Pt100 é uma termo-resistência metálica ou RTD (Resistence Temperaure 

Detector) em que o material usado para a resistência é a platina, usada pela sua pureza, 

linearidade, estabilidade e ampla gama de temperaturas. A resistência deste sensor a 0º C 

é de 100? e tem um coeficiente de temperatura de 0,00385 ?/?/ºC [17]. 

Este sensor pode apresentar-se em vários estilos de montagem, do mais simples 

apenas com a haste em inox e um cabo, Figura 16, até equipados com falanges e 

conectores, Figura 17. As ligações podem ser feitas por dois ou três condutores, sendo 

que o terceiro tem como objetivo a compensação da resistência nos próprios cabos.  

 

Figura 16 - Aspeto de uma Pt100 

 

Figura 17 - Aspeto de uma Pt100 com parafuso e conector 

 

3.8. Norma EN 54-26 

A marcação CE é um requisito para a venda de produtos dentro da União Europeia. 

Para se obter a marca CE é necessário que o fabricante prove que o produto cumpre todos 

os requisitos definidos nas normas europeias harmonizadas.  



 

26 

 

Desde 25 de janeiro 2015 existe uma norma europeia, a EN 54-26 “Fire detection 

and fire alarm systems – Part 26: Carbon monoxide detectors - Point detectors” [1], 

norma que regula os detetores de monóxido de carbono usados em sistemas de deteção 

de incêndio. Ainda não é harmonizada, uma vez que não foi referenciada no Jornal Oficial 

da União Europeia, ou seja, não pode ser usada para efeitos da marcação CE. Assim que 

a norma entrar em vigor, existirá um período de coexistência com as normas nacionais. 

Neste período não é obrigatória, mas já pode ser utlizada e colocada em prática pelo 

fabricante. No final do período de coexistência, a norma passa a ser obrigatória para a 

livre circulação do produto na União Europeia - isto significa que o produto só pode ser 

colocado à venda se tiver a marcação CE, em conformidade com a norma europeia 

harmonizada aplicável.   

 

3.8.1. Métodos de ensaio e avaliação 

As condições ambientais para estabilização da amostra antes do teste devem estar 

compreendidas entre [1]: 

- Temperatura: 15 a 35 °C; 

- Humidade relativa: 25 a 75 %; 

- Pressão do ar:86 a 106 KPa; 

- A concentração de CO no ambiente não deve exceder 3 µ l/l. 

A amostra deve estar ligada ao equipamento de alimentação e monitorização 

indicado pelo fabricante. Na monitorização da amostra em teste de falha ou alarme devem 

ser utilizadas todas as ligações auxiliares necessárias, como no caso dos detetores 

convencionais, onde é necessário um dispositivo fim de linha. 

A montagem do detetor deve ser feita através da fixação recomendada pelo 

fabricante, no caso de haver mais que um tipo de fixação deve-se considerar o mais 

desfavorável a cada teste. O mesmo critério aplica-se relativamente à posição do detetor 

dentro da câmara: a mais desfavorável é determinada pelo teste de dependência 

direcional.  

No caso de não especificação das tolerâncias nos parâmetros em teste, deve-se 

considerar o valor de 5%. 



 

27 

 

 

3.8.2. Câmara de ensaio de gás da EN54-26 

A norma [1] descreve parâmetros e funcionalidades que os detetores de monóxido de 

carbono usados nos sistemas de segurança e deteção de incêndios devem respeitar, como 

também os testes a realizar para atestar tais funcionalidades. O anexo G da EN 54-26 

contém informação relativa à construção da câmara de teste de gás para medir o valor da 

resposta ao CO, Figura 18. 

Segundo a norma, devem ser considerados o desenho e as características da câmara 

de teste de gás de modo a ser um teste standard. Para isso devem-se considerar os 

seguintes parâmetros: 

- Volume da câmara de 0,05m3 a 0,1m3, para um melhor controlo e segurança das 

pessoas; 

- A câmara deve ser selada de modo a não haver fugas nem entradas de gases e deve-

se ter em conta o material usado, de modo não haver reação com o gás; 

- Para melhorar as medições do aumento da concentração do gás, o teste deve ser feito 

num circuito fechado; 

- A circulação do ar em redor do detetor deve ser o mais linear possível e o sistema 

de circulação deve conseguir uma uniforme distribuição da temperatura e 

concentração do gás; 

- A câmara de teste pode ser colocada dentro de uma câmara climática de modo a 

permitir o aquecimento e arrefecimento durante o acondicionamento ambiental; 

- Deve dar-se especial atenção à disposição dos elementos dentro da câmara, de modo 

a não perturbar as condições do teste. 



 

28 

 

 

1 Câmara de teste de gás 

2 Entrada de ar limpo 

3 Entrada de gás tóxico  

4 Entrada de CO 

5 Válvula de equilíbrio de pressão 

6 Exaustão 

7 Bomba de vácuo  

8 Sonda de fluxo de ar 

9 Base para o detetor 

10 Detetor em teste 

11 Sensor de CO 

12 Medidor de CO 

13 Sensor de temperatura 

14 Sensor de humidade 

15 Filtro favo de mel 

16 Ventoinhas 

17 Direção do ar 

18 Recipiente para teste de substâncias  

19 Válvulas 

 

Figura 18 - Vista de Lado do Exemplo da Câmara de teste de Gás descrita na Norma 

EN54-26 

3.8.3. Condições dos testes 

A câmara de teste deve ser purgada com ar limpo antes de cada teste, para garantir 

que a concentração de CO no início seja inferior a 1,5µ l/l. 

A velocidade do fluxo de ar próximo do detetor deve ser de 0,2 ± 0,04 m/s. 

A temperatura do ar dentro da câmara deve ser 23 ± 5 o C. 

O detetor deve estar ligado ao equipamento indicado pelo fabricante durante 15 

minutos antes do início do teste, de modo a estabilizar. 



 

29 

 

A taxa de concentração de CO na câmara deve estar entre 1µ l/l e 6µ l/l por minuto e 

deve ser idêntica para todas a medições. 

O valor da concentração de CO em que o detetor entra em alarme deve ser registado 

como valor de resposta S(µ l/l). As variações da temperatura devem ser registadas como ? (K).  
Na taxa de sensibilidade ao CO, o detetor não deve sinalizar alarme para uma 

concentração de 10µ l/l, sobreposta à condição inicial de concentração entre 0 e 1,5µ l/l. 

Na resposta a incêndio de desenvolvimento lento, sendo ? a resposta inicial ao CO e 
 a taxa de variação da concentração de CO (S) no tempo, para cada taxa de crescimento 

de  maior que /  por hora, o tempo para o detetor entrar em alarme ( ?) não deve 
exceder , × ? /  por mais de 100s e o intervalo de compensação durante este período 
é limitado, de modo que o valor da resposta ao CO não seja superior a 1,6 do valor inicial. 

 

3.8.4. Testes a efetuar ao detetor na câmara de ensaio de gás [1] 

Repetibilidade: tem como objetivo mostrar que o detetor é estável quanto à sua 

sensibilidade depois de entrar em alarme n vezes. Seguindo as condições da Secção 3.2.3., 

devem ser testados seis detetores na mesma posição. 

Regista-se o valor da resposta mais baixo como ?  e o valor mais alto como ??. 
O detetor cumpre os requisitos se: 

 ? ??? ? &amp;lt;,   ? &gt; ? /  (1) 
 

Dependência direcional: verificar a não dependência da direção do fluxo de ar. 

O detetor será testado oito vezes, uma para cada rotação de 45o em relação ao seu eixo, 

com as condições descritas na Secção 3.2.3. 

Registam-se os valores de resposta ?  e ?? bem como as orientações em que foram 
verificados. A orientação de  ?  vai ser designada como orientação mais sensível e de ?? como a orientação menos sensível. 
O detetor cumpre os requisitos se obedecer às condições de (1). 



 

30 

 

Reprodutibilidade: testes para provar que a sensibilidade não varia de detetor 

para detetor. Realiza-se o teste a todas as amostras conforme a Secção 3.2.3. 

Regista-se o valor da resposta mais baixo como ?  , o valor mais alto como ?? e a 
média com ?. 
O detetor cumpre os requisitos se obedecer às condições às seguintes Equações: 

 ? &amp;lt;.   ? = ?? / ? (2) 
 ? &amp;lt;.   ? = ?/ ?  (3) 
 ? &gt; ? /  (4) 

Movimento do ar: serve para comprovar que a sensibilidade não varia 

indevidamente com a taxa de fluxo de ar. Seguindo o procedimento na Secção 3.3, deve-

se realizar o teste na orientação menos sensível , ?  e na orientação mais sensível 
, ??. Repetem-se os testes com uma velocidade de ar de (1±0,2) m/s e regista-se as 

respostas , ?  e , ??. 
O detetor cumpre os requisitos se obedecer às condições às seguintes Equações: 

 , , ?? + , ?, ?? + , ? ,  (5) 
 , ? &gt; ? /    , ? &gt; ? /  (6) 

 

Estabilidade a longo tempo: atesta a estabilidade do detetor por longos períodos 

de tempo. O detetor é ligado ao equipamento indicado pelo fabricante nas condições 

descritas na Secção 3.1. durante 84 dias, após este período deve ser medida a resposta 

como descrita na Secção 3.2.3. 

Os valores registados no teste de reprodutividade desta amostra devem ser 

atualizados, para o caso do ?? deve ser considerado o valor superior e para ?  o valor 
inferior dos dois testes. 

O detetor cumpre os requisitos se obedecer às três condições: 



 

31 

 

O detetor não assinalou falta nem alarme durante o ensaio na condição livre de 

CO; 

- ??? &amp;lt;,  (7) 
- ? &gt; ? /  (8) 

 

Tolerância à tensão de alimentação: tem como objetivo comprovar que a 

sensibilidade do detetor não depende da variação da tensão dentro dos parâmetros de 

funcionamento do mesmo. Devem ser registados os valores de resposta ?  e ?? nos 
limites dos parâmetros de alimentação. 

O detetor cumpre os requisitos se obedecer às duas condições das Equações 7 e 8. 

Resistência à temperatura: atesta que o detetor funciona corretamente a 

temperaturas elevadas dentro da sua gama de funcionamento. O detetor é instalado na 

câmara de ensaio na sua orientação menos sensível, ligado ao seu equipamento de 

controlo e a câmara deve estar nas condições iniciais. Para realizar este teste a câmara de 

ensaio deve ser colocada dentro uma câmara climática, de modo a que a sua temperatura 

aumente para 55 ± 2 o C, a uma velocidade não superior 1Kmin-1 e aquela deve ser mantida 

constante por 2 horas. Ao fim das duas horas deve-se realizar o teste conforme descrito 

na Secção 3.3, mas com a temperatura de 55 ± 2 o C. Registam-se os valores de resposta 

?  e ?? e calcula-se o ?  com os valores obtidos no teste de reprodutividade para o 
mesmo detetor. 

  O detetor cumpre os requisitos se obedecer às três condições: 

- Não apresentar falhas e alarme antes do teste de resposta ao CO; 

- Cumprir as condições da Equação 7; 

- Cumprir as condições da Equação 8. 

 

Calor seco: este teste consiste em colocar o detetor desligado a uma temperatura 

de 50 ± 2 o C durante 21 dias, no final deste tempo é deixado a recuperar entre 1h a 2h em 

condições normais (descritas acima, entre 15 e 35ºC), depois é realizado o teste do valor 



 

32 

 

de resposta da Secção 3.2.3. Registam-se os valores de resposta ?  e ?? e calcula-se 
o ?  com os valores obtidos no teste de reprodutividade. 

O detetor cumpre os requisitos se obedecer às três condições seguintes: 

- Não apresentar falhas e alarme devido ao condicionamento; 

- Cumprir as condições da Equação 7; 

- Cumprir as condições da Equação 8. 

 

Frio: permite atestar que o detetor funciona corretamente a temperaturas baixas 

dentro dos seus parâmetros de funcionamento. O detetor é instalado na câmara de ensaio 

na sua orientação menos sensível, ligado ao seu equipamento de controlo e a câmara deve 

estar nas condições iniciais. Para realizar este teste, a câmara de ensaio deve ser colocada 

dentro de uma câmara climática, para a sua temperatura ser reduzida para -10 ± 3 o C a 

uma velocidade não superior 1Kmin-1 e mantida nessas condições por 16 horas. No fim 

desse tempo, deve realizar-se o teste conforme descrito na Secção 3.2.3., mas com a 

temperatura de -10 ± 3 o C. Registam-se os valores de resposta ?  e ?? e calcula-se o ?  com os valores obtidos no teste reprodutividade para o mesmo detetor. 
  Este cumpre os requisitos se obedecer às três condições: 

- Não apresentar falhas e alarme antes do teste de resposta ao CO. 

- Cumprir as condições da Equação 7; 

- Cumprir as condições da Equação 8. 

 

Exposição a níveis elevados de monóxido de carbono: demonstra a capacidade 

para suportar elevados níveis de concentração de CO a que o detetor pode estar sujeito 

num incêndio. O detetor em funcionamento é colocado num ambiente com uma 

concentração de CO de 1000±100 µ l/l durante 1h e nos últimos 5 minutos deve ser 

reiniciado. Após 1h de recuperação, o detetor deve ser novamente reiniciado e realizado 

o teste conforme a Secção 3.2.3. Considerar os valores de resposta ?  e ??  os 
extremos medidos entre este teste e o teste de reprodutividade. 

O detetor cumpre os requisitos se obedecer às duas condições seguintes: 



 

33 

 

- Encontra-se em alarme durante o período em que está sujeito à concentração de 

CO e volte a entrar em alarme 2 minutos depois de reiniciado; 

- Após a recuperação,  
? ??? ? &amp;lt;,  ou apresenta alarme ou falha. 

 

Exposição a agentes químicos em concentrações ambientais: este teste tem 

como finalidade provar que o detetor não é afetado pelos elementos poluentes ou 

químicos que possam existir no ambiente em que é inserido. O detetor é colocado numa 

determinada concentração do agente, durante um período de tempo seguido de um 

período de recuperação. Finalizado este período, é realizado o teste descrito na Secção 

3.2.3. e devem considerar-se os valores de resposta ?  e ??   os maiores medidos 
entre este teste e o teste de reprodutividade. 

Na Figura 19 podemos ver os agentes e os referidos períodos de tempo. 

O detetor cumpre os requisitos se obedecer às condições das Equações 7 e 8. 

 

 

Figura 19 - Condições de exposição aos agentes poluentes 

 

Na EN 54-26, o Anexo D – Estabelecimento de níveis de exposições de agentes 

químicos informa que, dado o elevado número de substâncias a testar, é inexequível obter 



 

34 

 

equipamentos calibrados para a medição das concentrações, pelo que estas podem ser 

obtidas pelo cálculo volumétrico [1]. No caso do gás a testar se encontrar acondicionado 

com a concentração desejada, a câmara deve ser purgada (enchida e esvaziada) 10 vezes 

com o gás para obter a concentração requerida. 

Após a realização de cada um dos restantes testes requeridos pela Norma ao 

detetor (como a resistência à humidade, calor húmido em estado estável, calor húmido 

em estado estacionário, baixa humidade em estado estável, resistência à corrosão, choque, 

vibração sinusoidal e compatibilidade eletromagnética (CEM), aquele deve regressar à 

câmara de ensaio para realizar o teste e deve cumprir os requisitos das condições das 

Equações 7 e 8. 

 

 

 

 

 

 

 

 

  



 

35 

 

 

 

 

 

4. CONSTRUÇÃO E MONTAGEM DA CGAS 
Este capítulo começa pela descrição dos sensores e transdutores utilizados na CGAS, 

sejam os adquiridos ou os construídos. Será ainda realizada uma breve descrição da 

central de deteção de incêndios instalada na CGAS e dos atuadores. Seguidamente 

descreve-se o desenvolvimento do hardware PCB CGAS, o desenho e execução da sua 

estrutura.  

 

4.1. Descrição geral da câmara automatizada para teste 

de detetores de gases  

O projeto da câmara automatizada para teste de detetores de gases pode dividir-se em 

três partes: unidade de processamento, unidade de controlo e câmara de teste. 

A unidade de processamento é composta por um computador com um programa de 

controlo programado no software LabView. Este vai fazer a gestão de todo o teste através 

da leitura dos dados enviados pela unidade de controlo, o que permite ao utilizador 

acompanhar o estado do teste através do ambiente gráfico.  

O programa vai verificar se as condições iniciais especificadas estão reunidas e inicia 

o fluxograma do teste. 

Nas condições iniciais, o programa assegura que: 

- O detetor está presente e é o correto; 

 - A porta está fechada; 

- A temperatura e humidade estão dentro dos parâmetros definidos; 

- Não existe presença de gás; 

- Existe ar comprimido disponível. 



 

36 

 

Após a confirmação das condições iniciais, o teste é iniciado com a seguinte 

sequência: 

- Fechar a válvula de exaustão; 

- Ligar sinalização amarela; 

- Abrir o gás por períodos de tempo até a concentração atingir o limite máximo do 

teste ou o detetor ativar o alarme; 

- Registar os valores lidos pelo sensor e detetor; 

- Analisar os dados e classificação do detetor (aprovado ou rejeitado); 

- Imprimir um relatório; 

- Abrir a válvula de exaustão e injetar ar comprimido para limpar a câmara até o sensor 

deixar de detetar gás; 

- Ligar o sinalizador verde e escrever a mensagem “FIM DO TESTE”. 

A unidade de controlo é constituída por dois sistemas diferentes, uma central de 

deteção de incêndios e uma placa de circuito impresso.  

A central de deteção de incêndios faz parte da simulação real do detetor no seu normal 

funcionamento, o detetor pode ser ligado diretamente ao terminal da central ou através de 

um módulo, caso necessite de alimentação externa. A ligação entre a central e o detetor, 

além de fornecer alimentação para o seu funcionamento, também usa um protocolo de 

comunicação analógica onde o detetor é constantemente interrogado pela central. É nesta, 

que através de comunicação série RS232 o sistema de processamento vai encontrar a 

resposta do detetor em teste. 

A placa de controlo é uma placa desenhada e dedicada para o projeto e é composta 

por um microcontrolador, entradas e saídas digitais e analógicas e comunicação série. As 

entradas digitais fazem a leitura dos sensores digitais, como dos sensores magnéticos 

dedicados às posições da porta e válvulas; as saídas digitais vão atuar os sistemas de 

admissão de gás e circulação de ar. A leitura da concentração do gás é feita através de 

transdutores ligados às portas analógicas.  

Fazem parte da unidade de controlo o sistema pneumático de controlo e admissão de 

gás e ar comprimido e também o sistema de ar comprimido através de electroválvulas e 



 

37 

 

de um cilindro, que tem como principal função a abertura e fecho da válvula de exaustão 

e injeção de ar limpo para dentro da câmara.  

O controlo da admissão de gás na câmara é realizado por electroválvulas, onde são 

usados um redutor de pressão e um de caudal, para maior precisão da admissão do gás 

antes do controlo feito pela electroválvula. O gás é fornecido ao sistema por pequenas 

garrafas utilizadas em testes de detetores. 

A câmara está equipada com um sinalizador luminoso e sonoro e um botão de 

emergência que atua sobre a alimentação geral de todo o sistema. 

A unidade de teste onde é colocado o detetor tem como principal objetivo conter e 

controlar a concentração de gás no seu interior. 

A sua construção é em chapa de acrílico de forma cúbica e com um volume de 0.05m3. 

O acesso ao seu interior é feito através de uma porta de modo a proceder à colocação e 

remoção do detetor em teste. A porta está equipada com uma fechadura e um sensor de 

efeito de hall para determinar o seu estado, aberta ou fechada. Foi também colocado um 

vedante na porta para evitar possíveis fugas de gás.  

Para a exaustão dos gases do seu interior foi construída uma válvula, que abre e fecha 

através do movimento de um cilindro pneumático. Este cilindro possui dois sensores 

magnéticos que determinam a posição da válvula, sendo assim possível saber em que 

estado esta se encontra.  

Na estrutura está contemplada uma plataforma com uma base para o detetor, assim 

como duas ventoinhas para melhor homogeneização do gás. 

Para monitorização do teste, a câmara está equipada com um sensor de humidade e 

temperatura, um sensor de LPG e um sensor de CO. Para o detetor foram disponibilizadas 

várias ligações: a ligação à central, a alimentação de 5V e 24V e uma entrada analógica. 

 

4.2. Transdutores e atuadores na CGAS 

Depois da pesquisa das câmaras de teste de detetores de gases ou equipamentos 

similares no mercado, conclui-se que alguns dos instrumentos utilizados são 

equipamentos laboratoriais com várias funcionalidades e extremamente dispendiosos 



 

38 

 

para um único propósito. Por este motivo alguns dos transdutores escolhidos para esta 

fase do projeto têm um objetivo principal de validação do conceito. 

 

4.2.1.  Sonda de velocidade do ar  

A sonda de velocidade do ar escolhida para monitorizar a velocidade do ar dentro da 

câmara e próximo do sensor foi a EE671-V2XCKD da marca E+E Elektonik®, Figura 

20. É uma sonda utilizada em sistemas de aquecimento, ventilação e ar condicionado 

(HVAC). Tem como princípio de funcionamento os anemómetros de filme quente, que 

permitem uma alta precisão, reprodutibilidade e estabilidade a agentes poluentes, 

caraterística importante uma vez que é usada num ambiente com gases. A saída da sonda 

é linear de 0 -5 V, o que corresponde a uma faixa de medição 0 – 5 m/s com uma precisão 

de 3% entre 0.5 e 5m/s. A fonte de alimentação pode variar na gama 10 e 29V DC, opera 

num intervalo de temperatura -20º a 60°C e uma humidade relativa de 5-95%, não 

condensada. Para esta sonda é necessário reservar alimentação de 24V, entrada analógica 

e massa (GND). 

Para obter a velocidade do ar em função da tensão de saída é calculada a equação da 

reta entre os dois pontos da faixa de medição, partindo do princípio que a resposta é 

linear conforme indicado pelo fabricante.  

Assim, obtemos os dois pontos: 

Velocidade do ar: ? , /    ? , /   
Aplicando a equação da reta Equação 9: 

 = + , = ??  (9) 
 

A velocidade do ar obtida no sensor EE671-V2XCKD é proporcional à tensão: 

 ?  =  V /  (10) 



 

39 

 

 

Figura 20 - Sonda EE671-V2XCKD 

4.2.2. Sonda de humidade e temperatura 

Também a sonda de humidade e temperatura escolhida para o projeto foi da marca 

E+E Elektonik®, com a designação EE60, Figura 21. É uma sonda com uma medição 

precisa, protegida de influências externas e com bom desempenho em ambientes 

corrosivos e sujos, evitando impedâncias parasitas na superfície do sensor. O sensor de 

humidade é um HCT01-00D com uma faixa de medição 0-100% e uma saída analógica 

correspondente de 0-5V, sendo a precisão, para uma alimentação de 24V a uma 

temperatura de 20°C, de 2.5%. Já no que diz respeito à medição da temperatura, a sonda 

está equipada com uma Pt1000, uma faixa de medição de -40º a 60°C e uma saída 

analógica de 0-5V, sendo a precisão para uma alimentação de 24V e uma temperatura de 

20°C de 0.3%. Tal como na sonda anterior é necessário o fornecimento de 24V, reserva 

de uma entrada analógica e a massa (GND). 

Seguindo o mesmo critério do transdutor anterior, ficamos com os seguintes 

pontos: 

Humidade: ? , %   ? , % ; 
Temperatura: ? , ?    ? , ; 

Aplicando a Equação 9, a humidade relativa obtida no sensor EE60 é dada pela 

Equação 11 e a temperatura obtida no sensor EE60 é dada pela Equação 12. 

 ?  ? =  × V %  (11) 
 =  × V ?  °  (12) 

 



 

40 

 

 

Figura 21- SONDA DE HUMIDADE E TEMPERATURA EE060 

 

4.2.3. Transdutor de pressão absoluta 

  Os sensores de gás são influenciados pela pressão atmosférica e por esta razão é 

necessária a monitorização da mesma. A opção recaiu sobre o sensor P265-30A-4B da 

marca Kavlico, Figura 22. Baseado na tecnologia capacitativa cerâmica é um transdutor 

robusto e fiável. Entre as suas aplicações estão compressores industriais e equipamentos 

de teste. Com uma faixa de atuação 0-30 PSI e um erro total de 2%, tem uma saída 

analógica de 0.5 - 4.5V e uma alimentação de 5V. Conforme o descrito anteriormente, 

para este transdutor é necessária uma alimentação de 5V, uma entrada analógica e massa. 

 

Figura 22 - Transdutor de pressão absoluta 



 

41 

 

O transdutor apresenta a pressão na unidade PSI (pounds per square inch), que é 

convertida em bar ( ). Para conversão é usada a relação  ? = ,  , ou 
seja, a faixa de atuação do sensor é aproximadamente de ? ,  . 
Como a resposta de tensão também é linear em relação à pressão, a equação de transdução 

é uma equação de uma reta com coordenadas: . ? ,    . ? , .  
Aplicando a equação da reta Equação 9, a pressão absoluta em bar obtida no sensor 

P265-30A-4B é dada por: 

 ã  =  . × V ? .   (13) 
 

4.2.4.  Transdutor de CO 

Ao contrário dos transdutores anteriormente descritos (soluções existentes que 

permitem uma fácil implementação e utilização com saídas lineares), não se encontram 

facilmente no mercado transdutores de gases com as características pretendidas. Para esta 

fase de protótipo da câmara de teste de detetores de gases e para uma compreensão e 

conhecimento sobre os sensores de gases, a opção recaiu na construção de um transdutor 

para cada tipo gás. 

Para o transdutor de CO foram testados três sensores: MQ7 da Hwsensor, 

TGS5141 da Figaro e o ECO-Sure (2e) da EURO-GAS. O primeiro usa a tecnologia 

semicondutora e os restantes são eletroquímicos. Depois de alguns testes o sensor 

escolhido foi o ECO-Sure (2e). A principal caraterística que levou a esta escolha foi o 

intervalo de medição de 0 a 500 , onde, ao contrário dos outros exemplares, foi 
possível obter leituras com concentrações baixas. 

O MQ7 além de ter um intervalo de medição de 20 a 2000  , para o seu 
funcionamento são necessárias duas tensões e um ciclo de comutação entre ambas, o que 

torna mais difícil a sua implementação. A curva de resposta à concentração é uma 

exponencial e existe a necessidade de calibração constante, embora tenha como vantagem 

o preço e o tempo de resposta. 



 

42 

 

Com melhor desempenho que o MQ7, o TGS5141, apesar de ter um intervalo de 

medição de 0 a 10000 , tem um offset de ± 10 , valor que foi confirmado nos 
testes e considerado muito alto para esta aplicação. 

Na Tabela 1 estão as principais caraterísticas do sensor ECO-Sure (2e):  

Intervalo de medição  0 – 500  
Sinal de saída 0.045±0.015µ A por       9  &amp;lt;30 Segundos 
offset -2 a 4  
Sobrecarga máxima 1000  

Repetibilidade ±5% 

Tabela 1 - Caraterísticas do sensor ECO-Sure (2e) 

Para obter um sinal de saída capaz de ser processado pela PCB CGAS foi 

desenhado e construído um circuito básico para converter o sinal de saída de corrente em 

tensão. Este circuito utiliza um amplificador operacional para converter o sinal de saída 

do sensor e um potenciómetro para calibrar. O circuito é alimentado por uma tensão de 

5V, Figura 23. 

 

Figura 23 - Sensor ECO-Sure (2e), esquema e PCB 

 

O sinal à saída de um amplificador não inversor ?  é dado pelas seguinte 
Equação [18]: 

 ? = ( + + ) × ??  ?  (14) 



 

43 

 

Em que ,    são resistência fixas de valor e ??  a tensão de entrada, o 
sinal de entrada no amplificador operacional ??  resulta da queda de tensão na 
resistência ?, dado por: 
 ?? = ? × ? ?  (15) 

A corrente ? que passa pela resistência ? é gerada pelo sensor  conforme a 
concentração do gás por: 

 ? = ×   (16) 
Reformulando (14), temos que a resposta do sensor em função da concentração é 

dada por: 

 ? = ( + + ) × ? × ×  ?  (17) 
Para o caso de um sensor com menor sensibilidade, 0.045-0.015µ A por  , ou 

seja, um sinal de saída de 30nA/  e com o ganho do amplificador no seu maior valor 

com = ?, a resposta a uma concentração de 1000  deverá ser de ? = . ?. 
Já para o caso oposto, um sensor com a maior sensibilidade 60nA, com o ganho 

do amplificador no seu menor valor = ? , a resposta a uma concentração de 
1000  deverá ser de ? = . ?. 

Fica-se, assim, com um intervalo de calibração entre 5.14V e 4.44V para uma 

concentração de 1000 .  
 

4.2.4.1. Calibração do transdutor CO por comparação com outro 

transdutor 

Numa primeira fase, a calibração do transdutor foi obtida por comparação. Num 

ambiente confinado foram colocados um transdutor e um medidor de CO. Neste foi 

inserido CO até a concentração média ser 1000  . Para esta concentração o 
potenciómetro foi regulado de modo a obter uma leitura de 4V.  

Devido a pequenas aberturas no ambiente confinado, o CO vai-se dissipando. 

Durante a diminuição da concentração foram registados vários valores da leitura do 



 

44 

 

aparelho e da tensão dos transdutores. Este processo foi efetuado em duas amostras do 

sensor ECO-Sure (2e), que continham a sua sensibilidade gravada no encapsulamento, de 

49nA  e 42nA por . Os dois gráficos da Figura 24 representam essas leituras 
obtidas na calibração. 

 

Figura 24 - Gráficos da 1ª calibração CO por comparação 

Na primeira calibração, ficou claro que para uma concentração acima de 500  

a resposta dos sensores deixa de ser linear e é visível que a segunda amostra apresenta 

um ligeiro offset. O processo foi repetido para uma concentração inicial de 500  e 
uma tensão de saída de 3V. 

 

 

Figura 25 – Gráficos da 2ª calibração por comparação. 



 

45 

 

Como se pode observar pelos gráficos, a resposta apresenta uma melhor 

linearidade e o offset na segunda amostra continua-se a verificar. Aproveitando a 

calibração anterior, foi feita a média das duas calibrações e calculada a linha de tendência 

dos dois gráficos. 

 

Figura 26 - Gráfico das linhas de tendência do transdutor de CO 

Verifica-se que as linhas de tendência dos dois gráficos são idênticas, =.  e = . . 
 A equação utilizada na conversão de Volts para  foi a média dos declives das 

duas retas  = . ; invertendo a equação, obtém-se  = ,  ou seja = , × ?. No caso de o sensor ter offset, a Equação final deve ser: 
 = , × ? ?  (18) 

4.2.4.2. Calibração do transdutor de CO com gás calibrado 

A curva que se pode observar nos pontos do transdutor de CO representada nos 

gráficos da figura 26, dão a ideia que o tempo de resposta dos transdutores e do aparelho 

de medida podem não serem os mesmos, logo traduz-se num erro de leitura. Dada a 

importância de obter uma leitura fidedigna de CO, optou-se pela aquisição de uma garrafa 

de CO de precisão, contendo gás de calibração da marca GASIN, com uma concentração 

de 200  (certificado de calibração no Anexo C). 

O método de calibração é o mais usado nos transdutores de gases: o transdutor é 

inserido num ambiente com ausência do gás a que é sensível e a sua resposta é ajustada 



 

46 

 

para o valor 0. De seguida, é exposto a uma concentração conhecida e a resposta ajustada 

ao valor da concentração: com estes dois pontos é possível calibrar o transdutor. 

As duas amostras calibradas com o método descrito na secção 4.2.4.1 foram 

sujeitas a este método. O resultado apresentava um erro aproximadamente de 15%, sendo 

que numa amostra não foi possível ajustar o ganho de modo a atingir os 1.5V a 200  

de leitura, por este motivo foram alterados o circuito e a equação. 

O ponto de partida foi redimensionar o valor das resistências de modo a obter uma 

leitura de 5V para 1000  , considerando os dois extremos de sensibilidade dos 
sensores. Para o caso do sensor ter a menor sensibilidade de 30nA/ , o valor do 
conjunto de resistências +  é obtido através da Equação 17. 

= + + × × × ?9 ×  + = . ? 
Já para obter uma resposta de 5V a uma concentração de 1000ppm, com uma 

resposta do sensor 60nA/ : 
= + + × × × ?9 ×  + = . ? 

O valor do potenciómetro deveria ser no mínimo da variação dos dois valores . ? . = . ? , já a resistência  deve ter um valor próximo de  . ?, de modo a conseguir o ganho necessário à calibração. As alterações ao circuito 
inicial foi substituir = ? e = ?. 

Assim a equação de transdução fica conforme a Equação 19: 

 = × ? ?  (19) 
Com uma resolução de leitura do microcontrolador de 10 bits para as portas 

analógicas, temos que =  em decimal, o que permite uma resolução de ? ÷= . ? . Pela Equação 19 cada  corresponde a uma leitura de 0.005V, 
assim o hardware está capacitado para ler 1 , com uma sensibilidade de 200 /?. 

Para o processo de calibração foi desenhado e construído um adaptador de modo 

a libertar o CO sobre o sensor. Este adaptador permite libertação do CO numa pequena 



 

47 

 

atmosfera em volta do sensor sem aumentar a pressão, como se ilustra na Figura 27. A 

garrafa de CO para calibração está equipada com um regulador de fluxo de 0 – 1 l/m, 

permitindo ter controlo sobre o fluxo da mistura. 

 

Figura 27 - Calibração do sensor de CO com gás calibrado. 

Neste processo foram usadas 4 amostras de transdutores com o mesmo sensor e 

circuito. Começou-se por medir os offsets dos transdutores com o ganho no máximo =? e no mínimo = ?, de seguida o gás foi aberto a uma taxa de 0.2 l/m e ajustado 
o ganho ao fim de 5 minutos de exposição, de modo que a leitura fosse conforme a 

Equação 20: 

 ? = ÷ +  (20) 
 Exposto a uma concentração de 200ppm, o transdutor deve apresentar uma 

resposta de 1V. A este valor soma-se o valor inicial (offset).  Na Tabela 2 estão 

representados os valores de offset e o valor da primeira calibração. 

 

 

 

 



 

48 

 

Leitura dos valores iniciais e ajuste do ganho 

Amostra Offset = ? Offset = ? Ajuste/Leitura 
A ? . ? . ? 
B ?  ? 
C ? ? . ? 
D . ? . ? . ? 

Tabela 2 - Calibração por comparação com gás, offset e ajuste do ganho. 

Foram realizadas mais duas calibrações e efetuadas três leituras, com pequenos 

ajustes de modo a obter-se o menor erro e verificar a repetibilidade dos transdutores. Na 

Tabela 3 estão representadas as leituras efetuadas. 

 

Leituras no transdutor de CO 

Amostra 1ª Leitura 2ª Leitura 3ª Leitura 

Esp. V. lido Dif. Esp. V. lido Dif. Esp. V. lido Dif. 

A 1,006 1,010 -0,004 1,015 1,001 0,014 1,040 1,030 0,010 

B 1,074 1,093 -0,019 1,079 1,054 0,025 1,090 1,102 -0,012 

C 1,013 1,014 -0,001 1,016 1,028 -0,012 1,019 1,033 -0,014 

D 1,000 1,001 -0,001 1,000 1,002 -0,002 1,000 1,024 -0,024 

Tabela 3 - Calibração com gás calibrado: resumo das leituras. 

Por cada leitura, é apresentado o valor esperado, já incluindo o offset, sempre 

medido antes de cada leitura. O valor obtido na leitura é a diferença entre os dois e os 

valores são apresentados em Volts. A maior diferença detetada foi de 25mV, o que 

representa uma diferença de aproximadamente 6ppm, que corresponde a um erro de 3%. 

Durante as calibrações, e devido aos repetidos testes em curtos períodos de tempo, 

foi identificada uma caraterística importante dos sensores: o tempo de recuperação para 

o valor inicial varia muito de amostra para amostra, podendo em alguns casos, como o da 

amostra B, demorar 60 minutos. Por este motivo foram registados os valores da resposta 

do transdutor amostra C ao longo de 5 minutos, tanto na presença como na ausência de 

CO. Como se pode ver na Figura 28, o transdutor ao fim de 120 segundos atinge um valor 

muito próximo do valor máximo, também na resposta à ausência do gás a partir dos 120 



 

49 

 

segundos varia muito pouco, apesar de ao fim de 300 segundos ainda apresentar um valor 

de 36mV, diferente dos 13mV que costuma ter de offset. 

 

Figura 28 - Gráfico das respostas do transdutor de CO 

O tempo de resposta 9  (tempo de resposta para 90% da concentração) das 
amostras sujeitas à presença do CO com uma taxa de 0.2L/m variou entre 43 e 50 

segundos. Tempos de resposta superior ao indicado no datasheet do sensor, que é um 

tempo de resposta para 90% da concentração menor de 30 segundos. 

4.2.5.  Transdutor de LPG 

No transdutor de LPG, foi aplicada a mesma solução que no caso do transdutor de 

CO, que foi a sua construção. A escolha do sensor recaíu no TGS6810 da Figaro, um 

sensor catalítico com resposta rápida e linear em ?. Este foi o fator que mais pesou na 
escolha, obter uma resposta linear. O intervalo de leitura do sensor é compreendido entre 

0-100% LEL (lower explosive limit - limite explosivo), Tabela 4. 

Tabela 4 - Caraterísticas do sensor Figaro TGS6810 

Neste caso o sensor é alimentado a 3V, pelo que no transdutor é incluído um 

regulador de tensão variável LM317, Figura 26, dado que a alimentação reservada aos 

transdutores dos gases é de 5V. 

Intervalo de medição ? %  
Sinal de saída (iso-butane)  ~ ? ?    
Tempo de resposta  &amp;lt;15 Segundos 

Offset ? ~ + ? 
Alimentação  . ± . ? /  



 

50 

 

 

Figura 29 - Transdutor LPG: esquema do regulador e sensor. 

Usando a equação do datasheet do LM317: 

 ? = . ? ( + ) + ???  (21) 
Desprezando o valor de ???  que é aproximadamente ?   e escolhendo as 

resistências de 330? e de 240?.  ? = . ? ( + ) 
Obtemos uma tensão de ? = . ?, dentro dos limites do sensor. 
O sensor TGS6810 foi inserido num circuito chamada ponte de Wheatstone 

conforme recomendado pelo fabricante no datasheet. O potenciómetro  é ajustado com 

o circuito alimentado, de modo a obter uma tensão entre ? + e ? ? de 0V. Devido a esta 
montagem foi necessário recorrer a um circuito de amplificação de instrumentação, como 

se pode ver na Figura 30. 



 

51 

 

 

 

Figura 30 - Transdutor de LPG: esquema do amplificador de instrumentação. 

Considerando a equação do ganho do circuito amplificador de instrumentação, com ganho 

unitário no primeiro estágio, ficamos com a seguinte equação para o ganho do transdutor 

de LPG [18]; 

 ? = × ??  (V) (22) 
Para este caso a tensão ??  é a tensão diferencial à saída da ponte de Wheatstone, 

dada por: 

 ?? = ?+ ? ?? (23) 
Considerando que a ponte de Wheatstone se encontra em equilíbrio, ??  é dado 

pela sensibilidade a multiplicar pela concentração do gás: 

 ??? = ??? / ×  (24) 
 Das caraterísticas do sensor obtemos que a sensibilidade de output pode variar 

entre 6 a 14mV quando sujeito a uma concentração de 1800 . Calculando a 

sensibilidade ??? /  para o caso de ?: × ? = ??? / ×  ??? / = . × ? V 



 

52 

 

Para uma concentração de 10000 , concentração máxima esperada na câmara, 

substituindo na Equação 24 temos o ???  esperado no sensor com uma sensibilidade de ?: ??? = . × ? ×  ??? = . ? 
Aplicando a Fórmula 22, obtemos o sinal de saída para uma concentração de 

10000  com uma sensibilidade de ? 
? = ( + ) × ,  

? = . ? 
 Assim, para um sensor com uma sensibilidade de ?, o sinal de saída para 
uma concentração de 10000  deverá ser . ?. 
 Repetindo os cálculos, mas considerando uma sensibilidade de ?, o sinal de 
saída para uma concentração de 10000  deverá ser , ?. × ? = ??? / ×  ??? / = . × ? V ??? = . × ? ×  ??? = . ? 

? = ( + ) × ,  
? = . ? 

Assim conclui-se que a tensão de saída do transdutor para uma concentração de 

10000  poderia variar entre ? = . ? e ? = . ?, mas como a alimentação 
do circuito de amplificação é de 5V, o ?  nunca passará dos 5V, logo o transdutor pode 
não ser capaz de medir concentrações até aos 10000 . 

Como este transdutor foi concebido apenas para validar o processo do teste de 

LPG, apenas foi realizado um teste para verificar o funcionamento do transdutor a uma 

concentração constante de 10000 . O sensor foi colocado dentro de um recipiente 

hermético com um volume de 5000  e foram injetados 50  do gás utilizado na CGAS 



 

53 

 

por meio de uma seringa, obtendo assim uma concentração de 10000 . A leitura 

registada nos dois testes realizados foi de 4.1 e 4.08V respetivamente, ficando a equação 

de transdução: 

 = × ? ?  (25) 
 

4.2.6. Central de deteção de incêndios 

Os detetores de gás testados na câmara são para serem utilizados em sistemas de 

deteção de incêndios, em que a resposta do detetor é obtida através da central, garantindo 

assim uma simulação real da resposta. A central de incêndios que equipa a CGAS é uma 

JUNIOR V4 do fabricante GFE, Figura 31. A JUNIOR V4 é uma central endereçável de 

dois laços com 125 endereços cada, o que quer dizer que cada dispositivo ligado ao laço 

é identificado pelo seu endereço. Suporta ligações por RS232, Fibra Ótica ou TCP/IP. A 

central JUINOR V4 é alimentada por uma fonte de alimentação de 24V e a comunicação 

com a unidade de processamento é feita por RS232. 

 

Figura 31 - Central de deteção de incêndios JUNIOR V4 

4.2.7. Instalação elétrica 

A CGAS é alimentada através de uma ficha IEC macho de painel, instalada no 

painel de entradas e saídas da caixa onde são albergados elementos como a fonte de 

alimentação e a central de incêndios, Figura 31. A alimentação a 230V segue para um 

interruptor acionado com uma chave e de seguida para um botão de emergência. No botão 

de emergência, o circuito divide-se em dois: um que vai alimentar o computador e outro 

que alimenta a fonte de alimentação de 230V/24V. À fonte de alimentação capaz de 



 

54 

 

fornecer uma corrente de 10A, estão ligadas a central de incêndios e a PCB_GAS, como 

se pode ver na Figura 33. 

 

Figura 32 -  Esquema Elétrico: Alimentação 

 

4.2.8.  Instalação pneumática da CGAS 

Para o funcionamento da CGAS é fundamental a disponibilidade de ar 

comprimido. O ar comprimido tem duas funções: descontaminar a atmosfera dentro da 

câmara e movimentar a válvula de exaustão. 

A pressão de entrada do ar comprimido deve estar compreendia entre 2-7 bar, a 

pressão de entrada será regulada para uma pressão de serviço de 1.5 bar pelo regulador 

de pressão existente, e confirmada visualmente pelo manómetro acoplado. Depois da 

pressão regulada, o ar passa por dois filtros, um de partículas e outro de água, Figura 33. 

A pressão é controlada por um sensor de pressão instalado logo a seguir aos filtros. De 

seguida o circuito é dividido em dois: um para a válvula da entrada do ar na câmara e 

outro para a válvula que controla o movimento da válvula de exaustão.  

Até estas duas válvulas, o circuito é feito em tubo de poliuretano de 6x4mm. Entre 

a Válvula 5-2 e o cilindro pneumático o circuito é em tubo de 4x2.5mm. O ar antes de 

entrar no cilindro passa por controladores de velocidade, de modo a permitir um 

movimento suave do cilindro. O cilindro tem acoplados dois interruptores magnéticos, 

que acionados por um íman instalado no êmbolo e desta forma é possível saber as 

posições da válvula de exaustão, Figura 33. 



 

55 

 

 

Figura 33 - Esquema pneumático da CGAS 

4.2.8.1. Transdutor de pressão 

A confirmação da disponibilidade de ar comprimido para o processo é obtida por 

um transdutor de pressão relativa PSE530-M5-L da marca SMC, Figura 34. Este 

transdutor de pressão é exclusivo para medições de pressão de ar, com uma faixa de 

atuação de 0 a 1MPa, que corresponde a uma saída analógica de 1-5V e uma precisão de 

2% à temperatura ambiente. Para este transdutor vai ser necessária alimentação de 24V e 

uma entrada analógica. 

A pressão do ar comprimido é apresentada em  e para converter  em  

foi usada a relação = × ? , ficando assim com uma faixa de atuação de ? . 
Aplicando a Equação 9 da equação da reta aos pontos: , ? , , ?  

, obtendo assim a equação de transdutora da pressão do ar comprimido: 

 ã =  . × V ? .   (26) 
 

 



 

56 

 

 

Figura 34 - Sensor de pressão PSE530-M5-L 

 

4.2.8.2. Cilindro pneumático  

Para criar o movimento necessário ao fecho e abertura da válvula é usado um 

cilindro pneumático com a referência CDU16-10D da marca SMC, Figura 35. Este 

cilindro tem um íman incorporado no êmbolo, que permite a ativação de interruptores 

magnéticos. O curso do cilindro é de dupla ação com deslocamento de 10mm, o que 

permite o avanço e recuo através da aplicação do ar comprimido nas duas ligações. Opera 

num intervalo de pressões entre 0.06-0.7Mpa e velocidades de 50-400m/s. A velocidade 

de avanço e recuo é controlada independentemente por dois controladores de velocidade, 

que funcionam limitando o fluxo de ar para o cilindro. 

A posição da válvula de exaustão é obtida pela posição do êmbolo do cilindro 

pneumático que tem um íman incorporado. Interruptores magnéticos de contacto seco 

foram instalados no corpo do cilindro pneumático nas posições onde a válvula de exaustão 

está aberta e fechada. Estes interruptores D-90 do fabricante SMC suportam tensões de 

carga até 24V e uma corrente de 50mA 



 

57 

 

 

Figura 35 - Cilindro pneumático (esquerda), controlador de velocidade (centro) e 

interruptores magnéticos (direita) 

 

4.2.8.3. Válvula pneumática do cilindro  

O cilindro pneumático é atuado por uma válvula simples de duas posições, 

referência SY3120-5MOE-C4 do fabricante SMC, Figura 36. São as duas posições da 

válvula que permitem os dois movimentos do cilindro: quando a válvula não está 

energizada, o ar comprimido é encaminhado da posição P para a posição B, recolhendo o 

cilindro pneumático. Quando energizada com 24V, a posição do êmbolo desloca-se para 

a direita canalizando o ar comprimido de P para A e permitindo que o ar existente dentro 

do cilindro na posição B recue e seja libertado na saída EB. Para a válvula é necessária 

uma saída de 24V. 

 

Figura 36 - Válvula SY3120-5MOE-C4 

 



 

58 

 

4.2.8.4. Válvula pneumática do ar comprimido  

A válvula responsável pela admissão do ar comprimido para dentro da câmara é a 

VQ21A1-5YZ-C6-F-Q do fabricante SMC, Figura 37, válvula compacta, mas com 

grande capacidade de fluxo e resposta rápida inferior a 7ms. É uma válvula com dois 

portos e um piloto de operação, quando não energizada encontra-se fechada. É ativada 

com uma tensão de 24V e tem um consumo de 2.9W. 

 

Figura 37- Válvula VQ21A1-5YZ-C6-F-Q 

 

4.2.9.  Sistema de admissão de gás 

A admissão do gás na câmara é realizada por um conjunto de elementos de modo 

a permitir um maior controlo e repetibilidade dos testes. Este sistema começa no 

armazenamento do gás em garrafas. Como a pressão disponível varia com a quantidade 

de gás existente nas garrafas, e é importante conseguir uma pressão constante, recorre-se 

a um regulador de pressão de modo a ter 1  de pressão de gás. Antes de o gás ser 

libertado na câmara passa por um regulador de fluxo, permitindo ajustar a taxa de 

libertação do gás. Por fim, uma válvula controla a admissão do gás para dentro da câmara, 

Figura 38.   



 

59 

 

 

Figura 38- Esquema do sistema de admissão de gás 

 

4.2.9.1. Garrafas de gás 

A garrafa LPG usada para fazer o teste é uma garrafa de 100ml de gás da marca 

ROTHENBERGER, que contém uma mistura de gás Propano e Butano, composição do 

gás de petróleo liquefeito [19]. Já a garrafa de CO é uma garrafa descartável da marca 

GASIN com a referência 316785, com 110 litros de gás e uma concentração de CO de 

5% (o certificado de calibração da garrafa de CO pode ser consultado no Anexo D). 

Devido à garrafa se encontrar inicialmente a uma pressão de 70 , foi necessário instalar 

um regulador próprio com capacidade de regulação até pressões de 100 , como se 
pode ver na Figura 39 à direita.  

Para a instalação da garrafa de LPG, foi desenhado e impresso na impressora 3D 

um mecanismo que permite conectar a garrafa ao sistema. Aquele é composto por um aro 

que o prende no topo da garrafa e uma alavanca que pressiona o tubo contra a válvula, 

abrindo-a, Figura 39 à esquerda. 



 

60 

 

 

Figura 39 - Garrafa de LPG e conectores (esquerda), garrafa CO e regulador (direita). 

 

4.2.9.2. Sistema de controlo de admissão dos gases 

A seguir ao armazenamento do gás, a pressão é reduzida para uma pressão de 1  por um redutor de pressão compacto, referência RB500-SSC4 do fabricante CKD, 
com uma pressão de funcionamento máxima de 1Mpa, onde é possível fazer regulações 

de 0.05-0.7Mpa. As ligações são feitas através de conexões rápidas para tubo de 4mm. 

Para se conseguir a taxa de libertação de gás desejada no teste, é usado um regulador de 

fluxo AS1000F-04 da marca SMC, que permite estrangular a passagem do ar através de 

um parafuso, Figura 40. A válvula que controla a abertura dos gases é uma VDW10EA 

da marca SMC. Esta é uma válvula de selenoide de operação direta, que pode ser usada 

com água, ar e vácuo. A alimentação é a 24V e tem um consumo de 2.5W. Como são 

necessárias duas válvulas para os gases, é necessário reservar duas saídas de 24V. 



 

61 

 

 

Figura 40 - Regulador de pressão (esquerda), controlador de fluxo (centro) e Válvula 

VDW10EA (direita) 

 

4.3. Placa de controlo PCB CGAS 

Para controlar os atuadores e fazer as leituras dos transdutores foi desenhada uma 

placa de circuito impresso CGAS V1.0 07/17. O projeto foi realizado no programa Altium 

Designer version 13.1.2, a PCB fabricado na PCBWay e a soldadura foi feita 

manualmente, Figura 41. 

No projeto e desenho da PCB, foram tidos em conta os componentes da biblioteca 

GFE no Altium Designer, de modo a facilitar o desenho e aquisição dos componentes. À 

exceção do microcontrolador e das fichas DB25, que foram adquiridos para o projeto, os 

restantes componentes encontravam-se em stock. 

 

Figura 41 - Desenho 3D da PCB CGAS (esquerda) e Fotografia da PCB CGAS terminada 

(direita) 

A PCB pode ser dividida em quatro partes: alimentação, microcontrolador, 

entradas e saídas. 

Na alimentação, a PCB tem uma entrada para os 24V (tensão de serviço) e no 

mesmo conector (POWER) estão ligadas a massa e a terra como se vê na Figura 42. 



 

62 

 

Devido a muitos dos transdutores serem alimentados pelos 5V com potências de consumo 

consideráveis, foram desenhadas duas fontes de 5V, uma para o microcontrolador com 

uma corrente de saída até 300mA (+5) e outra para os transdutores com uma corrente 

saída até 3A (5V). 

 

Figura 42 - Circuito de alimentação da PCB CGAS 

 

O microcontrolador escolhido foi o PIC18F4550 da Microchip, que por ser um 

processador utilizado em outros projetos facilitou a sua programação, e ainda o facto de 

alguns registos mais utilizados serem conhecidos. Também o número de portos 

analógicos e a disponibilidade de portas UART para a comunicação série foram 

preponderantes, Figura 43.  

A entrada MCLR do microcontrolador está habilitada com o RESET que é 

possível fazer através do botão de pressão SW1. A presença da alimentação (5V) do 

microcontrolador é obtida pelo LED LD9. 

  O conector CN_1 é uma ficha que permite a ligação do programador ICD2 da 

Microchip, sendo possível programar sem necessidade de desligar ou retirar o 

microcontrolador. Já o conector CN_2 é a ligação para a comunicação série, que 



 

63 

 

posteriormente será ligado ao conversor TTL-USB. O outro conector deste tipo, CN_3 

tem a função de alimentar e controlar os sinalizadores. 

Os transdutores que se encontram próximos e na mesma caixa que a PCB CGAS, 

como é o caso do sensor de pressão P265-30A-4B, transdutor de velocidade do ar EE671-

V2XCKD e sensor de humidade e temperatura EE60, estão ligados diretamente à PCB 

pelos conectores TB_2 TB_3 e TB_4 respetivamente.  

 

Figura 43 - Circuito do microcontrolador da PCB CGAS 

 

As entradas digitais são sinais de 24V que chegam dos sensores através das 

fichas DB25, Figura 44. Para identificação visual do seu estado na PCB, foram 

acrescentados LEDs para cada entrada, os LEDs ligam quando a entrada é ativada 

(presença dos 24V). Os sinais de entrada a 24V são isolados e convertidos para 5V por 

opto-acopladores. Estão disponíveis 5 entradas digitais, sendo que duas são de reserva 

(IN4 e IN5), duas são para a válvula de exaustão e a restante para a porta da câmara. A 

ficha fêmea DB25 J_2 conecta a unidade de controlo do gás à PCB CGAS. 



 

64 

 

 

Figura 44 - Circuito de entradas da PCB CGAS 

 

As saídas são convertidas dos 5V fornecidos pelo microcontrolador para 24V com 

corrente de saída até 500mA pelo circuito integrado ULN2803. Este circuito integrado 

consiste num arreio de transístores Darlington. Ao alimentar uma entrada do circuito 

integrado ULN2803 a saída correspondente faz ligação à massa. Como os dispositivos 

são alimentados com 24V, a ligação à massa pelo ULN2803 fecha o circuito de 

alimentação, Figura 45. As saídas são para ativar a Válvula de exaustão, a Válvula do ar, 

a Válvula gás 1, a Válvula gás 2, as Ventoinhas, o Relé e as duas saídas de reserva (Out7 

e Out8).  

O laço da central é ligado no conector TB_1, a ligação ao detetor em teste é feita 

através da ficha DB25 (CONTROLO), que pode ser comutada entre o laço da central ou 

alimentação 24V pelo relé K1, permitindo assim testar detetores convencionais e 

endereçáveis sem necessidade de o operador alterar as ligações. 



 

65 

 

 

Figura 45 - Circuito de saídas da PCB CGAS 

 

 

 

 

 

 

 

 

 

 

 



 

66 

 

4.4. Desenho da câmara automatizada para o teste de 

detetores de gases  

Para uma melhor execução do projeto foi realizado o desenho em 3D de toda a 

estrutura necessária a construir. O desenho contempla estrutura exterior, interior, bem 

com as caixas que albergam as unidades de controlo, Figura 46. No desenho feito no 

software FreeCAD V0.16 foi tido em conta o processo de fabrico das peças, maquinação 

por fresadora CNC e impressão 3D. 

 

Figura 46 - Desenho da câmara automatizada para teste de detetores de gases 

 

No topo e no lado esquerdo da câmara encontramos as duas caixas que albergam 

as unidades de controlo, caixas que foram aproveitadas de um produto comercializado 

pela GFE e alteradas para o efeito. As alterações consistiram em acrescentar um painel 

para entradas e saídas e dois chassis para fixação dos elementos instalados na unidade de 

controlo dos gases, Figura 47. As caixas são construídas em alumínio de 1.5mm de 

espessura com 510x420x120mm de tamanho; já os chassis foram feitos em alumínio de 

3mm de espessura de modo a permitir furações roscadas para mais fácil instalação dos 

elementos. Na caixa superior podemos ver os sinalizadores, outro elemento alterado dos 

produtos fabricados na GFE (sirenes Vulcan 2) - neste caso, os sinalizadores foram 

agrupados em três e foi alterada a cor dos LEDs em dois exemplares (dado que os LEDs 



 

67 

 

são vermelhos). Num foram substituídos pela cor verde e no outro pela cor amarela. No 

caso do sinalizador vermelho da CGAS, este possui também o sinal sonoro associado. 

 

Figura 47 - Painéis de entradas e saídas (a cor verde) e chassis (a cor azul) 

 

A câmara é um paralelepípedo em acrílico de 10mm de espessura e 

550x410x418mm de dimensão, com quatro aberturas, sendo uma delas a porta. A porta 

em alumínio tem como objetivo o fácil acesso e frequente ao interior da câmara; a abertura 

superior foi criada com o propósito de ser facilmente substituída no caso de ser necessária 

a alteração das furações dos sensores que nela estão instalados. O mesmo critério se aplica 

à abertura lateral esquerda, onde está instalada a válvula de exaustão e as furações para 

entrada dos gases e de ar. Por fim a abertura de trás serve para ter acesso total à câmara 

para a montagem do seu interior, Figura 48. Em todas as aberturas foi desenhada uma 

cavidade no seu contorno para a colocação de um o’ring e assim garantir a estanquicidade. 

 



 

68 

 

 

Figura 48 - Aberturas na câmara 

 

A Figura 49 mostra a válvula de exaustão que foi projetada de modo a ser 

movimentada por um cilindro pneumático, em que uma peça em acrílico com um o’ring 

é pressionada pelo cilindro pneumático contra uma abertura circular, fechado assim a 

abertura destinada à exaustão. Quando o cilindro está recolhido, o ar é canalizado para 

um tubo em PVC com 50mm de diâmetro, que permite conectar a uma chaminé ou a um 

sistema de extração de atmosferas contaminadas.  

 

Figura 49 - Válvula de exaustão em pormenor 

 

O interior da câmara é composto por várias molduras em alumínio de modo a 

formar um circuito fechado para o ar, forçado por duas ventoinhas. A placa horizontal 

central suporta numa extremidade as duas ventoinhas de circulação e na outra contém 



 

69 

 

uma ranhura para completar o circuito fechado para a circulação do ar. Esta placa é 

suportada pelas duas molduras, fontal e traseira com 10mm de espessura. Entre os dois 

aros estão duas molduras de 3 mm de espessura que agregam os 4 filtros favo de mel em 

Polímero PLA, Figura 50. É na chapa de topo que vai ser montada a base para os detetores 

a serem testados, onde foram feitos dois furos que permitem aos sensores montados no 

painel superior acederem ao interior da câmara.  

 

Figura 50 - Interior da câmara 

 

A porta é um elemento importante no projeto, pois é onde há mais possibilidades de 

um elemento estrutural comprometer os testes. É função da porta permitir o fácil acesso 

ao interior da câmara e ao mesmo tempo garantir uma boa estanquicidade. Para tal é 

construída em alumínio de 10mm de espessura, para não permitir flexões quando 

submetida a pressões internas. Tem dois pontos de rotação, na dobradiça e nos apoios, 

que permitem um perfeito paralelismo com o aro no fecho, Figura 51. A estanquicidade 

é efetuada por um o’ring instalado numa cavidade criada na periferia da porta e a força 

de fecho é exercida pela rotação de um volante ao rodar sobre o parafuso que se encontra 

preso ao aro.  

 

 



 

70 

 

 

Figura 51 - Desenho da porta. 

 

4.5. Construção da câmara automatizada para teste de 

detetores de gases  

Partindo do desenho 3D iniciou-se a construção da câmara. Os materiais usados na 

construção são maioritariamente o alumínio, o acrílico e o PLA. As peças de acrílico e 

alumínio foram construídas a partir de chapas com 10mm e 3mm, numa fresadora CNC, 

já as peças em PLA foram elaboradas na impressora 3D. 

Depois de terminado o desenho da estrutura da câmara, as peças constituintes foram 

exportadas no formato STL, que permite os desenhos serem importados nos softwares 

usados para gerarem os ficheiros necessários na fresadora CNC e na impressora 3D. O 

software usado para gerar o código G, linguagem de programação das máquinas 

comandadas por controlo numérico computorizado (CNC) [20], foi o MeshCAM V6.  

No MeshCAM, depois de importado o STL da peça, é necessário configurar vários 

parâmetros como o stock do material, ferramentas a usar e modo de fresagem. O stock do 

material a maquinar corresponde às dimensões da peça em bruto que se vai colocar na 

CNC, representado pelas linhas brancas na Figura 52. A escolha da ferramenta a usar na 

fresagem é muito importante e deve ser considerada no desenho da peça, uma vez que 

não é possível obter ângulos interiores retos numa fresadora de 3 eixos. Assim, nas 

definições são introduzidas caraterísticas como diâmetros e comprimento das fresas. 

Finalmente o modo de fresagem é a definição das trajetórias de corte, que pode ser por 

exemplo desbaste, acabamento ou corte (este deslocamento pode-se ver na figura nas 



 

71 

 

linhas verdes). Através destas configurações, o programa é capaz de gerar o código G, 

que pode ser visto abrindo o ficheiro com um editor “.txt”.  

 

Figura 52 - Peça e caminhos de corte (Esquerda); Código G (direita). 

 

O próximo passo foi abrir o ficheiro com o código G no controlador da CNC. 

Neste caso foi usado o LinuxCNC, software gratuito que permite controlar máquinas 

CNC [21]. No LinuxCNC, as configurações da fresadora CNC já tinham sido previamente 

configuradas como a área de trabalho, a deslocação por passo do motor e as velocidades 

máximas. Ao abrir o ficheiro com o código G, o LinuxCNC representa os deslocamentos 

da ferramenta e a sua posição na área de trabalho, Figura 53. Antes de executar o 

programa, é necessário fixar bem o stock de material (material em bruto) na mesa da CNC 

e, muito importante, definir o ponto zero da ferramenta relativamente ao stock a 

maquinar.   



 

72 

 

 

Figura 53 - Fresadora CNC com software LinuxCNC (peça de apoio da porta). 

 

No caso da impressora 3D as peças em STL foram importadas para o software 

Cura V15.02.1, que ao contrário da CNC (em que os deslocamentos são o contorno 

exterior da peça), o código G gerado para a impressora 3D é de modo a preencher a peça 

da Figura 54. No Cura também foi necessário configurar alguns parâmetros, como a 

velocidade de impressão, a percentagem de enchimento da peça e a espessura das paredes. 

O tempo de utilização da impressora 3D foi maioritariamente gasto na impressão dos 

filtros: cada filtro favo de mel demorou 15 horas a ser impresso, o que perfaz um total 

superior a 160 horas de impressão. A necessidade de dividir cada filtro em quatro partes 

deve-se à limitação da área de impressão como se pode ver na Figura 55, que foi tida em 

conta no desenho.  



 

73 

 

 

Figura 54 - Peça favo de mel no software Cura 

 

 

 

Figura 55 - Área de impressão na impressora 3D 

  

 

 

 

 

 

 



 

74 

 

4.6.  Montagem da câmara automatizada para teste de 

detetores de gases. 

 

A construção da CGAS foi feita em 5 fases, para que, no caso de haver necessidade 

de correções, estas poderem ser feitas antes de se iniciar a fase seguinte. Este facto 

permitiu alguns ajustes no projeto, melhorando-o sem comprometer os objetivos.  

 

4.6.1.  Montagem da porta 

A primeira fase foi a construção e montagem da porta observada na Figura 56, 

através de parafusos de resistência sextavados M4x25. A dobradiça é fixa no aro, na 

dobradiça são inseridas as duas barras que são trancadas por dois parafusos M4x50, 

apertados por duas porcas M4. A meio das barras são instalados dois apoios com 

parafusos M4x25 e respetivas porcas M4. Estes dois apoios são fixos na porta por quatro 

parafusos M4x15. As duas barras são reforçadas através da união com 4 parafusos M4x20 

aparafusados na rosca feita nas barras. No aro são instalados mais dois suportes com 4 

parafusos M4x15, entre os suportes é preso o parafuso do volante com um parafuso 

M8x40 e uma porca M8. O volante é enroscado no parafuso.  

 

Figura 56 - Montagem da porta. 1-Aro, 2-Portas, 3-Dobradiças, 4-Apoio da porta, 5-

Parafuso do volante, 6-Barra da porta, 7-União, 8-Volante. 

 



 

75 

 

4.6.2.  Montagem do interior da câmara  

O interior da câmara é uma estrutura em alumínio com dois filtros favo de mel e 

duas ventoinhas, Figura 57. A placa do meio é fixa aos dois aros interiores com 3 

parafusos M3x10 por cada aro e o mesmo acontece com as molduras que são fixas nos 

aros interiores por 6 parafusos M3x10 de cada lado. Nas molduras são instalados os filtros 

favo de mel em PLA, cada filtro é constituído por 4 partes: Favo cima esquerdo (CE), 

cima direito (CD), baixo esquerdo (BE), baixo direito (BD) e cada um é fixado por 3 

parafusos M3x10 e 3 porcas M3. A placa de cima é fixada na parte interior dos aros 

internos com 3 parafusos M3x10. A estrutura interior é fixa ao topo da câmara por 8 

parafusos M4x15 colocado na parte superior dos aros e apertados em 8 insertos metálicos 

colocados no acrílico. 

 

Figura 57 - Montagem do interior: 1-placa do meio, 2-placa de cima, 3-aro interno, 4-

Moldura, 5-Favo CE, 6-Favo CD, 7-Favo BE, 8--Favo BD, 9-Ventoinha 

 

4.6.3.  Montagem das paredes da câmara 

As paredes da câmara são construídas com 7 peças em acrílico transparente 

vazado de 10mm, Figura 58. A união das peças foi feita com cola especial para acrílico 

(Colaplex Goold). As primeiras peças a serem coladas foram o acrílico frontal (F) com o 

acrílico lateral esquerdo (LE) e acrílico superior (SUP); numa segunda fase foram coladas 

a este conjunto as peças: acrílico trás (T), acrílico lateral direito (LD) e acrílico inferior 

(INF). Por fim depois do paralelepípedo colado, foi adicionado o acrílico inferior de 

reforço (INF R). Este acrílico foi adicionado para reforçar a estrutura, dado que o acrílico 



 

76 

 

inferior é uma grande área que mesmo sob pequenas pressões fica sujeita a grandes forças 

mecânicas. 

 

Figura 58 - Montagem das paredes da câmara: 1-Acrílico F, 2-Acrílico LE, 3-Acrílico 

LD, 4-Acrílico T, 5-Acrílico INF, 6-Acrílico SUP, 7-Acrílico INF R  

 

O mesmo critério de reforço aplicou-se à tampa de trás (TR), onde foi colado um 

reforço (TR R). Depois da instalação do vedante nas ranhuras das aberturas foram 

instaladas as tampas: tampa de trás (TR), tampa lateral esquerda (TR), tampa de cima 

(TC) e a porta. Todas estas peças são fixadas com parafusos M4x15 num espaçamento 

inferior a 8cm, perfazendo um total de 64 parafusos, apertados em insertos metálicos 

inseridos no acrílico das paredes, Figura 59. 

 

Figura 59 - Montagem das tampas. 1-Tampa SUP, 2-Tampa T, 3-Tampa TR, 4-Tampa 

LE. 



 

77 

 

4.6.4.  Montagem da válvula de exaustão 

A válvula de exaustão é constituída por dois aros e uma tampa colados, ficando 

uma peça única, nesta espécie de caixa ainda é colada uma curva em PVC e instalado um 

cilindro pneumático do lado exterior, ficando no interior o eixo roscado do cilindro onde 

é inserido o cilindro em acrílico. O conjunto completo é aparafusado à tampa lateral 

esquerda (LE) por 4 parafuso M4x35 em 4 insertos metálicos inseridos na tampa LE, 

Figura 60.  

 

 

Figura 60 - Montagem da válvula de exaustão. 1-Curva PVC, 2-Cilindro pneumático, 3-

Tampa da válvula, 4-Aro da válvula, 5- Cilindro da válvula, 6-Tampa LE. 

 

4.6.5.  Montagem final  

A última fase da montagem foi a aplicação das caixas, a caixa superior é 

aparafusada ao acrílico superior por 4 parafusos M4x8, um em cada vértice, já a caixa 

lateral na parte inferior é aparafusada ao acrílico lateral esquerdo e na parte superior é 

aparafusado à caixa superior com dois parafusos M4x8 e duas porcas M4, Figura 61. Os 

painéis Entradas e Saídas (ES) são aparafusados às caixas por 6 parafusos M3x10 e 6 

porcas M3 cada. Os chassis fixam na caixa lateral com parafusos M3x6 em insertos já 

existentes nas caixas. Na tampa da caixa superior são instalados os sinalizadores e no 

acrílico inferior de reforço os 4 pés, para fixar os pés foi feita rosca M8 no acrílico 

permitindo assim a fixação direta. 

 



 

78 

 

 

Figura 61 - Montagem final. 1-Painel ES CIMA, 2-sinalizadores, 3 e 4-Caixas, 5-Painel 

ES LE, 6-Chassi CIMA, 7-Chassi INF, 8-Pés. 

Como o computador é um elemento constituinte da CGAS, e de forma a definir as 

ligações necessárias, foi contemplado um suporte para um computador portátil com duas 

alturas disponíveis. Na Figura 62 podemos ver o desenho final da CGAS. 

 

Figura 62 - Desenho 3D final. 



 

79 

 

4.6.6. Suporte para o detetor 

Os fabricantes de detetores disponibilizam para as suas gamas, peças 

complementares de modo a fixar corretamente os detetores as chamadas bases, para 

facilitar a montagem das bases foram feitas furações com rosca para parafusos M4 na 

Placa de Cima identificada na Figura 63. Assim dependendo do detetor é necessário 

instalar a base correspondente. 

 

Figura 63 - Furação na Placa de Cima para a fixação da base 

4.6.7. Informações e segurança 

Para melhor informação e segurança foram desenhadas um conjunto de etiquetas 

em vinil autocolante. Neste este conjunto está a logotipo da CGAS, Figura 64, a chapa de 

caraterísticas, Figura 65, a identificação da chave e botões de segurança, bem com 

mensagens de operação e riscos existentes que podem ser consultados no Apêndice 2.  

 

Figura 64 - Logotipo CGAS 

Na chapa de caraterísticas consta informação como: modelo, número de série e 

alimentação (POWER). O nome do modelo 54-26.01 provem de ser a primeira câmara de 

teste para detetores de gases dependentes da norma EN 54-26. O número de série 

(001.01.18) é gerado pelos seguintes dados: Número sequencial, Semana, Ano. Por fim, 

as características quanto à alimentação foram atribuídas segundo os dados da fonte de 

alimentação onde a corrente máxima é de , a tensão de alimentação é de 230V e a 

frequência é de 50Hz. 



 

80 

 

 

Figura 65 - Chapa de caraterísticas da CGAS 

 

  



 

81 

 

 

 

 

 

 

5. SOFTWARE DE INTERLIGAÇÃO DA CGAS 
No capítulo 5 é apresentado e comentado o firmware de programação da PCB 

CGAS e a programação da aplicação CGAS em LabVIEW, que em conjunto fazem a 

interligação da PCB CGAS com a aplicação de processamento.  

5.1. Firmware da PCB CGAS 

O firmware foi escrito na linguagem C no compilador mikroC PRO V7.1.0, 

software da Mikroelektronika. Depois de compilado o código C é gerado o ficheiro com 

a extensão (.hex), ficheiro necessário para programar o microcontrolador, que pode ser 

feito através de vários programadores existentes no mercado, neste caso foi utilizado o 

MPLAB ICD2 da Microchip. 

O firmware começa pelas configurações dos registos do microcontrolador, como 

declaração dos portos e clock. Depois das configurações, o firmware entra num ciclo 

fechado, à espera de receber informação pela porta de comunicação série UART 

(Universal Asynchronous Receiver/Transmitter). Depois de receber a informação e 

proceder à sua leitura, vai verificar o estado das entradas digitais e analógicas, alterar as 

saídas em conformidade com a informação que recebeu e por fim envia a informação 

obtida nas entradas. Se não receber qualquer informação pela porta série durante algum 

tempo, o firmware desativa todas a saídas por segurança, como se pode ver no fluxograma 

da Figura 66. 



 

82 

 

LER ENTRADAS
DIGITAIS

ATIVAR SAÍD AS

ENVIAR AS 
LEITURAS  PELA 

UAR T

UAR T DISPONIVÉL

SIM

ESPERA
INTERRUPÇÃO UART

LER UART

LER ENTRADAS
ANALÓGICAS

SIM

PWM Ventoinhas

ESGOTADO
TEMPO ESPERA

NÃO

NÃO

DESATIVAR
SAÍDAS

SIM

INICIO

NÃO

 

Figura 66 - Fluxograma do firmware 

 

No Apêndice 3 poderá ser consultado todo o código com comentários.  

A função apresentada na Figura 67 que faz a leitura da UART (interrupt) é uma 

função da biblioteca do compilador MikroC que é executada sempre que há uma 

interrupção. Dentro da interrupção, é feita a confirmação se a interrupção vem da UART, 

através do registo PIRI.PCIF do microcontrolador que fica ativo quando há uma alteração 

na porta de escrita (RX) da UART. Caso se confirme que a interrupção vem da UART é 

realizada a leitura da mesma para a matriz “outputs”, a leitura é realizada até à receção 

do valor 255, confirmando o fim da comunicação. Após a leitura, é ativada a variável 

“flag” que permite ao firmware progredir para a leitura das entradas digitais. O registo 

PIRI.PCIF é reiniciado para que a leitura só se volte a fazer quando houver outra 

interrupção na UART.  



 

83 

 

 

Figura 67 - Função de leitura da UART 

A leitura das portas digitais é feita pela função ReadInputs, e é representada na 

variável Inputs em que cada bit representa uma porta. As entradas estão ativas quando o 

valor da tensão é 0V, ou seja, lógica negativa. Esta função compara o valor obtido numa 

porta com o valor 0 e, no caso de verdadeiro, coloca o bit correspondente à porta a 1 na 

variável Inputs. A alteração do bit é feita através da soma do valor que a porta representa 

no byte Inputs, como se pode ver na Figura 68. Por ex., no caso de a porta RD6 estar ativa 

é adicionado à variável Inputs o valor de 4 decimal, que em binário representa “100”; 

assim a porta RD6 está representada no bit 3 da variável Inputs. Na Tabela 6 está 

descodificada a variável Inputs. As variáveis IN4 e IN5 são entradas de reserva, 

IN_PORTA corresponde ao sensor da abertura da porta, já VAL_C e VAL_O 

representam os sensores de fecho e abertura da válvula de exaustão.  

 

 

Figura 68 – Função de leitura das portas digitais 

 

 

 

 

 

 



 

84 

 

IN
4

 

IN
_

P
O

R
T

A
 

V
A

L
_

C
 

V
A

L
_

O
 

IN
5

 

   

P
O

R
T

D
.R

D
4

 

P
O

R
T

D
.R

D
5

 

P
O

R
T

D
.R

D
6

 

P
O

R
T

D
.R

D
7

 

P
O

R
T

B
.R

B
7

 

--
--

 

--
--

 

--
--

 

Bit 0 Bit 1 Bit 2 Bit 3 Bit 4 Bit 5 Bit 6 Bit 7 

Byte Inputs 

Tabela 4 - Descodificação do byte Inputs 

 

A próxima etapa é ler as portas analógicas. A leitura é realizada pela função do 

mikroC “ADC_Read()”, Figura 69 e a leitura em cada porta é realizada 16 vezes somando 

cada leitura. No final das 16 leituras o valor obtido é dividido por 16. Isto permite obter 

uma média e atenuar alguns erros que possam ocorrer na leitura. A variável lida pela 

função é um valor inteiro de 10 bits, como cada byte enviado pela UART tem 8 bits, são 

necessários 2 bytes para enviar a leitura. Os 10 bits correspondem ao valor decimal de 

1204 ( = ). Como o valor das leituras nas portas analógicas varia entre 0-5V, o 
intervalo das leituras é de  / , nas leituras que não necessitam muita definição o 
valor lido na porta analógica é dividido por 4 para ser enviado em um só byte ficando 

com a definição de / .  
No caso da leitura do sensor de CO, onde são necessários os dois bytes, é preciso 

dividir a variável inteira (CO_1X) em dois bytes (CO_H e CO_L). O byte mais 

significativo é obtido rodando para a direita a variável em oito posições, e o menos 

significativo fazendo uma operação AND da variável com um byte “11111111” ou 0xff 

em hexadecimal. 



 

85 

 

 

Figura 69 - Exemplos da função de leitura das portas analógicas  

Entradas analógicas 

AN0 AN1 AN2 AN3 AN4 AN5 AN6 AN7 AN8 AN9 AN10 AN12 

P
R

E
S

_
A

X
 

P
R

E
S

_B
X

 

V
E

L
O

_
A

R
X

 

R
H

X
 

T
E

M
P

X
 

A
D

C
_

D
E

T
X

 

C
O

_1
X

 

L
P

G
_

1
X

 

A
D

C
1

X
 

A
D

C
2

X
 

L
P

G
_

2
X

 

C
O

_2
X

 

RA0 RA1 RA2 RA3 RA5 RE0 RE1 RE2 RB2 RB3 RB1 RB0 

Tabela 5 - Descodificação das entradas analógicas 

 As entradas analógicas descritas na Tabela 7 fazem a leitura dos seguintes valores: 

pressão ar comprimido, pressão absolta dentro da câmara, velocidade do ar dentro da 

câmara, humidade relativa dentro da câmara, temperatura dentro da câmara, entrada 

analógica dedicada ao detetor em teste, sensor de CO dentro da câmara, sensor de LPG 

dentro da câmara, duas entradas analógicas de reserva, sensor de fuga de LPG, sensor de 

fuga de CO. 

Depois de ler as entradas analógicas, o microcontrolador vai colocar o estado dos 

portos de saída conforme a variável “Outputs”, a matriz de 4 bytes que é lido de cada vez 

que o microcontrolador recebe via UART do Labview, Figura 69. Nos dois primeiros 

bytes estão os estados dos portos de saída, no terceiro a velocidade das ventoinhas e por 

fim o quarto é um valor fixo de 255, que representa o fim da comunicação. Para os dois 

primeiros bytes a operação de descodificação é realizada comparando bit a bit com a 

posição de cada porto. Se a comparação for verdadeira, o porto é colocado a 1, caso 

contrário mantém-se a 0. O terceiro byte corresponde ao valor do Duty Cycle que será 

enviado para a função do MikroC de PMW. Se o valor do terceiro byte do Outputs for 

maior que 0, é iniciada a função de PWM com o respetivo valor caso contrário o PMW é 

terminado. A descodificação das saídas pode ser consultada na Tabela 8. 



 

86 

 

 

Figura 70 - Exemplos da função de escrita nos portos de saída s digitais 

 

Outputs[0] Outputs[1] Outputs[2] 

T
B

5
 

O
U

T
7

 

R
E

L
 

G
A

S
_

2
 

G
A

S
_

1
 

V
E

L
_

A
R

 

V
A

L
_

E
X

 

S
_

A
M

A
R

E
L

O
 

S
_

V
E

R
M

E
L

H
O

 

V
E

N
T

 

RA4 RA6 RC0 RC2 RD0 RD1 RB5 RD2 RD3 - - - - - - - RC1 

Bit 0 Bit 1 Bit 2 Bit 3 Bit 4 Bit 5 Bit 6 Bit 7 Bit 0 - - - - - - -  

Tabela 6 - Descodificação das saídas 

 O primeiro byte da matriz Outputs representa: duas saídas de reserva com o TB5 

e OUT7, a comutação de relé da PCB, abertura de válvula de gás 2, abertura da válvula 

de gás 1, abertura da válvula de ar comprimido, abertura da válvula de exaustão e o 

sinalizador amarelo. O segundo byte apenas é usado o primeiro bit, que corresponde ao 

sinalizador vermelho. O último byte contém o valor com que é iniciado o PWM, 

responsável pela velocidade das ventoinhas.  

Se a UART estiver disponível para escrever, é enviada uma matriz de 18 bytes 

com as leituras das portas analógicas e entradas através da função do MikroC, 

“UART1_Write()”, Figura 71. A posição das variáveis enviadas pela UART pode ser 

consultada na Tabela 9. 



 

87 

 

 

Figura 71 – Firmware, envio dos Bytes pela UART 

 

 

 

Matriz enviada pela CGAS 

P
R

E
S

_
A

 

P
R

E
S

_
B

 

V
E

L
O

_
A

R
 

R
H

 

T
E

M
P

 

C
O

_
2

l 

C
O

_
2

H
 

L
P

G
_

2
l 

L
P

G
_

2
H

 

A
D

C
1

 

A
D

C
2

 

A
D

C
_

D
E

T
 

C
O

_
1

l 

C
O

_
1

H
 

L
P

G
_

1
L

 

L
P

G
_

1
H

 

In
p

u
ts

 

2
5

5 

B
y

te
 0

 

B
y

te
 1

 

B
y

te
 2

 

B
y

te
 3

 

B
y

te
 4

 

B
y

te
 5

 

B
y

te
 6

 

B
y

te
 7

 

B
y

te
 8

 

B
y

te
 9

 

B
y

te
 1

0
 

B
y

te
 1

1
 

B
y

te
 1

2
 

B
y

te
 1

3
 

B
y

te
 1

4
 

B
y

te
 1

5
 

B
y

te
 1

6
 

B
y

te
 1

7
 

Tabela 7 - Descodificação dos bytes enviados pelo firmware 

Por segurança, foi adicionada uma função em que, caso se perca a comunicação 

com o computador por algum tempo, o firmware desativa todas as saídas. Sempre que o 

programa recebe e envia dados é reiniciada a variável y, que em caso contrário é 

incrementada. Quando atingir o valor de 100.000 ciclos, o que representa 

aproximadamente 10 segundos, o firmware sai do ciclo de espera, reinicia a variável 

outputs e chama a função “WriteOutputs()” para alterar o estado das saídas, como se pode 

ver na Figura 72. 

 

Figura 72- Firmware - espera de comunicação 



 

88 

 

5.2. Aplicação CGAS no LabVIEW 

O LabVIEW é um software de programação gráfica dedicado a criar e codificar 

sistemas de engenharia. Este software é um produto da National InstrumentsTM, mas 

permite operar com outros softwares de desenvolvimento ou plataformas de fonte aberta 

[22]. 

A linguagem de programação gráfica (linguagem G), especialmente criada para 

engenheiros e cientistas, permite a integração de qualquer dispositivo de hardware. A 

programação é feita através da ligação por fios entre ícones gráficos, que depois é 

compilada diretamente em código máquina. Esta programação tem os mesmos conceitos 

usados nas linguagens de programação tradicionais, conceitos como loops, cases, 

variáveis de entrada e saída, etc. O código gráfico é mais fácil de compreender e de 

depurar. O LabVIEW oferece uma ferramenta de depuração onde é possível ver os 

movimentos dos dados pelos fios e ícones, sendo possível acompanhar visualmente a 

passagem dos dados entre funções. O código está constantemente a ser analisado pelo 

compilador, que não deixa executar o programa se houver erros e apresenta uma análise 

da aplicação para mais fácil resolução.  

O LabVIEW aproveita as capacidades de desempenho dos processadores sem 

necessidade de o programador se preocupar com esses recursos, como é o caso do 

paralelismo. Em caso de funções que usam tarefas paralelas, o programa pode tirar partido 

dos processadores multicore para executar as tarefas em paralelo. Na programação é 

possível, além da linguagem G, usar linguagem texto com a fórmula “Node”, onde podem 

ser escritas Equações matemáticas e expressões em texto similares à linguagem C. Apesar 

de ter uma linguagem de alto nível, o LabVIEW afirma ter desempenho comparável ao 

de linguagens como a C. 

Para a construção de um programa no LabVIEW são utilizadas duas janelas, o 

Painel Frontal e o Diagrama de Blocos. O Painel Frontal consiste numa interface com o 

utilizador, ambiente gráfico onde são representados elementos como botões, indicadores 

e gráficos. A construção e ligações entre os ícones são feitos na janela Diagrama de 

Blocos, são estes ícones ou blocos usados que formam os indicadores, botões, etc., no 

Painel Frontal.  Estas duas janelas são gravadas num ficheiro chamado de instrumentos 

virtuais (VI), que pode ser convertido num executável para criar uma aplicação.  



 

89 

 

Aproveitando as vantagens acima descritas e algum conhecimento prévio do 

LabVIEW, este foi o software escolhido para o desenvolvimento da aplicação CGAS, que 

controla todo o processo. 

A aplicação pode ser dividida em três grandes blocos apresentação, teste e 

descontaminação. A apresentação representa a informação de todas as variáveis 

atualizadas antes do teste (as condições iniciais). É esta informação que dá origem ao 

painel frontal - o interface para o utilizador. O teste, bloco de maior importância, é a fase 

em que a aplicação altera e monitoriza o estado dos atuadores da câmara, à espera de um 

determinado resultado para concluir o teste. Depois de atingidos um dos resultados 

esperados, inicia-se a fase final de descontaminação da câmara, com alteração dos estados 

dos atuadores e monitorização até as condições finais serem obtidas Figura 73. 

 

Figura 73 – Labview, fluxograma geral da aplicação CGAS 

Apresentação

Inicio

Não

Sim

Condições iniciais

Sim

Teste concluído 

Não

Registo

TESTE

Sim

Não

Condições finais

Sim

Descontaminação

Não



 

90 

 

No Block Diagram do LabVIEW, o fluxograma é aplicado usando três tipos de 

estruturas: While Loop, Case Structure e Flat Sequence Structure. Na Figura 74 estão 

representadas as estruturas e a sua hierarquia, no topo da qual está um While Loop sem 

condição de paragem. Dentro deste e ao mesmo nível existe mais um While Loop e um 

Case Structure.  

O segundo While Loop está constantemente a apresentar os valores da CGAS 

atualizados, a condição de saída do While Loop valida a entrada na Case Structure. Dentro 

desta estrutura, encontra-se um Flat Sequence Structure com 13 frames, dentro destas 

sequências estão as etapas necessárias à realização do teste. O Case Structure dentro da 

sequência tem como objetivo só executar a próxima etapa no caso da anterior completar 

todos os objetivos. De forma idêntica funciona a descontaminação, mas neste caso o 

objetivo é a ausência de gás dentro da câmara. 

Como se pode verificar pela estrutura da aplicação na Figura 74, a aplicação 

inicia-se dentro de um While Loop da apresentação. Quando estiverem reunidas as 

condições necessárias para iniciar o processo do teste, habilita a Case Structure e executa 

a sequência. Duas sequências contém um Case Structure e um While Loop, que são o 

teste e a descontaminação. Em ambos os casos, esperam que determinadas condições 

sejam atingidas antes de continuar para a próxima tarefa. 

 

Figura 74 – LabVIEW – estruturas e aplicação do fluxograma 

Na apresentação das variáveis, a aplicação questiona a PCB CGAS e a central 

JUNIOR a cada segundo. Os blocos intervenientes nesta parte da aplicação encontram-se 

dentro de um ciclo while, que só termina com o início do teste e com a condição de não 

ser detetada fuga de gás depois realizadas 60 interações do ciclo while (que corresponde 

a 60 segundos de execução da aplicação). Os 60 segundos destinam-se à estabilização dos 



 

91 

 

sensores de gás. Destas condições resulta um valor booleano que é condição de uma Case 

Structure, que em caso verdadeiro liga o sinalizador vermelho e apresenta a mensagem 

de erro. Da Case Structure sai o sinal booleano que permite ou bloqueia o início do teste: 

este sinal também é condição para habilitar as sequências seguintes da aplicação, Figura 

75. 

 

Figura 75 – LabVIEW - bloco diagrama, condição de iniciar o teste. 

A interrogação à central de deteção de incêndio JUNIOR é feita através de 

comunicação série entre o computador e a central. Para utilizar comunicação série no 

LabVIEW é usado o bloco de configuração VISA Configure Serial Port VI onde são 

definidas as caraterísticas da porta com número de bits, paridade, baud rate e o número 

da porta a utilizar. A escrita e leitura da porta série são realizadas pelas funções VISA 

Write Function e VISA Read Function respetivamente. A escrita e leitura são no formato 

de string, na função de leitura está definido o número de bytes a receber, Figura 76.  

 

Figura 76 - LabVIEW - blocos de diagrama, comunicação série com a JUNIOR 

Para a central JUNIOR é enviada uma string em hexadecimal com o valor “92 01 

01 01 15”. Este código representa no protocolo de comunicação Odyssey da JUNIOR uma 

interrogação sobre o estado do detetor. A resposta é feita pelo envio de 3 bytes, em que o 

primeiro byte é o valor analógico do detetor. Para descodificar a informação contida na 

string foi constituído o “SubVI ler bit”; um “SubVI” consiste num VI utilizado dentro de 



 

92 

 

outro VI, este tem como objetivo melhorar a organização do programa ou a repetição de 

conjuntos de blocos. 

 

O “SubVI ler bit” tem como entrada um array de 8 bits, o número do byte a ler, o 

primeiro bit a ser lido e quantos bits são, como se pode ver na Figura 77.  

Do byte array é selecionado o byte a ser descodificado, de seguida byte é convertido para 

um array booleano. Para selecionar o primeiro bit a ser lido, o array é rodado para a 

direita o número de vezes que corresponde à posição do bit, ficando este na primeira 

posição do array. Em paralelo é criado um array booleano com todos os 8 bits a 1, este 

array é rodado para a direita conforme a quantidade e bits que devem ser lidos, pela 

operação = ? + . Depois, os dois array booleanos são convertidos em 
valores numéricos e realizada uma operação AND entres os dois, o resultado é um valor 

numérico dos bits lidos.  

 

Figura 77 – LabVIEW - Diagrama de Blocos “SubVI ler_bit” 

Exemplo, considerando o byte “10110010”, vão ser lidos 3 bits começando no terceiro.  

O byte é rodado três posições para a direita ou seja -3, onde fica “00010110”, 

paralelamente é criado o byte “11111111” este é rodado -5 posições (-8+3), “00000111” 

aplicando a operação AND aos dois bytes o resultado fica “00000110”. 

A interrogação à PCB CGAS usa conjuntos de blocos de comunicação série iguais 

aos usados na comunicação com a central JUNIOR, mas com diferente tratamento da 

informação enviada e recebida. O envio da informação é feito através do SubVI “Enviar” 

que agrega as variáveis da aplicação em três bytes e envia pela porta série. No array da 



 

93 

 

leitura estão conectados vários SubVI’s com a função de descodificar a informação 

recebida, Figura 78.  

 

Figura 78 – LabVIEW - Diagrama de Blocos, comunicação série com PCB CGAS. 

O SubVI Enviar tem como entradas 12 variáveis e como saída uma string. As 

entradas são: TB5, OUT7, REL, VENT, VELO_AR, GAS_2, GAS_1, VAL_AR, 

VAL_EX, S_VERMELHO e S_AMARELO. Estas variáveis representam um bit com a 

exceção da VELO_AR, que representa um byte. A função do SubVI Enviar é organizar a 

string para envio. O primeiro byte contém a informação sobre o estado das variáveis: 

TB5, OUT7, REL, GAS_2, GAS_1, VAL_AR, VAL_EX, S_VERMELHO. O segundo 

contém apenas a da variável S_AMARELO; o terceiro byte o valor do duty cycle do PWM 

das ventoinhas; e no final o quarto byte da string contém o valor de 255, confirmação do 

final da comunicação.  

As variáveis que são representadas e manipuladas na aplicação como uma variável 

booleana, no “SubVI Enviar” são convertidas para um valor binário de 0 ou 1, de seguida 

convertido para um array booleano, onde este é rodado para a esquerda conforme a 

posição que o bit ocupa no byte. A estes bytes com os bits das variáveis ordenados é 

aplicada a função OR, o array booleano resultante é convertido em numérico e aplicado 

num bloco de construção de array. A este bloco junta-se o segundo byte com a variável 

S_AMARELO, o terceiro com VELO_AR e o quarto com o valor de 255. O envio do 

terceiro byte VELO_AR está condicionado pela variável booleana VENT. Finalmente os 

bytes são convertidos num array e convertidos em string para serem enviados, Figura 79.  



 

94 

 

 

Figura 79 – LabVIEW - Diagrama de Blocos, SubVI Enviar 

O “SubVI Ler_in” apenas contém 5 SubVI “ler bit” a descodificar os bits do byte 

16 recebido, onde contém a informação do estado das entradas da CGAS. O bit é 

convertido para variável booleana pela condição “maior que 0”. As variáveis obtidas são: 

IN4, IN_PORTA, VAL_C, VAL_O e IN5, Figura 80. 

 

Figura 80 – LabVIEW - blocos diagrama, “SubVI Ler_in” 

Os restantes SubVIs conectados no array de leitura da porta série PCB CGAS 

selecionam um ou dois bytes e aplicam as Equações de conversão do respetivo transdutor. 

Estes SubVIs são: PRES_A, PRES_B, VELO_AR, RH_F, TEMP_F, CO2_F, LPG2_F, 

ADC1_F, ADC2_F, ADC_DET_F, CO_F e LPG_F. 

Dado que estes SubVIs apenas aplicam as operações matemáticas descritas na 

secção 4.2. dos transdutores, é descritor em pormenor como exemplo o SubVI CO_2, 

Figura 81. Como descrito na secção 5.1, o valor de leitura dos sensores de gás é envido 

em 2 bytes, o SubVI seleciona os dois bytes neste caso 5 e 6 do array, e junta-os através 

do bloco Join Numbers Function. Ao número completo de 10 bits é aplicada a fórmula 



 

95 

 

para o transdutor de CO, como a relação do valor analógico para Volts, como se pode 

verificar na seguinte equação: 

 = (?? ? ó??? ? ? ) ?  (27) 
 

 

Figura 81 – LabVIEW - blocos de diagrama, SubVI CO_2_F. 

O último byte recebido, o 17, é um byte de confirmação de comunicação que 

permite ao utilizador visualizar através de um sinalizador o estado da comunicação, cujo 

valor deve ser sempre 170. Através do bloco de índice do array e seccionado o byte 17 e 

comparado com o valor 170, o resultado é uma variável booleana que dá origem a um 

sinalizador, verde ou vermelho conforme o valor seja verdadeiro ou falso respetivamente, 

Figura 82.   

 

Figura 82 – LabVIEW - bloco diagrama, fim da comunicação série PCB CGAS. 

Com o pressionar do botão Iniciar, como descrito anteriormente na Figura 74, a 

aplicação sai do While Loop e entra na primeira frame da sequência, que simplesmente 

reinicia as variáveis do último teste (como os gráficos, os valores de concentração de gás 

atingidas, as mensagens e liga a sinalização de início de teste - a sinalização amarela). 

A segunda frame da sequência confirma a presença do detetor em teste na câmara, 

esta confirmação é obtida pela interrogação à central de deteção de incêndios JUNIOR. 

Mais uma vez é usado o protocolo de comunicação Odyssey, quando enviado o comando 



 

96 

 

“92 01 01 15” são obtidos os três bytes de resposta. Nos 3 primeiros bits do segundo byte 

está a informação correspondente ao tipo de dispositivo, neste caso como é utilizado um 

ZMU (Zone Monitoring Unit), o valor correspondente será 4. A condição de validação 

desta sequência é ser maior ou igual a 4, para reconhecer os restantes tipos de detetores 

como o caso do ótico e do térmico com valores de 5 e 6.  

No caso de não ser reconhecido pela aplicação nenhum detetor, é apresentada uma 

mensagem de “detetor ausente” e terminado o teste, caso contrário, depois de aguardar 

um segundo, a aplicação entra na sequência seguinte, como se pode verificar na Figura 

83. 

 

Figura 83 – LabVIEW - blocos digrama, segunda sequência 

As condições iniciais para a realização do teste são confirmadas na terceira frame 

, Figura 83). Dentro desta frame e em todas frames que exijam a leitura ou escrita na porta 

série, é repetido o conjunto de blocos da comunicação série correspondente à porta, PCB 

CGAS ou JUNIOR, Figuras 76 e 78. 

As variáveis são comparadas com os intervalos definidos, resultando dessa 

comparação uma condição verdadeira ou falsa. Esta condição é entrada da Case Structure. 

Se a condição for verdadeira, dentro do Case Structure está uma constante booleana 

verdadeira, se a condição for falsa está uma mensagem com o nome da condição que 



 

97 

 

falhou. No caso de mais que uma condição falhar, as mensagens em formato string são 

agregadas pelo bloco Concatenate Strings Function e apresentadas na variável local 

INFORMAÇÃO. Se todas as condições forem verdadeiras, depois da operação AND o 

resultado da operação continua verdadeiro e valida a entrada na próxima sequência. As 

condições são: 

- Porta fechada:   ?? ?? ?? ?? ?? ?? ?? = ; 
- Temperatura: &amp;lt;&amp;lt;; 
- Humidade: &amp;lt;&amp;lt;; 
- Presença de LPG: ; 
- Presença de CO: ; 
- Ar comprimido:  ; 
- Pressão atmosférica da câmara: , &amp;lt; &amp;lt;, . 
Esta frame tem um tempo de espera de 1 segundo, e aspeto de acordo com a Figura 

84. 

 

Figura 84 – LabVIEW - blocos digrama, terceira sequência. 

 



 

98 

 

A quarta frame altera a variável local VAL_EX para verdadeira, e apresenta a 

mensagem “FECHAR VÁLVULA” na INFORMÇÃO, ou seja, é enviada a informação 

para a PCB CGAS de modo a fechar a válvula de exaustão, Figura 85.  

 

Figura 85 – LabVIEW - bloco diagrama, quarta frame. 

Para a confirmação do fecho da válvula é necessário esperar alguns segundos para 

que a mesma complete o movimento. Esta é a função da quinta frame, que aguarda 3 

segundos para que na próxima, a sexta frame, sejam atualizados os estados da CGAS 

através do grupo de blocos de comunicação série que se pode ver na Figura 75.  

É na sétima frame que é feita a confirmação do fecho da válvula e por questões de 

segurança é verificado o estado da porta. Se ambas as condições se verificarem, é 

habilitado o próximo Case Structure. Caso contrário, é apresentada a mensagem 

correspondente ao erro na variável INFORMAÇÃO e é terminado o teste, Figura 86. 

 

Figura 86 – LabVIEW - blocos de diagrama, confirmação de válvula exaustão 

fechada. 

Depois do fecho da válvula de exaustão na oitava frame, são ligados o sinal 

amarelo e as ventoinhas. Repetem-se nesta frame os blocos de confirmação do fecho da 

porta e válvula de exaustão da Figura 86, bem como da comunicação série PCB CGAS. 

A próxima frame da Flat Sequence Structure, a décima, é a mais importante de 

toda a aplicação, é a frame onde é realizado o teste. Como observado na Figura 74, esta 



 

99 

 

frame contém um While Loop dentro da Case Structure, que é executado a cada segundo 

e termina quando se verificam as seguintes condições: 

- Tempo máximo do teste atingido, antes da aplicação entrar no While Loop  é 

iniciado o bloco Tick Count (ms) Function, que fornece o tempo em 

milissegundos. Dentro do While Loop é iniciado outro bloco Tick Count (ms) 

Function, ao qual é subtraído o valor do primeiro, sendo o resultado o tempo em 

milissegundos do início do teste, Figura 86. Depois desta operação, o valor em 

milissegundos é dividido por 1000, ficando o tempo em segundos. É este valor em 

segundos que vai ser comparado com o tempo que o utilizador definiu como 

máximo do teste. Do bloco Greater Or Equal resulta a condição de verdadeiro 

quando o tempo máximo é igual ao decorrido. Esta condição vai ativar o STOP e 

uma Case Structure com a mensagem de “TEMPO MÁXIMO ATINGIDO”. 

O tempo do teste decorrido é apresentado no painel frontal da aplicação no 

formato H:M:S, sendo para isso utilizado o bloco Format Date/Time String 

Function, como se pode ver na Figura 87; 

 

Figura 87 – LabVIEW - Diagrama de Blocos, tempo do teste. 

 

- Valor analógico do detetor atingido é a informação que o detetor entrou em 

alarme. Uma vez que o detetor atingiu o objetivo, o teste pode ser terminado. O 

valor de um detetor em alarme reportado pelo ZMU é 64, a informação do valor 

analógico do ZMU vem do conjunto de blocos de comunicação série com a 

JUNIOR presente neste While Loop, assim como os blocos de comunicação com 

a PCB CGAS, Figura 88; 



 

100 

 

 

Figura 88 – LabVIEW - blocos de diagrama, detetor em alarme 

- Porta aberta, o fecho da porta também é monitorizado durante o teste; 

- Válvula de exaustão aberta, se por algum motivo a válvula de exaustão se 

mover durante o teste, este é interrompido; 

- Fugas de gás, se os sensores instalados na caixa que alberga as garrafas de gás 

ultrapassarem o valor definido, o teste termina e as válvulas de gás são fechadas. 

Os valores definidos foram de 5 ppm para o CO e 100 ppm para o LPG, Figura 

89; 

- Falta de comunicação, se a variável local “COMUNICAÇÃO” for falsa, o teste 

termina. 

Quando se verificam as quatro últimas condições para o término do teste, estas 

ligam o sinalizador vermelho, dado que são consideradas como um erro no processo.   

 

Figura 89 – LabVIEW - Diagrama de Blocos, condições de fim de teste. 

 



 

101 

 

A admissão dos gases é controlada pela comparação do valor do gás obtido pelos 

SubVI CO_F e LPG_F com o valor máximo programado pelo utilizador. Enquanto o 

valor de leitura dos gases não ultrapassa o valor máximo, da condição menor ou igual 

resulta a condição verdadeira que habilita o Case Structure na condição True. Neste Case 

Structure as válvulas dos gases são abertas conforme o tipo de gás selecionado no início 

do processo. A escolha do gás CO ou LPG corresponde a definir a variável local T_GAS 

como verdadeira ou falsa e conforme essa condição assim são ativadas as válvulas GAS_1 

ou GAS_2, como se pode ser na Figura 90, à esquerda. 

 

Figura 90 – LabVIEW - blocos digrama, abertura e fecho dos gases. 

Quando os valores máximos dos gases são atingidos é obtida a condição falsa da 

comparação, no Case Structure a condição False altera as variáveis locais GAS_1 e 

GAS_2 também para falso, o que leva ao fecho das válvulas dos gases. Em ambas as 

condições do Case Structure são envidas mensagens para a variável local 

INFORMAÇÃO com o estado das válvulas.  

Os três gráficos do painel frontal (GRÁFICO LPG, GRÁFICO CO, GRÁFICO 

DETETOR) são atualizados de cada vez que é executado o While Loop pelos blocos da 

Figura 91. 

 

Figura 91 – LabVIEW - Diagrama de Blocos, atualização gráficos. 

Na décima primeira frame REGISTO, os valores das variáveis CO, LPG, 

AN_DET são registadas nas variáveis CO FINAL, LPG FINAL e AN DETETOR 

FINAL, respetivamente. É nesta frame que no caso de os gases não atingirem o seu valor 



 

102 

 

máximo e o teste terminar por atingir o tempo máximo programado, que as válvulas são 

fechadas, atribuindo o estado falso às variáveis GAS_1 e GAS_2, Figura 92. 

 

Figura 92 – LabVIEW - blocos de diagrama, frame registo. 

A próxima frame, ABRIR VÁLVULA EX. tem como objetivo abrir a válvula de 

exaustão, para a sua abertura e atualização de todas a variáveis obtidas da PCB_GAS, é 

repetido nesta frame o conjunto de blocos da comunicação série com a PCB_GAS. A 

variável VAL_EX é alterada para o estado falso e é adicionado um tempo de espera de 2 

segundos, Figura 93. 

 

 

Figura 93 - LabVIEW - Blocos de Diagrama, frame abrir válvula EX 

A frame DESCONTAMINAÇÃO, como o nome indica, descontamina a 

atmosfera da câmara com a introdução de ar comprimido. Num While Loop a variável 

local VAL_AR é alterada para o estado verdadeira, o que provoca a abertura da válvula 

do ar comprimido. Este é introduzido até que a concentração dos gases atinja um valor de 

10 ppm no caso do CO e 100 no LPG. Enquanto estes valores não são atingidos, é 

apresentada a mensagem AGUARDE na variável INFORMAÇÃO. Existem mais duas 

condições que podem terminar o While Loop: a abertura da porta e o fecho da válvula de 

exaustão. Qualquer uma delas, se ativada, exibe uma mensagem de erro e liga o 

sinalizador vermelho, Figura 94.  



 

103 

 

 

Figura 94 – LabVIEW - Diagrama de Blocos, frame DESCONTAMINAÇÃO 

 

Na penúltima frame, PARAGEM, as variáveis VAL_AR, S_AMARELO e VENT 

são alteradas para o estado falso, repondo o estado inicial destas variáveis. Se o detetor 

em teste entrou em alarme, a central de deteção de incêndios JUNIOR também se encontra 

em estado de alarme. Para restabelecer para o estado ativo, é necessário fazer a reposição 

do sistema de incêndio. Para isto acontecer, é preciso silenciar as sirenes (que neste caso 

não estão instaladas), utilizando o protocolo Odyssey é enviado o comando 82 01 03 em 

hexadecimal pela porta série, desabilitando as saídas das sirenes na JUNIOR. Como não 

existe resposta a este comando por parte da central JUINOR, é só usado o comando VISA 

Write Function, como se pode ver no canto superior esquerdo da Figura 94. 

Por fim a frame REGIST - é nesta frame que é tomada a decisão quanto ao 

resultado do teste. Se o valor analógico do detetor atingiu o valor de alarme durante o 

teste, o detetor é considerado APROVADO. Essa informação é obtida pela variável 

DETETOR, que no caso de verdadeira, além de um retângulo verde, contém a mensagem 

APROVADO no seu interior. Caso contrário o retângulo apresenta-se da cor vermelha, 

com a mensagem REJEITADO. 

Para registo do teste é impresso o painel frontal onde estão representados todos os 

dados relevantes do mesmo. Para identificar a impressora selecionada por defeito no 



 

104 

 

computador é utilizado o bloco Property Node com a referência da aplicação e a 

propriedade “Printing:DefaultPrinter”. Já a impressão é realizada pelo bolco Invoke Node 

com o método Print:Panel To Printer Method, que imprime o painel frontal do VI 

selecionado pelo bloco This VI. Ainda dentro desta frame, mas fora do Case Structure, é 

alterado o estado de duas variáveis INICIAR e ESTADO DO TESTE, Figura 95. 

 

Figura 95 – LabVIEW - Diagrama de Blocos, frames PARAGEM e REGISTO. 

 

A programação no Diagrama de Blocos acima descrita dá origem ao Painel Frontal 

da Figura 96. No topo do Painel Frontal estão representados os três gráficos descritos na 

Figura 88 da frame do TESTE, onde são apresentados em ambiente gráfico os valores das 

concentrações de CO e LPG durante o teste. À esquerda do painel encontramos as 

condições ambientais da câmara que se podem resumir às variáveis lidas pelo conjunto 

de blocos da comunicação série com a PCB_CGAS, visto na Figura 78, atualizadas 

sempre que o conjunto é utilizado no decorrer do programa. 

Por baixo das condições ambientais temos as configurações da impressão, no 

indicador é identificada a impressora selecionada. Esta mensagem só é apresentada depois 

dos blocos da Figura 94 serem utilizados. Adjacente encontramos as janelas do controlo 

dos offsets dos sensores de gás, em que através destes controladores é possível ajustar o 

valor inicial dos transdutores de gás. Também na parte inferior do painel frontal 

encontram-se as portas série, são duas janelas para selecionar o número da porta série que 

faz a comunicação com a CGAS e a JUNIOR - estas janelas correspondem aos blocos 

descritos nas Figura 76 e 78.  



 

105 

 

 

Figura 96 – LabVIEW - Painel Frontal 

Os parâmetros do teste definidos pelo utilizador vão ser usados nas suas 

definições, observadas nas Figuras 87 e 90. A velocidade do ar também é um parâmetro 

do teste introduzido pelo utilizado - na barra escolhe-se um valor entre 0 e 254 e nas 

condições ambientais pode verificar-se a velocidade correspondente, e assim ajustar ao 

pretendido. 

O estado do teste representa a variável com o mesmo nome vista na Figura 95, 

quando verdadeira é representada pela cor verde com a mensagem “PARADO”, no caso 

oposto a cor é vermelha e a mensagem “EM TESTE”. 

Na janela INFORMAÇÃO são apresentadas as mensagens enviadas durante o 

teste para a variável como o mesmo nome. 

Ao centro do painel frontal, dentro de uma moldura é apresentado o 

RESULTADO DO TESTE, os valores finais das concentrações obtidas na frame 

REGISTO da Figura 92, o tempo do teste e o indicador da variável DETETOR, Figura 

94. 

As saídas de reserva da PCB CGAS podem ser ativadas pelo utilizador usando os 

botões TB5, OUT7 e REL em SAÍDAS DISPONÍVEIS. 



 

106 

 

Também as entradas analógicas de reserva podem ser lidas em OUTRAS 

LEITURAS, onde também se encontram o valor analógico do detetor e as leituras dos 

sensores de fugas de gases.  

No canto superior direito do Painel Frontal estão representados os sinalizadores, 

VERMELHO, AMARELO e VERDE, por ordem descendente. Quando as variáveis são 

falsas, apresentam a cor cinza e quando verdadeiras a cor que corresponde o nome.  

Por baixo dos sinalizadores está situado o botão de escolha do tipo de gás a ser 

utilizado no teste. Este botão corresponde à variável T_GAS vista na Figura 90 da frame 

TESTE. 

Ainda do lado direito, situam-se os botões INICIAR e STOP que correspondem 

às variáveis com o mesmo nome que podem ser vistas na Figura 76. 

Por fim, é possível observar dois grupos de identificadores, ENTRADAS DO 

PROCESSO e SAÍDAS DO PROCESSO, em que é possível verificar o estado das 

variáveis de entrada e saída como o próprio nome indica.  

Depois do VI terminado, para criar uma aplicação é necessário criar um projeto, 

neste é adicionado o VI inicial e mais algumas informações como o ícone da aplicação. 

No separador Dependencies são carregados automaticamente os SubVI’s. É no separador 

Build Specifications que se iniciam as configurações da aplicação, Figura 97. 

 



 

107 

 

 

Figura 97 – LabVIEW - Project Explorer 

Depois de configuradas algumas informações como o nome e a localização, para 

gravar a aplicação é criado o ícone com o executável, como o da Figura 98. Para abrir a 

aplicação é necessário ter instalado no computador destinado os softwares LabVIEW 

2015 Run-Time Engine e NI-VISA, ambos da National Instruments 

 

Figura 98 - Ícone da aplicação CGAS 

  



 

108 

 

  



 

109 

 

 

 

 

 

6.  TESTES E ANÁLISE DA CGAS 
O funcionamento da CGAS foi sendo testado ao longo da montagem, conforme os 

sensores e transdutores eram instalados, uma vez que se trata de um protótipo. Depois de 

validadas as entradas e saídas que controlam o processo, foram realizados vários testes 

com o controlo da aplicação CGAS. Neste Capítulo são apresentados os resultados dos 

testes realizados, os custos do projeto e as oportunidades de melhoria. 

 

6.1. Detetores para o teste 

Para efetuar os testes e validar o funcionamento da CGAS, dado que ainda não se 

encontram em fase de teste os detetores para os quais a CGAS foi construída, foram 

utlizados detetores convencionais da GFE. Estes detetores dispõem de 4 terminais, dois 

são da alimentação (24V) e os outros dois são os contactos de um relé que aciona assim 

que o detetor entra em alarme. De modo a simular um detetor endereçável, este detetor 

foi ligado a um ZMU, que é um módulo que permite monitorizar uma zona de dispositivos 

convencionais por uma central endereçável, Figura 99. 

 

Figura 99 - Esquema de ligação do detetor com o ZMU 

Num sistema convencional de deteção de incêndio, é feita a monitorização dos 

dipositivos através da corrente de consumo, ou seja, quando os dispositivos entram em 

alarme o consumo aumenta permitindo a central identificar o estado de fogo. Assim, nos 



 

110 

 

contactos do detetor foi colocada uma resistência de 470?, quando aquele entra em 

alarme fecha o contacto, ligando a resistência aos terminais da zona do ZMU. Este 

interpreta a corrente que passa pelo circuito como fogo e, como o seu estado é 

monitorizado pela central endereçável, esta também entra em alarme. Assim é possível 

converter o detetor, que não tem qualquer protocolo de comunicação, num detetor 

“endereçável”. Nos terminais da zona existe também um condensador que representa o 

fim de linha. 

Na Figura 100, à esquerda podemos ver o ZMU montado numa base que serve 

para o detetor de CO e LPG, e à direita o conjunto já montado dentro da CGAS. 

 

Figura 100 - ZMU instalado na base do detetor 

A limitação desta configuração está nos valores obtidos pela central endereçável, 

pois só identifica dois estados: normal e fogo, ao contrário do detetor endereçável, em 

que é possível verificar o aumento progressivo da concentração de gás.  

Para o teste de LPG é usado o detetor NB-983LP, detetor destinado a 

monitorização de gás liquefeito de petróleo com ativação do alarme para uma 

concentração menos que de ? . Já para o CO é usado o NB-983CO, com uma 
sensibilidade de 100  em 90 minutos, 200  em 35 minutos e 400  em 15 
minutos. Ambos os detetores são comercializados pela GFE e os seus manuais podem ser 

consultados nos Anexos E e G. 

 



 

111 

 

6.2. Teste do sensor LPG 

O primeiro teste a ser efetuado foi o LPG, devido à sua disponibilidade no 

mercado e da rápida deteção por parte dos sensores. 

Antes do teste foi necessária a instalação da base do detetor e respetivas ligações. 

As ligações necessárias foram a alimentação (24V) e o laço da central JUNIOR - estas e 

outras ligações reservadas ao detetor estão disponíveis através da ficha DB15 instalada 

no centro da fixação da base.  

O passo seguinte é ligar a CGAS através do botão com chave e de seguida o 

computador. Posteriormente foi aberto o gás LPG e conectado o compressor. Após o 

detetor colocado na base, a porta é fechada para se dar início ao teste. A sequência 

completa e necessária para a realização de um teste pode ser consultada no manual de 

utilização da CGAS, no Apêndice 4. 

Antes de iniciar o teste é necessário introduzir ou confirmar as variáveis para o 

teste: 

- Escolher o tipo gás consoante o tipo de detetor a testar (neste caso o gás a testar 

é o LPG); 

- Escolher o valor máximo de concentração de LPG, uma vez que o fabricante 

informa que o detetor deve atuar a um valor de concentração inferior a ? . 
Considerando um LEL de 2% , ou seja 20000  , o detetor deve atuar antes de 
atingir uma concentração de 5000 ; 
- Sobre a variável tempo, não existe informação, pelo que este deve ser tal que 

permita a concentração dentro da câmara atingir as 5000 . Nesta fase foram 
considerados 5 minutos;  

-A velocidade do ar, em coerência com a norma do detetor de CO, ficou 

estabelecida nos .  / . 
Com a configuração dos parâmetros de teste feita, dá-se início ao teste - foram 

necessárias algumas tentativas e correções até obter um teste completo. A maioria as 

correções foram realizadas no LabVIEW, tendo sido necessárias algumas alterações 

como os estados das variáveis e nos blocos de comparação.  



 

112 

 

No firmware foi detetado um problema com as leituras analógicas, em que o valor 

da pressão atmosférica não correspondia ao que seria expectável. Este valor encontrava-

se sempre superior ao valor indicado pelo Instituto Português do Mar e da Atmosfera 

(IPMA). Foi verificado o valor da tensão de saída do sensor, que se encontrava correto, o 

que levantou dúvidas no hardware ou firmware. Após vários despistes verificou-se que o 

problema se encontrava no cálculo da média dos valores analógicos no firmware. A 

variável que continha o valor da média não era reiniciada antes de fazer novo cálculo, 

pelo que somava na leitura seguinte, aumentando o valor da média. 

Depois de resolvidos todos os problemas detetados, foi possível chegar ao final 

do teste com sucesso e o detetor foi aprovado, Figura 101. 

 

Figura 101 - Painel frontal teste detetor LPG  

 

6.3. Teste do detetor de CO 

Nas configurações do teste do detetor de CO foram alteradas as variáveis tempo, 

concentração máxima e o tipo de gás. Para desperdiçar o mínimo de CO nos testes, o teste 

foi configurado para um máximo de 200  e um tempo de 40 minutos. Como seria de 
esperar, não foram necessárias muitas correções, pois a sua maioria foi feita no teste do 



 

113 

 

detetor de LPG. No entanto foi detetado um problema com o regulador da garrafa de CO, 

mesmo assim foi possível concluir o teste, como se pode ver na Figura 102. 

O primeiro regulador escolhido pelo custo e simplicidade foi um regulador de taxa 

de fluxo precisa de ?  . O problema não se encontrava na taxa de fluxo, mas na 
pressão: a garrafa tem uma pressão inicial de 70bar, apesar da taxa de fluxo ser baixa. A 

pressão da garrafa vai equalizar com a tubagem, uma vez que a válvula do gás está 

fechada, a tubagem e equipamento de controlo não suportam 70bar de pressão. Esta 

situação levou a que houvesse fugas de CO. Para corrigir esta situação, foi necessário 

comprar um novo regulador capaz de reduzir a pressão de 70bar para 1,5bar. 

Este novo regulador dispõe de dois manómetros de pressão, um para a pressão da 

garrafa e um segundo para a pressão de saída; assim é possível saber a quantidade de CO 

disponível na garrafa e ao mesmo tempo controlar a pressão de saída do gás, Figura 103.  

 

Figura 102 - Painel frontal - teste do detetor de CO 

 



 

114 

 

 

Figura 103 - Regulador de pressão LM52-6-L-100-1,5 

6.4. Compatibilidade com a norma EN54-26  

A CGAS foi desenhada e construída de forma a estar preparada para realizar os 

testes do Anexo G da norma EN54-26. Neste capítulo é feita uma análise do cumprimento 

esses objetivos. Para esta análise são revistas as funcionalidades da câmara de teste da 

EN54-26 e a sua aplicação pela CGAS.  

• Volume da câmara de 0,05m3 a 0,1m3, com circuito fechado de circulação e 

estanque.  

? O volume da CGAS é aproximadamente de 0.08 m3. 

• Fluxo de ar linear com velocidade de 0,2 ± 0,04 m / s e 1,0 ± 0,2 m / s, o detetor 

deve estar afastado 20 mm das laterais. 

? O fluxo é linear, com velocidade variável de 0 a 0.6 m / s, o detetor encontra-

se afastado mais que 20mm das laterais. 

• Dimensões de modo a permitir a colocação da câmara de teste dentro de uma 

câmara climática, de modo a permitir o controlo da temperatura na proximidade 

da amostra, com uma variação não superior a 1K/min de -10ºC a +55ºC. 

? As dimensões da CGAS permitem a sua colocação dentro de uma câmara 

climática, porém isso não foi testado, nem se a variação da temperatura é 

possível. 

• A concentração do CO deve ser feita na proximidade do detetor. 

? Os sensores de gás estão instalados numa linha reta e o mais próximos possível 

do detetor. 



 

115 

 

• O instrumento de medição de CO na câmara de teste de gás deve ter um erro 

inferior 1ppm ou 5% (o que for maior), o tempo de resposta de 90% do 

instrumento (T90) não deve exceder os 10s. 

? O erro do sensor utilizado na medição é menor que 5%, no que diz respeito ao 

tempo de resposta (T90) a informação do datasheet é menor que 30 segundos, 

porém nos testes realizados esse valor não foi provado. 

• Taxa de introdução linear com duas rampas de 1ppm/min e 6ppm/min. 

? Foi realizado um teste à rampa de 6ppm/min, e o resultado foi satisfatório, 

para a rampa de 1ppm/min, não foi realizado nenhum teste. 

• Meios para manter a pressão dentro da câmara perto da pressão atmosférica. 

? Não contemplado. 

6.5. Custos do projeto CGAS 

Os custos do projeto CGAS foram de 2965,13€, não contemplando a mão de obra 

e o software utilizado na sua elaboração – foram contabilizados apenas os materiais 

utilizados na construção (a sua discriminação encontra-se no Apêndice 4). Na Figura 104 

pode verificar-se os custos divididos por partes do projeto, que contemplam: a estrutura, 

o sistema pneumático, o sistema de admissão de gás, a alimentação da câmara e o 

controlo. Destacam-se o sistema de alimentação pelo baixo custo e o controlo pelo 

elevado custo no projeto. Era expectável que o controlo fosse a parte do projeto com 

maior custo, dado que é a mais importante. O elemento que mais contribuiu para os custos 

do controlo foi o computador. 

  

 

Figura 104 - Gráfico dos custos do projeto CGAS 

€ -

€ 500,00 

€ 1 000,00 

€ 1 500,00 

€ 2 000,00 

€ 2 500,00 

€ 3 000,00 

Estrutura pneumático S. Gás Alimentação Controlo Total

CUSTOS DO PROJETO CGAS



 

116 

 

6.6. Oportunidade de melhorias e correções na CGAS 

Com a conclusão do protótipo da CGAS é possível avaliar as opções tomadas seja 

no início ou durante o desenvolvimento do projeto. Neste capítulo são identificadas as 

melhorias e correções que se podem fazer ao projeto. 

Na construção da estrutura, como melhoria foram identificadas a porta e as caixas. 

A porta, apesar de cumprir todos os requisitos para a qual foi desenhada e construída, é 

um elemento com um tempo elevado de execução, no mercado existem algumas soluções 

standard que talvez possam ser aplicadas. As caixas usadas no alojamento do sistema de 

comando e controlo, pelo contrário, são um elemento reaproveitado que facilitou a sua 

aplicação, mas como é um produto construído para outra aplicação, pode deixar de ser 

fabricado. 

No hardware, a PCB CGAS tem como possível melhoria a comunicação com o 

computador, alterando a comunicação série de TTL para RS232, de modo a simplificar 

as ligações, ou alterar para USB.  

Na PCB CO, como correção, pode considerar-se a substituição do sensor por um 

que cumpra o tempo de resposta 9 &amp;lt;. 
 Por fim, ainda no hardware e concretamente na PCB LPG, como correção poderia 

adicionar-se um potenciómetro ao circuito, de modo a controlar o ganho e assim garantir 

a medição na faixa dos   . 
Uma correção em comum com a PCB GAS e o firmware, seria a possibilidade de 

controlar as válvulas de abertura dos gases pela segunda saída de PMW que o 

microcontrolador dispõe, e selecionar as válvulas através de um relé. Assim seria possível 

controlar a taxa de admissão dos gases, sem necessidade da intervenção do operador.  

Ainda no firmware, como oportunidade de melhoria, poderia reservar-se dois bytes 

para as restantes variáveis obtidas nas leituras analógicas, de modo a obter o máximo de 

definição. 

Devido ao risco que é manipular gases explosivos e tóxicos, e apesar de ter sido 

tido em conta esse risco na construção da CGAS, com os mecanismos de deteção de fugas, 

ainda é possível mitigar os riscos adicionando uma UPS (Uninterruptible Power Supply), 

de modo a que não se perca o controlo da câmara por falta de energia. O facto de a UPS 



 

117 

 

ser um elemento externo e de fácil aquisição, pode ser um requisito para a instalação da 

CGAS. 

No sistema de controlo e admissão dos gases, como visto anteriormente nos 

exemplos de câmaras de testes de gases do Capítulo 2, parte dos elementos usados na 

CGAS podiam ser substituídos por controladores térmicos de caudal mássico para gases, 

o que pode representar um aumento de 25% do preço de custo. Ou uma solução mais 

simples seria adicionar um medidor de fluxo de gases mecânico, para verificar 

instantaneamente a quantidade que gás que está a ser inserida na CGAS. Estas soluções 

para o controlo da admissão do gás são consideradas de melhoria, com mais prioridade 

em relação às restantes. 

Na aplicação CGAS (LabVIEW) há uma correção a fazer, que passa por garantir 

que a pressão dentro da câmara não aumente com a inserção dos gases: apesar de isso não 

se ter verificado durante os testes de CO e LPG, pode acontecer nos testes de exposição 

a agentes químicos. Esta implementação é fácil de fazer, basta que durante o teste, se a 

pressão aumentar, a válvula de exaustão seja aberta por um curto período de tempo. 

Como melhoria na aplicação, estão identificados os seguintes pontos: offset dos 

transdutores de gás, feedback das ventoinhas, tipo de detetor e ambiente gráfico. A 

possibilidade de ajustar o offset dos detetores de gás na aplicação deveria ser com acesso 

restrito, de modo a não haver enganos. No caso das ventoinhas, era mais prático o 

utilizador definir a velocidade desejada e a aplicação CGAS ajustar o valor de PWM, 

conforme a leitura feita no transdutor de velocidade do ar.  

Os módulos ligados a uma central de incêndio endereçável são distinguidos por tipo 

e esta distinção está disponível no protocolo de comunicação. No desenvolvimento dos 

detetores de CO e LPG, pode-se verificar qual a distinção entre os dois tipos e usar essa 

informação na aplicação para confirmar o teste a realizar, se é um teste de CO ou LPG. 

Por fim melhorar o ambiente gráfico, a interface com o utilizador contém a informação 

necessária, mas pode ter um melhor design. 

Na figura 105 podemos ver o aspeto final do projeto Câmara Automatizada Para 

Teste De Detetores de Gases.  



 

118 

 

 

Figura 105 - Aspeto final da CGAS 

  



 

119 

 

 

 

 

 

7.  CONCLUSÃO  
 

O Projeto CGAS partiu de uma necessidade da Global Fire Equipment ter um 

equipamento capaz de realizar testes em detetores de gases como o de CO e de LPG. 

Durante o planeamento, os objetivos sofreram alterações no que diz respeito à estrutura e 

equipamentos de controlo a utilizar. É também de realçar que durante o planeamento o 

orientador do projeto da GFE e responsável pelo desenvolvimento dos detetores de gases, 

terminou a sua colaboração com a empresa. Convicto da necessidade da sua existência e 

mais valia do projeto CGAS para a GFE, e para se poder terminar o projecto de Mestrado, 

decidiu-se avançar na mesma com a sua construção, assumindo as decisões e escolhas 

sobre o caminho a seguir para atingir o objetivo final proposto. 

A construção da Câmara Automatizada para Teste de Detetores de Gases, no que 

diz respeito à estrutura, teve vários planeamentos e tentativas de construção. Começou 

pelo planeamento da sua construção em perfil de alumínio técnico, de fácil construção e 

desenho, mas com sérios problemas em garantir a estanquicidade. Houve igualmente uma 

tentativa de usar um bastidor, em que apesar de se conseguir alguma estanquicidade 

depois de adaptado, a fixação dos elementos interiores e periféricos revelou-se de difícil 

adaptação à estrutura. A construção em acrílico, solução final, ainda passou por uma 

versão mais pequena para validar o conceito. O acrílico revelou ser o material mais 

apropriado à construção da CGAS por ser robusto, de fácil maquinação e com a vantagem 

de se poder colar, garantindo assim uma boa estanquicidade na montagem. Para a colagem 

é necessária alguma técnica e colas apropriadas para ficar perfeita, pois não é fácil garantir 

uma colagem perfeita em peças com grandes áreas de colagem (numa das tentativas, 

apesar de ficado uma ligação forte entre as superfícies, esteticamente não ficou 

apresentável). 



 

120 

 

Partes da câmara como a porta e o interior foram construídos em alumínio e foi 

bastante satisfatória a sua aplicação: de fácil construção, não necessita de pintura. Em 

relação ao interior da câmara, até se podia considerar ser construído em acrílico, mas a 

porta não, devido às forças que estão aplicadas nas dobradiças e barras. O uso do material 

alumínio na porta também pode trazer outra vantagem num teste que não foi realizado, a 

inserção da CGAS dentro de uma câmara climática, já que a boa condutividade térmica 

do alumínio pode garantir melhores resultados na taxa de variação da temperatura.  

Outro material utilizado para as peças mais complicadas foi o PLA usado na 

impressão 3D. O recurso à impressão 3D revelou-se uma mais valia para o projeto, trouxe 

a possibilidade de construir peças com alguma complexidade sem recurso a outras 

técnicas mais dispendiosas, A sua autonomia de execução, por não haver a necessidade 

da presença física durante a impressão, deixou mais tempo para dedicação a outras partes 

do projeto. Apesar da impressão 3D estar associada à prototipagem, como foi este caso, 

é uma opção a considerar numa nova construção da CGAS, talvez com um material mais 

resistente como o ABS. Um exemplo de peça impressa em 3D que cumpre bem o seu 

objetivo foi os filtros favos de mel. Porém, devido a um elevado tempo de impressão dos 

filtros, pode ser pertinente encontrar uma alternativa e adquirir os filtros já feitos em 

alumínio, solução que existe, mas que não é de fácil aquisição.  

O desenvolvimento de hardware dedicado à CGAS funcionou conforme o 

esperado, não foi detetado durantes os testes qualquer problema de fiabilidade. O facto 

de ter o processamento e acionamento todo num só PCB teve a vantagem de não se 

verificarem maus contactos e ligações perdidas. Isto simplificou bastante o circuito 

elétrico, o fácil diagnóstico e a substituição em caso de avaria. Além das melhorias 

descritas no Capítulo 4.12, a PCB CGAS é um elemento com condições para se poder 

continuar a utilizar.  

Os transdutores para o CO e LPG e também o hardware desenvolvido para a 

CGAS são parte fundamental do projeto, são estes que validam o objetivo principal do 

teste, a medição da concentração de gás. Com estes transdutores é possível fazer os testes, 

mas comparativamente com os exemplos de outras câmaras de testes de sensores de gás 

descritos no Capítulo 2, pode ficar a impressão que não se deu a necessária relevância 

que estes elementos fundamentais têm no teste. Mas, no caso do CO, o transdutor é 

calibrado e tem melhor amplitude de medição que o exemplo “Full-Automatic GAS 



 

121 

 

SENSOR EVALUATION EQUIPMENT”, em que a amplitude de medição é de ? . 
O firmware foi desenvolvido ao mesmo tempo que se faziam experiências, à 

medida que se testavam sensores e transdutores. Muitos dos sensores e transdutores foram 

substituídos ao longo do processo. Apesar de ainda poder haver melhorias no código, este 

encontra-se estabilizado e perfeitamente funcional e, tendo em conta o modo como está 

estruturado, facilmente se implementam alterações e acrescentam-se outras 

funcionalidades. 

A parte mais desafiante do projeto foi a programação no LabVIEW, apesar ser um 

software já utilizado anteriormente, não foi com o nível de complexidade da aplicação 

criada para a CGAS. O raciocínio transposto para os blocos de digrama é um pouco 

diferente da linguagem C, mas a programação em LabVIEW mostrou-se muito versátil e 

com muitos recursos. É por isso difícil ter uma noção de tudo o que se pode fazer com o 

LabVIEW, como tal reconhecesse que a programação podia estar mais simples e 

otimizada. 

Apesar de em alguns pontos a CGAS não cumprir com os testes da EN54-26 mas 

ser fácil a sua correção, é de lembrar que esse não foi o objetivo, mas sim uma melhoria 

que surgiu durante o desenvolvimento e que trouxe um rumo ao projeto, levando ao 

produto final. É sem dúvida uma peça importante na preparação dos detetores de gases 

para serem aprovados em laboratório acreditado, e aí sim com uma câmara que terá de 

cumprir na íntegra a EN54-26.   

O desenvolvimento e construção do projeto CGAS foi sem dúvida uma mais valia 

seja para a empresa GFE, que vai usufruir de um equipamento que permitirá realizar testes 

com rigor e segurança e obter bons resultados na certificação do produto, seja para 

experiência profissional e académica do mestrando. Foram várias as áreas estudadas e 

aplicadas durante todo o processo, como o desenho 3D, a fresagem CNC, a impressão 

3D, os microcontroladores, os sistemas pneumáticos, a química, a programação C, a 

programação LabVIEW.  

Todas estas aprendizagens fizeram com que entenda um pouco mais as máquinas 

e a automação, que por trás de todas a funções que aquelas executam de modo a 

simplificar e melhorar processos, está uma ideia, uma vontade. 

 



 

122 

 

  



 

123 

 

 

 

 

 

REFERÊNCIAS BIBLIOGRÁFICAS  

 

[1] European Committee For Standardization. (2008). Fire detection and fire alarm 

systems. Carbon monoxide detectors. Point detectors. Recuperado: 5-11-2016 de 

https://standards.cen.eu/dyn/www/f?p=204:110:0::::FSP_PROJECT,FSP_ORG_ID:393

46,6055&amp;amp;cs=11C3E7E4C8C91D2E7D82C6668D784BF8E. 

 

[2] Thermotron (2016). Environmental &amp;amp; Vibration TestingEquipment Manufacturer. 

Recuperado: 3-10-16 de http://thermotron.com/equipment.html. 

 

[3] Kenosistec Srl (2016). Gas Sensor Testing System. Recuperado: 3-10-2016 de 

http://www.kenosistec.com/en/product_card.php?id=9&amp;amp;categoria=1. 

 

[4] Insistec (2016). Ingenieria de seguridad y tecnologia. Recuperado: 6-10-2016 de 

http://www.insistec.net/. 

 

[5] T. Hübert, U. Banach, S. Bouchet, P. Castello, P. Moretto. (2007). Deliverable D54, 

Sub-task IP1.2 Gas detection experiments. Recuperado: 20-10-2016 de 

http://www.hysafe.org/download/1442/D54%20InsHyDe%20Gas%20Detection%20Ev

aluation%20final.pdf 

 

[6] Bronkhorst. (2016). Digital Thermal Mass Flow Meters and Controllers for Gases. 

Recuperado: 6-11-2016 de 

http://www.bronkhorst.com/files/downloads/brochures/folder-el-flow.pdf 



 

124 

 

 

[7] General Eastern. (2007). OptiSonde, General Eastern Chilled Mirror Hygrometer. 

Recuperado: 7-11-2016 de https://www.instrumart.com/assets/OptiSonde_Manual.pdf 

 

[8] Global analyser solution. (2016). Global analyser solution Compact GC 4.0. 

Recuperado: 8-11-2016 de 

http://www.gassite.com/shop_image/documents/b6f4faca7e96f1a0d93f89871a932bfc.p

df 

 

[9] Wells, G., &amp;amp; Simon, R. (1983). Thermal conductivity detector: theory and numerical 

model. Journal of Chromatography A, 256, 1-15. 

 

[10] Tadesse, K., Smith, A., Brydon, W. G., &amp;amp; Eastwood, M. (1979). Gas 

chormatographic technique for combined measurement of hydrogen and methane using 

thermal conductivity detector. Journal of Chromatography A, 171, 416-418. 

 

[11] Honeywell. (2016). Airflow, Force and Pressure Sensors. Recuperado: 21-11-2016 

de https://sensing.honeywell.com/honeywell-sensing-pressure-force-flow-rangeguide-

008081-22-en.pdf. 

 

[12] Robert E. Bicking. (1998). Fundamentals of Pressure Sensor Technology. 

Recuperado: 23-11-2016 de 

http://www.sensorsmag.com/components/fundamentals-pressure-sensor-technology. 

 

[13] TruTech Tools, Ltd. (2016). Measuring Airflow Tips and Techniques. Recuperado: 

25-11-2016 de 

https://www.trutechtools.com/MeasuringAirflowTipsandTechniques 

 



 

125 

 

[14] Chris Woodford. (2009). Anemometers. Recuperado: 25-11-2016 de 

http://www.explainthatstuff.com/anemometers.html 

 

[15] Elektronik. (2006). Measuring Air Velocity – Basics. Recuperado: 25-11-2016 de 

http://www.samey.is/_pdf/_epluse/EplusE_Air_Velocity_Measurement_Basics.pdf. 

 

[16] Questex LLC. (2006).Temperature Measurement. Recuperado: 2-12-2016 de 

http://www.sensorsmag.com/components/temperature-measurement. 

 

[17] TIP TEMPerature Products. (2006). RTD Resistance Thermometer PT100 / PT1000. 

Recuperado: 3-12-2016 de 

http://www.tiptemp.com/Products/Resistance-Thermometer-PT100-PT1000/. 

 

[18] Sedra, A. S., &amp;amp; Smith, K. C. (2005). Microeletrônica. Pearson Makron Books. 

 

[19] Saleh, H. E. (2008). Effect of variation in LPG composition on emissions and 

performance in a dual fuel diesel engine. Fuel, 87(13-14), 3031-3039. 

 

[20] Electronic Industries Association. (1979). Interchangeable Variable Block Data 

Format for Positioning, Contouring, and Contouring/Positioning Numerically Controlled 

Machines. Electronic Industries Association. 

 

[21] LinuxCNC. (2006). LinuxCNC. Recuperado: 10-12-2016 de http://linuxcnc.org/. 

 

[22] National Instruments Corporation. (2016). LabVIEW. Recuperado: 5-12-2016 de 

http://www.ni.com/labview/pt/. 

 

http://www.ni.com/labview/pt/


 

126 

 

  



 

127 

 

 

 

 

 

 

 

 

 

APÊNDICES 
  





 

128 

 

 

 

 

 

 

 

 

 

 

 

APÊNDICE 1 - Projeto das Instalações 

  





















 

129 

 

 

 

 

 

 

 

 

 

APÊNDICE 2 - Etiquetas 

  





Model: 54-26.01
Serial: 001.01.18
Power: 230V 50Hz 3A

Sitio dos Barrabés, Armazém Nave Y
Caixa Postal 908-Z
8150-016 São Brás de Alportel
Portugal

 
! ATENÇÃO

NÃO OPERAR ESTE EQUIPAMENTO SEM SER INSTRUÍDO
SOBRE REGRAS DE SEGURANÇA E OPERAÇÃO.

NÃO ABRIR A PORTA DURANTE OS TESTES.

OPERAR O EQUIPAMENTO EM LOCAIS VENTILADOS.

PERIGO! ATMOSFERA PERIGOSA.

!
ATMOSFERA
PERIGOSA

CO

!
A
T
M

O
S
F
E
R
A

P
E
R
IG

O
S
A

C
O

EMERGÊNCIA

EMERGÊNCIA

ON

OFF

!
LIGAR A EXAUSTÃO

AO EXTERIOR





 

130 

 

 

 

 

 

 

 

 

 

 

APÊNDICE 3 – Firmware 
  





CGAS_18f4550_v1_b01.c 10/03/2018 14:26:52

1: sbit TB5 at RA4_bit;       //Atribuição de nomes às portas de saída.

2: sbit OUT7 at RA6_bit;

3: sbit IN5 at RB4_bit;

4: sbit VAL_EX at RB5_bit;

5: sbit GAS_1 at RD0_bit;

6: sbit VAL_AR at RD1_bit;

7: sbit S_VERMELHO at RD2_bit;

8: sbit S_AMARELO at RD3_bit;

9: sbit REL at RC0_bit;

10: sbit VENT at RC1_bit;

11: sbit GAS_2 at RC2_bit;     //Fim de atribuição de nomes às portas de saída.

12: 

13: unsigned char Inputs=0;    //Declaração das variavéis globais.

14: unsigned int PRES_AX =0;

15: unsigned int PRES_BX =0;

16: unsigned int VELO_ARX =0;

17: unsigned int RHX =0;

18: unsigned int TEMPX =0;

19: unsigned int CO_2X =0;

20: unsigned int LPG_2X =0;

21: unsigned int ADC1X =0;

22: unsigned int ADC2X =0;

23: unsigned int ADC_DETX =0;

24: unsigned int CO_1X =0;

25: unsigned int LPG_1X =0;

26: unsigned char PRES_A =0;

27: unsigned char PRES_B =0;

28: unsigned char VELO_AR =0;

29: unsigned char RH =0;

30: unsigned char TEMP =0;

31: unsigned char CO_2L =0;

32: unsigned char CO_2H =0;

33: unsigned char LPG_2L =0;

34: unsigned char LPG_2H =0;

35: unsigned char ADC1 =0;

36: unsigned char ADC2 =0;

37: unsigned char ADC_DET =0;

38: unsigned char CO_1L =0;

39: unsigned char CO_1H =0;

40: unsigned char LPG_1L =0;

41: unsigned char LPG_1H =0;

42: char output, i = 0, flag = 0;

43: unsigned char outputs[]={0,0,0};

44: unsigned short j;

45: unsigned short x;

46: unsigned long  y=0;         //Fim da declaração das variavéis globais.

47: 

48: void WriteOutputs(){        //Função escrita nas portas de saída.

49:     if (outputs[0] &amp;amp; 0x01){ //Compara varivél outputs[0] com valor 1.

50:     TB5=1; }                //Caso verdadeiro ativa a saída TB5.

51:         else {

52:         TB5=0; }            //Caso falso desativa a saída TB5.

53:     if (outputs[0] &amp;amp; 0x02){ //Compara varivél outputs[0] com valor 2.

54:     OUT7=1; }               //Caso verdadeiro ativa a saída OUT7.

55:         else {

56:         OUT7=0;}            //Caso falso desativa a saída OUT7.

57:     if (outputs[0] &amp;amp; 0x04){ //Realiza o mesmo processo de comaparação para as

58:     REL=1;}                 //portas de saída.

59:         else {

60:         REL=0;}

61:     if (outputs[0] &amp;amp; 0x08){

62:     GAS_2=1;}

mikroC PRO for PIC by mikroElektronika1/5



CGAS_18f4550_v1_b01.c 10/03/2018 14:26:52

63:         else {

64:         GAS_2=0;}

65:     if (outputs[0] &amp;amp; 0x10){

66:     GAS_1=1;}

67:         else {

68:         GAS_1=0;}

69:     if (outputs[0] &amp;amp; 0x20){

70:     VAL_AR=1;}

71:         else {

72:         VAL_AR=0;}

73:     if (outputs[0] &amp;amp; 0x40){

74:     VAL_EX=1;}

75:         else {

76:         VAL_EX=0;}

77:     if (outputs[0] &amp;amp; 0x80){

78:     S_VERMELHO=1;}

79:         else {

80:         S_VERMELHO=0;}

81:     if (outputs[1] &amp;amp; 0x01){

82:     S_AMARELO=1;}

83:         else {

84:         S_AMARELO=0;}

85:     if (outputs[2] &gt; 0x00){     //Verifica se outputs[2] é maior que 0.

86:     PWM2_Start();               //Caso verdadeiro Func. MikroC inicializa PWM2.

87:     PWM2_Set_Duty(outputs[2]);} //Func. MikroC define valor outputs[2] como Duty

88:         else {

89:         PWM2_Stop();}           //Caso falso Func. MikroC para PWM2.

90: }

91: 

92: 

93: unsigned char ReadInputs(){ //Função leitura porta de entrada.

94: Inputs=0;                   //Reiniciar a variavél

95: if (PORTD.RD4 == 0){        //Confirmar se porta se encontra a 0.

96: Inputs=Inputs+1;            //Caso afirmativo acrescenta 1 à variavél.

97: }

98: if (PORTD.RD5 == 0){        //Confirmar se porta se encontra a 0.

99: Inputs=Inputs+2;            //Caso afirmativo acrescenta 2 à variavél.

100: }

101: if (PORTD.RD6 == 0){        //Confirmar se porta se encontra a 0.

102: Inputs=Inputs+4;            //Caso afirmativo acrescenta 4 à variavél.

103: }

104: if (PORTD.RD7 == 0){        //Confirmar se porta se encontra a 0.

105: Inputs=Inputs+8;            //Caso afirmativo acrescenta 8 à variavél.

106: }

107: return Inputs;

108: }

109: 

110: 

111: void ReadADC(){                            //Função leitura portas analógicas.

112:      CO_2X = 0;                            //Reiniciar variavél CO_2X.

113:      LPG_1X = 0;                           //Reinicar das restantes variavél

114:      ADC2X = 0;                            //utilizadas na leitura das portas

115:      ADC1X = 0;                            //analógicas.

116:      LPG_2X = 0;

117:      CO_1X = 0;

118:      ADC_DETX = 0;

119:      TEMPX = 0;

120:      RHX = 0;

121:      PRES_BX = 0;

122:      VELO_ARX = 0;

123:      PRES_AX = 0;

124: for (x = 0 ; x &amp;lt;16 ; x++){             //Executar 16 vezes o ciclo.

mikroC PRO for PIC by mikroElektronika2/5



CGAS_18f4550_v1_b01.c 10/03/2018 14:26:52

125:      PRES_AX = PRES_AX  + ADC_Read(0);} //Ler porta AN0 e add. a última leitura.

126:      PRES_AX = PRES_AX  / 16;           //Dividir o valor final por 16 (média).

127: for (x = 0 ; x &amp;lt;16 ; x++){             //Realiza a mesma operação para as

128:      PRES_BX = PRES_BX  + ADC_Read(1);} //restantes portas análogicas...

129:      PRES_BX = PRES_BX  / 16;

130: for (x = 0 ; x &amp;lt;16 ; x++){

131:      VELO_ARX = VELO_ARX  + ADC_Read(2);}

132:      VELO_ARX = VELO_ARX  / 16;

133: for (x = 0 ; x &amp;lt;16 ; x++){

134:      RHX = RHX  + ADC_Read(3);}

135:      RHX = RHX  / 16;

136: for (x = 0 ; x &amp;lt;16 ; x++){

137:      TEMPX = TEMPX  + ADC_Read(4);}

138:      TEMPX = TEMPX  / 16;

139: for (x = 0 ; x &amp;lt;16 ; x++){

140:      ADC_DETX = ADC_DETX  + ADC_Read(5);}

141:      ADC_DETX = ADC_DETX  / 16;

142: for (x = 0 ; x &amp;lt;16 ; x++){

143:      CO_1X = CO_1X  + ADC_Read(6);}

144:      CO_1X = CO_1X  / 16;

145: for (x = 0 ; x &amp;lt;16 ; x++){

146:      LPG_2X = LPG_2X + ADC_Read(10);}

147:      LPG_2X = LPG_2X / 16;

148: for (x = 0 ; x &amp;lt;16 ; x++){

149:      ADC1X = ADC1X  + ADC_Read(8);}

150:      ADC1X = ADC1X  / 16;

151: for (x = 0 ; x &amp;lt;16 ; x++){

152:      ADC2X = ADC2X + ADC_Read(9);}

153:      ADC2X = ADC2X / 16;

154: for (x = 0 ; x &amp;lt;16 ; x++){

155:      LPG_1X = LPG_1X  + ADC_Read(7);}

156:      LPG_1X = LPG_1X  / 16;

157: for (x = 0 ; x &amp;lt;16 ; x++){

158:      CO_2X = CO_2X + ADC_Read(12);}

159:      CO_2X = CO_2X / 16;

160: LPG_1L = LPG_1X &amp;amp; 0xff;     //Truncagem dos primeiros 8 bits.

161: LPG_1H = (char)(LPG_1X&gt;&gt;8); //Rodar os bits 8 posições à direita.

162: PRES_A = PRES_AX/4;         //Dividir a variavél por 4.

163: PRES_B = PRES_BX/4;

164: VELO_AR = VELO_ARX/4;

165: RH = RHX/4;

166: TEMP = TEMPX/4;

167: CO_2L = (char)CO_2X &amp;amp; 0xff;

168: CO_2H = (char)(CO_2X&gt;&gt;8);

169: LPG_2L = LPG_2X &amp;amp; 0xff;

170: LPG_2H = (char)(LPG_2X&gt;&gt;8);

171: ADC1 = ADC1X/4;

172: ADC2 = ADC2X/4;

173: ADC_DET = ADC_DETX/4;

174: CO_1L = CO_1X &amp;amp; 0xff;

175: CO_1H = (char)(CO_1X&gt;&gt;8);

176: }

177: 

178:  void interrupt() {         //Func. MikroC sempe que há interrupção.

179:   if (PIR1.RCIF) {          //Comfirmação interrupção na UART.

180:       output = Uart1_Read();//Escreve na output o Byte lido.

181:     outputs[i] = output;    //Escreve na matriz outputs o Byte lido.

182:     i++;                    //Incrementa a posição da matriz.

183:       if (output == 255) {  //Confirmação do fim da leitura na UART

184:       flag = 1;             //Ativa a variavél comunicação.

185:       }                     //Fim da confirmação do fim da leitura na UART.

186:     PIR1.RCIF = 0;          //Reinicar da interrupção na UART.

mikroC PRO for PIC by mikroElektronika3/5



CGAS_18f4550_v1_b01.c 10/03/2018 14:26:52

187:     }                       //Fim comfirmação da interrupção na UART.

188:   }                         //Fim da função interrupção.

189: 

190: void main() {

191: OSCCON=0x72;        //Oscilador interno definido com 8MHz.

192: TRISA = 0b10101111; //Config. portos A, bit = porto de 7 a 0, 1=input 0=output.

193: TRISB = 0b11011111; //Config. portos B, bit = porto de 7 a 0, 1=input 0=output.

194: TRISC = 0b10100000; //Config. portos C, bit = porto de 7 a 0, 1=input 0=output.

195: TRISD = 0b11110000; //Config. portos D, bit = porto de 7 a 0, 1=input 0=output.

196: TRISE = 0b11111111; //Config. portos E, bit = porto de 7 a 0, 1=input 0=output.

197: ADCON1 = 0x00;      //Valores de referência A/D (Vdd e Vss),AN def. analógicas.

198: ADCON2 = 0xFF;      //Valor (A/D) jutificação bits à direita,t aquisição, clock.

199: PORTA=0;            //Iniciar os portos A com o valor 0.

200: PORTD=0;            //Iniciar os portos B com o valor 0.

201: PORTB=0;            //Iniciar os portos C com o valor 0.

202: PORTC=0;            //Iniciar os portos D com o valor 0.

203: PORTE=0;            //Iniciar os portos E com o valor 0.

204: PWM2_Init(2000);    //Func.MikroC Iniciar modulo PWM2 com uma freq. de 2KHz.

205: UART1_Init(9600);   //Func.MikroC iniciar modulo UART com 9600 bps.

206: Delay_ms(500);      //Espera 500ms para qua a UART estabilize.

207: PIE1.RCIE = 1;      //Ativa o bit de interrupção de receção da  USART.

208: INTCON.PEIE = 1;    //Ativa todas as interrupções periféricas.

209: INTCON.GIE = 1;     //Permite todas as interrupções.

210: while (1){          //Início do loop infinito.

211:    do{                            //Início do ciclo de espera comunicação.

212:         if (flag ==1) {           //Confirmação da comunicação/interrupção.

213:         i=0;                      //Reiniciar da variavél n. de leituras.

214:         ReadInputs();             //Função leitura dos portos de entrada do MC.

215:         ADC_Init();               //Func. MikroC Iniciar a leitura analógia.

216:         ReadADC();                //Função de leitura das portas analógicas.

217:         WriteOutputs();           //Função de escrita nos portos de saída.

218:         if (UART1_Tx_Idle() == 1){//Confirmação da disponibilidade escrita UART

219:         delay_ms(100);            //Epera 100ms

220:         UART1_Write(PRES_A);      //Envio Byte 0 (PRES_A)

221:         UART1_Write(PRES_B);      //Envio Byte 1 (PRES_B)

222:         UART1_Write(VELO_AR);     //Envio Byte 2 (VELO_AR)

223:         UART1_Write(RH);          //Envio Byte 3 (RH)

224:         UART1_Write(TEMP);        //Envio Byte 4 (TEMP)

225:         UART1_Write(CO_2L);       //Envio Byte 5 (CO_2L)

226:         UART1_Write(CO_2H);       //Envio Byte 6 (CO_2H)

227:         UART1_Write(LPG_2L);      //Envio Byte 7 (LPG_2L)

228:         UART1_Write(LPG_2H);      //Envio Byte 8 (LPG_2H)

229:         UART1_Write(ADC1);        //Envio Byte 9 (ADC1)

230:         UART1_Write(ADC2);        //Envio Byte 10 (ADC2)

231:         UART1_Write(ADC_DET);     //Envio Byte 11 (ADC_DET)

232:         UART1_Write(CO_1L);       //Envio Byte 12 (CO_1L)

233:         UART1_Write(CO_1H);       //Envio Byte 13 (CO_1H)

234:         UART1_Write(LPG_1L);      //Envio Byte 14 (LPG_1L)

235:         UART1_Write(LPG_1H);      //Envio Byte 15 (LPG_1H)

236:         UART1_Write(Inputs);      //Envio Byte 16 (Inputs)

237:         UART1_Write(0xAA);        //Envio Byte 17 (255)

238:         }                         //Fim do Envio dos Bytes

239:         flag = 0;                 //Reiniciar variavél comunicação/interrupção

240:         y=0;                      //Reiniciar variavél espera comunicação

241:         }                         //Fim da comunicação

242:         y++;                      //Incrementação variavél espera comunicação

243:    } while ( y &amp;lt;1000000);        //Espera comunicação 1000000 ciclos (apx 10s)

244: outputs[0]=0;                     //Escreve 0 na variavél outputs[0]

245: outputs[1]=0;                     //Escreve 0 na variavél outputs[1]

246: outputs[2]=0;                     //Escreve 0 na variavél outputs[2]

247: WriteOutputs();                   //Função de escrita nos portos de saída.

248: y=0;                              //Reiniciar variavél espera comunicação

mikroC PRO for PIC by mikroElektronika4/5



CGAS_18f4550_v1_b01.c 10/03/2018 14:26:52

249: }                                 //Fim da espera de comunicação

250: }                                 //Fim do loop infinito.

mikroC PRO for PIC by mikroElektronika5/5





 

131 

 

 

 

 

 

 

 

 

 

APÊNDICE 4 – Instruções de utilização da CGAS 
  





 

Instruções de utilização da CGAS 

  

 

- Não operar este equipamento sem ser instruído sobre 

as regras de segurança e operação. 

- Operar o equipamento em locais ventilados. 

- Existe o perigo de explosão e de atmosfera perigosa. 

- Não abrir a porta durantes os testes. 

 

  

 

Ligar a CGAS, rodar a chave para a posição ON. 

 

Confirmar que o botão de emergência não se encontra 

pressionado. 

  

 

Ligar o computador. 

  

 

Abrir a aplicação CGAS. 

  

 

Abrir o gás necessário para os testes a realizar. 

 

No caso do LPG, pressionar a alavanca e colocar a cavilha. 

  

 

No caso do CO, rodar a torneira na posição horária (CW) 

 

Nota: a torneira deve ser rodada até atingir uma pressão 

de 1 bar no manómetro superior.  

  



 

Colocar o detetor na câmara. 

 

Pode ser necessária a instalação de uma base compatível 

com o detetor (Verificar nos acessórios da CGAS) 

 

Respeitar as indicações do fabricante do detetor, com 

especial atenção ao tempo de espera antes do teste. 

  

 

Fechar a porta. 

Colocar o parafuso na posição certa e rodar o volante no 

sentido horário (CW) 

Nota: Não apertar em demasia o volante.  

  

 

Definir os parâmetros de teste: 

- Máxima concentração do gás na câmara; 

- Tempo máximo do teste; 

- Velocidade do ar. 

Nota: A circulação do ar só se verifica depois do início do 

teste, no entanto é possível testar a velocidade, 

pressionando o botão VENTOINHAS. 

  

 

Escolher o tipo de gás, LPG ou CO. 

Iniciar o teste, pressionar em INICIAR 

  

 

Esperar que o teste termine. 

Escolher a localização para gravar o relatório. 

  

 

Quando terminados os testes: 

- Fechar a aplicação. 

- Desligar o computador. 

- Desligar a CGAS. 

- Fechar a garrafa de CO. 

- Retirar a cavilha da garrafa de LPG. 

 15/03/2018 

 



 

132 

 

 

 

 

 

 

 

 

 

 

APÊNDICE 5 – Lista de Material e Custos da CGAS 
  





Peça N. Descrição Qt Preço Uni. Preço Fornecedor P.N. Forn.

001-001 ACR LT D 1 7,16€          7,16€            DAGOL ACR
001-002 ACR LT E 1 2,48€          2,48€            DAGOL ACR
001-003 ACR INF 1 9,25€          9,25€            DAGOL ACR
001-004 ACR FT 1 10,15€        10,15€          DAGOL ACR
001-005 ACR SUP 1 9,25€          9,25€            DAGOL ACR
001-006 ACR TR 1 10,15€        10,15€          DAGOL ACR
001-007 ACR INF R 1 9,25€          9,25€            DAGOL ACR
001-008 TAMPA LT E 1 2,48€          2,48€            DAGOL ACR
001-009 TAMPA SUP 1 4,97€          4,97€            DAGOL ACR
001-010 TAMPA T 1 10,15€        10,15€          DAGOL ACR
001-011 TAMPA TR 1 9,00€          9,00€            DAGOL ACR
001-012 ACR SUP PC 1 2,30€          2,30€            DAGOL ACR
001-013 TAMPA VÁLVULA 1 1,00€          1,00€            DAGOL ACR
001-014 ARO VÁlVULA 1 1,00€          1,00€            DAGOL ACR
001-015 CILINDRO VÁLVULA 1 0,50€          0,50€            DAGOL ACR
001-016 ESTRUTURA EM ACRILICO 66,04€ 1 66,04€        66,04€          DAGOL ACR
001-017 COLA ACRILICO 1 15,00€        15,00€          DAGOL ACR
001-018 Suporte PC 1 18,00€        18,00€          LAROY MERLIN
001-019 Parafuso giratório 1 5,83€          5,83€            NORELEM 05660-08050
001-020 Base para pés 4 1,06€          4,24€            NORELEM 27830-20303
001-021 Fusos roscados para pés niveladores 4 0,71€          2,84€            NORELEM 27832-080251
001-022 O´RING 3,53mm 5 4,32€          21,60€          REROM C1.A0353
001-023 COLA PARA ORING 1 11,18€        11,18€          REROM C19.ZA20
001-024 Parafusos M4x16 100 0,07€          7,00€            REROM B01.04x016
001-025 Parafusos M4x16 20 0,07€          1,40€            REROM B01.04x020
001-026 Parafusos M4x16 10 0,20€          2,00€            REROM B01.04x045
001-027 Insertos Metálicos 120 0,08€          9,60€            
001-028 Aro porta 1 11,31€        11,31€          Poly Lanema AW6063 ALU10
001-029 Aro interno 2 11,31€        22,62€          Poly Lanema AW6063 ALU10
001-030 Porta 1 10,00€        10,00€          Poly Lanema AW6063 ALU10
001-031 Dobradiça 1 3,20€          3,20€            Poly Lanema AW6063 ALU10
001-032 Apoio porta 4 0,50€          2,00€            Poly Lanema AW6063 ALU10
001-033 Barra da porta 1 2,50€          2,50€            Poly Lanema AW6063 ALU10
001-034 União 1 1,80€          1,80€            Poly Lanema AW6063 ALU10
001-035 Moldura 2 4,00€          8,00€            Poly Lanema AW6063 ALU10
001-036 Placa cima 1 5,00€          5,00€            Poly Lanema AW6063 ALU10
001-037 Placa do meio 1 8,00€          8,00€            Poly Lanema AW6063 ALU10
001-038 Painel ES cima 1 5,00€          5,00€            Poly Lanema AW6063 ALU10
001-039 Painel ES lado 1 5,00€          5,00€            Poly Lanema AW6063 ALU10
001-040 Chassi cima 1 6,00€          6,00€            Poly Lanema AW6063 ALU10
001-041 Chassi inf 1 4,00€          4,00€            Poly Lanema AW6063 ALU10
001-042 FAVO CE 2 2,00€          4,00€            
001-043 FAVO BD 2 2,00€          4,00€            
001-044 FAVO CD 2 2,00€          4,00€            
001-045 FAVO BE 2 2,00€          4,00€            
001-046 CURVA PVC 90 40mm 1 5,10€          5,10€            RS 2790597
001-047 União PVC 40mm 1 12,77€        12,77€          RS 2790979
001-048 CAIXAS 2 56,98€        113,96€        
001-049 Bocins M20 5 4,45€          22,25€          RS 669-4664
001-050 Base co r 1 0,86€          0,86€            
001-051 LPG ADPT 1 0,32€          0,32€            
001-052 LPG ABC 1 0,10€          0,10€            
001-053 Suporte Cabos 4 0,08€          0,32€            
001-054 Suporte Cabos 2 3 0,07€          0,21€            
001-055 CO ABC 1 0,28€          0,28€            
001-056 Grelha 20x30 branco 2 8,69€          17,38€          AKI 8331153

Lista da Material e Custos da CGAS



002-001 Sensor de pressão PSE530-M3-L 1 57,17€        57,17€          RS 700-7569
002-002 Interruptor láminas SMC-D90 2 22,08€        44,16€          
002-003 Cilindro pneumático CDU-16-10D 1 54,43€        54,43€          RS 183-4551
002-004 Eletroválvula SY3120-5MOE-C4 1 59,95€        59,95€          
002-005 Eletroválvula VQ21A1-5YZ-C6-F-Q 1 48,27€        48,27€          RS 494-3311
002-006 Tubo pneumático 4mmx20m 1 10,32€        26,22€          Farnell 3629879
002-007 Tubo pneumático 6mmx20m 1 26,22€        26,22€          Farnell 3629995
002-008 União One-Touch 6mm 1 5,63€          5,63€            Farnell 3628334
002-009 Adaptador tubo em Y 6mm 1 2,88€          2,88€            RS 771-5936
002-010 Controlador de velocidade AS1201F-M5-04 2 7,55€          15,10€          RS 197-5292
002-011 Conjunto Regulador de pressão e filtros 1 100,00€      100,00€        

003-001 Controlador de velocidade SCFM 4mm 2 9,49€          18,98€          RS 161-3086
003-002 Adaptador tubo 4mm 2 4,22€          8,44€            RS 327-2359
003-003 Eletroválvula VDW10EA 2 27,34€        54,68€          RS 892-9980
003-004 Regulador de pressão RB500-SSC4 2 82,00€        164,00€        
003-005 Regulador de pressão CO 432820 1 284,41€      284,41€        GASIN 432820
003-006 Garrafa de LPG 1 4,00€          4,00€            
003-007 Garrafa de CO 5% 1 136,00€      136,00€        GASIN 316785

-€              
004-001 PSU 24V 10A 1 42,30€        42,30€          
004-002 Ficha femêa 240V 10A 1 1,98€          1,98€            Farnell 313737
004-003 Interruptor com chave 250V 4A 1 11,14€        11,14€          Farnell 1138697
004-004 Botão de emergência 1 31,31€        31,31€          RS 831-7889
004-005 Cabo H05V-K 1x1 NG 2 0,11€          0,22€            
004-006 Cabo H05V-K 1x1 RD 2 0,11€          0,22€            

-€              
005-001 Sensor de pressão P265-30A -D4B 1 122,40€      122,40€        Mouser P265-30A -D4B 
005-002 Sensor proximidade APM-D3A1 1 68,72€        68,72€          Farnell 1530472
005-002 Sonda de humidade e temperatura EE60 1 160,60€      160,60€        E+E Elektronik EE60
005-003 Sonda de velovidade do ar EE671-V2XCKD 1 163,90€      163,90€        E+E Elektronik EE671
005-004 Central de deteção de incêndios JUNIOR V4 1 180,00€      180,00€        GFE
005-005 CGAS CO SENSOR 2 33,76€        67,52€          
005-006 CGAS LPG SENSOR 2 28,91€        57,82€          
005-007 CGAS PCB 1 16,02€        16,02€          
005-008 Cabo D25 PCB CGAS_1 1 10,88€        10,88€          Farnell 1525878
005-009 Cabo D25 PCB CGAS_2 1 10,88€        10,88€          Farnell 1525878
005-010 Cabo D25 Controlo 1 10,88€        10,88€          Farnell 1525878
005-011 Cabo RS232/USB 1 18,00€        18,00€          Jumbo box
005-012 Cabo TTL/USB 1 2,00€          2,00€            Ebay

007-001 Computador portatil ACER Aspire ES1-571 1 340,00€      340,00€        Bestelectronics

Total 2 965,13€     



 

133 

 

 

 

 

 

 

 

 

 

 

APÊNDICE 6 – Relatório Teste do NB-983CO 
  





CGAS_V1
C:\Users\CGAS\Desktop\LABVIEW\INICIAL_VI\CGAS_v1.vi
Last modified on 10/03/2018 at 14:08
Printed on 10/03/2018 at 14:44

Page 1

COM3
CGAS

STOP

TB5

OUT7
REL

1,019 bar

INICIAR

INFORMAÇÃO

COM4
CENTRAL

PORTA FECHADA

VÁL. EX.  FECHADA

VÁL. EX. ABERTA

IN4

IN5

EM TESTE
ESTADO DO TESTE VENTOINHAS

VÁLVULA CO

VÁLVULA LPG

VÁLVULA AR
VÁLVULA EXAUSTÃO

1,1 bar

0

PRESSÃO CÂMARA

PRESSÃO AR COMPRIMIDO

VELOCIDADE DO AR m/s

53 %RHHUMIDADE RELATIVA

22TEMPERATURA ºC
0

0

0ADC1

0ADC 2

0ADC DET

187CO

0LPG

ppm

ppm

LPG CO

217CO FINAL

0LPG FINAL

Microsoft Print to PDF
Printing:Default Printer

00:29:45,TEMP O

1500

0

250

500

750

1000

1250

Tempo
17850 500 1000 1500

CONCENTRAÇÃO LPG

2400TEMPO MÁXIMO

APROVADO
DETETOR

64AN_DET64AN DETETOR FINAL

350

0

50

100

150

200

250

300

Tempo
17850 500 1000 1500

CONCENTRAÇÃO CO
100

0

20

40

60

80

Tempo
17850 250 500 750 1000 1250 1500

DETETOR 

200MÁXIMO CO

235MÁXIMO LPG

CONDIÇÕES AMBIENTAIS

SAÍDAS DISPONÍVEIS

PORTAS SÉRIE 

SINALIZADORES

TIPO DE GÁS

ppm

ppm

s

FUGAS LPG

FUGAS CO

ppm

ppm

V

V

V

CONFIGURAÇÃO DA IMPRESSORA

PARÂMETROS DO TESTE

ppm

ppm

s

RESULTADO DO TESTE OUTRAS LEITURAS

SAÍDAS DO PROCESSO

ENTRADAS DO PROCESSO

2550
VELOCIDADE DO AR

COMUNICAÇÃO

0,028
LPG Aj.

0,032
LPG 2 Aj.

0
CO Aj.

0
CO 2 Aj.





 

134 

 

 

 

 

 

 

 

 

 

ANEXOS 

  





 

135 

 

 

 

 

 

 

 

 

 

 

ANEXO A – Datasheet do Sensor ECO-Sure 2E 
  





EURO-GAS MANAGEMENT SERVICES LTD, CHURSTON HOUSE, 

BASCOMBE ROAD, CHURSTON FERRERS, DEVON, TQ5 0JJ, UK

: +44 (0)1803 844414  Fax: +44 (0)1803 844224

euro-gas@btconnect.com        www.euro-gasman.com

The ECO-Sure® (2e) is a high quality, cost effective 
2-electrode electromechanical cell designed for the detection of 
Carbon Monoxide CO in a range of applications but particularly 
for domestic/residential Carbon Monoxide detection, industrial 
fire detection and ventilation control. This sensor is renowned 
worldwide for its long lifetime and stable performance. The 
ECO-Sure (2e) is a recognised component under UL2075.

SPECIFICATION

Operating Principle: 2-electrode electrochemical 

Gas Detected: Carbon Monoxide CO

Measurement Range: 0 – 500 ppm 

Maximum Overload: 1,000 ppm 

Expected Operating Life*: &gt; 6 years in normal use from 
date of manufacture 

Output Signal: 0.045 + 0.015µA per ppm 

Temperature Range*: Continuous: -10oC to +50oC
Intermittent: -20oC to +50oC 

Pressure Range: 1 atm + 10% 

Humidity Range* (non-condensing): Continuous: 15 - 90% 
Intermittent: 0 - 99% 

Response Time (T5 90): &amp;lt;30 seconds 

Baseline Offset (clean air): -2 to 4 ppm equivalent 

Zero Shift* (-10°C to +50°C): &amp;lt;+10 ppm equivalent 

Long Term Output Drift: &amp;lt;5% per annum 

Repeatability: &amp;lt;+ 5% 

Linearity: Within + 5% 

Recommended Load Resistor: 5 ?

Bias Voltage: Not required 

Intrinsic Safety Data* 

Maximum at 1,000ppm: 0.1mA 

Maximum o/c Voltage: 1.3V 

Maximum s/c Current: &amp;lt;1.0A 

All measurements were taken at 20oC and 
50% rH at 1atm unless otherwise 
indicated. The performance data detailed 
in this document refer to new sensors. 
With the exception of items marked * the 
stated parameters have been verified 
under the UL component recognition 
programme. 

Note: PCB sockets are recommended for 
the sensor pin connection. Soldering or 
using glue with the sensor should be 
avoided and will invalidate warranty.



Physical Specification

Weight: 5g (approx) 

Orientation: Any 

Housing Material: Noryl N110 

Storage Life: 6 months in original sealed 
container 

Storage Conditions: +10oC to +30oC 

Warranty Period: Up to 60 months 

Part Number: 2112B3000

Diameter of pins: 1.55mm

Recommended sockets:
Wearns Cambion # 450-3326-01.

Note: PCB sockets are recommended for the sensor pin 
connection. Soldering or using glue with the sensor 
should be avoided and will invalidate warranty.

All measurements were taken at 20oC and 50% rH at 
1atm unless otherwise indicated. The performance data 
detailed in this document refer to new sensors. With the 
exception of items marked * the stated parameters have 
been verified under the UL component recognition 
programme. 

EURO-GAS MANAGEMENT SERVICES LTD, CHURSTON HOUSE, 

BASCOMBE ROAD, CHURSTON FERRERS, DEVON, TQ5 0JJ, UK

: +44 (0)1803 844414  Fax: +44 (0)1803 844224

euro-gas@btconnect.com        www.euro-gasman.com

DATA MATRIX SPECIFICATION

DataMatrix Format: 28 CHARACTERS

Data contained in Data Matrix code: 28 character encrypted number with gas type, sensor serial number, 
part number, date code (YYMMDD) and sensitivity in nA/ppm. 

Scanning recommendations: In order to achieve a reliable read rate, the installation of a fixed scanning 
device is recommended, such as a fixed scanner from www.datalogic.com. The scanner should be set to dot 
matrix. A white ring light should be positioned above the cell to be scanned in preference to the scanners in-
built light source. A hand held scanner can be used but a reduction in read rate may be experienced. 

Encryption and software licence: Data contained in the Data Matrix code is encrypted. Encryption software 
and user licence are required to convert the data. 



EURO-GAS MANAGEMENT SERVICES LTD, CHURSTON HOUSE, 

BASCOMBE ROAD, CHURSTON FERRERS, DEVON, TQ5 0JJ, UK

: +44 (0)1803 844414  Fax: +44 (0)1803 844224

euro-gas@btconnect.com        www.euro-gasman.com

Note: Temperature coefficients 
and cross- sensitivity are not 
verified under the UL component 
recognition programme

POISONING

Gas sensors are designed for operation in a wide range of environments and harsh conditions. However, it 
is important that exposure to high concentration of solvent vapours is avoided, during storage, fitting into 
instruments and in operation.

When using sensors with printed circuit boards (pcbs), degreasing agents should be used before the sensor 
is fitted. Do not glue directly on or near the sensor, as the solvent may cause crazing of the plastic.



EURO-GAS MANAGEMENT SERVICES LTD, CHURSTON HOUSE, 

BASCOMBE ROAD, CHURSTON FERRERS, DEVON, TQ5 0JJ, UK

: +44 (0)1803 844414  Fax: +44 (0)1803 844224

euro-gas@btconnect.com        www.euro-gasman.com

Gas Concentration 
Used (ppm)

Exposure Time (mins) Reading (ppm CO)

Carbon Monoxide CO 100 5 100

Hydrogen Sulphide H2S 25 5 0

Sulphur Dioxide SO2 50 600&amp;lt;0.5

Nitrogen Dioxide NO2 50 900 -1

Nitric Oxide NO 50 5 8

Chlorine Cl2 2 5 0

Hydrogen H2 100 5 20

Carbon Dioxide CO2 5000 5 0

Ammonia NH3 100 5 0

Ethanol C2H5OH 2000 30 5

Iso-Propanol 200 120 0

Acetone 1000 5 0

Acetylene 40 5 80

CROSS SENSITIVITY

Whilst the ECO-Sure is designed to be highly specific to the gas it is intended to measure, it will still respond 
to some degree to various gases. The table below is not exclusive and other gases not included in the table 
may still cause a sensor to react. 

The cross-sensitivity values quoted are based on tests conducted on a small number of sensors. They are 
intended to indicate sensor response to gases other than the target gas. Sensors may behave differently 
with changes in ambient conditions and any batch may show significant variation from the values quoted. 

The figures in this table are typical values and should not be used as a basis for cross calibration. Cross 
sensitivities may not be linear and should not be scaled. For some cross interference, break through will 
occur if gas is applied for a longer time period. 



EURO-GAS MANAGEMENT SERVICES LTD, CHURSTON HOUSE, 

BASCOMBE ROAD, CHURSTON FERRERS, DEVON, TQ5 0JJ, UK

: +44 (0)1803 844414  Fax: +44 (0)1803 844224

euro-gas@btconnect.com        www.euro-gasman.com

By the nature of the technology used, any sensor can potentially fail to meet specification without warning. Euro-Gas makes every effort 
to ensure reliability of all sensors but where life safety is a performance requirement of the product and, where practical, Euro-Gas 
recommends that all gas sensors and instruments using sensors are checked for response to gas before use. 

The data contained in this document is believed to be accurate and reliable. The data given is for guidance only. Euro-Gas Management 
Services Ltd accepts no liability for any consequential losses, injury or damage resulting from the use of this datasheet or the information 
contained in it. Customers should test the sensors under their own conditions to ensure that the sensors are suitable for their own 
requirements and in accordance with the plans and circumstances of the specific project and any standards/regulations pertaining to the 
country in which the sensors will be utilised. Performance characteristics on this data sheet outline the performance of newly supplied 
sensors. Output signal can drift below the lower limit over time.This datasheet is not intended to form the basis of a contract and in the 
interest of product improvement, Euro-Gas reserves the right to alter design features and specifications without notice.               09/13

OPTIONS &amp;amp; ACCESSORIES

• ECO-Sure (2e) CO sensor with 4-20mA transmitter
(with TÜV approval according to VDI 2053 systems).
Part no: 2112B1005. Standard measuring range: 0-300ppm. 
Optional measuring range: 0-500ppm. 

• Installation kit. Part no: 2112B1022.

• Test/calibration gas cap. Part no: 2112B1010.

• Gas Measuring System. ECO-Sure sensor, 4-20mA transmitter and 
installation kit provided as a complete unit in aluminium housing. 
Part no: 2112B1013.

Figure 1.  
ECO-Sure CO sensor 
+ 4-20mA transmitter
Part no. 2112B1005
(with TÜV approval 
according to VDI 2053 
systems)

Figure 2. 

Gas Measuring System

ECO-Sure sensor with 
4-20mA transmitter and 
installation kit, provided 
as a complete unit, 
fitted into aluminium 
housing. 
Part no. 2112B1013.
Standard measuring 
range: 0-300ppm CO.
Optional measuring range: 
0-500ppm CO.

Figure 3.
Test/calibration gas cap
Part no. 2112B1010





 

136 

 

 

 

 

 

 

 

 

 

 

ANEXO B – Datasheet do Sensor TGS 6810 
  





                      PRODUCT INFORMATION

0

10

20

30

40

50

0 2000 4000 6000 8000 10000

?Vout (mV)

Gas concentration (ppm)

Methane

Propane

Iso-butane

Air
Ethanol

-10

0

10

20

30

40

50

-10 0 10 20 30 40 50

Air
5000ppm Methane
1800ppm Iso-butane

?Vout (mV)

Ambient temperature (?C)

at 65% RH

Applications:Features:

TGS 6810 - for the detection of Methane and LP Gas

The figure below represents typical sensitivity characteristics, 
all data having been gathered at standard test conditions (see 
reverse side of this sheet).  The Y-axis is indicated as sensor 
output sensitivity--?Vout (mV):
 ?Vout = Vout in gas - Vout in air

The figure below represents typical temperature dependency 
characteristics at 65%RH.  Again, the Y-axis is indicated as 
sensor output sensitivity--?Vout (mV):
 ?Vout = Vout in gas - Vout in air at 20?C

* Residential LNG and LPG alarms

* Detectors for LNG and LPG

The TGS6810 catalytic type gas sensor, which can detect both methane and 
LP gas, has been developed for residential gas detection. Combining Figaro’s 
extensive experience in catalyst materials technology with its advanced micro 
fabrication technology, Figaro can produce the most advanced compact catalytic 
sensors whose durability, stability, quick response, and linear output make 
them ideal for detecting many combustible gases. 

As the sensor possesses an adsorbent inside its sensor cap, its cross sensitivity 
to alcohol is much smaller than traditional catalytic type sensors. In addition, 
TGS6810 is more durable against silicone compounds than traditional catalytic 
type sensors.

* Linear output

* Compact size

* Small sensitivity to alcohol

* Sensitive to both methane and LP gas

* Meets RoHS requirements

Temperature Dependency:Sensitivity Characteristics:

IMPORTANT NOTE: OPERATING CONDITIONS IN WHICH FIGARO SENSORS ARE USED WILL VARY WITH EACH CUSTOMER’S SPECIFIC APPLICATIONS. FIGARO STRONGLY 
RECOMMENDS CONSULTING OUR TECHNICAL STAFF BEFORE DEPLOYING FIGARO SENSORS IN YOUR APPLICATION AND, IN PARTICULAR, WHEN CUSTOMER’S TARGET 
GASES ARE NOT LISTED HEREIN. FIGARO CANNOT ASSUME ANY RESPONSIBILITY FOR ANY USE OF ITS SENSORS IN A PRODUCT OR APPLICATION FOR WHICH SENSOR HAS 
NOT BEEN SPECIFICALLY TESTED BY FIGARO.



Top view

ø0.8±0.1

ø12.0±0.2
5.0±0.2

9.3±0.3

Side view

u/m = mm

         Cap

(Reinforced PBT)

Lead pin

3.6±0.1

4.6±0.1

Bottom view

Detector side

Compensator side

         Base

(Reinforced PBT)

Detector side

Compensator side

1

2 3

4

&lt;Pin connection&gt;

        1-4 : Compensator

        2-3 : Detector

ø12.6±0.2

ø12.1±0.1

TGS6810

C

D

VH(3.0V)

GND

Vout

VR

R1

R2

1

4

3

2

Typical values:

R1 = 1k ohm

R2 = 1k ohm

VR =200 ohm

Structure and Dimensions:

Basic Measuring Circuit:

REV: 03/13

The TGS6810 is comprised of  two 
elements: 1) element (D) which is 
sensitive to combustible gases and 
2) a reference element (C) which is 
not sensitive to combustible gases. 
These elements are installed into a 
“Wheastone Bridge”. A variable resistor 
should be adjusted so that the bridge will 
produce a stable baseline signal when 
in an environmnet free of combustible 

gases. When combustible gases are 
present, they will be combusted on 
the detecting element, causing its 
temperature to rise. Accordingly the 
resistance of this element will increase. 
This results in an “out-of-balance” signal 
across the bridge and a corresponding 
change in output voltage which can be 
measured.

Specifications

FIGARO USA, INC.

121 S., Wilke Rd.  Suite 300
Arlington Heights, Illinois  60005
Phone:  (847)-832-1701
Fax:      (847)-832-1705
email: figarousa@figarosensor.com

For information on warranty, please refer to Standard Terms and Conditions of Sale of 

Figaro USA Inc.  All sensor characteristics shown in this brochure represent typical 

characteristics. Actual characteristics vary from sensor to sensor. The only characteristics 

warranted are those in the Specification table above. 

Model number TGS 6810

Sensing element type Catalytic

Target gases Methane, propane, iso-butane

Typical detection range 0~100%LEL of each gas

Standard circuit 
conditions

Operating voltage 3.0±0.1V AC/DC

Electrical 
characteristics 

under standard test 
conditions

Heater current 175mA (typical)

Heater power 
consumption

525mW (typical)

Zero offset -15 ~ +55mV

Output sensitivity 
(?Vout)

methane
13~23mV in 

5000ppm

iso-butane
6~14mV in 
1800ppm

Response time (T90) ?15 sec.

Standard test 
conditions

Test gas conditions
Methane/iso-butane in air

at 20±2?C, 65±5%RH

Circuit conditions 3.0±0.05V AC/DC

Conditioning period 
before test

?30 sec.

Operating conditions -10?C~+50?C, ?95%RH(w/o dew condensation)

Storage conditions -10?C~+60?C, ?95%RH(w/o dew condensation)



 

137 

 

 

 

 

 

 

 

 

 

 

ANEXO C – Certificado da Garrafa de CO a 200ppm 
  









 

138 

 

 

 

 

 

 

 

 

 

 

ANEXO D – Certificado da Garrafa de CO a 5% 
  









 

139 

 

 

 

 

 

 

 

 

 

 

ANEXO E – Manual de utilizador do NB-983CO 
  









 

140 

 

 

 

 

 

 

 

 

 

 

ANEXO G – Manual de utilizador do NB-983LPG 






</field>
	</doc>
</add>