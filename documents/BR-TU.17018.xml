<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.17018</field>
		<field name="filename">23737_Dissertacao_Ricardo_H_Maruta.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">
 

 

RICARDO HITOSHI MARUTA 

UM NOVO ALGORITMO DE GRANULOMETRIA COM APLICAÇÃO 
EM CARACTERIZAÇÃO DE NANOESTRUTURAS DE SILÍCIO 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

SÃO PAULO 
2011 



 

 

RICARDO HITOSHI MARUTA 

UM NOVO ALGORITMO DE GRANULOMETRIA COM APLICAÇÃO 
EM CARACTERIZAÇÃO DE NANOESTRUTURAS DE SILÍCIO 

Dissertação apresentada à Escola Politécnica 
da Universidade de São Paulo para obtenção 
do Título de Mestre em Engenharia Elétrica. 

 
 
 
 
 
 
 
 
 
 
 
 

São Paulo 
2011 



 

 

RICARDO HITOSHI MARUTA 

UM NOVO ALGORITMO DE GRANULOMETRIA COM APLICAÇÃO 
EM CARACTERIZAÇÃO DE NANOESTRUTURAS DE SILÍCIO 

Dissertação apresentada à Escola Politécnica 
da Universidade de São Paulo para obtenção 
do Título de Mestre em Engenharia Elétrica. 

Área de Concentração:  
 Microeletrônica 

Orientador: Prof. Dr. 
Walter Jaimes Salcedo 

São Paulo 
2011 



 

 

Este exemplar foi revisado e alterado em relação à versão original, sob      

responsabilidade única do autor e com a anuência de seu orientador. 

 

São Paulo,  08 de novembro de 2011. 

 

 

Assinatura do autor   ____________________________ 

 

 

Assinatura do orientador   _______________________ 

 

 

 

 

 

 

 

 
 
 
 
 
 

FICHA CATALOGRÁFICA 
 

 

 

 

 

 

 

 

 

 

 

 

 

 
 
Maruta, Ricardo Hitoshi 

Um novo algoritmo de granulometria com aplicação em 
caracterização de nanoestruturas de silício / R.H. Maruta. --  
ed.rev. -- São Paulo, 2011. 

80 p. 
 

Dissertação (Mestrado) - Escola Politécnica da Universidade   
de São Paulo. Departamento de Engenharia de Sistemas Eletrô-
nicos. 
 

1. Processamento digital de imagens 2. Microscopia eletrô- 
nica de varredura 3. Granulometria 4. Correlação cruzada I. Uni-
versidade de São Paulo. Escola Politécnica. Departamento de 
Engenharia de Sistemas Eletrônicos II. t. 

 



 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Dedico este trabalho com todo o amor a minha saudosa 

companheira, amiga e esposa Maria da Conceição de 

Souza, pelo incentivo e compreensão devotados durante 

o desenvolvimento deste trabalho, e a sua dedicação na 

educação de nossos filhos, três preciosos frutos divinos 

concebidos e razões de nossa existência: Fabrício, Fábio 

e Priscilla, cujo amor e persistência permitiram a 

conclusão deste trabalho. 



 

 

AGRADECIMENTOS 

 

Ao Prof. Dr. Walter Jaimes Salcedo, meu orientador, pelo incentivo e compreensão 

no desenvolvimento deste trabalho. 

 

Ao Prof. Dr. Hae Yong Kim cuja perseverança e apoio permitiram o desenvolvimento 

do programa Granul. 

 

A minha esposa Conceição (in memorium) e filhos Fabrício, Fábio e Priscilla pelo 

esforço, incentivo e compreensão nos momentos de fraqueza durante o 

desenvolvimento deste trabalho. 

 

Aos meus pais, Akemi e Nobuiti (in memorium), e irmãos Élcio (in memorium), 

Márcio, Cláudia e Celso pela possibilidade do desenvolvimento educacional e 

profissional ao longo de minha vida. 

 

Ao meu amigo Guillermo Angel Perez Lopez cujas discussões e reflexões permitiram 

a elaboração deste trabalho. 

 

Ao grupo de microeletrônica, especialmente a Danilo Roque Huanca, que com 

paciência, alegria e compreensão possibilitou a realização deste trabalho em 

conjunto. 

 

Ao Laboratório de Microscopia Eletrônica da Escola Politécnica, especialmente a 

Adir José Moreira, pela obtenção das imagens utilizadas no trabalho, material 

técnico para o conhecimento do equipamento e momentos de descontração no 

laboratório. 

 

Ao Conselho Nacional de Desenvolvimento Científico e Tecnológico – CNPq – pela 

bolsa de estudos concedida.  

 
 
 
 



 

 

RESUMO  

 

 Granulometria é o processo usado para medir objetos de diferentes tamanhos 

em imagens de material granular. Frequentemente algoritmos baseados em 

morfologia matemática ou detecção de arestas são utilizados para esta finalidade. 

Propomos uma nova abordagem para a granulometria utilizando correlações 

cruzadas com círculos de tamanhos diferentes. Esta técnica é primeiramente 

adequada para a detecção de objetos de formato circular, mas pode ser estendido 

para outras formas utilizando outros núcleos (kernels) de correlação. 

 Experimentos mostram que o novo algoritmo é robusto ao ruído e pode 

detectar objetos com pouco contraste e/ou com sobreposição parcial. Este trabalho 

também apresenta características quantitativas estruturais da camada de silício 

poroso, obtidas aplicando o algoritmo proposto em imagens de microscopia 

eletrônica de varredura (MEV). 

 O novo algoritmo, que chamamos Granul, calcula as áreas e frequências dos 

poros. Processamentos adicionais utilizando outros algoritmos classificam os poros 

em circulares ou quadrados. Relacionamos os resultados quantitativos obtidos com 

o processo de fabricação e discutimos o mecanismo de formação do poro quadrado 

no silício. O novo algoritmo mostrou-se confiável no processamento de imagens de 

MEV e é uma ferramenta promissora para controle no processo de formação dos 

poros. 

 

 

Palavras-chave: Granulometria. Silício. Microscopia eletrônica de varredura. 

Morfologia matemática. Detecção de arestas. Correlação cruzada. Granul. 



 

 

ABSTRACT 

 

 Granulometry is the process of measuring the size distribution of objects in an 

image of granular material. Usually, algorithms based on mathematical morphology 

or edge detection are used for this task. We propose a entirely new approach for the 

granulometry using the cross correlations with circles of different sizes. This 

technique is primarily adequate for detecting circular shaped objects, but it can be 

extended to other shapes using other correlation kernels.  

 Experiments show that the new algorithm is greatly robust to noise and can 

detect even faint objects and/or objects with partial superposition. This paper also 

reports the quantitative structural characteristics of the porous silicon layer based on 

the proposed algorithm applied to Scanning Electron Microscopy (SEM) images.  

 The new algorithm, that we call Granul,  computes the size distribution of 

pores and classifies the pores in circular or square ones. We relate these quantitative 

results to the fabrication process and discuss the square porous silicon formation 

mechanism. The new algorithm shows to be reliable in SEM images processing and 

is a promising tool to control the pores formation process. 

 

 

Keywords: Granulometry. Silicon. Scanning electron microscopy. Mathematical 

morfology. Edge detection. Cross correlation. Granul. 



 

 

LISTA DE FIGURAS 

Figura 3.1 Grãos empilhados, onde a granulometria baseda em 
morfologia matemática não pode ser aplicada.  .  .  .  .  .  .  .  .   24 

Figura 3.2 Exemplo de imagem de silício poroso onde a granulometria 
baseada em correlação pode ser usada.  .  .  .  .  .  .  .  .  .  .  .   25 

Figura 3.3 Graos.bmp (pixels pretos e brancos foram invertidos, para 
facilitar a visualização).  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   29 

Figura 3.4 GMM binária decompõe a imagem “graos.bmp” em grãos de 
diferentes tamanhos. As imagens foram invertidas 
(preto/branco) para melhorar a visibilidade. ?4(X) é uma 
imagem inteiramente branca. Os elementos estruturantes ?k 
são quadrados com lado 2k+1 pixels .  .  .  .  .  .  .  .  .  .  .  .  .   31 

Figura 3.5 Imagem “inters.bmp” editado manualmente.  .  .  .  .  .  .  .  .  .   32 

Figura 3.6 Decomposição da imagem “inters.bmp”. Somente as 
decomposições importantes são mostradas. Os elementos 
estruturantes ?k são círculos com diâmetro 4k+1 pixels.  . .  .   32 

Figura 3.7 Decomposição da imagem “circulo” usando GMM em níveis 
de cinza  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   36 

Figura 3.8 Espectro de padrões, onde foi identificado corretamente o 
raio do círculo da imagem  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   36 

Figura 3.9 Decomposição da imagem “Silicio.pgm”. Somente as 
decomposições importantes são mostradas. Os elementos 
estruturantes ?k são círculos com diâmetro 6k+1 pixels.  .  .  .   38 

Figura 3.10 Espectro de padrões da imagem “silicio.pgm”. O eixo x indica 
o diâmetro do elemento estruturante em pixels (equivale ao 
diâmetro do grão na figura). O eixo y indica número de pixels 
vezes intensidades de cinza em Pk(X). O gráfico mostra que 
os grãos com diâmetro 13 dominam em área vezes 
intensidade  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   39 

Figura 3.11 (a, b) Imagens extraídas de (KAERZ, 1996), onde GMM não 
pode ser aplicada. (c, d) As arestas detectadas utilizando O 
algoritmo de Canny com parâmetros típicos. Note que muitas 
arestas não foram detectadas, ao mesmo tempo em que 
muitas falsas arestas foram detectadas. A dificuldade em 
detectar as arestas com precisão faz levantar dúvidas sobre 
a possibilidade de se obter uma GDA confiável.  .  .  .  .  .  .  .   41 

   



 

 

Figura 4.1 Alguns dos núcleos utilizados em nossa granulometria. Os 
pixels pretos têm valores negativos, os brancos são 
positivos, e cinzas são zeros.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   

 

44 

Figura 4.2 Janela do programa CorrCirc.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  ..   48 

Figura 4.3 Janela do programa Classify. Poros circulares em vermelhos, 
poros quadrados em azul e as zonas de influência dos poros 
quadrados em amarelo  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   49 

Figura 4.4 Janela do programa Edit.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   50 

Figura 4.4.1 Detalhe de poros alterados manualmente.  .  .  .  .  .  .  .  .  .  .   51 

Figura 4.5 Janela do programa Relat.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   52 

Figura 5.1 (a) Recorte da imagem de material poroso com os 21 poros 
localizados inteiramente dentro da imagem (18 poros nítidos 
e 3 poros pouco nítidos). (b-c) Saída de nosso algoritmo que 
detectou todos os 21 poros ou somente 18 poros nítidos 
dependendo do limiar. (d-e) Limiarização com parâmetros 
diferentes utilizados como primeiro passo da granulometria 
baseada na morfologia. (f-g) Detecção de aresta de Canny 
utilizado como primeiro passo na granulometria baseada na 
detecção de aresta..  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   55 

Figura 5.2 Imagens MEV das amostras de macroporos obtidas por 
recozimento térmico por: (a) 1 hora; (b) 2 horas; (c) 4 horas e 
(d) 8 horas.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   59 

Figura 5.3 Histogramas de poros circulares (a) e quadrados (b) obtidos 
de imagens MEV. Os rótulos internos descrevem as áreas 
dos poros ( em ?m²) correspondendo a cada barra dos 
histogramas. A barra branca corresponde ao número total de 
poros circulares e quadrados.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   60 

Figura 5.4 Resistência por quadrado da superfície do substrato de 
silício em função do tempo de recozimento. O gráfico 
também apresenta a espessura da camada de silício poroso 
após o processo de anodização .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   61 

Figura 5.5 (a) Imagem original. (b) Imagem resultante de CorrCirc de 
Granul. Os furos circulares foram corretamente detectados, 
mesmo aqueles com baixo contraste. (c) Imagem de Classify 
de Granul. Devido à ausência de núcleo retangular, um dos 
furos retangulares foi incorretamente classificado como dois. 
(d) Imagem Edit de Granul. Os dois furos retangulares 
incorretos de Classify foram apagados manualmente, e foi 
inserido um único furo retangular no seu lugar, marcado com 
X verde. (e) Imagem gerada por Relat de Granul, mostrando 
a área calculada dos furos retangulares.  .  .  .  .  .  .  .  .  .  .  .   63 



 

 

   

Figura 5.6 Recorte de imagem de substrato de silício de MEV borrada e 
com baixo contraste. (a) Imagem original. (b) Imagem de 
CorrCirc de Granul. Granul consegue detectar mesmo os 
furos altamente borrados e com baixo contraste. (c) Imagem 
de Classify de Granul, onde os furos retangulares foram 
detectados baseados em área e zona de influência. (d) 
Imagem de Edit de Granul. (e) Imagem de Relat de Granul, 
onde se detecta as áreas dos furos retangulares.  .  .  .  .  .  .   64 

Figura 5.7 Recorte de imagem de substrato de silício de MEV com 
variação de nível de cinza de fundo. (a) Imagem original. (b) 
Imagem de CorrCirc de Granul. Granul consegue detectar os 
furos mesmo com variação de nível de cinza de fundo. (c) 
Imagem de Classify de Granul, onde os furos retangulares 
foram detectados baseados em área e zona de influência. (d) 
Imagem de Edit de Granul. (e) Imagem de Relat de Granul, 
onde se detecta as áreas dos furos retangulares.  .  .  .  .  .  .   65 

Figura 5.8 Recorte de imagem de MEV. Imagem original (a) e imagem 
resultante do subprograma CorrCirc (b)..  .  .  .  .  .  .  .  .  .  .  .  66 

Figura 5.9 Imagem microscópica de sangue, extraída de Sahoolizadeh 
(2009).  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   67 

Figura 5.10 Saída de Granul.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   67 

Figura 5.11 Imagem de fragmentos de pedra, extraída de Salehizadeh 
(2010).  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   68 

Figura 5.12 Pedras detectadas pelo Granul.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   68 

Figura 5.13 Imagem de rolamentos, extraída de Salehizadeh (2010).  .  .   69 

Figura 5.14 Saída de Granul.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   69 

Figura 5.15 Imagem de fragmentos de pedra, extraída de Salehizadeh 
(2010).  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   70 

Figura 5.16 Saída de Granul.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   70 

Figura 5.17 Imagem microscópica da droga ShanYao, extraída de Tong 
(2009).  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   71 

Figura 5.18 Saída de Granul.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   71 

Figura 5.19 Imagem de células de seio, extraída de Cherni (2009).  .  .  .   72 

Figura 5.20 Células detectadas pelo Granul.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   72 



 

 

Figura 5.21 Imagem de células de sangue aglutinadas, extraída de 

Sahoolizadeh (2009).  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   73 

Figura 5.22 Saída de Granul.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   73 

Figura 5.23 Imagem de trabalho artístico extraída de Villa (2010).  .  .  .  .   74 

Figura 5.24 Saída de Granul.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .   74 

 



 

 

LISTA DE TABELAS 

Tabela 3.1 O espectro de padrões da imagem “graos.bmp”  .  .  .  .  .  .  .  .  30 

Tabela 4.1 Exemplo de relatório gerado pelo subprograma Relat.  .  .  .  .   53 

Tabela 5.1 Tempo de recozimento do substrato de silício metalizado e 
espessura da camada porosa formada após o processo de 
anodização.  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  .  56 

 

 



 

 

LISTA DE ABREVIATURAS E SIGLAS 

AC  Alternating current, Corrente Alternada 

AFM  Atomic Force Microscope, Microscópio de Força Atômica 

Al  Alumínio 

C++  Linguagem de programação 

CD  Compact Disc  

DC  Direct current, Corrente Contínua 

FFT  Fast Fourier Transform, Transformada Rápida de Fourier 

GCC  Granulometria Baseada em Correlação Cruzada 

GDA  Granulometria Baseada em Detecção de Arestas 

GMM  Granulometria Baseada em Morfologia Matemática 

GRANUL Programa que implementa a GCC 

GSI  Ultra Large Scale Integration 

HF  Ácido fluorídrico 

KOH  Hidróxido de potássio 

kV  kilovolt 

MEV  Microscópia Eletrônica de Varredura 

PS  Porous Silicon, Silício Poroso 

SAXS  Small Angle X-ray Scattering, Espalhamento de Raio-X em Pequeno 

Ângulo 

SEM  Scanning Electron Microscopy 

Si  Silício 

SNOM Scanning Near-field Optical Microscopy, Microscopia Óptica de Campo 

Próxima 

TEM  Transmission Electron Microscopy, Microscopia Eletrônica de 

Transmissão 

?m  Micrômetro 

?m²  Micrômetro quadrado 

 

 



 

 

SUMÁRIO 

 

LISTA DE FIGURAS 

LISTA DE TABELAS 

LISTA DE ABREVIATURAS E SIGLAS 

1 INTRODUÇÃO ..................................................................................14 

1.1 OBJETIVOS.........................................................................................................14 

1.2 HISTÓRICO DE DESENVOLVIMENTO...............................................................15 

1.3 ORGANIZAÇÃO DA DISSERTAÇÃO..................................................................16 

2 NANOTECNOLOGIA .......................................................................17 

2.1 NANOMETROLOGIA...........................................................................................19 

2.2 SILÍCIO POROSO................................................................................................20 

3 GRANULOMETRIAS ........................................................................22 

3.1 ANÁLISE E PROCESSAMENTO DE IMAGENS.................................................22 

3.2 GRANULOMETRIA..............................................................................................22 

3.3 MORFOLOGIA MATEMÁTICA BINÁRIA.............................................................25 

3.4 GRANULOMETRIA BASEADA EM MORFOLOGIA MATEMÁTICA 

BINÁRIA...............................................................................................................26 

3.4.1 GMM Binária por Abertura............................................................................27 

3.4.2 Exemplo de GMM Binária..............................................................................27 

3.4.3 Exemplo com Grãos Sobrepostos...............................................................32 

3.4.4 Granulometria Teórica..................................................................................33 

3.5 GRANULOMETRIA BASEADA EM MORFOLOGIA MATEMÁTICA  

EM NÍVEIS DE CINZA..........................................................................................34 

3.5.1 GMM em Níveis de Cinza por Abertura........................................................35 



 

 

3.5.2 Exemplo de GMM em Níveis de Cinza 1......................................................36 

3.5.3 Exemplo de GMM em Níveis de Cinza 2......................................................37 

3.6  GRANULOMETRIA BASEADA EM DETECÇÃO DE ARESTAS........................39 

4 GRANULOMETRIA BASEADA EM CORRELAÇÃO ......................42 

4.1 TEORIA................................................................................................................42 

4.1.1 Correlação Cruzada.......................................................................................42 

4.1.2 Granulometria Baseada em Correlação Cruzada (GCC)............................44 

4.2 IMPLEMENTAÇÃO..............................................................................................47 

4.2.1 Subprograma CorrCirc..................................................................................47 

4.2.2 Subprograma Classify...................................................................................48 

4.2.3 Subprograma Edit..........................................................................................50 

4.2.4 Subprograma Relat........................................................................................51 

5 TESTES EXPERIMENTAIS ..............................................................54 

5.1 COMPARAÇÃO DO GCC-GRANUL COM OUTRAS  

GRANULOMETRIAS............................................................................................54 

5.2 GRANUL NA CARACTERIZAÇÃO DE NANOESTRUTURAS.............................56 

5.3 OUTROS EXPERIMENTOS COM GRANUL EM IMAGENS DE MEV................62 

5.4 GRANUL APLICADO EM DIFERENTES TIPOS DE IMAGENS..........................67 

6 CONCLUSÃO ...................................................................................75 

7 REFERENCIAS BIBLIOGRÁFICAS ................................................76 

 

 

 



14 

 

 

1 INTRODUÇÃO 

 

 

1.1 Objetivos 

 

 

 Granulometria é o processo usado para medir objetos/grãos de diferentes 

tamanhos em imagens de material granular. A curva granulométrica ou a distribuição 

de tamanhos ou o espectro de padrões de uma imagem é o histograma dos objetos 

em função do tamanho. O objetivo primário da granulometria é, dada uma imagem, 

obter seu espectro de padrões. Em muitas aplicações, é útil localizar espacialmente 

o local de ocorrência dos grãos, pois a distribuição espacial dos grãos pode conter 

informações ausentes no espectro de padrões. Assim, podemos enumerar como o 

objetivo secundário da granulometria, localizar espacialmente cada grão juntamente 

com as suas propriedades (tamanho, forma, contraste, etc.). 

 Este trabalho apresenta um novo algoritmo para a granulometria. Utilizamos 

correlações cruzadas com círculos de diferentes tamanhos. Esta técnica é 

primeiramente adequada para objetos de formato circular, mais claros ou mais 

escuros que o fundo. Os grãos podem ser tênues e pode haver sobreposições entre 

os grãos. A técnica pode ser estendida para outros formatos (não-circulares) 

utilizando núcleos de correlação não-circulares. Testes mostraram que o novo 

algoritmo é robusto ao ruído e pode detectar objetos com pouquíssimo contraste.  

 Em trabalho conjunto com o Prof. Dr. Hae Yong Kim, escrevemos em C++ um 

pacote de programas chamado Granul. Este programa contém a implementação da 

nova granulometria e outros algoritmos que permitem analisar as características 

estruturais da camada de silício poroso em imagens de microscopia eletrônica de 

varredura (MEV). Para  validar o programa Granul, realizamos testes comparativos 

com as técnicas de morfologia matemática binária e em níveis de cinza.  

 O presente trabalho também relata características estruturais quantitativas da 

camada de silício poroso obtidas, utilizando o programa Granul. Estes resultados 

permitem-nos analisar a formação de poros quadrados correlacionado ao processo 

de recozimento térmico do substrato de silício que foi metalizado previamente pelo 

processo de anodização. 



15 

 

 

 O desenvolvimento do processo de fabricação de nanotubos de silício tem 

sido desenvolvido pelo grupo de pesquisa do Prof. Dr. Walter Jaimes Salcedo. O 

processo de fabricação, baseado na corrosão de substrato de silício poroso, envolve 

diversos parâmetros. Devido a sua importância, existe a necessidade de uma 

ferramenta que forneça informações rápidas e precisas sobre o produto resultante. 

Conforme a distribuição, quantidade e forma de furos presentes na superfície da 

amostra, diversos parâmetros (como temperatura, concentração de eletrólitos, 

deposição de alumínio na superfície do substrato de silício e tempo necessário no 

processo de corrosão) podem ser ajustados para a formação da nanoestrutura. 

 

 

1.2 Histórico de desenvolvimento 

 

 

 Durante o trabalho, foram pesquisadas técnicas existentes na área de visão 

computacional que pudessem ser utilizadas diretamente para a resolução do 

problema proposto. A granulometria parecia ser a técnica mais adequada. 

Entretanto, os algoritmos de granulometria existentes apresentavam resultados 

insatisfatórios.  

 Pesquisamos a granulometria baseada em morfologia matemática (GMM) 

binária. Para aplicar GMM binária, as imagens de MEV (que são originariamente em 

níveis de cinza) devem ser convertidas para imagens binárias. Constatamos que 

esta conversão acarreta perda de muita informação que não poderá ser recuperada 

em etapas posteriores. Assim, GMM binária apresenta resultados precários.  

 GMM em níveis de cinza também foi pesquisada. Entretanto a saída da GMM 

em níveis de cinza apresenta resultados que não satisfazem as necessidades da 

caracterização dos substratos de silício. GMM em níveis de cinza gera espectros de 

padrões dos quais não é possível obter a quantidade de poros, suas dimensões e 

suas distribuições espaciais. 

 A granulometria baseada na detecção de contornos (arestas) mostrou-se 

ineficiente, uma vez que em pré-processamento para a obtenção do contorno dos 

objetos mostrou-se muito sensível aos ruídos. Isto tornava inviável sua utilização 

para a delimitação e medida do tamanho dos poros. 



16 

 

 

 Finalmente partiu-se para a granulometria baseada na correlação cruzada 

que consegue detectar com maior precisão a quantidade, o tamanho e a distribuição 

espacial dos poros da superfície do substrato de silício. Inicialmente tivemos a 

proposta de ter uma ferramenta completamente automática que não foi possível 

devido a particularidades presentes em cada imagem. Porém, as ferramentas de 

software desenvolvidas permitem que o usuário ache facilmente os parâmetros 

adequados. 

 Foram efetuados testes em recortes de imagens de MEV de substratos de 

silício obtidos em diferentes condições e com diferentes brilho, contraste e ruídos, e 

tivemos o reconhecimento preciso dos poros. 

 

 

1.3 Organização da dissertação 

 

 

 Esta dissertação está organizada da seguinte forma: 

• O capítulo 1 trata da introdução do trabalho. 

• O capítulo 2 apresenta a nanotecnologia e uma breve explicação sobre o 

processo de formação do silício poroso. 

• O capítulo 3 apresenta técnicas utilizadas em processamento e análise de 

imagens que são utilizadas para resolver nosso problema. 

• O capítulo 4 apresenta a nova técnica de granulometria desenvolvida para a 

análise de nanoestruturas de silício. 

• O capítulo 5 apresenta testes realizados com diferentes técnicas de 

granulometria e o programa desenvolvido. 

• O capítulo 6 apresenta as conclusões deste trabalho. 

• O capítulo 7 apresenta referências bibliográficas utilizadas para a elaboração 

deste trabalho. 

 

 

 



17 

 

 

2 NANOTECNOLOGIA 

 

 

 Ainda antes dos cientistas desenvolverem instrumentos para ver e manipular 

átomos individuais, alguns pioneiros mais ousados se colocavam a perguntar: o que 

aconteceria se pudessem construir novos materiais, átomo a átomo, manipulando 

diretamente os tijolos básicos da matéria? Um desses pioneiros foi um dos maiores 

físicos do século XX: Richard Feynman (FEYNMAN, 2005). Uma de suas invenções 

foi o primeiro uso de processadores paralelos do mundo. Em Los Alamos, na época 

do desenvolvimento da primeira bomba nuclear, havia a necessidade de se 

realizarem rapidamente cálculos muito complexos. Feynman, então, teve a idéia de 

dividir os cálculos em operações mais simples, que podiam ser realizadas 

simultaneamente, e encheu uma sala com jovens secretárias, cada qual operando 

uma máquina de calcular (naquela época não havia computadores, nem 

calculadoras eletrônicas, e as contas tinham de ser feitas à mão, ou com 

calculadoras mecânicas limitadas às mais simples operações aritméticas).  

 Atualmente, essa mesma idéia é usada em computadores de alto 

desempenho, com microprocessadores de alta velocidade. Em 1959, em uma 

palestra no Instituto de Tecnologia da Califórnia, Feynman sugeriu que, em um 

futuro não muito distante, os engenheiros poderiam pegar átomos e colocá-los onde 

bem entendessem desde que, é claro, não fossem violadas as leis da natureza. Com 

isso, materiais com propriedades inteiramente novas poderiam ser criados. Esta 

palestra, intitulada "Há muito espaço lá embaixo" é, atualmente, tomada como o 

ponto inicial da nanotecnologia (FEYNMAN, 1959). A idéia de Feynman é que não 

precisamos aceitar os materiais com que a natureza nos provê como os únicos 

possíveis no universo. Hoje, qualquer toca-discos de CDs é uma prova da verdade 

do que Feynman dizia. Os materiais empregados na construção dos lasers desses 

toca-discos não ocorrem naturalmente, mas são fabricados pelo homem, camada 

atômica sobre camada atômica (BINZ; SCHEMPP, 2001).  

 O objetivo da nanotecnologia, seguindo a proposta de Feynman, é o de criar 

novos materiais e desenvolver novos produtos e processos baseados na crescente 

capacidade da tecnologia moderna de manipular isoladamente átomos e moléculas. 

A idéia consiste em criar, caracterizar, produzir e aplicar estruturas, dispositivos e 



18 

 

 

sistemas, controlando forma, tamanho e propriedades na escala nanométrica, 

utilizando técnicas como “bottom-up” e “top-down”. 

 Os interesses na manipulação de átomos e moléculas são diversos e dentre 

eles podemos destacar a curiosidade científica, a necessidade de obtenção de 

dispositivos com dimensões físicas na escala GSI (“Ultra Large Scale Integration”) 

(MURARKA, 1997), a descoberta de novos materiais, novos dispositivos, novos 

processos eletrônicos e produtos mais eficientes; numerosas aplicações, e 

benefícios esperados no desenvolvimento de remédios, tratamento de água, 

tecnologias de informação e telecomunicações, materiais mais resistentes e leves, 

etc (WILSON, 2007). 

 A manipulação da matéria na escala nanométrica leva ao aparecimento de 

efeitos quânticos, sendo que efeitos gravitacionais perdem a importância. Além 

disso, propriedades ópticas e forças atômicas e moleculares (forças de Van der 

Waals) podem ser estudadas e exploradas (STEDMAN, 1993). 

 No Brasil, a nanotecnologia esta sendo estudada e desenvolvida 

intensamente por diferentes grupos de pesquisa da Física, Química, Biologia e 

Engenharia com alguns resultados importantes. Mesmo os cientistas mais 

conservadores projetam um futuro inovador a partir da nanociência e da 

nanotecnologia. São áreas consideradas emergentes e, também por isso, 

estratégicas e extremamente promissoras, com possibilidade de alcançar 

praticamente todos os campos do conhecimento e movimentar quantias 

astronômicas de dinheiro. Imagina-se que, brevemente, a capacidade de manipular, 

fabricar e funcionalizar objetos com medida equivalente ao milionésimo do milímetro 

gerará sistemas capazes de transportar, através de organismo humano, drogas que 

atingirão o ponto exato de um tumor. A nanotecnologia está totalmente ligada à 

capacidade dos cientistas de sintetizarem (criarem) novos materiais e de organizá-

los, por exemplo, camada molecular por camada molecular, por exemplo, em um 

sensor que reage eletricamente a diferentes produtos químicos. Aplicações em 

catálise, isto é, na química e na petroquímica (THOMAS; DEGNA, 2003), em 

dosadores (COUVREUR et al, 2006), em sensores (RIU; MAROTO; RIUS, 2006), 

em materiais magnéticos (LIU et al, 2001), em computação quântica (BERMAN; 

DOOLEN, 2000); são alguns exemplos da nanotecnologia sendo desenvolvida no 

Brasil.  



19 

 

 

 As aplicações de novos materiais desenvolvidos a partir da nanotecnologia, 

são bem abrangentes. Economia de energia, proteção ao meio ambiente, menor uso 

de matérias primas escassas, são possibilidades concretas agregadas à 

nanotecnologia da atualidade. 

 

 

2.1 Nanometrologia  

 

 

 A nanometrologia é a ciência responsável pela medição em escala 

nanométrica. Os principais parâmetros de medição na nanotecnologia são: o 

comprimento ou tamanho, força, massa, propriedades elétricas, etc. O avanço das 

técnicas de medição possibilita o desenvolvimento de novos materiais, processos 

industriais e produtos. 

 Dentro do contexto do estudo de materiais, processos e dispositivos em 

nanotecnologia, existem diversas técnicas que podem ser utilizadas para o 

desenvolvimento de novos materiais e novos dispositivos. Dentre as várias técnicas 

podemos mencionar a microscopia eletrônica de varredura (MEV) e de transmissão 

(MET) (CROWFORD; BURKE, 2004; WIRTH, 2009), a microscopia de força atômica 

(BINNING et al, 1987), e espalhamento de raios-X em pequeno ângulo (SAXS) 

(LINDGREN, 2004), a espectroscopia de fotoluminescência, a espectroscopia de 

espalhamento Raman (EFREMOV; ARIESE; GOOIJER, 2008; KUDELSKI, 2009) e a 

microscopia óptica de campo próximo (SNOM) (KAUPP et al., 2001). 

 Um tipo de nano material que tem aparecido nos últimos dez anos refere-se a 

estruturas de silício poroso, estes materiais apresentam propriedades quânticas e 

ópticas que estão sendo aplicadas na fabricação de dispositivos optoeletrônicos e 

sensores químicos. A proposta deste trabalho é o processamento de imagens MEV 

de estruturas de silício poroso para serem utilizados na otimização do processo de 

fabricação. 

 

 

 

 

 



20 

 

 

2.2 Silício poroso 

 

 

 O silício poroso (PS) constitui uma classe de material que exibe diversas 

propriedades ópticas. Este material é relativamente fácil de fabricar, no entanto 

mecanicamente frágil e complexo (BARILLARO; NANNINI; PIERI, 2002). A 

distribuição, tamanho e arranjo dos poros definem as características ópticas do 

cristal fotônico bidimensional.  

 Filmes de PS não se constituem num material novo, pois sua obtenção já foi 

relatada na década de 50. Mas, a partir dos anos 90, nota-se um interesse marcante 

da comunidade científica em estudar as propriedades deste material, principalmente 

suas propriedades ópticas. 

 A obtenção do filme de PS é feita através de um processo de anodização 

eletroquímica das lâminas de silício em uma solução eletrolítica de ácido fluorídrico 

(HF) concentrado, porém, o controle das suas características estruturais resulta 

complexo. Basicamente, a estrutura dos filmes de PS é controlada através da 

densidade de corrente de anodização, da concentração do eletrólito e da 

condutividade da lâmina de silício (BARILLARO; NANNINI; PIERI, 2002).  

 Um número significativo de modificações tem sido introduzido no processo 

convencional da obtenção dos filmes de PS, com a finalidade de melhorar e 

controlar a qualidade e as propriedades desses filmes (SALCEDO, 1998). Por 

exemplo, Doant e seus colaboradores formaram camadas de PS assistidas por luz 

com a finalidade de provocar o deslocamento da banda de emissão para uma faixa 

de energia que vai do vermelho ao azul. Theib e seus colaboradores (THEIB, 1996) 

formaram estruturas de PS do tipo multicamadas, variando-se periodicamente a 

densidade de corrente de anodização.  

 A atenção primária da comunidade científica foi concentrar seus esforços na 

possibilidade de aplicação deste material em dispositivos ópticos, como guias de 

onda, moduladores, detectores de luz e diodos emissores de luz (PALSULE et al., 

1997). 

 Para a formação do PS pode-se utilizar lâminas tipo P e tipo N. Sabendo-se 

que a formação do PS necessita da existência de lacunas, o silício (Si) tipo P 

apresenta formação de PS em todas suas regiões. Quando se necessita formar 

poros em regiões bem específicas, utilizamos o Si tipo N. A presença de lacunas 



21 

 

 

permite a dissolução do silício no eletrólito. Sendo os elétrons as cargas majoritárias 

do Si tipo N, iluminando-se as costas da lâmina com energia suficiente (energia 

acima do band gap), pares elétron-lacuna podem ser gerados por um processo de 

absorção de fótons. As lacunas geradas por energia luminosa são atraídas 

eletricamente para regiões de alto campo elétrico, causando a rápida dissolução 

nestas regiões. Inicialmente, o campo elétrico tenderá a concentrar-se nas 

descontinuidades da superfície da lâmina. Defeitos nas superfícies atuam como 

pontos iniciais para a formação dos poros. Definindo-se os defeitos na superfície, 

determinam-se onde os poros serão propagados. Para esta definição de defeitos, 

utiliza-se a corrosão por KOH, pois este reagente permite uma corrosão 

anisotrópica, dando um perfil piramidal na região onde os poros serão formados. 



22 

 

 

3 GRANULOMETRIAS  

 

 

3.1 Análise e Processamento de Imagens 

 

 

 A visão computacional é a ciência e tecnologia das máquinas que veem, onde 

ver neste caso significa que a máquina é capaz de extrair informações necessárias 

para resolver uma tarefa a partir de uma imagem. A visão computacional apresenta 

dois níveis de abstração: o processamento de imagens e a análise de imagens.  

 O processamento de imagens consiste em um conjunto de técnicas para 

capturar, representar e transformar as imagens com o auxílio do computador. O 

processamento engloba operações como redução de ruído, aumento de contraste, 

extração de borda e compressão de imagens. O processamento melhora a 

qualidade visual de aspectos estruturais da imagem, facilitando a percepção humana 

e a interpretação automática por meio eletrônico.  

 A análise de imagens consiste em extrair as informações da imagem. Por 

exemplo, pode-se extrair informações baseadas em forma, textura, níveis de cinza 

ou nas cores presentes nas imagens. A análise engloba tarefas como segmentação 

de imagens, descrição dos objetos para representar o conteúdo da imagem de uma 

maneira reduzida e reconhecimento ou classificação desses objetos.  

 

 

3.2 Granulometria 

 

 

 Granulometria é o processo usado para medir objetos/grãos de diferentes 

tamanhos em imagens de material granular. A granulometria pode ser óptica ou 

baseada em alguma outra propriedade física, como baseada em magnetismo 

(BEAN, 1956). Neste trabalho, consideraremos somente a granulometria óptica. 

A curva granulométrica ou o espectro de padrões de uma imagem é o 

histograma dos objetos em função do tamanho. O objetivo primário da granulometria 

é, dada uma imagem, obter seu espectro de padrões. Em muitas aplicações, é útil 



23 

 

 

localizar espacialmente o local de ocorrência dos grãos, pois a distribuição espacial 

dos grãos pode conter informações ausentes no espectro de padrões. Assim, 

podemos enumerar como o objetivo secundário da granulometria individualizar e 

localizar espacialmente cada grão juntamente com as suas propriedades (tamanho, 

forma, contraste, etc.). 

Há dois grupos principais de algoritmos de granulometria baseada na 

imagem:  

 (1) Granulometria baseada na morfologia matemática. Daqui em diante, 

abreviaremos estas técnicas de GMM.  

 (2) Granulometria baseada na detecção de arestas. Daqui em diante, 

abreviaremos estas técnicas de GDA.  

 GMM obtém o espectro de padrões da imagem sem segmentá-la 

explicitamente.  

Dougherty et al. apresentaram uma GMM popular para imagens binárias 

(DOUGHERTY et al., 1992c). Raimundo et al. utilizaram este algoritmo para 

caracterizar o material poroso (RAIMUNDO et al., 2009). Entretanto, este algoritmo 

não pode ser aplicado diretamente em imagens em níveis de cinza. Se a imagem 

original é em níveis de cinza, este algoritmo necessita de algum modo convertê-la 

em uma imagem binária e qualquer binarização descarta muita informação 

importante.  

GMM para imagens binárias pode ser estendida naturalmente para imagens 

em níveis de cinza. Vincent apresentou um algoritmo para acelerar a GMM para 

imagens em níveis de cinza (VINCENT, 1994a). Uma demonstração deste algoritmo 

com o código fonte estão disponíveis em (MATHWORKS, 2009). Porém a saída 

deste algoritmo é altamente não-intuitiva, dificultando o seu uso na prática. O 

algoritmo representa o espectro de padrões como a “soma dos valores dos pixels 

numa imagem resultante de operação abertura em função do tamanho”. 

Obviamente, o usuário quer obter simplesmente a “quantidade de objetos em função 

do tamanho”.  

 Granulometria baseada na detecção de arestas (MAERZ, 1996) detecta as 

arestas da imagem utilizando os operadores convencionais de gradiente e 

limiarização. Os objetos são delimitados utilizando as arestas detectadas. A 

detecção de aresta é uma operação sensível ao ruído e pode não ser confiável. 

Porém, em muitas aplicações práticas, esta pode ser a única granulometria 



24 

 

 

aplicável. Veja a figura 3.1. A granulometria baseada em morfologia matemática 

supõe que os grãos são mais claros ou mais escuros que o fundo. Porém, na figura 

3.1, os grãos estão empilhados formando um volume 3-D. Assim, o fundo não é 

visível. Somente as arestas caracterizam os grãos. 

 

 

Figura 3.1 - Grãos empilhados, onde a granulometria baseada em morfologia 

matemática não pode ser aplicada (figura extraída de (KAERZ, 1996)). 

 

 Este trabalho apresenta uma nova abordagem para a granulometria. 

Utilizamos correlações cruzadas com círculos de diferentes tamanhos. Daqui em 

diante, denotaremos esta técnica de GCC. Esta técnica é primeiramente adequada 

para objetos de formato circular, mais claros ou mais escuros que o fundo. Os grãos 

podem ser tênues e pode haver sobreposições entre os grãos. A técnica pode ser 

estendida para outros formatos (não-circulares) utilizando núcleos de correlação 

não-circulares. Testes mostraram que o novo algoritmo é robusto ao ruído e pode 

detectar objetos com pouquíssimo contraste. A figura 3.2 mostra um exemplo de 

imagem que pode ser adequadamente analisado usando a nossa técnica. 

 

 



25 

 

 

 

Figura 3.2 - Exemplo de imagem de silício poroso onde a granulometria baseada em 

correlação pode ser usada. 

 

 

3.3 Morfologia matemática binária 

 

 

Antes de explicarmos GMM, apresentaremos alguns conceitos de morfologia 

matemática. 

 A morfologia matemática é uma metodologia para análise de imagens 

baseada em operadores que transformam imagens. A teoria de morfologia 

matemática foi formulada na década de 1960 por Georges Matheron, Jean Serra e 

seus colaboradores da Escola Nacional de Minas de Paris, França (MATHERON, 

1967; SERRA, 1967a; SERRA, 1967b; HAAS, 1967). Foi criada originalmente para 

manipular imagens binárias e posteriormente foi estendida para imagens em níveis 

de cinza.  

 Um operador morfológico M é um mapeamento de um conjunto 2??A  que 

representa uma imagem e de um outro conjunto 2??B  chamado elemento 

estruturante, num terceiro conjunto 2??C . Isto é, )()()(: 222 ??? PPPPPPPPPPPP ?×M , onde 

)(
2
?PPPP  denota o espaço dos subconjuntos de 2? .  

 A dilatação e a erosão são operadores morfológicos elementares da 

morfologia matemática e são úteis na construção de operadores mais sofisticados.  

 Vamos definir a translação da imagem binária 2??A  pelo vetor 2??p  

como: 

{ }AapapAA
p

?+?+? | . 



26 

 

 

 Usando a translação, a dilatação ou soma Minkowski de 2??A  pelo elemento 

estruturante 2??B  é definida: 

{ }BbAabaABA
B

??+???? ,|)(  

 De forma semelhante, a erosão ou subtração Minkowski de 2??A  pelo 

elemento estruturante 2??B  é definida: 

}|{)(
2

AxBxABA
B

?+???? ??  

 A abertura de A por B, denotada BAo , é definida como: 

BBABA ?? )( ?o  

 O fechamento de A por B, denotado BA • , é definido como: 

BBABA ?)( ??•  

 

 

3.4 Granulometria baseada em morfologia matemática binária 

 

 

GMM binária é a estimativa da distribuição de tamanhos de objetos numa 

imagem binária. Para objetos com formas regulares, operações sucessivas de 

abertura morfológica com elementos estruturantes de tamanhos gradualmente 

maiores podem ser utilizadas para indiretamente medir o tamanho dos objetos. A 

diferença entre a imagem e sua abertura é calculada, o tamanho do elemento 

estruturante é aumentado e o processo é repetido até que a operação de abertura 

remova todos os objetos (PEDRINI, 2008; DOUGHERTY, 1992b; FACON, 1996). A 

granulometria pode ser vista intuitivamente como um processo de peneiramento. A 

passagem de uma peneira com diferentes tamanhos de malha (elemento 

estruturante) é varrido pela imagem  e objetos com tamanhos menores que a malha 

são retirados da imagem. O processo é repetido até que todos os objetos sejam 

retirados da imagem original. 

 

 

 

 



27 

 

 

3.4.1 GMM binária por abertura 

 

 

Apresentamos a seguir a definição da GMM por abertura para imagens biná-

rias. Este é a GMM mais popularmente utilizada. 

Seja B um elemento estruturante de um espaço euclidiano ou grade E, e con-

sidere a família { Bk }, k=0, 1, ..., dada por: 

43421
 vezes

...
k

k
BBB ??=  

onde ? denota a dilatação morfológica. Por convenção, B0 é o conjunto que contém 

somente a origem de E e B1 = B. 

Seja X um subconjunto de E (ou seja, uma imagem binária em morfologia ma-

temática), e considere a série de conjuntos { })(Xk? , k = 0, 1, ... dada por: 

kk
BXX o=? )( , 

onde ° denota a abertura morfológica. Note que XX =? )(0  

O espectro de padrões ou a distribuição de tamanhos de X é a coleção de 

números { })( XPk , k = 0, 1, ... dada por: 

)()()(
1

XXXP
kkk +

???=  

No caso de imagens binárias, a operação ou-exclusivo pode substituir a ope-

ração subtração ponto a ponto na equação acima. O parâmetro k é referido como o 

tamanho, e o componente k do espectro de padrões { })(XPk  fornece uma estimativa 

para a quantidade de grãos de tamanho k na imagem X. Picos de { })(XPk  indicam 

quantidades relativamente grandes de grãos do tamanho correspondente. Como 

veremos adiante, a unidade deste espectro de padrões é o número de pixels (ou á-

rea ou volume). Se quiser obter do espectro de padrões com a unidade em número 

de grãos, { })(XPk  deve ser dividida pelo número de pixels (ou área ou volume) dos 

elementos estruturantes utilizados. 

 



28 

 

 

3.4.2 Exemplo de GMM binária 

 

 

O exemplo abaixo ilustra estes conceitos. O programa 3.1 “graos.cpp” abaixo 

foi escrito em C++ utilizando a biblioteca Proeikon (PROEIKON, 2011) e gera uma 

imagem binária 160x240 com 20 grãos de tamanho 1x1, 20 de tamanho 3x3, 20 de 

tamanho 5x5 e 20 de tamanho 7x7. Estes grãos podem estar parcial ou completa-

mente sobrepostos. 

Programa 3.1: graos.cpp 
 

#include&amp;lt;proeikon&gt; 

int main() 

{ IMGBIN a(160,240,preto); 

  for (int i=1; i&lt;5; i++) { 

    a=a+IMGBIN(3,3,branco); 

    for (int j=0; j&lt;20; j++) { 

      int l=myrand()%a.nl(); 

      int c=myrand()%a.nc(); 

      a(l,c)=branco; 

    } 

  } 

  imp(a,"graos.bmp"); 

} 

  



29 

 

 

 

 

Figura 3.3 - graos.bmp (pixels pretos e brancos foram invertidos, para facilitar a vi-

sualização). 

 

O programa 3.2 “granulb.cpp” abaixo calcula o espectro de padrões usando 

elementos estruturantes quadrados: 

 

Programa 3.2: granulb.cpp 
 

#include&amp;lt;proeikon&gt; 

 

int brancos(IMGBIN d) 

{ int s=0; 

  for (int i=0; i&lt;d.n(); i++) s+=d(i); 

  return s; 

} 

 

int main(int argc, char **argv) 

{ IMGBIN a; le(a,"graos.bmp"); 

  int eemax=5; 

  VETOR&amp;lt;IMGBIN &gt; ee(eemax), gama(eemax); 

  char st[256]; 

  for (int k=0; k&lt;eemax; k++) { 

    ee(k)=IMGBIN(2*k+1,2*k+1,branco); 

    sprintf(st,"ee_%d.bmp",k); imp(ee(k),st); 

    gama(k)=abert(a,ee(k));  

    sprintf(st,"gama_%d.bmp",k); imp(gama(k),st); 

  }  

  for (int k=0; k&lt;eemax-1; k++) 

    printf("P_%d(X)=%d\n",k, 

      (brancos(gama(k))-brancos(gama(k+1)))); 

} 



30 

 

 

 

O programa granulb gera o espectro de padrões da primeira coluna da tabela 

3.1. Note que esse espectro de padrões não descreve corretamente a imagem 

“graos.bmp” que possuem 20 grãos de cada tamanho. Dividindo o espectro de pa-

drões pelo número de pixels dos elementos estruturantes (segunda coluna), obte-

mos o espectro de padrões correto (terceira coluna). Esse espectro dá resultado um 

pouco menor que 20 para cada tamanho do grão devido aos pixels sobrepostos. 

 

Tabela 3.1 - O espectro de padrões da imagem “graos.bmp”. 

Espectro de padrões 
(em número de pixels) 

Lado do elemento es-
truturante 

Número de pixels do 
elemento estruturante 

Espectro de padrões 
normalizado (em nú-
mero de grãos). 

P_0(X)=19 

P_1(X)=170 

P_2(X)=463 

P_3(X)=976 

1 

3 

5 

9 

1 

9 

25 

49 

19,0 

18,9 

18,5 

19,1 

 

A figura 3.4 ilustra a decomposição da imagem “graos.bmp” em grãos de dife-

rentes tamanhos. Note que GMM binária consegue localizar espacialmente cada 

grão, com a exceção de grãos sobrepostos. 

  



31 

 

 

 

 
?0(X). Lado 1 pixel. 

 
P0(X)= ?0(X)- ?1(X) 

 
?1(X). Lado 3 pixels. 

 
P1(X)= ?1(X)- ?2(X) 

 
?2(X). Lado 5 pixels. 

 
P2(X)= ?2(X)- ?3(X) 

 
?3(X). Lado 7 pixels. 

 
P3(X)= ?3(X)- ?4(X) 

Figura 3.4 - GMM binária decompõe a imagem “graos.bmp” em grãos de diferentes 

tamanhos. As imagens foram invertidas (preto/branco) para melhorar a visibilidade. 

?4(X) é uma imagem inteiramente branca. Os elementos estruturantes ?k são qua-

drados com lado 2k+1 pixels. 

  



32 

 

 

3.4.3 Exemplo com grãos sobrepostos 

 

 

O exemplo abaixo ilustra o comportamento de GMM binária para grãos so-

brepostos. Executando GMM binária nessa imagem usando elementos estruturantes 

circulares, obtemos a decomposição da figura 3.5. Note que o método não permite 

contar (sem algum processamento adicional) quantos grãos de determinado tama-

nho tem na imagem. Assim, não é possível obter espectro de padrões com uma in-

terpretação intuitiva e útil. Se dois grãos estão sobrepostos, a região de intersecção 

é atribuída ao grão de tamanho maior.  

 
Figura 3.5 - Imagem “inters.bmp” editado manualmente. 

 
?6(X). Diâmetro 25 pixels. 

 
P6(X)= ?6(X)- ?7(X) 

 
?7(X). Diâmetro 29 pixels. 

 
P7(X)= ?7(X)- ?8(X) 

 
?8(X). Diâmetro 33 pixels. 

 
P8(X)= ?8(X)- ?9(X) 

Figura 3.6 - Decomposição da imagem “inters.bmp”. Somente as decomposições 
importantes são mostradas. Os elementos estruturantes ?k são círculos com diâme-
tro 4k+1 pixels.  



33 

 

 

3.4.4 Granulometria teórica 

 

 

 Matheron (MATHERON,1975) propôs um conjunto de regras que devem ser 

verificadas para se obter uma boa granulometria. São apresentados três axiomas: 

 Sejam X a imagem a ser analisada e ??????? a transformação que permite 
realizar uma análise granulométrica. ??????? representa exatamente o refugo da 
peneira de tamanho ? . 

1. A transformação morfológica deve ser anti-extensiva; o conjunto 
transformado deve ser menor que o de origem, ou seja: 

? ? 	 0,?????X? 
 ?   ? ?   

2. A transformação morfológica deve ser crescente, ou seja: 

?? 	 0,   ? 
 ? ? ??????? 
 ??????? ?? 

3. Seja a transformação de uma imagem X a partir de duas transformações 
morfológicas sucessivas de parâmetros respectivos ?1 e ?2. O resultado 
final deve ser idêntico qualquer que seja a sequência de transformações 
empregada. Além disso, o resultado deve ser idêntico ao obtido pela 
transformação de maior parâmetro ?: 

??1,?2 	 0,????? ?????????? ? ??????????????? ? ???????,?????? ?? 

 O processo de peneiramento (por aberturas) obedece a esses três axiomas. 

No primeiro, porque qualquer conjunto peneirado fica menor que o conjunto inicial; 

no segundo, porque a quantidade de objeto depositado é proporcional a quantidade 

analisada e no terceiro, porque usar uma peneira grossa e depois uma fina ou uma 

fina e depois uma grossa resulta no mesmo peneiramento e o resultado fica idêntico 

ao peneirar com uma peneira grossa. O terceiro axioma é a propriedade de 

idempotência: 

 ??1 	 0, ?????????????????? ? ????????   ?? 

O parâmetro ? usado na  granulometria representa um parâmetro de tamanho 
(comprimento, largura, área,volume).  

 

  



34 

 

 

3.5 Granulometria baseada em morfologia matemática em níveis de cinza 

 

 

 A teoria da morfologia matemática em níveis de cinza foi elaborada por Serra 

(SERRA, 1988) e é utlizada por Dougherty (DOUGHERTY, 1990a; DOUGHERTY, 

1990b; DOUGHERTY, 1992a) e Vicent (VICENT, 1994a; VICENT, 1994b; VICENT, 

1996;  VICENT, 2000a; VICENT,2000b) na elaboração de algoritmos para a 

granulometria em imagens em níveis de cinza.  

 GMM em níveis de cinzas pode ser obtida simplesmente trocando os 

operadores morfológicos binários pelos equivalentes em níveis de cinza. 

Aparentemente, GMM em níveis de cinza não tem a mesma popularidade que GMM 

binária. Uma possível explicação é que o espectro de padrões de GMM em níveis de 

cinza é ainda menos intuitivo de se interpretar que GMM binária. 

 Descrevemos abaixo as definições básicas de Morfologia Matemática em 

níveis de cinza. 

 Uma imagem em níveis de cinzas f é definida como uma função ?? ?2:f . 

Na prática, a imagem não está definida em todo o domínio, mas somente num 

retângulo chamado suporte. O suporte de f é um subconjunto finito de 2?  onde a 

imagem está realmente definida, denotada por )( fS .  

 Dilatação ou soma Minkowski da imagem f pelo elemento estruturante b é 

definida (f e b são imagens em níveis de cinza): 

{ } 2
)ˆ(),(

),(,),(ˆ),(max),)(( ??+++=
?

tsyxbytxsftsbf
bSyx

?  

O circunflexo indica a dupla reflexão em torno da origem, ou uma rotação de 180 

graus. Deve-se considerar que fora do suporte, a imagem está preenchida com ?? . 

 Erosão ou subtração Minkowski da imagem f pelo elemento estruturante b é 

definida: 

{ } 2
)(),(

),(,),(),(min),)(( ???++=
?

tsyxbytxsftsbf
bSyx

?  

Fora do suporte, deve-se considerar que f está preenchida com ?+ .  

 As operações de abertura e fechamento em imagens em tons de cinza 

possuem as mesmas expressões daquelas definidas para imagens binárias, exceto 

que as operações de dilatação e erosão são definidas para imagens em tons de 

cinza.  Assim, a abertura de A por B, denotada BAo , é definida como: 



35 

 

 

BBABA ?? )( ?o  

 O fechamento de A por B, denotado BA • , é definido como: 

BBABA ?)( ??•  

 

 

3.5.1 GMM em níveis de cinza por abertura 

 

 

Exatamente as mesmas operações da GMM binária por abertura podem ser 

utilizadas aqui, trocando evidentemente as operações binárias pelas corresponden-

tes em níveis de cinza. 

Seja B um elemento estruturante de um espaço euclidiano ou grade E, e con-

sidere a família { Bk }, k=0, 1, ..., dada por: 

43421
 vezes

...
k

k
BBB ??=  

onde ? denota a dilatação morfológica. Por convenção, B0 é o conjunto que contém 

somente a origem de E e B1 = B. 

Seja X um subconjunto de E (ou seja, uma imagem binária em morfologia ma-

temática), e considere a série de conjuntos { })(Xk? , k = 0, 1, ... dada por: 

kk
BXX o=? )( , 

onde ° denota a abertura morfológica. Note que XX =? )(0  

O espectro de padrões ou a distribuição de tamanhos de X é a sequência de 

números { })( XPk , k = 0, 1, ... dada por: 

)()()(
1

XXXP
kkk +

???= . 

A unidade deste espectro de padrões é o número de pixels vezes a variação 

de nível de cinza de uma abertura para a outra. Isto é ainda menos intuitivo do que o 

número de pixels do caso GMM binária, o que talvez explique a sua pouca populari-

dade.  

  



36 

 

 

3.5.2 Exemplo de GMM em níveis de cinza 1 

 

 

Um exemplo de granulometria baseada em Morfologia Matemática em níveis de 

cinza é apresentada nas figuras 3.7 e 3.8. Foi utilizado o algoritmo em Matlab 

disponível publicamente (MATHWORKS, 2009). 

 
Imagem círculo 

 
Furos com raio 1 

 
Furos com raio 3 

 
Furos com raio 4 

 
Furos com raio 7 

 
Furos com raio 9 

 
Furos com raio 11 

 
Furos com raio 13 

Figura 3.7 - Decomposição da imagem “círculo” usando GMM em níveis de cinza. 

   

 

Figura 3.8 - Espectro de padrões, onde foi identificado corretamente o raio do círculo 

da imagem. 

 

  

  



37 

 

 

3.5.3 Exemplo de GMM em níveis de cinza 2 

 

 

Um outro exemplo de granulometria baseada em morfologia matemática em níveis 

de cinza é apresentada nas figuras 3.9 e 3.10. Foi feito um programa em C++ 

usando a biblioteca Proeikon (programa 3.3). Note nas figuras 3.9 e 3.10 que GMM 

em níveis de cinza não fornece explicitamente a quantidade de grãos em função do 

diâmetro. Também não fornece explicitamente a posição dos grãos. 

 

Programa 3.3: granulg.cpp 
 
#include&amp;lt;proeikon&gt; 

 

int soma(IMGGRY d) 

{ int s=0; 

  for (int i=0; i&lt;d.n(); i++) s+=d(i); 

  return s; 

} 

 

int main(int argc, char **argv) 

{ IMGGRY a; le(a,"silicio.pgm"); a=-a; 

  int eemax=8; 

 

  VETOR&amp;lt;IMGSHT &gt; ee(eemax); 

  VETOR&amp;lt;IMGGRY &gt; gama(eemax), dec(eemax-1); 

  VETOR&amp;lt;int &gt; conta(eemax); 

  char st[256]; 

 

  for (int k=0; k&lt;eemax; k++) { 

    int diametro=1+6*k; 

    conta(k)=eecircular(diametro,ee(k)); 

    gama(k)=abert(a,ee(k));  

    sprintf(st,"gama_%02d.pgm",k); imp(-gama(k),st); 

  }  

 

  for (int k=0; k&lt;eemax-1; k++) { 

    dec(k)=gama(k)-gama(k+1); 

    sprintf(st,"dec_%02d.pgm",k); imp(-dec(k),st); 

  }  

 

  for (int k=0; k&lt;eemax-1; k++) 

    printf("P_%d(X)=%d\n",k,(soma(gama(k))-soma(gama(k+1))) ); 

} 

 

  



38 

 

 

 
Imagem X. Silicio.pgm 

 

 
?1(X). Diâmetro 7 pixels. 

 
P1(X)= ?1(X)- ?2(X) 

 
?2(X). Diâmetro 13 pixels. 

 
P2(X)= ?2(X)- ?3(X) 

 
?3(X). Diâmetro 19 pixels. 

 
P3(X)= ?3(X)- 44(X) 

Figura 3.9 - Decomposição da imagem “Silicio.pgm”. Somente as decomposições 
importantes são mostradas. Os elementos estruturantes ?k são círculos com 
diâmetro 6k+1 pixels. 
 



 

 

Figura 3.10 - Espectro 
diâmetro do elemento estruturante
figura). O eixo y indica número
gráfico mostra que os grãos
 
 
 

3.6 Granulometria baseada

 

 

 Observe a figura 3.1, que mostra 

Claramente, não se pode aplicar GMM (tanto binária quanto em níveis de cinza) 

nesta imagem, pois não há distinção de níveis de cinza dos grãos para a imagem de 

fundo. Se quisesse realmente usar GMM, teria que pegar uma camada de grãos e 

colocá-lo sobre um fundo com alto contraste (por exemplo, o fundo branco ou preto). 

A única característica da 

arestas que delimitam os contornos dos grãos

para obter o espectro de padrões. Abreviaremos uma granulometria baseada em 

detecção de arestas de GDA.

 Detecção de aresta é uma abordagem comum para detectar 

descontinuidades significativas

calculando os máximos locais de gradientes

laplaciano. Um algoritmo clássico 

Canny (CANNY, 1986).  

 de padrões da imagem “silicio.pgm”. 
estruturante em pixels (equivale ao diâmetro
número de pixels vezes intensidades de

grãos com diâmetro 13 dominam em área vezes

 
Granulometria baseada em detecção de arestas 

Observe a figura 3.1, que mostra uma porção de 

Claramente, não se pode aplicar GMM (tanto binária quanto em níveis de cinza) 

nesta imagem, pois não há distinção de níveis de cinza dos grãos para a imagem de 

Se quisesse realmente usar GMM, teria que pegar uma camada de grãos e 

lo sobre um fundo com alto contraste (por exemplo, o fundo branco ou preto). 

A única característica da figura 3.1 que permite estimar o tamanho dos grãos são as 

que delimitam os contornos dos grãos. Estas arestas podem ser utilizadas 

er o espectro de padrões. Abreviaremos uma granulometria baseada em 

detecção de arestas de GDA. 

Detecção de aresta é uma abordagem comum para detectar 

significativas em níveis de cinza. As arestas podem ser detectadas 

s locais de gradientes ou os cruzamentos de zero do 

. Um algoritmo clássico e popular de detecção de arestas foi propost

 

39 

 
 O eixo x indica o 

diâmetro do grão na 
de cinza em Pk(X). O 

vezes intensidade. 

uma porção de grãos empilhados. 

Claramente, não se pode aplicar GMM (tanto binária quanto em níveis de cinza) 

nesta imagem, pois não há distinção de níveis de cinza dos grãos para a imagem de 

Se quisesse realmente usar GMM, teria que pegar uma camada de grãos e 

lo sobre um fundo com alto contraste (por exemplo, o fundo branco ou preto). 

que permite estimar o tamanho dos grãos são as 

Estas arestas podem ser utilizadas 

er o espectro de padrões. Abreviaremos uma granulometria baseada em 

Detecção de aresta é uma abordagem comum para detectar 

As arestas podem ser detectadas 

ou os cruzamentos de zero do 

de detecção de arestas foi proposto por 



40 

 

 

 Maerz e colaboradores descrevem em (MAERZ, 1996) um sistema de 

granulometria chamado WipFrag que permite obter o espectro de padrões baseado 

em arestas. WipFrag primeiro detecta as arestas. Se necessário, é possível intervir 

manualmente para melhorar esta detecção. WipFrag reconstrói a distribuição 3-D 

dos grãos a partir das arestas 2-D usando o que os autores denominaram de 

“probabilidade geométrica”. WipFrag pode utilizar várias imagens de escalas iguais 

ou diferentes para melhorar a acurácia da estimação. 

 WipFrag é um produto comercial, e portanto os autores descrevem mais as 

propriedades do produto do que o seu funcionamento detalhado. Não temos acesso 

direto a este produto e não conhecemos os detalhes do funcionamento. GDA é 

interessante para muitas aplicações prática. Porém, a detecção de arestas nem 

sempre é confiável. As texturas existentes dentro dos grãos e as mudanças de nível 

de cinza entre luz/sombra dentro de um grão podem criar falsas arestas.  

 Observe a figura 3.11a. À primeira vista, parece simples delimitar os 

contornos dos grãos. Porém, aplicando o algoritmo de detecção de arestas de 

Canny (com parâmetros típicos), obtém-se a figura 3.11b, que apresenta muitos 

erros de detecção (tanto falsos positivos como falsos negativos). A dificuldade de se 

detectar as arestas com precisão faz levantar dúvidas sobre a possibilidade de se 

obter um GDA confiável. 

 

 

 

 

 

 

 



41 

 

 

 
(a) 

 
(b) 

 
(c) 

 
(d) 

Figura 3.11 - (a, b) Imagens extraídas de (KAERZ, 1996), onde GMM não pode ser 

aplicada. (c, d) As arestas detectadas utilizando O algoritmo de Canny com 

parâmetros típicos. Note que muitas arestas não foram detectadas, ao mesmo 

tempo em que muitas falsas arestas foram detectadas. A dificuldade em detectar as 

arestas com precisão faz levantar dúvidas sobre a possibilidade de se obter uma 

GDA confiável. 

  



42 

 

 

4 GRANULOMETRIA BASEADA EM CORRELAÇÃO 

 

 

4.1 Teoria 

 

 

 Nesta seção, apresentamos uma nova abordagem para a granulometria 

utilizando correlação cruzada com núcleos circulares. Esta técnica permite detectar 

grãos/objetos com formatos aproximadamente circulares, incluindo triângulos e 

quadrados (MARUTA et al.,2010). Como trabalho futuro, é possível acrescentar 

núcleos não-circulares para detectar também os objetos com formatos específicos. 

Aplicaremos esta técnica para a caracterização de nanoestruturas de silício. Esta 

técnica só pode ser utilizada em imagens onde os grãos tem níveis de cinza 

diferentes do fundo. Caso os grãos tiverem nível de cinza semelhante ao fundo ou 

se os grãos estiverem empilhados de forma que o fundo está oculto, é possível 

retirar uma camada de grãos e colocá-los sobre um fundo de alto contraste (preto ou 

branco) 

. 

 

4.1.1 Correlação cruzada 

 

 

 A correlação cruzada discreta entre duas imagens t e a com valores reais é 

definida pela expressão: 

?? ++=
m n

nymxanmtyxayxt ),(),(),(),( o
 

onde m e n varrem todo o domínio dos números inteiros. Na prática, as imagens são 

definidas somente dentro de um domínio retangular e são consideradas preenchidas 

com zeros fora deste domínio. Apesar da “lógica” indicar que a notação para 

correlação deveria ser algo como ),)(( yxat o  (uma operação entre duas imagens 

aplicada num pixel), surpreendentemente a notação clássica amplamente usada na 

comunidade de processamento de imagens e sinais é ),(),( yxayxt o . A maioria dos 

livros clássicos como Gonzalez adotam-na (GONZALEZ,2002). A correlação cruzada 



43 

 

 

pode ser calculada de forma computacionalmente eficiente com a transformada 

rápida de Fourier (FFT - Fast Fourier Transform).  

 A técnica usada para encontrar uma máscara ou modelo (template) t 

(normalmente pequena) dentro da imagem a (normalmente grande) é conhecida 

como casamento de modelos (template matching). Esta operação calcula primeiro a 

máscara com a correção de média t~  subtraindo o nível de cinza médio t  de cada 

pixel da imagem t. Isto é: 

tyxtyxt ?= ),(),(
~  e ??

= =

=
M

x

N

y

yxt
MN

t
1 1

),(
1

 

Usando a linguagem de eletricidade/eletrônica, a correção de média de uma imagem 

pode ser imaginada como a eliminação do componente DC, mantendo somente os 

componentes AC da imagem. Depois, calcula-se a correlação cruzada entre t~  e a, 

obtendo c. Os picos da imagem c correspondem às ocorrências de t em a.  

 Definimos que duas imagens x e y são equivalentes sob variação de brilho e 

contraste se existem fator de correção de contraste ?&gt;0 e fator de correção de brilho 

? tais que 1xy ?+?= ,onde 1 é matriz de 1’s. A imagem y tem contraste maior que x 

se ?&gt;1 e tem contraste menor se ?&lt;1. A imagem y tem brilho maior que x se ?&gt;0 e 

tem brilho menor se ?&lt;0. 

 A correlação cruzada (após efetuar a correção de média da máscara) é uma 

operação independente do brilho da imagem, mas dependente do contraste. Se 

várias instâncias de t com diferentes contrastes ocorrem em a, a instância com 

maior contraste gerará o maior pico em c. Para aplicações em processamento de 

imagem onde o brilho/contraste de imagens pode variar devido às condições de 

iluminação e exposição, esta é uma propriedade indesejável, e assim a correlação 

cruzada normalizada é aplicada ao invés da correlação cruzada para obter 

invariância ao brilho/contraste. A correlação cruzada normalizada entre t e a é 

definida como: 

????

??

++?

++

=

m nm n

m n

nymxanmt

nymxanmt

yxatNCC
22

),(
~

),(
~

),(
~

),(
~

),)(,(  

onde a~  é a imagem a com correção de média local, isto é: 

??
=? =?

?+?+?++=++
M

m

N

n

nymxt
MN

nymxanymxa
1 1

),(
1

),(),(~  



44 

 

 

 Entretanto, em granulometria, o uso da correlação cruzada normalizada não 

nos permite distinguir objetos nítidos (alto contraste) dos objetos pouco nítidos 

(baixo contraste). Assim, adotanos a correlação cruzada não-normalizada mas 

usando o modelo t~  com correção de média: 

),(),(
~

),( yxayxtyxc o=  

Com isso, uma instância com pouco contraste em a produz um baixo pico em c. 

Escolhendo um nível apropriado para limiarizar a imagem c, podemos detectar 

somente os objetos nítidos (alto limiar) ou também os objetos pouco nítidos de 

pequeno contraste (baixo limiar). 

 

 

4.1.2 Granulometria Baseada em Correlação Cruzada (GCC) 

 

 

    
Figura 4.1 – Alguns dos núcleos utilizados em nossa granulometria. Os pixels pretos 
têm valores negativos, os brancos são positivos, e cinzas são zeros. 
 

 Para obter o espectro de padrões de uma imagem de material granular a, 

propomos realizar correlações cruzadas de a com núcleos circulares t1, t2, ..., tn com 

diferentes raios (figura 4.1). Os raios ri dos círculos pretos dos núcleos são 

incrementados em progressão geométrica. Os raios dos círculos brancos estão 

definidos como 2ii rR = . Isto faz com que a área do círculo preto seja 

aproximadamente igual à área do anel circular branco. Em cada núcleo, o raio do 

círculo interno (preto) e o raio do círculo externo (branco) são escolhidos de modo 

que o número de pixels pretos seja aproximadamente igual ao número de pixels 

brancos. Os pixels cinzas são zeros. Em cada núcleo, a soma de todos os pixels 

negativos é -0,5, e a soma de todos os pixels positivos é +0.5. Assim, se os níveis 

de cinza da imagem variam de 0 a 1 (0 é preto e 1 é branco) a imagem resultante da 

correlação variará de -1 a +1.  

 Verificamos experimentalmente que 5 núcleos por oitava são suficientes para 

obter a invariância a escala. Uma oitava é um intervalo de escalas onde a escala 



45 

 

 

final é duas vezes maior que a escala inicial. Denotemos as imagens resultantes das 

correlações cruzadas com os núcleos circulares t1, t2, ..., tn como c1, c2, ..., cn onde: 

),(),(
~

),( yxayxtyxc ii o=  

 Definimos a imagem da máxima correlação C como a imagem que seleciona, 

para cada pixel ),( yx , a máxima correlação obtida: 

[ ]),(),(
1

yxcMAXyxC i

n

i=
=  

 Um pico em C(x,y) corresponde a um objeto aproximadamente circular em a. 

A escala do objeto detectado é dada pelo argumento da correlação máxima: 

[ ]),(),(
1

yxcARGMAXyxG i

n

i=
=  

 A partir da escala do objeto é possível calcular o raio do núcleo. É preciso 

processar a imagem C para obter apenas os objetos “importantes”. Os objetos “não 

importantes” são aqueles que têm baixo contraste (baixa correlação ou valor 

pequeno em C) ou que apresentam uma sobreposição significativa com alguns 

objetos de maior correlação. 

 Para isso, o algoritmo GCC detecta os máximos locais (picos) da imagem C 

entre os pixels com valores positivos (na verdade, adotamos 01,0),( &gt;yxC  para 

descartar os picos muito baixos) efetuando uma rotina de “non-maximum 

suppression”. O nosso algoritmo varre todos os pixels com valor 01,0),( &gt;yxC  e 

armazena numa lista somente os pixels (x,y) que atendem a seguinte condição: 

),(),(),,(),( yxqpqpCyxC ???? ,  

onde ),( yx?  é o conjunto de pixels vizinhos de (x,y). Usando 8-conectividade, 

temos: 

{ })1,1(),,1(),1,1(),1,(),1,(),1,1(),,1(),1,1(
),(

+++?++?+????

=?

yxyxyxyxyxyxyxyx

yx
 

 Em seguida, GCC permite que o usuário escolha iterativamente um valor tcorr 

(um valor entre 0% e 100%) para a correlação mínima e tsobrep (um valor entre 0% e 

100%) para a maior sobreposição permitida. Esta iteração permite que o usuário 

escolha o que deve ser detectado como objeto e o que não deve ser. 



46 

 

 

 Os picos (que representam objetos aproximadamente circulares) com  

corr
tyxC&amp;lt;),(  são descartados. Depois, são descartados os objetos que possuem 

alguma sobreposição maior do que tsobrep com algum outro objeto de correlação 

maior a sua. Seja p um pico e q um outro pico com correlação maior (isto é, 

C(p)?C(q)). Então, definimos que há uma sobreposição maior que tsobrep entre p e q 

se a seguinte condição for verdadeira: 

qppsobrep
rrrtqp +&lt;+,  

onde qp,  é a distância euclidiana entre os centros dos objetos p e q, e rp e rq são 

os raios dos objetos p e q. Se tsobrep=0, os objetos circulares detectados não podem 

se intersectar o mínimo que seja. Se tsobrep=100%, admite-se completa intersecção. 

  



47 

 

 

4.2 Implementação 

 

 

 Programamos a GCC descrita acima em linguagem C++ e denominamos o 

software obtido de Granul. O programa Granul utiliza as bibliotecas OpenCV1 versão 

1.1 e Proeikon2 versão 4.27. O Granul contém, além da granulometria, outros 

subprogramas que permitem analisar imagens MEV de camadas de silício 

macroporoso com poros circulares e quadrados. O Granul é composto de quatro 

subprogramas chamados de CorrCirc, Classify, Edit e Relat. A seguir descrevemos 

cada um destes subprogramas.  

 

 

4.2.1 Subprograma CorrCirc 

 

 

 Este subprograma é a implementação da granulometria proposta. Corrcirc faz 

correlações cruzadas com núcleos circulares para detectar furos (circulares ou 

quadrados) de imagens de MEV das amostras de silício ou alumina porosa. Os 

parâmetros que devem ser fornecidos para este programa são: 

• O nome da imagem de entrada a ser analisada, digamos original.png;  

• O nome do arquivo de texto que armazenará os furos detectados, digamos 

poros.hol; 

• A quantidade de núcleos circulares a ser usado;  

• O raio do menor círculo em pixels; 

• A quantidade de círculos por oitava.  

 Por exemplo: 

c:\subdir&gt;granul corrcirc original.png poros.hol 13 5 4 

 

 O programa CorrCirc primeiro calcula as correlações e para cada pixel 

seleciona a maior correlação. Depois, o programa abre uma janela mostrando a 

                                            
1  Disponível em http://sourceforge.net/projects/opencvlibrary/files 
2  Disponível em http://www.lps.usp.br/~hae/software 
 



48 

 

 

imagem processada com dois “trackbars” onde é possível selecionar o limiar de 

correlação e de sobreposição para a detecção dos objetos. 

 Os objetos detectados podem ser salvos no “poros.hol” através do comando 

“S” (Save). O arquivo.hol pode ser visualizado em qualquer editor de textos. A 

imagem mostrada na tela pode ser salva como “corrcirc.png” através do comando 

“H” (Hardcopy).  

 

 

Figura 4.2 - Janela do programa CorrCirc 

 

4.2.2 Subprograma Classify 

 

 

 Este subprograma permite classificar automaticamente os poros em círculos 

ou quadrados (figura 4.3), baseado no tamanho do poro (círculo azul ou vermelho) e 

na “zona de influência”, área na vizinhança do poro onde não há outro poro (círculo 

amarelo). Este subprograma deve ser chamado depois de CorCirc, fornecendo a 

imagem original.png e o arquivo dos poros detectados poros.hol: 

c:\subdir&gt;granul classify original.png poros.hol 



49 

 

 

 Classify faz a leitura da imagem original.png e o arquivo dos círculos 

detectados poros.hol e classifica os poros em círculos ou quadrados, armazenando 

o resultado no próprio arquivo poros.hol. Para um poro ser considerado quadrado, 

deve satisfazer a condição:  

(raio&gt;=traio) e (influência/raio-1&gt;=tinfl/50) 

onde traio e tinfl são os limiares do raio do poro e da zona de influência que 

distingue poros circulares dos quadrados. Os poros que não satisfazem a condição 

acima são considerados circulares.  

 O subprograma abre a imagem original.png numa janela e permite que o 

operador selecione traio e tinfl.  

  Os dados da classificação automática são salvos apertando-se a tecla “S”. A 

imagem vista na janela pode ser gravada com a tecla “H” e salva no arquivo 

classify.png. Para sair do subprograma aperta-se a tecla “ESC”. 

 

 

Figura 4.3 - Janela do programa Classify. Poros circulares em vermelho, poros 
quadrados em azul e as zonas de influência dos poros quadrados em amarelo. 

 

  



50 

 

 

4.2.3 Subprograma Edit 

 

 

 Este subprograma permite fazer ajustes manuais na imagem classificada 

automaticamente.  

 O programa lê a imagem original.png e o arquivo poros.hol com os poros 

classificados como furos circulares e quadrados e, após serem efetuados as 

modificações manuais, os novos dados são salvos no arquivo poros.hol: 

c:\subdir&gt;granul edit original.png poros.hol  

 

 

Figura 4.4 - Janela do programa Edit.  



51 

 

 

 

Figura 4.4.1-Detalhe de poros alterados manualmente. 

A janela apresenta a distribuição de furos circulares e quadrados que foram 

classificados (figura 4.4). Caso algum por tenha sido classificado erradamente, 

pode-se mudar a classificação apertando a tecla “F”. Este comando muda a 

classificação de círculo para quadrado ou vice-versa do poro que estiver sob o 

cursor.  

Pode-se apagar um furo que foi detectado erroneamente através da tecla 

“D”(deletar). 

Pode-se inserir um furo que não foi detectado acionando-se a tecla “I” (inserir), 

com o mouse no centro do furo e mantendo-se apertado seu botão esquerdo até a 

borda do furo, quando solto aparecerá um círculo azul com o centro evidenciado em 

“X” verde (figura 4.4.1).  

Feitas todas as alterações, é necessário salvar-se o arquivo poros.hol apertando-

se a tecla “S”. 

 

 

4.2.4 Subprograma Relat 

 

 

 Este subprograma estima a área dos poros quadrados pelo algoritmo de 

crescimento de semente (área em vermelho da figura 4.5) e gera um relatório do 

espectro de padrões dos poros circulares e quadrados. 

c:\subdir&gt;granul relat original.png poros.hol relatorio.txt 

 O programa abre uma janela apresentando os furos quadrados que podem ter 

sua área ajustada através do trackbar. 



52 

 

 

 
Figura 4.5 - Janela do programa Relat.  

 

 O programa granul fornece um relatório. A tabela 4.1 mostra um exemplo do 

relatório que é auto-explicativo. A partir destes dados, podem ser traçados gráficos 

dos histogramas dos poros (ou espectro de padrões). 



53 

 

 

Tabela 4.1 - Exemplo de relatório gerado pelo subprograma Relat. 
Area total da figura           =271744   pixels. 

Area total dos furos circulares= 49048.1 pixels. 

Area total dos furos quadrados = 15353   pixels. 

 

Histograma dos furos circulares 

  índice     raio     área     qtde 

       0     5.00    78.54      130 

       1     5.95   111.07       60 

       2     7.07   157.08       63 

       3     8.41   222.14       72 

       4    10.00   314.16       20 

       5    11.89   444.29        0 

       6    14.14   628.32        0 

       7    16.82   888.58        0 

       8    20.00  1256.64        0 

       9    23.78  1777.15        0 

      10    28.28  2513.27        0 

      11    33.64  3554.31        0 

      12    40.00  5026.55        0 

 

Histograma dos furos quadrados 

  índice     raio     área     qtde 

       0     5.00    78.54        0 

       1     5.95   111.07        2 

       2     7.07   157.08        2 

       3     8.41   222.14        5 

       4    10.00   314.16        3 

       5    11.89   444.29       10 

       6    14.14   628.32        6 

       7    16.82   888.58        5 

       8    20.00  1256.64        0 

       9    23.78  1777.15        0 

      10    28.28  2513.27        0 

      11    33.64  3554.31        0 

      12    40.00  5026.55        0 

 

Histograma das zonas de infl. dos f. quad. 

  índice     raio     área     qtde 

       0     5.00    78.54        0 

       1     5.95   111.07        0 

       2     7.07   157.08        0 

       3     8.41   222.14        0 

       4    10.00   314.16        0 

       5    11.89   444.29        0 

       6    14.14   628.32        0 

       7    16.82   888.58        0 

       8    20.00  1256.64        8 

       9    23.78  1777.15       10 

      10    28.28  2513.27       10 

      11    33.64  3554.31        4 

      12    40.00  5026.55        1 

 



54 

 

 

5 TESTES EXPERIMENTAIS 

 

 

5.1 Comparação do GCC-Granul com outras granulometrias 

 

 

 A figura 5.1 mostra a saída de nosso algoritmo e compara-a com as saídas da 

limiarização (etapa preliminar da granulometria baseada na morfologia matemática 

binária) e a detecção de aresta de Canny (etapa preliminar da granulometria 

baseada na aresta).  

 Na figura 5.1a há 21 poros que não interceptam as bordas da imagem, onde 

18 poros são nitidamente visíveis e 3 são pouco visíveis. Nosso algoritmo detecta 

com sucesso todos os 21 poros (figura 5.1b) ou somente os 18 nitidamente visíveis 

(figura 5.1c), dependendo do limiar escolhido.  

 Não é possível detectar todos os poros após a limiarização (figuras 5d e 5e) 

porque quando os poros pouco claros tornam-se visíveis (limiar=70) e os poros 

nítidos começam a se grudar uns em outros.  

 Similarmente, não é possível detectar os poros após a detecção de arestas 

(figuras 5.1f e 5.1g) porque o detector de aresta falha em delimitar claramente todos 

os poros.  

 A limiarização e a detecção de arestas apresentam perdas de informações 

importantes para a caracterização dos poros, logo processamentos posteriores não 

apresentarão resultados satisfatórios uma vez que esses dados foram perdidos. 

 GMM em níveis de cinza (não apresentada na figura 5.1) possui um problema 

intrínseco: o seu espectro de padrões é dado em “soma da intensidade dos valores 

dos pixels” ou “número de pixels vezes intensidades de cinza”, uma unidade 

altamente não-intuitiva. Além disso, não permite localizar espacialmente cada grão, 

impossibilitando calcular a “zona de influência” dos poros retangulares em MEV (veja 

figura 4.2).  



55 

 

 

 

Imagem de 
material poroso 

Granulometria 
baseada na 
correlação 

Limiarização Detecção de 
arestas de Canny 

 
(a)Recorte da 

imagem original 

 
(b) Limiar = 1. 

 
(d) Limiar = 70. 

 
(f) Limiar = 100. 

 
(c) Limiar = 15. 

 
(e) Limiar = 90. 

 
(g) Limiar = 140. 

Figura 5.1. (a) Recorte da imagem de material poroso com os 21 poros localizados 
inteiramente dentro da imagem (18 poros nítidos e 3 poros pouco nítidos). (b-c) 
Saída de nosso algoritmo que detectou todos os 21 poros ou somente 18 poros 
nítidos dependendo do limiar. (d-e) Limiarização com parâmetros diferentes 
utilizados como primeiro passo da granulometria baseada na morfologia. (f-g) 
Detecção de aresta de Canny utilizado como primeiro passo na granulometria 
baseada na detecção de aresta. 
 

  



56 

 

 

5.2 Granul na caracterização de nanoestruturas 

 

 

 O Granul, que implementa o algoritmo GCC, foi testado utilizando imagens de 

MEV. Foram utilizadas imagens de substratos de silício poroso obtidos em diferentes 

condições para avaliar áreas, distribuição e tamanhos dos furos. 

 A análise estrutural foi executada com técnicas de microscopia eletrônica de 

varredura, utilizando especificamente o microscópio NanoSem 400. As imagens 

foram obtidas pela excitação com feixe de elétrons de 10 kV a 30 kV usando a 

técnica de elétron secundário. A tabela 5.1 apresenta o tempo de recozimento 

térmico do substrato de silício metalizado e a espessura de suas camadas porosas 

formadas após o processo de anodização. 

 

Tabela 5.1 – Tempo de recozimento do substrato de silício metalizado e espessura 
da camada porosa formada após o processo de anodização. 

Tempo de 
recozimento 

(horas) 

Espessura 
(?m) 

1.0 24 
2.0 34 
4.0 32 
8.0 38 

 

 As imagens MEV das camadas de silício macroporoso recozido em diferentes 

tempos (tabela 5.1) são mostradas nas figuras 5.2a a 5.2d. Estas imagens mostram 

que as distribuições de poros circulares e quadrados dependem do processo de 

recozimento térmico. O algoritmo proposto foi aplicado para obter os dados 

quantitativos das características estruturais dos poros. 

 A figura 5.3a descreve o histograma dos poros circulares. As distribuições dos 

poros circulares são similares para todas as amostras e predominam poros com 

áreas de 0.48 ?m². 

 A figura 5.3b mostra o histograma dos poros quadrados. As amostras 

recozidas por uma ou duas horas apresentam baixa densidade de poros quadrados 

com distribuição similar de áreas variando de 0.48 a 12.86 ?m².  A amostra recozida 

por 4 horas apresenta a maior densidade de poros quadrados e o predomínio de 

poros quadrados com áreas de 3.72 ?m². A amostra recozida por 8 horas mostra um 



57 

 

 

decréscimo significativo da densidade de por os quadrados e predomínio de poros 

com áreas de 9.38 ?m². Estes resultados quantitativos fornecem-nos informações 

importantes para a compreensão do mecanismo de formação dos poros quadrados. 

Os poros quadrados são importantes para a formação dos macrotubos de silício. 

 O tempo de recozimento da amostra metalizada com Al antes do processo de 

anodização promoveu um incremento na resistência por quadrado (sheet resistence) 

(figura 5.4) e este comportamento está bem correlacionado com o aumento da 

densidade de poros quadrados observado em amostras recozidas por 1 a 4horas. 

Entretanto, na amostra recozida por 8 horas, apesar do aumento da resistência por 

quadrado há uma diminuição da densidade de poros quadrados. Estes resultados 

sugerem que o valor da resistência por quadrado na superfície do silício define a 

distribuição do ponto inicial da formação dos poros durante o processo de 

anodização e desde que o ponto de formação é dependente da intensidade do 

campo elétrico, a distribuição do campo  na superfície do silício no estágio inicial do 

processo de anodização depende do nível da resistência por quadrado e assim os 

pontos iniciais são originados de um processo de ruptura. Neste caso, há um campo 

crítico relacionado com o tempo de recozimento da amostra no qual a densidade de 

poros quadrados decresce. Desde que este campo crítico é de alta intensidade, a 

área dos poros podem aumentar como conseqüência. Adicionalmente, o longo 

tempo de recozimento pode ter induzido o agrupamento preferencial do Al em 

alguma região onde o ponto inicial dos poros pode ser formado preferencialmente.

 A análise de imagens SEM pelo Granul fornece informações quantitativas do 

tamanho dos poros e suas distribuições em poros circulares e quadrados. Estes 

resultados são importantes para a compreensão do mecanismo de formação dos 

macroporos quadrados. 



58 

 

 

 

 
(a) 1 hora 

 
(b) 2 horas 



59 

 

 

 
(c) 4 horas 

 
(d) 8 horas 

Figura 5.2 – Imagens MEV das amostras de macroporos obtidas por recozimento 
térmico por: (a) 1 hora; (b) 2 horas; (c) 4 horas e (d) 8 horas. 

 



60 

 

 

 

 
(a) 

 
(b) 

Figura 5.3 – Histogramas de poros circulares (a) e quadrados (b) obtidos de imagens 
MEV. Os rótulos internos descrevem as áreas dos poros ( em ?m²) correspondendo 
a cada barra dos histogramas. A barra branca corresponde ao número total de poros 
circulares e quadrados. 

 

0

500

1000

1500

2000

2500

1 2 4 8

Q
u

a
n

ti
d

a
d

e
 d

e
 p

o
ro

s
Histograma dos poros circulares

0,48

1,20

2,34

3,72

Total

Tempo de recozimento (horas)

0

30

60

90

120

150

180

1 2 4 8

Q
u

n
a
ti

d
a
d

e
 d

e
 p

o
ro

s

Ttempo de recozimento (horas)

Histograma dos poros quadrados

0,48

1,20

2,34

3,72

9,38

14,89

Total



61 

 

 

 

Figura 5.4 – Resistência por quadrado da superfície do substrato de silício em 
função do tempo de recozimento. O gráfico também apresenta a espessura da 
camada de silício poroso após o processo de anodização. 

 

  

0 1 2 3 4 5 6 7 8

100

150

200

250

300  Sheet resistance
 Thickness

Time (hours)

S
h

e
e

t 
re

si
st

a
n

ce
 (

O
h
m

)

15

20

25

30

35

40

45

T
h
ickn

e
ss (µ

m
)



62 

 

 

5.3 Outros experimentos com Granul em imagens de MEV  

 

 

 Utilizamos o programa Granul em imagens MEV que apresentam diferentes 

características como variação no brilho e contraste, borrão, furos pouco nítidos e 

com alterações em sua forma geométrica. Rodamos o programa com sub-imagens 

das imagens MEV originais, para melhorar a visibilidade das figuras. 

 

 

  



63 

 

 

Exemplo 1: 

 A figura 5.5a apresenta recortes de imagens originais de substrato de silício 

obtidos com MEV. As imagens geradas pelos subprogramas de Granul são 

apresentadas nas figuras 5.5b a 5.5e. No programa CorrCirc foram utilizados os 

valores de raio inicial de 5 pixels, 5 raios por oitava e 14 raios no total. Na fig. 5.5d 

foi corrigido manualmente (marcado com um X verde) a classificação de um furo 

quadrado (que tinha sido detectado como dois furos quadrados). Este erro na 

detecção automática poderá ser corrigido com a implementação de núcleos 

retangulares. 

 
(a)  

 
(b) 

 
(c) 

 
(d) 

 
(e) 

Fig. 5.5 – (a) Imagem original. (b) Imagem resultante de CorrCirc de Granul. Os furos 
circulares foram corretamente detectados, mesmo aqueles com baixo contraste. (c) 
Imagem de Classify de Granul. Devido à ausência de núcleo retangular, um dos 
furos retangulares foi incorretamente classificado como dois. (d) Imagem Edit de 
Granul. Os dois furos retangulares incorretos de Classify foram apagados 
manualmente, e foi inserido um único furo retangular no seu lugar, marcado com X 
verde. (e) Imagem gerada por Relat de Granul, mostrando a área calculada dos 
furos retangulares. 
  



64 

 

 

Exemplo 2: 

 

 A figura 5.6a apresenta recortes de imagens de MEV (fig. 5.6a) de baixo 

contraste e altamente borradas. As imagens geradas pelos subprogramas de Granul 

são apresentadas nas figuras 5.6b a 5.6e. Este exemplo ilustra a capacidade de 

Granul de processar as imagens pouco nítidas. 

 

 
(a) 

 
(b) 

 
(c) 

 
(d) 

 
(e) 

Fig. 5.6 - Recorte de imagem de substrato de silício de MEV borrada e com baixo 
contraste. (a) Imagem original. (b) Imagem de CorrCirc de Granul. Granul consegue 
detectar mesmo os furos altamente borrados e com baixo contraste. (c) Imagem de 
Classify de Granul, onde os furos retangulares foram detectados baseados em área 
e zona de influência. (d) Imagem de Edit de Granul. (e) Imagem de Relat de Granul, 
onde se detecta as áreas dos furos retangulares. 
 
 

 

 

 

 

 



65 

 

 

Exemplo 3: 

 

 A figura 5.7 apresenta recortes de imagens de MEV (fig. 5.7a) onde a imagem 

de fundo varia, apresentando diferentes níveis de cinza.  

 

 
(a) 

 
(b) 

 
(c) 

 
(d) 

 
(e) 

Fig. 5.7 - Recorte de imagem de substrato de silício de MEV com variação de nível 
de cinza de fundo. (a) Imagem original. (b) Imagem de CorrCirc de Granul. Granul 
consegue detectar os furos mesmo com variação de nível de cinza de fundo. (c) 
Imagem de Classify de Granul, onde os furos retangulares foram detectados 
baseados em área e zona de influência. (d) Imagem de Edit de Granul. (e) Imagem 
de Relat de Granul, onde se detecta as áreas dos furos retangulares. 
 

 

 

 

 

 

 

 



66 

 

 

 

Exemplo 4: 

 

 A figura 5.8 ilustra a capacidade do Granul de detectar círculos sobrepostos.  

 

 

 

(a)  

(b) 

Figura 5.8 – Recorte de imagem de MEV. Imagem original (a) e imagem resultante 

do subprograma CorrCirc (b). 

  



67 

 

 

5.4 Granul Aplicado em Diferentes Tipos de Imagens 

 

 

Aplicamos abaixo o programa Granul em algumas imagens de diferentes áreas de 

ciência que necessitam serem analisadas pela granulometria. Mostramos apenas a 

capacidade de Granul de detectar corretamente os grãos, sem detalhar as 

aplicações. 

 

Exemplo 1: 

 

Figura 5.9 - Imagem microscópica de sangue, extraída de Sahoolizadeh (2009). 

 

 

Figura 5.10 - Saída de Granul 

 

  



68 

 

 

Exemplo 2: 

 

 

Figura 5.11 - Imagem de fragmentos de pedra, extraída de Salehizadeh (2010). 

 

 

Figura 5.12 - Pedras detectadas pelo Granul. 

 

  



69 

 

 

Exemplo 3: 

 

 

Figura 5.13 - Imagem de rolamentos, extraída de Salehizadeh (2010) 

 

 

Figura 5.14 - Saída de Granul 

 

  



70 

 

 

Exemplo 4: 

 

 

Figura 5.15 - Imagem de fragmentos de pedra, extraída de Salehizadeh (2010). 

 

 

Figura 5.16 - Saída de Granul 

  



71 

 

 

Exemplo 5: 

 
Figura 5.17 - Imagem microscópica da droga ShanYao, extraída de Tong (2009). 

 

Figura 5.18 - Saída de Granul. 

  



72 

 

 

Exemplo 6: 

 
Figura 5.19 - Imagem de células de seio, extraída de Cherni (2009) 

 
Figura 5.20 - Células detectadas pelo Granul. 

 
 

  



73 

 

 

Exemplo 7: 

 

 

Figura 5.21 - Imagem de células de sangue aglutinadas, extraída de Sahoolizadeh (2009) 

 

 

Figura 5.22 - Saída de Granul 

  



74 

 

 

Exemplo 8: 

 

 

Figura 5.23 - Imagem de trabalho artístico extraída de Villa (2010) 

 

Figura 5.24 - Saída de Granul 

 



75 

 

 

6 CONCLUSÃO 

 

 

 Nesta dissertação, propusemos a granulometria baseada em correlação 

cruzada. Essa técnica foi implementada num programa denominado Granul. O 

programa Granul foi utilizado em uma seqüência de imagens de MEV que foram 

obtidas com diferentes temperaturas no processo de formação das nanoestruturas. 

A verificação da distribuição dos furos nas imagens e a influência da temperatura na 

distribuição e formação dos furos foram obtidos com a utilização do algoritmo.  

 O programa foi testado e comparado com técnicas existentes na área de 

processamento de imagens e apresentou bons resultados. As técnicas existentes 

não fornecem de modo automático a freqüência de distribuição dos furos e não 

caracterizam as formas geométricas presentes na superfície das amostras de silício 

poroso. 

 A nova granulometria baseada na correlação mostrou ser uma ferramenta 

eficaz no processamento de imagens MEV, para analisar quantitativamente os 

parâmetros de materiais porosos como raio dos poros, a distribuição do tamanho e 

densidade dos poros. Adicionalmente, a implementação permitiu-nos classificar os 

poros como circulares ou quadrados.  

 O algoritmo desenvolvido pode contribuir na área de pesquisa de material 

poroso, permitindo rápidas análises das estruturas e extração de seus parâmetros 

geométricos. O algoritmo proposto mostrou ser uma ferramenta excelente para 

examinar o mecanismo de formação de poros quadrados no substrato de silício pelo 

processo de anodização eletroquímico. Os resultados obtidos apontam que o tempo 

de recozimento do substrato de silício metalizado com Al antes do processo de 

anodização é um parâmetro importante para controlar a densidade e tamanho dos 

poros. 

 Um desenvolvimento a ser realizado com o programa será a possibilidade de 

detecção de diferentes formatos de poros elípticos, retangulares ou de outras formas 

geométricas. O programa poderá ser utilizado na área de biomedicina ou de 

mineralogia que também utilizam muito da técnica de granulometria para a 

caracterização e quantificação de objetos em imagens. 



76 

 

 

7 REFERÊNCIAS BIBLIOGRÁFICAS 

 

 

BARILLARO, G.; NANNINI, A.; PIERI, F. Dimensional Constraints on High Aspect 
Ratio Silicon Microstructures Fabricated by HF Photoelectrochemical Etching. 
Journal of the Eletrochemical Society, v. 149, p. C180-C185, 2002. 
 
 
BEAN, C. P.; JACOBS, I. S. Magnetic Granulometry and Super?Paramagnetism. 
Journal of Applied Physics, v. 27, n. 12, p. 1448-1452, Dec. 1956. 
 
 
BERMAN, G. P.; DOOLEN, G. D. Solid-state quantum computation — a new 
direction for nanotechnology. Superlattices and Microstructures, v. 27, p. 89-104, 
2000. 
 
 
BINNING, G.; GERBER, C.; STOLL, E.; ALBRECHT, T. R.; QUATE, C. F. Atomic 
Resolution with Atomic Force Microscopy. Europhys. Lett., v. 3, p. 1281-1286, 1987. 
 
 
BINZ, E.; SCHEMPP, N. Information technology: The Lie groups defining the filter 
bank of the compact disc. Journal of Computational and Applied Mathematics, v. 
144, p. 85-103, 2001. 
 
 
CANNY, J. A Computational Approach to Edge Detection. Pattern Analysis and 
Machine Intelligence, IEEE Transactions, v. PAMI-8, n. 6, p. 679-698, Nov. 1986. 
 
 
CHERNI, M. A.; SAYADI, M.; FNAIECH, F. Using granulometry and watershed for 
breast tumor cells segmentation. Signals, Circuits and Systems (SCS), 2009 3rd 
International Conference on , vol., no., pp.1-5, 6-8 Nov. 2009. 
 
 
COUVREUR, P.; GREF, R.; ANDRIEX, K.; MALVY, C. Nanotechnologies for drug 
delivery: Application to cancer and autoimmune diseases. Progress in Solid State 
Chemistry. v. 34, p. 231-235, 2006. 
 
 
CROWFORD, B. J.; BURKE, R. D. TEM and SEM Methods. Methods in Cell 
Biology, v. 74, p. 411-441, 2004. 
 
 
DOUGHERTY, E. R. Characterization of gray-scale morphological granulometries, 
Proc. SPIE Conf. Visual Comm. Image Process, San Diego, v. 1350, p. 129-139, 
1990a. 



77 

 

 

DOUGHERTY, E. R. Morphological ?-openings and granulometries: Binary to 
Euclidean gray-scale, Morphological Imaging Laboratory Report MIL-90, 
Rochester Institute of Technology, Rochester, August. 1990b. 
 
 
DOUGHERTY, E. R. Euclidean gray-scale granulometries: Representation and 
umbra inducement, J. Math. Imaging Vision, v. 1, n. 1 p. 7-21, February. 1992a. 
 
 
DOUGHERTY, E. R.; NEWELL, J. T.; PELZ, J. B. Morpohological texture based 
maximum likelihood pixel classification based on local granulometric moments. 
Pattern Recognition, v. 25, n. 10, p. 1181-1198, 1992b. 
 
 
DOUGHERTY, E. R.; PELZ, J. B.; SAND, F.; LENT, A. Morphological image 
segmentation by local granulmetric size distributions. Journal of Eletronic Imaging 
v.1, n. 1, p. 46-60, 1992c. 
 
 
EFREMOV, E. V.; ARIESE, F.; GOOIJER, C. Achievements in resonance Raman 
spectroscopy: Review of a technique with a distinct analytical chemistry potential. 
Anal. Chim. Acta, v. 606, n. 2, p.119-134, 2008. 
 
 
FACON, J. Morfologia Matemática: Teoria e Exemplos. Curitiba: Editora 
Universitária Champagnat, 1996. 
 
 
FEYNMAN, R. There's plenty of room at the bottom. Engineering and Science,      
v. 23, p. 22-36, 1959. 
 
 
FEYNMAN, R. P. Classic Feynman: All the Adventures of a Curious Character. 
Portland: W.W. Norton &amp;amp; Company, 2005. 
 
 
GONZALEZ, R. C.; WOODS, R. E. Digital Image Processing, Prentice-Hall, New 
Jersey: Upper Saddle River, 2nd ed., 2002. 
 
 
HAAS, A.; MATHERON, G.; SERRA, J. Morphologie Mathématique et 
Granulométries en Place, Annales des Mines, v. 11, p. 736-753, 1967. 
 
 
KAUPP, G.; HERRMANN, A; SCHMEYERS, J; BOY, J. SNOM: a new photophysical 
tool. Journal of Photochemistry and Photobiology A: Chemistry, v. 139, n. 2-3, 
p. 93-96, 2001. 
 
 



78 

 

 

KUDELSKI, A. Raman spectroscopy of surfaces. Surface Science, v. 603, n. 10-12, 
p. 1328-1334, 2009. 
 
 
LINDGREN, I. Chemical shifts in X-ray and photo-electron spectroscopy: a historical 
review. Journal of Elec. Spect. and Relat. Phen. v. 137-140, p. 59-71, 2004.  
 
 
LIU, S.; YIN, L.; KOLTYPIN, Y.; GEDANKEN, A.; XU, X.; YESHURUN, Y.; FELNER, 
I.; GORODETSKY, G. Preparation and magnetic properties of Fe–Ag granular alloy. 
Journal of Magnetism and Magnetic Materials, v. 233, p. 195-204, 2001. 
 
 
MAERZ, N. H.; PALANGIO, T. C.; FRANKLIN, J. A. WipFrag image based 
granulometry system. Proc. of the FRAGBLAST, 5 Workshop on Measurement of 
Blast Fragmentation, Montreal, Quebec, Canada, p. 91-99, Aug., 1996. 
 
 
MARUTA, R. H.; KIM, H. Y; HUANCA, D. R.; and SALCEDO, W. J. A New 
Correlation-Based Granulometry Algorithm with Application in Characterizing Porous 
Silicon Nanomaterials, In: 25th Symposium on Microelectronics Technology and 
Devices. 31, ECS Transactions, 2010. 
 
 
MATHERON, G. Eléments pour une théorie des milieu poreux, Paris: Masson, 
1967. 
 
 
MATHERON, G. Random Sets and Integral Geometry. New York: J. Wiley, 1975. 
 
 
MATHWORKS Image Processing Toolbox 6.4 demo Granulometry of Snowflakes. 
Disponível em: 
&lt;http://www.mathworks.com/products/image/demos.html?file=/products/demos/shipping/images/i
pexsnow.html&gt; Acesso em 23 dez. 2009. 
 
 
MURARKA, S. P. Multilevel interconnections for ULSI and GSI era. Materials 
Science and Enginnering R., v. 19, p. 87-151, 1997. 
 
 
PALSULE, C.; LIU, S.; GANGOPADHYAY, S.; HOLTZ, M.; LAMP, D.; 
KRISTIANSEN, M. Electrical and optical characterization of crystalline silicon/porous 
silicon heterojunctions. Solar Energy Materials and Solar Cells, v. 46, n. 4,            
p. 261-269, 1997. 
 
 
PEDRINI, H.; SCHWARTZ, W. R. Análise de imagens digitais: princípios, algoritmos 
e aplicações, Thomson Learning, São Paulo, 2008.  
 



79 

 

 

 
PROEIKON Biblioteca de processamento de imagens Proeikon. Disponível em: 
&lt;http://www.lps.usp.br/~hae/software&gt; Acesso em 01 abr. 2011. 
 
 
RAIMUNDO, D. S.; CALIOPE, P. B.; HUANCA, D. R.; SALCEDO, W. J. Anodic 
Porous Alumina Structural Characteristics Study Based on SEM Image Processing 
and Analysis. Microelectronics Journal, v. 40, p. 844-847, 2009. 
 
 
RIU, J.; MAROTO, A.; RIUS, F. X. Nanosensors in environmental analysis. Talanta, 
v. 69, p. 288-301, 2006. 
 
 
SAHOOLIZADEH, H. Investigation of Granulometry method in Determination of 
Blood Smears particles, In: 5th International Conference: Sciences of Electronic, 
Technologies of Information and Telecommunications SETIT 2009, Tunisia, March, 
2009. 
 
 
SALCEDO, W. J. Silício poroso como material fotônico. 1998. Tese (Doutorado) - 
Escola Politécnica, Universidade de São Paulo, São Paulo, 1998. 
 
 
SALEHIZADEH, M.; SADEGHI, M. T. Size distribution estimation of stone fragments 
via digital image processing, In: Proc. 6th Int. Conf. Advances in Visual Computing, 
ISVC'10, v.3, LNCS 6455, p. 329-338, 2010. 
 
 
SERRA, J. Echantillonnage et Estimation des Phénomènes de Transition Minier, 
1967. PhD thesis, University of Nancy, 1967a. 
 
 
SERRA, J. Remarques sur une lame mince de minerai lorrain, Bulletin du Bureau 
de Recherches Géologiques et Minières, p. 1-36, 1967b. 
 
 
SERRA, J. Image Anlysis and Mathematical Morphology, Theoretical Advances     
v. 2, London: Academic Press, 1988. 
 
 
STEDMAN, M. Scanning microsensors for nanotechnology. Sensors and Actuators 
A., v. 37, p. 11-15, 1993. 
 
 
THEIB, W. The dielectric function of porous silicon  how to obtain it and how to use it. 
Thin Solid Films, v. 276, p. 7-12, 1996. 
 
 



80 

 

 

THOMAS, F.; DEGNA, J. R. The implications of the fundamentals of shape selectivity 
for the development of catalysts for the petroleum and petrochemical industries. 
Journal of Catalysis. v. 216, p. 32-46, 2003. 
 
 
TONG, C. S.; CHOY, S. K.; ZHAO, Z. Z.; ZHANG, W. J. Chinese Materia Medica 
Identification Using Granulometric Operations. Disponível em: 
&lt;ftp://ftp.math.hkby.edu.hk/pub/techreport/math424.pdf&gt;. Acesso em 28 dez. 2009. 
 
 
VICENT, L. Fast grayscale granulometry algorithms. Proc. Int. Symp. Mathematical 
Morphology Fontainebleau, France, 1994a. 
 
 
VICENT, L. Fast Opening Functions and Morphological Granulometries. Proc. SPIE, 
Image Algebra and Morphological Image Processing V, San Diego CA, v. 2300, 
p. 253-267, July 1994b. 
 
 
VICENT, L. Local grayscale granulometries based on opening trees, Proc. ISMM’96, 
International Symposium on Mathematical Morphology, Atlanta, GA, Kluwer 
Academic Publishers, p. 273-280, May 1996. 
 
 
VICENT, L. Granulometries and Opening Trees, Fundamenta Informaticae, IOS 
Press, v. 41, p. 57-90, 2000a. 
 
 
VINCENT, L. Fast Granulometric Methods for the Extraction of Global Image 
Information. In: Proc. 11th Annual Symposium of South African Pattern 
Recognition Association, Johannesburg, South Africa: University of Witwatersrand 
publisher, p. 119-133, November 2000b. 
 
 
VILLA, B. Texturas de Luz. Disponível em: 
&lt;http://picasaweb.google.com/lh/photo/huxUKpx3x9qqRpVQSc2XjA&gt;. Acesso em 20 
dez 2010. 
 
 
WILSON, S. A. New materials for micro-scale sensors and actuators: An engineering 
review. Materials Science and Enginnering R., v. 56, p. 1-129, 2007. 
 
 
WIRTH, R.; Focused Ion Beam (FIB) combined with SEM and TEM: Advanced 
analytical tools for studies of chemical composition, microstructure and crystal 
structure in geomaterials on a nanometre scale. Chemical Geology, v. 261,            
p. 217-229, 2009. 


</field>
	</doc>
</add>