<?xml version="1.0" encoding="utf-8"?>
<add>
	<doc>
		<field name="docid">BR-TU.11998</field>
		<field name="filename">17448_Projeto%20-%20MEE%20-%20Jo%c3%a3o%20Ricardo%20Silva.pdf</field>
		<field name="filetype">PDF</field>
		<field name="text">
 

 

 

 

 

 

 

Relatório de Projeto 

Mestrado em Engenharia Eletrotécnica 

Controlador de Caldeiras e Salamandras Domésticas 

 

 

 

 

João Ricardo Cardoso Silva 

 

 

Leiria, março de 2017 

 





 

 

 

 

 

 

 

 

 

Relatório de Projeto 

Mestrado em Engenharia Eletrotécnica 

Ramo de Energia e Automação 

Controlador de Caldeiras e Salamandras Domésticas 

 

João Ricardo Cardoso Silva 

 

Relatório de Projeto de Mestrado realizado sob a orientação do Doutor Pedro 
Marques, Professor Adjunto da Escola Superior de Tecnologia e Gestão do Instituto 
Politécnico de Leiria e coorientação do Mestre Paulo Ventura, Professor Adjunto da 
Escola Superior de Tecnologia e Gestão do Instituto Politécnico de Leiria. 

 

Leiria, março de 2017  



ii 

 

 

 

 

 

 

 

 

Esta página foi intencionalmente deixada em branco 

 

  



iii 

 

Dedicatória 

 

 

 

Aos meus pais, aos meus avós. 

  



iv 

 

 

 

 

 

 

 

 

Esta página foi intencionalmente deixada em branco 

 

  



v 

 

Agradecimentos 

Apesar do processo solitário a que uma tese de mestrado está destinada, 

inevitavelmente reúne o contributo de várias pessoas. 

Agradeço aos meus orientadores, Professor Doutor Pedro Marques e Professor 

Mestre Paulo Ventura, o apoio, dedicação e disponibilidade que sempre demonstraram ao 

longo deste projeto. 

Ao Eng.º Felisbelo Lisboa e à Eng.ª Alexandra Lisboa, pelo acompanhamento, 

confiança e ensinamentos bem como a todos os colaboradores da METALOMECÂNICA 

VICTOR MONTEIRO pela forma como fui tratado, recebido, pela integração que me 

proporcionaram e pela disponibilidade demonstrada desde o primeiro instante, deixo 

também uma palavra de agradecimento. 

Agradeço também aos meus colegas de curso, docentes e restantes colaboradores do 

Instituto Politécnico de Leiria pelo auxílio, pela camaradagem e pelo apoio ao longo destes 

anos de estudo. 

Ao colega de curso e amigo Cristiano Justino, quero agradecer o apoio, a motivação 

e o espírito de entreajuda que sempre demonstrou, não só durante o desenvolvimento deste 

projeto, mas ao longo de todo o curso de mestrado. 

Por último, um agradecimento aos meus pais, irmão e avós, por todo o contributo 

prestado na minha educação e pela forma como sempre me enriqueceram enquanto pessoa. 

Sem eles, nada teria sido possível. A eles, reforço a minha gratidão! 

 

 

 

 



vi 

 

 

 

 

 

 

 

 

Esta página foi intencionalmente deixada em branco 

 

  



vii 

 

Resumo 

Os pellets são uma fonte de energia renovável proveniente da compactação de 

desperdícios da madeira. Ocupam menos espaço do que a lenha, produzem menos cinzas, 

são mais fáceis de transportar e podem ser utilizados em sistemas com funcionamento 

automático, proporcionando maior conforto aos seus utilizadores. Por terem origem na 

biomassa, são considerados neutros em termos ambientais e o seu preço não depende 

diretamente das oscilações do preço do petróleo. Estas características fazem dos pellets um 

combustível que tem ganho cada vez mais quota de mercado. 

Um sistema de aquecimento a pellets necessita de um controlo eletrónico que garanta 

o seu bom funcionamento. Sistemas de aquecimento doméstico derivados deste combustível 

já são fabricados em Portugal. No entanto, não existe no país nenhum fabricante de 

controladores eletrónicos dedicados a sistemas de queima de pellets. Este projeto de 

mestrado teve como motivação o repto lançado pela empresa nacional e fabricante de 

sistemas de aquecimento a pellets, a MVM – Metalomecânica Víctor Monteiro, Lda, de 

desenvolver um controlador com um custo competitivo, com assinatura portuguesa. 

Neste trabalho foram analisados os elementos que constituem um sistema de 

aquecimento a pellets, estudadas as melhores formas de os controlar e integrou-se esse 

conhecimento no estudo do processo de queima. Tudo isto resultou no desenvolvimento de 

uma placa controladora e respetivo firmware capaz de garantir o funcionamento de uma 

salamandra a pellets que oferece ao utilizador o controlo automático da climatização, 

programação de funcionamento automático com controlo remoto por Bluetooth e/ou 

infravermelhos. 

Durante o desenvolvimento, o controlador foi testado num equipamento 

comercializado pela MVM, local onde foi possível comprovar o seu bom funcionamento. 

 

 

 

Palavras-chave: Pellets, Aquecimento doméstico, Salamandras a pellets, 

Controlo de salamandras. 



viii 

 

 

 

 

 

 

 

Esta página foi intencionalmente deixada em branco 

 

  



ix 

 

Abstract 

Pellets are a source of renewable energy made from the compaction of wood waste. 

They occupy less space than firewood, produce less ashes, are easier to carry and can be 

used in systems with automatic operation, providing greater comfort to its users. Because 

they have their origin in biomass, they are considered harmless in environmental terms and 

their price doesn’t depend directly on the oil price fluctuations. These characteristics make 

pellets a fuel type that has gained more and more market share. 

A pellet heating system needs an electronic control system to ensure that it functions 

properly. Domestic heating systems derived from this fuel are already manufactured in 

Portugal. However, there isn’t any electronic control system manufacturer in the country. 

This master’s project was motivated by the challenge launched by the national company and 

manufacturer of pellet heating systems, MVM – Metalomecânica Victor Monteiro, Lda, to 

develop a controller with a competitive cost, with Portuguese signature. 

In this work, the elements that constitute a pellet heating system were analyzed, the 

best ways of controlling them were studied and the knowledge was integrated in the study 

of the burning process. All this has resulted in the development of a controller board and its 

firmware capable of guaranteeing the operation of a pellet stove that offers the user automatic 

climate control, automatic function programming and Bluetooth and/or infrared remote 

control and automatic function programming. During the development, the controller was 

tested on an equipment marketed by MVM, where it was possible to assess its good 

operation. 

 

 

 

 

 

 

Keywords: Pellets, Domestic heating, Pellet stoves, Stoves Control 



x 

 

 

 

 

 

 

 

 

 

Esta página foi intencionalmente deixada em branco 

 

  



xi 

 

Lista de figuras 

Figura 1 - Evolução do preço do barril de petróleo ($USD/Barril) nos últimos 16 anos [1]. 2 

Figura 2 - Simulação de custos de utilização a prazo dos equipamentos para aquecimento 

[6]. ......................................................................................................................................... 4 

Figura 3 - Pellets [10]. ........................................................................................................... 8 

Figura 4 - Comparativo do custo do kWh térmico para aquecimento. ................................ 10 

Figura 5 - Lareira aberta encastrada [16]............................................................................. 12 

Figura 6 - Lareira aberta no centro de uma divisão [17]. .................................................... 12 

Figura 7 - Esquema de fluxos de ar de um recuperador de calor [21]. ................................ 14 

Figura 8 - Corte lateral de um sistema recuperador de calor ventilado [16]. ...................... 15 

Figura 9 - Sistema de recuperador de calor interligado com águas sanitárias [24]. ............ 16 

Figura 10 - Salamandra típica, com aquecimento por irradiação [25]. ............................... 17 

Figura 11 - Corte lateral de uma salamandra com recuperação de calor [23]. .................... 18 

Figura 12 - Corte lateral de esquema de uma caldeira [27]. ................................................ 19 

Figura 13 - Esquema de um sistema de aquecimento doméstico a caldeira [28]. ............... 20 

Figura 14 - Evolução do mercado nacional de pellets [9]. .................................................. 20 

Figura 15 - Corte lateral de uma salamandra a pellets [29]. ................................................ 21 

Figura 16 - Exemplo de recuperador de calor a pellets [30]. .............................................. 22 

Figura 17 - Salamandras com aquecimento de águas sanitárias [31]. ................................. 23 

Figura 18 - Controlador de queima de pellets da marca FUMIS ALPHA [32]. ................. 24 

Figura 19 - Resistência incandescente de modo a iniciar a combustão dos pellets [33]. .... 24 

Figura 20 - Esquema elétrico de um controlador de queima de pellets [34]. ...................... 26 

Figura 21 - Corte lateral de uma caldeira a pellets [35]. ..................................................... 27 

Figura 22 - Fluxograma de funcionamento de um equipamento a pellets........................... 29 

Figura 23 - Interface com botões para salamandra a pellets [36]. ....................................... 30 

Figura 24 - Interface com potenciómetros para salamandra a pellets [37]. ......................... 31 

Figura 25 - Interface com LCD para salamandra a pellets [38]. ......................................... 31 

Figura 26 - Interface de ecrã-táctil para salamandra a pellets [39]. .................................... 32 

Figura 27 - Painel remoto com botões [40]. ........................................................................ 33 

Figura 28 - Painel remoto de ecrã táctil [41]. ...................................................................... 33 

Figura 29 - Interface de LCD com um comando remoto [42]. ............................................ 34 

Figura 30 - Módulo Wi-Fi [43]............................................................................................ 35 



xii 

 

Figura 31 - Módulo GSM/GPRS [44]. ................................................................................ 36 

Figura 32 - Diagrama de blocos do controlador a desenvolver. .......................................... 38 

Figura 33 - Protoshield para Arduíno Uno [45]. ................................................................. 41 

Figura 34 - Shield de Ethernet para Arduíno [46]. .............................................................. 41 

Figura 35 - Arduíno Uno. .................................................................................................... 43 

Figura 36 - Arduíno Mega 2560. ......................................................................................... 44 

Figura 37 - Placa de desenvolvimento PICDEM LAB II [47]. ........................................... 45 

Figura 38 - Placa de desenvolvimento Explorer 8 [47]. ...................................................... 45 

Figura 39 - Placa de desenvolvimento ChipKIT Uno32 [49]. ............................................ 47 

Figura 40 - Raspberry Pi 2 Model B. .................................................................................. 48 

Figura 41 - Comparação do Raspberry Pi Zero com uma nota de 5$ [50]. ........................ 48 

Figura 42 - Salamandra de testes, modelo Prima Air, durante um ensaio de queima. ........ 53 

Figura 43 - Elementos constituintes da salamandra a controlar. ......................................... 54 

Figura 44 - Relação entre tensão de saída e ângulo de disparo [49]. .................................. 56 

Figura 45 - Tensão e corrente numa carga resistiva controlada com TRIAC [51]. ............ 56 

Figura 46 - Tensão e corrente numa carga indutiva controlada com TRIAC [51]. ............. 57 

Figura 47 - Diagrama de blocos do controlo de velocidade de um motor AC. ................... 58 

Figura 48 - Circuito de snubber com resistência e condensador [52]. ................................ 59 

Figura 49 - Ilustração de uma passagem por zero [52]. ...................................................... 61 

Figura 50 - Esquema elétrico do circuito utilizado na deteção de zero. .............................. 61 

Figura 51 - Módulo de relé utilizado na comutação da resistência de aquecimento. .......... 65 

Figura 52 - Informação disponibilizada pelo ecrã. .............................................................. 66 

Figura 53 - Conjunto de comando remoto emissor e recetor de infravermelhos. ............... 67 

Figura 54 - Módulo transcetor Bluetooth. ........................................................................... 68 

Figura 55 - Esquema elétrico do circuito de leitura dos sensores de temperatura. ............. 68 

Figura 56 - Saída do circuito de deteção de zero. ............................................................... 70 

Figura 57 - Sinal de disparo de TRIAC em sincronismo com a deteção de zero. ............... 71 

Figura 58 - Ecrã corrompido pela comutação do motor de alimentação. ........................... 73 

Figura 59 - Registo de efeito da comutação do relé na alimentação de 5V. ....................... 73 

Figura 60 - Acionamento de motor de alimentação, em protótipo, através de opto-isolador 

com deteção de passagem por zero. .................................................................................... 75 

Figura 61 - Comparação entre sinal, temperatura lida e real do sensor de fumos. ............. 76 

Figura 62 - Comparação entre sinal, temperatura lida e real do sensor ambiente. .............. 76 



xiii 

 

Figura 63 - Interface da aplicação móvel para Windows 10, com comandos por Bluetooth.

 ............................................................................................................................................. 78 

Figura 64 - Placas constituintes do controlador desenvolvido. ........................................... 81 

Figura 65 - Análise de ruído em carga de um carregador USB. .......................................... 83 

Figura 66 - Diagrama de blocos dos circuitos de alimentação e deteção de zero com a placa 

de controlo/Arduino. ............................................................................................................ 84 

Figura 67 - Esquema de circuito de deteção de zero com recurso a transformador. ........... 84 

Figura 68 - Esquema elétrico do circuito de alimentação do controlador. .......................... 87 

Figura 69 - Sinal de saída do detetor de passagem por zero. ............................................... 88 

Figura 70 - Análise de tensão à entrada do regulador após retificação e filtragem. ............ 89 

Figura 71 - Análise da componente AC da tensão de saída do regulador de tensão. .......... 90 

Figura 72 - Teste de instalação num equipamento de queima de pellets. ........................... 92 

Figura 73 - Fluxograma do ciclo principal de funcionamento do firmware. ....................... 93 

Figura 74 - Fluxograma de início do processo de queima. .................................................. 96 

Figura 75 - Mensagem informativa de início de funcionamento. ....................................... 96 

Figura 76 - Fluxograma do processo de extinção da queima de pellets. ............................. 98 

Figura 77 - Mensagem de término de funcionamento. ........................................................ 98 

Figura 78 - Menu de programação de funcionamento. ...................................................... 100 

Figura 79 - Botões do painel de interface. ......................................................................... 101 

Figura 80 - Aquisição de dados através de comunicação por infravermelhos e Bluetooth.

 ........................................................................................................................................... 103 

Figura 81 - Informação no ecrã em modo de funcionamento manual. .............................. 104 

Figura 82 - Símbolo de alarme e informação no modo de climatização automática......... 104 

Figura 83 - Informação no LCD durante a utilização de um menu. .................................. 106 

Figura 84 - Função de conversão de tensão em temperatura. ............................................ 107 

Figura 85 - Fluxograma da função de gestão de estado do motor alimentador. ................ 109 

Figura 86 - Função de gestão de alimentação de pellets. .................................................. 110 

Figura 87 - Fluxograma de controlo por ângulo de fase implementado no firmware, ...... 111 

Figura 88 - Fluxograma de eventos interruptivos do controlo dos motores de velocidade 

variável. ............................................................................................................................. 112 

Figura 89 - Atribuição de valor ao registo de contagem TCNT1. ..................................... 114 

Figura 90 - Encoder de efeito de Hall do motor extrator de fumos. .................................. 114 

 



xiv 

 

 

 

 

 

 

 

 

 

Esta página foi intencionalmente deixada em branco 

 

  



xv 

 

Lista de tabelas 

Tabela 1 - Comparação de custos anuais para aquecimento de uma moradia. ...................... 3 

Tabela 2 - Utilidade e categoria dos diferentes tipos de biocombustíveis [7]. ...................... 7 

Tabela 3 - Comparação do preço e rendimento entre os vários combustíveis para 

aquecimento [11]. .................................................................................................................. 9 

Tabela 4 - Critérios de certificação de qualidade de pellets. ............................................... 11 

Tabela 5 - Requisitos de um controlador de queima de pellets, sem interface. ................... 39 

Tabela 6 - Especificações técnicas Arduíno Uno. ............................................................... 42 

Tabela 7 - Especificações técnicas Arduíno Mega 2560. .................................................... 43 

Tabela 8 - Especificações técnicas da placa de desenvolvimento ChipKIT Uno32. ........... 46 

Tabela 9 - Análise às plataformas de controlo face aos requisitos do projeto. .................... 50 

Tabela 10 - Equivalência entre botões do comando remoto, painel de interface e etiquetas.

 ........................................................................................................................................... 103 

Tabela 11 - Intervalos de tempo de funcionamento do motor alimentador para os diferentes 

níveis de potência. ............................................................................................................. 110 

Tabela 12 - Comparação de preços do controlador em diferentes métodos de produção. 118 

Tabela 13 - Lista de componentes utilizados no controlador. ........................................... 131 

 

  



xvi 

 

 

 

 

 

 

 

 

Esta página foi intencionalmente deixada em branco 

 

  



xvii 

 

Lista de siglas 

COP Coefficient of Performance 

EEPROM Electrically-Erasable Programmable Read-Only Memory 

EMI Electromagnetic Interference 

FTDI Future Technology Devices International 

GPRS General Packet Radio Service 

LCD Liquid-Crystal Display 

LED Light Emitting Diode 

NTC Negative Temperature Coefficient 

PID Proportional Integral Derivative 

PWM Pulse-Width Modulation 

SMS Short Message Service 

SPI Serial Peripheral Interface 

TRIAC Triode for Alterning Current 

TTL Transistor-Transistor Logic 

USB Universal Serial Bus 

 

 

 

 

 

 

 

 



xviii 

 

 

 

 

 

 

 

 

 

Esta página foi intencionalmente deixada em branco 

 

  



xix 

 

Índice 

DEDICATÓRIA III 

AGRADECIMENTOS V 

RESUMO VII 

ABSTRACT IX 

LISTA DE FIGURAS XI 

LISTA DE TABELAS XV 

LISTA DE SIGLAS XVII 

ÍNDICE XIX 

1. INTRODUÇÃO 1 

1.1. ENQUADRAMENTO 1 

1.2. OBJETIVOS 5 

1.3. ESTRUTURA DO TRABALHO 5 

2. SISTEMAS DE QUEIMA DE BIOMASSA 7 

2.1. BIOMASSA 7 

2.2. SISTEMAS DE AQUECIMENTO A BIOMASSA 11 

2.2.1. AQUECIMENTO A LENHA 11 

2.2.2. AQUECIMENTO A PELLETS 20 

2.3. CONTROLO DA QUEIMA DE PELLETS 23 

2.3.1. CONTROLADOR 28 

2.3.2. INTERFACE DIRETA 29 

2.3.3. INTERFACE À DISTÂNCIA 33 

2.3.4. FUNCIONALIDADES 36 

2.3.5. CONTROLADOR A IMPLEMENTAR 37 

3. SOLUÇÕES DE CONTROLO 39 

3.1. ARDUINO 40 

3.1.1. ARDUINO UNO 42 

3.1.2. ARDUINO MEGA 2560 43 

3.2. MICROCHIP 44 

3.3. CHIPKIT 45 

3.3.1. CHIPKIT UNO32 46 

3.4. RASPBERRY PI 47 



xx 

 

3.5. ANÁLISE COMPARATIVA 49 

4. CONTROLADOR DESENVOLVIDO 53 

4.1. PROTÓTIPO - HARDWARE 55 

4.1.1. CONTROLO DE MOTORES E RESISTÊNCIA 55 

4.1.2. INTERFACE E SENSORES 65 

4.1.3. TESTES E RESULTADOS 69 

4.2. CONTROLADOR – HARDWARE EM PLACA ÚNICA 78 

4.2.1. ALIMENTAÇÃO DE CONTROLO 82 

4.2.2. TESTES E RESULTADOS 87 

4.3. CONTROLADOR – FIRMWARE 92 

4.3.1. DESCRIÇÃO DE FUNCIONAMENTO 95 

4.3.2. GESTÃO DA INTERFACE 100 

4.3.3. CONTROLO DO SISTEMA 108 

4.3.4. TESTES E RESULTADOS 116 

4.4. ANÁLISE DE CUSTOS / PRODUÇÃO 117 

5. CONCLUSÕES E TRABALHOS FUTUROS 119 

REFERÊNCIAS 123 

ANEXOS 131 



1 

 

1. Introdução 

1.1. Enquadramento 

O conforto térmico é uma sensação relacionada com o ambiente térmico 

circunjacente, de suma importância para o nosso bem-estar. Significa na prática que uma 

pessoa nestas condições não tem a sensação de frio nem de calor.  

O Homem necessita de manter a temperatura do seu corpo a cerca de 37ºC o que o 

obriga a uma procura constante de equilíbrio para com o meio envolvente, que influencia 

diretamente a sua temperatura interna. Um ambiente neutro ou confortável permite que a 

produção de calor metabólico se equilibre com as trocas de calor com o meio. A busca pelo 

conforto térmico está diretamente ligada à natureza do Homem. Há centenas de milhar de 

anos, altura da prova mais concreta de domínio do fogo, esta busca traduzia-se numa fogueira 

ao ar livre. 

A tecnologia evoluiu e a busca constante pelo conforto permanece. Facilmente se 

atingem temperaturas baixas, desconfortáveis, no inverno. Em alguns locais do mundo, as 

temperaturas são demasiado baixas o ano inteiro, bem longe do conceito de conforto térmico. 

Em Portugal, muitos edifícios têm um isolamento térmico deficiente, sobretudo os 

mais antigos, pelo que manter uma habitação aquecida é essencial, em especial durante o 

inverno, altura em que se atingem temperaturas abaixo dos 10ºC em qualquer parte do país. 

O aquecimento com origem na eletricidade ou em combustíveis fósseis tem vindo a tornar-

se demasiado dispendioso e nem todas as habitações permitem armazenar quantidades de 

lenha suficientes que durem uma estação. Cada vez mais o custo, a eficiência energética e 

também as preocupações ambientais devem ser fatores a ter em conta quando se escolhe um 

combustível para aquecimento. Os combustíveis fósseis têm-se caracterizado por uma forte 

instabilidade no preço, motivo pelo qual investir num sistema de aquecimento deste tipo traz 

associado um risco assinalável. A Figura 1 mostra a evolução do preço do barril de petróleo, 

em dólares, desde o ano 2000 até ao ano de 2016. 

 



2 

 

 

Figura 1 - Evolução do preço do barril de petróleo ($USD/Barril) nos últimos 16 anos [1]. 

 

Podemos observar variações de mais de 100$USD, tendo o barril de petróleo chegado 

a estar cotado a um máximo de 140$USD e registado um preço mínimo abaixo dos 40$USD. 

Para um utilizador que queira aquecer um edifício ou habitação, recorrer a combustíveis 

fósseis pode tornar-se demasiado dispendioso e instável uma vez que está à mercê destas 

oscilações. 

Quer a nível governamental quer a nível social, tem existido uma consciencialização 

em termos ambientais que tem levado à procura de soluções ecológicas, eficientes e 

renováveis no aquecimento de edifícios. No mercado de combustíveis para aquecimento 

doméstico os sistemas alimentados a biomassa têm vindo a ganhar quota de mercado 

relativamente a outros sistemas. 

A necessidade de modernizar os sistemas de queima tradicionais alimentados a 

biomassa lenhosa, fez com que surgissem combustíveis de biomassa densificada, como os 

pellets, com a vantagem de permitir o funcionamento automático do sistema de aquecimento 

como ocorre com alguns sistemas a gasóleo, gás butano ou gás natural. 

Os pellets são pequenos aglomerados constituídos exclusivamente por biomassa 

florestal residual e subprodutos da indústria florestal, devidamente triturados e secos [2]. 

Como são uma fonte renovável de produção nacional, a estabilidade e previsibilidade do 

preço são garantidas - não está dependente de guerras, conflitos internacionais, etc. - além 

de que, devido ao tratamento a que está sujeito na sua transformação, a humidade é muito 

reduzida, permitindo que a combustão seja muito mais eficiente e liberte menos fumo que a 



3 

 

lenha normal, o que lhe confere um elevado poder calorífico. Existem ainda outras mais-

valias na escolha de pellets em vez de outros combustíveis. Uma vez que são produzidos a 

partir da limpeza das florestas, contribuem para a redução do risco de incêndio florestal. 

Reduzem também a dependência energética que temos em relação a outros países, 

beneficiando a economia nacional. Outra vantagem é o facto de serem um combustível 

menos poluente do que os combustíveis fósseis, pois libertam muito menos monóxido de 

carbono e dióxido de carbono na sua utilização; são considerados um combustível neutro em 

termos ambientais uma vez que a quantidade de CO e CO2 libertados na combustão é 

equivalente à que a árvore absorveu ao longo da sua vida. Os pellets são também uma escolha 

mais prática porque são vendidos em sacos, o que facilita o seu transporte e armazenamento 

[3]. 

Em Portugal a floresta ocupa cerca de 38% do território [4], o que oferece vastas 

áreas com os recursos necessários à produção de pellets. Existem alguns fabricantes 

nacionais de pellets que inclusive têm feito investimentos muito significativos [5]. Desta 

forma, os pellets perspetivam-se como uma solução ecológica, económica e sustentável. 

Os pellets são bastante menos volumosos do que a lenha - e, portanto, são mais fáceis 

de armazenar -, têm um poder calorífico semelhante a esta e a sua utilização como 

combustível torna estes sistemas de aquecimento muito competitivos em termos de custos 

de utilização relativamente aos sistemas de aquecimento a combustíveis fósseis, eletricidade 

ou gás natural. Exemplo disso é o aquecimento de várias divisões de uma moradia que não 

possua uma lareira. Quando comparados os custos de utilização de um equipamento a pellets 

com os de uma caldeira a gás natural, ar condicionado ou um termoventilador, o equipamento 

a pellets tem um custo de utilização menor que as outras opções [6]. 

 

Tabela 1 - Comparação de custos anuais para aquecimento de uma moradia. 

Custos Termoventilador 
Ar 

condicionado 

Caldeira 
a gás 

natural 

Salamandra 
a pellets 

Aquisição 120€ 2600€ 1600€ 1400€ 

Instalação 0€ 325€ 175€ 250€ 

Manutenção anual 0€ 60€ 30€ 60€ 

Gasto anual de energia 1263€ 224€ 572€ 304€ 

 



4 

 

A Tabela 1 contém dados de uma simulação [6] do custo de aquecimento de uma 

moradia – 3 ou mais divisões – que permitem concluir que os dois equipamentos mais 

baratos para aquecer uma moradia são a salamandra a pellets e o ar condicionado. A 

diferença anual de custo em termos energéticos, entre ambos, é de 80€. Apesar de ainda ser 

uma diferença considerável, é necessário avaliar também todas as outras despesas, como a 

manutenção, aquisição e instalação dos equipamentos para se ter uma ideia do custo a longo 

prazo. Na Figura 2 podemos ver a simulação dos custos de utilização de todos os 

equipamentos ao longo de diferentes prazos. 

 

 

Figura 2 - Simulação de custos de utilização a prazo dos equipamentos para aquecimento [6]. 

  

É possível concluir que apesar de ser o equipamento com o menor custo de aquisição, 

o termoventilador ultrapassa de imediato todos os outros equipamentos no que respeita aos 

custos de utilização após 5 anos. A caldeira a gás natural mantém a sua posição de terceiro 

equipamento mais caro para os prazos de 2 até 10 anos de utilização. O ar condicionado 

aparece nos primeiros 2 anos como o equipamento com um custo de utilização mais elevado, 

mas compensa para prazos mais alargados, tornando-se no equipamento mais barato logo a 

seguir à salamandra. Esta, aparece desde os 2 anos de utilização como sendo o equipamento 

mais barato. Mesmo após 10 anos, entre os dois equipamentos mais baratos à partida, a 

salamandra a pellets e o ar condicionado, a salamandra continua a ser a opção 

financeiramente mais vantajosa. Esta vantagem deve-se à disparidade do custo de aquisição 

e instalação entre os equipamentos onde o equipamento de queima de pellets tem menor 

custo. 

2 645 €

6 553 €

13 107 €

3 493 €

4 347 €

5 769 €

2 979 €

4 347 €

5 769 €

2 378 €

3 472 €

5 294 €

0 € 2 000 € 4 000 € 6 000 € 8 000 € 10 000 € 12 000 € 14 000 €

2

5

10

Custo (€)

A
n

o
s

Custos de utilização a prazo

Salamandra a Pellets

Caldeira a gás natural

Ar Condicionado

Termoventilador



5 

 

O processo de queima dos pellets para aquecimento doméstico difere ligeiramente 

em relação à combustão de lenha. Nestes sistemas a pellets a eficiência da queima é 

suportada pela presença de eletrónica de controlo embebida que garante o início, a 

continuidade da queima e a potência final regulada em calor, pretendida pelo utilizador. 

Com vasto conhecimento de mercado, a empresa MVM – Metalomecânica Víctor 

Monteiro, Lda, produz e comercializa sistemas de aquecimento a lenha e pellets - caldeiras, 

salamandras, bailarinas e recuperadores de calor - mas necessita de importar toda a eletrónica 

de controlo associada. Esta necessidade deu origem ao desafio lançado pela empresa: ser 

desenvolvido um controlador de origem nacional, com um custo competitivo. 

 

1.2. Objetivos 

Aceite o desafio, o objetivo deste projeto foi desenvolver um controlador de queima 

de pellets com um custo competitivo relativamente a outras opções existentes, partindo de 

uma análise do sistema de queima e de um estudo de mercado para avaliar quais as melhores 

opções e características que este deverá contemplar, não descurando a possibilidade de, no 

futuro, acrescentar funcionalidades com relativa facilidade. 

O desenvolvimento efetuado engloba a componente de controlo – firmware –, 

hardware e ensaios num equipamento comercializado pela MVM. 

 

1.3. Estrutura do trabalho 

Este relatório é composto por 5 secções que distinguem as várias etapas de estudo, 

pesquisa e desenvolvimento do trabalho. 

A secção 1 consiste numa introdução ao tema do desenvolvimento do projeto, a sua 

motivação e objetivos. 

Na secção 2 é feita uma apresentação do estudo efetuado acerca dos sistemas de 

queima de biomassa, aprofundado para o caso concreto deste trabalho que são os sistemas 



6 

 

de queima de pellets. É também feita uma descrição de várias opções de controlo existentes 

no mercado e finaliza-se com a ideia do controlador a ser realizado. 

A comparação e análise de plataformas de controlo que melhor se adequam à 

realização deste projeto é feita na secção 3. 

O desenvolvimento de todo o hardware e firmware do controlador bem como dos 

testes efetuados é explicado ao longo da secção 4, onde também é feita uma análise aos 

custos de produção do controlador. 

Por fim, na secção 5, são apresentadas conclusões relativas ao trabalho desenvolvido 

e algumas ideias de desenvolvimento futuro. 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 



7 

 

2. Sistemas de queima de biomassa 

2.1. Biomassa 

A energia proveniente da biomassa é uma das formas de energia utilizada há mais 

tempo pelo Homem, tanto para a produção de calor como para o aquecimento de alimentos, 

pela sua abundância e facilidade de aproveitamento. Cerca de 80% da oferta mundial de 

energias renováveis deriva do aproveitamento de biomassa [7]. 

Definida pela Diretiva Europeia 2009/28/CE de 23 de abril, a biomassa é “a fração 

biodegradável de produtos, resíduos e detritos de origem biológica provenientes da 

agricultura (incluindo substâncias de origem vegetal e animal), da exploração florestal e de 

indústrias afins, incluindo da pesca e da aquicultura, bem como a fração biodegradável dos 

resíduos industriais e urbanos” [8]. 

Atualmente, através de várias tecnologias de conversão, é possível obter da biomassa 

biocombustíveis sólidos, líquidos e gasosos, capazes de gerar energia térmica, energia 

mecânica e energia elétrica. A Tabela 2 mostra diferentes utilidades dos tipos de 

biocombustíveis existentes. 

 

Tabela 2 - Utilidade e categoria dos diferentes tipos de biocombustíveis [7]. 

Tipo de biocombustível Categoria Utilidade 

Sólido 

Lenha, carvão vegetal, 

resíduos florestais e 

agrícolas, fração orgânica 

do lixo, restos de madeira 

Queima em lareiras, 

fogões, braseiros (para 

geração de calor), queima 

industrial (para geração de 

vapor e eletricidade) 

Líquido Biodiesel, etanol, metanol 
Combustível para 

automóveis 

Gasoso Biogás 
Queima (para geração de 

calor e eletricidade) 

 

A energia térmica gerada a partir da biomassa florestal traz importantes benefícios 

sociais, económicos e ambientais. Na União Europeia, em 2012, o consumo de biomassa 

para a produção de calor representou 74,7Mtep. Em Portugal, a lenha é a fonte de energia 

mais utilizada no sector do aquecimento ambiente e com menor custo unitário. É utilizada 



8 

 

em 54,7% dos alojamentos que utilizam caldeiras a biomassa para aquecimento de águas 

sanitárias [9]. 

 

? Lenha 

A biomassa lenhosa é vulgarmente conhecida como lenha. Inicia o seu processo de 

combustão a cerca de 200ºC, temperatura à qual se começa a decompor em gases e carvão. 

Durante a decomposição parte dos gases são queimados, chegando a atingir temperaturas de 

700ºC, altura em que é necessária uma grande quantidade de ar para manter a combustão. 

Seguidamente inicia-se a última fase do processo de combustão, a queima do carvão, onde 

a quantidade de ar necessária à combustão diminui bastante. 

 

? Pellets 

Os pellets, apresentados na Figura 3, são considerados biomassa pois são pequenos 

aglomerados cilíndricos constituídos apenas por biomassa florestal, devidamente triturada e 

seca. Ao contrário da lenha que é normalmente tratada como biomassa lenhosa, os pellets 

não têm qualquer designação específica. São uma fonte de energia renovável produzida a 

partir da limpeza das florestas e desperdícios da indústria da madeira, e devido à produção 

nacional existente, tal como referido anteriormente, é garantida a estabilidade dos preços. 

 

 

Figura 3 - Pellets [10]. 

 

Os pellets têm já alguma relevância no panorama térmico e até elétrico, nacional e 

europeu, apresentando-se a produção destas energias como uma alternativa económica e 



9 

 

energeticamente eficiente. São produzidos para os segmentos de mercados industrial, 

comercial e residencial. 

Devido ao tratamento na sua transformação a humidade é muito reduzida - abaixo de 

1% - permitindo assim que a combustão seja muito mais eficiente e liberte menos fumo que 

a lenha, garantindo um elevado poder calorífico. O Poder Calorífico Inferior (PCI), que 

quantifica a energia realmente disponível por unidade de massa em forma de calor, após 

evaporação da água, é de 14,4MJ/kg na lenha. Nos pellets, o PCI é de 18,0MJ/kg, o que 

corresponde a 5 kWh/kg [2]. 

O elevado rendimento dos aparelhos de combustão de pellets em conjunto com seu 

poder calorífico fazem deles uma solução muito atrativa. Em termos concretos, numa rápida 

análise é possível verificar que além da vantagem financeira na aquisição de um aparelho de 

combustão deste tipo de biomassa, demonstrada na secção 1.1, o preço por unidade de 

energia, kWh, também é bastante competitivo. A Tabela 3 mostra um resumo dos preços, 

rendimento e poder calorífico inferior de vários tipos de combustíveis para aquecimento. 

 

Tabela 3 - Comparação do preço e rendimento entre os vários combustíveis para aquecimento [11]. 

 Preço Rendimento PCI 

Lenha 0,13 €/kg 70% 14,4 MJ/kg 

Pellets 0,22 €/kg 85% 18,0 MJ/kg 

Eletricidade - bomba de calor 0,171 €/kWh 2,5 COP* - 

Gás natural 0,081 €/kWh 85% - 

Gasóleo 1,35 €/L 85% 42,9 MJ/kg 

Eletricidade 0,171 €/kWh 100% - 

Gás propano 2,172 €/kg 85% 46,3 MJ/kg 
*COP: Coeficiente de Performance. 

 

Os dados da tabela anterior permitem-nos avaliar o custo por kWh térmico, que se 

traduz diretamente no custo do aquecimento. A Figura 4, mostra uma análise comparativa 

do custo do kWh térmico para aquecimento [12]. 

 



10 

 

 

Figura 4 - Comparativo do custo do kWh térmico para aquecimento. 

 

Os pellets aparecem numa posição bastante competitiva quando comparados com o 

combustível de custo mais diminuto, a lenha, onde a diferença não ultrapassa os 0,006€ por 

kWh. Se é verdade que esta pequena diferença económica pode ser decisiva para algumas 

pessoas, também é verdade que o facto de terem armazenamento e transporte facilitado por 

serem vendidos em sacos em qualquer grande superfície comercial tem muita importância, 

especialmente se o destino for aquecer um apartamento, onde regra geral o espaço de 

armazenamento é reduzido. Um equipamento de queima deste tipo de biomassa oferece 

também habitualmente uma autonomia superior a 25h. 

Outra vantagem é o facto de ser o combustível sólido mais limpo, onde a emissão de 

compostos químicos como óxidos de nitrogénio (NOx) ou compostos orgânicos voláteis é 

muito reduzida, o que torna os pellets uma das formas de aquecimento menos poluentes 

disponíveis no mercado [13]. 

Em 2011, foram introduzidas novas normas Europeias no sistema de certificação para 

biocombustíveis sólidos. Entre elas está a norma onde se incluem os pellets de madeira, EN 

14961-2, que veio substituir as normas nacionais. Esta norma inclui duas classes de 

qualidade, A1 e A2. Os produtos de qualidade A1 produzem menor quantidade de cinza e 

são usados normalmente em condições domésticas enquanto os produtos de qualidade A2 

produzem mais cinza e são utilizados em aplicações industriais [14]. Os critérios para 

qualificação dos pellets incluem a sua densidade, tamanho, comportamento de fusão das 

0,046 € 0,052 €
0,068 €

0,095 €

0,160 €
0,170 €

0,200 €

0,00 €

0,05 €

0,10 €

0,15 €

0,20 €

0,25 €

Lenha Pellets Bomba de
Calor

Gás Natural Gasóleo Eletricidade Gás Propano

Custo do kWh térmico para aquecimento



11 

 

cinzas e temperatura de amolecimento da cinza. A Tabela 4 mostra as diferenças dos 

principais critérios para a classificação de qualidade A1 ou A2, segundo a norma. 

 

Tabela 4 - Critérios de certificação de qualidade de pellets. 

 A1 A2 

Comprimento (mm) ?40 ?40 

Finos (%, massa) ?1 ?1 

Teor de Cinza (%, massa) ?0,7 ?1,5 

Temp. fusão de cinza (ºC) ?1200 ?1100 

 

 Relativamente ao comprimento, está estipulado que 1% do total dos pellets pode ser 

maior do que 40mm desde que não exceda os 45mm de comprimento. O teor de cinza é 

analisado a 550ºC e a determinação da sua temperatura de fusão é feita a 815ºC [15]. Do 

ponto de vista do controlo, é indiferente a qualidade dos pellets utilizados. No entanto, para 

uso doméstico é preferível utilizar pellets de qualidade superior uma vez que quanto mais 

elevada for a qualidade do combustível, menos quantidade de cinza é produzida. 

 

2.2. Sistemas de aquecimento a Biomassa 

2.2.1. Aquecimento a lenha 

? Lareira aberta 

Uma lareira aberta, representada na Figura 5, é a forma mais antiga de obter energia 

térmica a partir da biomassa no sector residencial. Numa lareira aberta não há controlo sobre 

a combustão a não ser através da quantidade de lenha nela colocada. 

 



12 

 

 

Figura 5 - Lareira aberta encastrada [16]. 

  

Constituída por uma câmara de combustão, normalmente em tijolo refratário, 

diretamente ligada à chaminé, a lareira aberta clássica está normalmente encastrada numa 

parede. É extremamente ineficiente além de ser nociva para a saúde pois a queima da lenha 

consome o ar existente e liberta poluentes atmosféricos para o ar interior. 

As lareiras abertas mais recentes podem estar em qualquer espaço que tenha uma 

chaminé vertical, como ilustra a Figura 6. 

 

 

Figura 6 - Lareira aberta no centro de uma divisão [17]. 

 

A sua eficiência não excede os 10% pois o calor resultante é apenas o irradiado pelo 

fogo e pelos tijolos refratários. Tudo o resto é perdido pela chaminé e quanto mais “fuma” a 



13 

 

lareira, mais depressa sobe por ela o calor que é suposto ser aproveitado, criando uma 

corrente de ar frio que entra na câmara de combustão, é aquecido e sobe pela chaminé. 

Neste tipo de sistema apenas se conseguem aquecer as zonas mais próximas. Uma 

lareira normal precisa de 80 a 300m3/h de ar para a queima de lenha, o que corresponde a 

renovar o ar de uma divisão várias vezes por hora. A renovação é feita pelo ar frio que entra 

pelas frestas das portas e janelas um pouco por toda a habitação, arrefecendo-a. Se não 

houver renovação de ar da divisão em que se encontra, a lareira põe em perigo a saúde dos 

utilizadores uma vez que devido à queima liberta monóxido de carbono, gás altamente tóxico 

e cuja inalação é mortal.  

Segundo um estudo apresentado pela Universidade de Aveiro, a combustão de 

lareiras é responsável por cerca de 20% das emissões de partículas para a atmosfera devido 

à combustão residêncial, causas de, por exemplo, problemas respiratórios [18]. 

Face à evolução tecnológica, este tipo de sistema para aquecimento tornou-se 

completamente obsoleto, motivo pelo qual só as lareiras mais antigas resistem e dessas 

muitas não são utilizadas. 

 

? Recuperador de calor 

Uma evolução da ineficiente e clássica lareira é o recuperador de calor. Um 

recuperador de calor é um equipamento que se pode instalar numa lareira, uma vez que uma 

lareira é, por definição, um espaço vazio que serve o propósito da queima de lenha. Com um 

recuperador, segundo informações dadas por alguns fabricantes [19], o calor produzido é 

aproveitado até 70% enquanto o consumo de lenha diminui até 4 vezes [20], o que representa 

uma grande melhoria da eficiência relativamente à lareira. O sistema de recuperação de calor 

consiste na circulação do ar ambiente num circuito fechado impedindo que este se misture 

com o ar da câmara de combustão e escape pela chaminé. Tem ainda a vantagem de ser 

possível canalizar parte deste ar quente para outras divisões do edifício. A  Figura 7 

representa o esquema de fluxos de ar de um recuperador de calor. 

 



14 

 

 

Figura 7 - Esquema de fluxos de ar de um recuperador de calor [21]. 

 

Neste tipo de equipamento, o ar aquecido circula através de uma câmara de 

aquecimento, normalmente em chapa de aço soldada ou ferro fundido, totalmente estanque, 

sem qualquer comunicação com o compartimento dos fumos. São fabricados com uma porta 

de vidro cerâmico de modo a difundir o calor, fechar o equipamento e aumentar o rendimento 

da combustão, tornando-a mais limpa devido ao decréscimo da libertação de poluentes para 

o local que está a ser aquecido, como o monóxido de carbono. Por estar totalmente fechado, 

deixa de haver inconvenientes como o risco de contacto direto com o fogo, a crepitação, 

cinzas e fumo. 

Um recuperador de calor tem duas correntes de ar: uma para a queima e uma do 

aquecimento ao ar. O ar da câmara de combustão resultante da queima de lenha, ao aquecer, 

sobe e sai diretamente pela chaminé. Este ar é normalmente renovado através de uma entrada 

de ar exterior - no exterior da casa ou situada noutra divisão - à divisão em que o aparelho 

se encontra, criando um fluxo de ar. Aquando da instalação destes equipamentos em lareiras 

já existentes, onde não existe outro local para a entrada de ar, a renovação de ar da câmara 

de combustão pode ser feita através do ar da própria divisão, como no caso apresentado na 

Figura 7. A entrada de ar para a câmara de combustão é controlada manualmente através de 

uma pequena porta localizada na frente do recuperador. Ao controlar a entrada de ar, 

conseguimos controlar a queima da lenha e, por consequência, o calor gerado. 

O aquecimento da divisão é feito ou pela convecção natural ou por circulação 

forçada. O recuperador de calor é dotado de uma entrada de ar na parte inferior, por onde o 



15 

 

ar frio entra para a câmara de aquecimento e uma saída de ar na zona superior, por onde sai 

o ar já aquecido pelas paredes da câmara. Esta corrente de ar pode ser totalmente natural 

através do processo de convecção ou pode ser forçada, com a presença de ventiladores. Ao 

forçar o ar a circular, as paredes da câmara de aquecimento arrefecem. Ao arrefecerem, mais 

calor vão retirar à queima, logo menos calor será perdido pela chaminé, aumentando ainda 

mais o rendimento. Este processo está ilustrado na Figura 8. 

 

 

Figura 8 - Corte lateral de um sistema recuperador de calor ventilado [22]. 

 

Os sistemas que extraem o ar da câmara de aquecimento trabalham em depressão – 

exaustores - enquanto que trabalham em pressão - insufladores - os sistemas cujo ar é 

insuflado. Se trabalhar em pressão o sistema necessita de um cárter, também conhecido como 

carenagem, que serve como caixa de ar. O tamanho e potência dos ventiladores exaustores 

ou insufladores devem ser adequados à área de ferro exposto ao fogo [23]. 

Não faz sentido, nos sistemas com ventilador, a circulação do ar ser forçada 

imediatamente quando a queima começa pois iria atrasar o aquecimento das paredes da 

câmara. O mesmo sucede quando se pretende extinguir a chama, situação onde se pretende 

aproveitar o calor remanescente. Para este efeito, usa-se um sistema eletrónico ou 

eletromecânico simples com um termóstato que faz acionar o ventilador. Este termostato é 

regulado manualmente pelo utilizador para permitir definir a temperatura a partir da qual se 

pretende que o ventilador ligue e desligue. 



16 

 

Existem ainda recuperadores de calor que além de aquecerem o ar ambiente, 

conseguem distribuir o calor pela casa através fluidos térmicos. Estes recuperadores podem 

funcionar de forma autónoma ou interligados com outros sistemas de aquecimento central - 

geotérmico, aerotérmico ou solar. O fluido aquecido circula por radiadores ou piso radiante 

para dissipar o calor para as outras divisões da habitação. O aquecimento de águas sanitárias 

também pode ser feito, com este sistema, de modo independente ou interligado com sistemas 

de painéis solares, p. ex. como mostra a Figura 9. 

 

 

Figura 9 - Sistema de recuperador de calor interligado com águas sanitárias [24]. 

 

? Salamandra 

As salamandras são equipamentos completamente fechados, ideais para aquecer 

espaços mais pequenos ou para instalar em sítios onde não existe chaminé vertical. Quando 

comparados aos recuperadores de calor, são equipamentos mais baratos e podem ser 

instalados em qualquer divisão sem necessidade de encastre numa parede. 

Os modelos mais antigos não eram nada mais do que uma lareira fechada, sem 

qualquer tecnologia ou controlo, como mostra a Figura 10. Atualmente, as salamandras 

conseguem ter todas as características e opções de um recuperador de calor com um 

rendimento muito semelhante. 

 



17 

 

 

Figura 10 - Salamandra típica, com aquecimento por irradiação [25]. 

 

Construídas em aço ou em ferro fundido, as salamandras mais antigas aquecem o ar 

ambiente apenas por irradiação, onde todo o corpo do equipamento é aquecido pelo calor da 

combustão. O rendimento destes equipamentos varia entre os 50 e os 70%. 

Atualmente existem salamandras com a particularidade de recuperar o gás libertado 

quando as achas - bocados de lenha - são consumidas e utilizá-lo como combustível, 

chamadas salamandras com dupla combustão. Conseguem rendimentos muito elevados, à 

volta de 80%, tendo duas chamas diferentes na fornalha - a chama relacionada com as achas 

e a chama relacionada com a recuperação do gás. Uma vez que 75% do poder energético da 

madeira provém do gás que contém, este aproveitamento faz da salamandra de dupla 

combustão um aparelho muito ecológico e eficiente. 

Outro tipo de salamandra, conhecida como salamandra de massa, armazena o calor 

produzido pela combustão da madeira e restitui-o ao longo do dia. São fabricadas à base de 

materiais como a faiança, tijolo refratário, rochas vulcânicas ou pedra. Por terem capacidade 

de acumular calor, conseguem atingir rendimentos de entre 70% e os 85%. Segundo 

informações de uma cadeia revendedora, a autonomia destes aparelhos pode chegar a 20h, 

sendo necessário carregar a salamandra ao longo do dia [26]. 

Também as salamandras possibilitam a recuperação de calor, tendo a possibilidade 

de distribuir parte dele por várias divisões de uma habitação, como acontece com os 

recuperadores. O corte lateral de uma salamandra com recuperação de calor é ilustrado na 

Figura 11, onde é possível identificar as zonas de entrada e saída de ar, bem como a zona 

onde ocorre o seu aquecimento. 



18 

 

 

 

Figura 11 - Corte lateral de uma salamandra com recuperação de calor [23]. 

 

Ao compararmos os equipamentos representados na Figura 8 e na Figura 11, 

podemos observar que não existem diferenças entre uma salamandra e um recuperador de 

calor em termos de processo. 

Alguns fabricantes têm modelos em que o fumo passa duas vezes na câmara de 

combustão de modo a aumentar o poder de recuperação do aparelho, melhorando assim a 

sua eficiência. 

Existem também modelos de salamandra com forno. Isto significa que podem ser - e 

normalmente são - instaladas numa cozinha, permitindo utilizar o forno para cozinhar 

alimentos enquanto aquecem a divisão. 

 

? Caldeira 

Uma caldeira tem um método de aquecimento de ambiente diferente dos sistemas 

anteriormente mencionados. Em vez de aquecer o ar, a caldeira aquece exclusivamente um 

fluido térmico que deve respeitar uma série de requisitos como ter uma boa estabilidade 

térmica, não atacar quimicamente o material onde circula, ter um baixo ponto de congelação, 

baixa pressão de vapor e viscosidade, alta condutibilidade térmica, não ser tóxico nem ter 



19 

 

odor forte, etc. Os fluidos mais utilizados para este fim são a água, o vapor ou o óleo térmico. 

A escolha depende da temperatura de funcionamento, pressão e potência exigidas, 

estabilidade e capacidade térmica, viscosidade, boa compatibilidade com metais e ligas, 

entre outras. 

O calor da combustão, numa caldeira, é utilizado para aquecer serpentinas metálicas 

a altas temperaturas. Uma bomba hidráulica força a circulação do fluido térmico por essas 

serpentinas, aquecendo-o. Um esquema de uma caldeira, em corte lateral, pode ser 

observado na Figura 12. 

 

 

Figura 12 - Corte lateral de esquema de uma caldeira [27]. 

 

As divisões da habitação são aquecidas pela circulação do fluido térmico pelos 

sistemas radiadores existentes, que podem incluir radiadores de parede como na Figura 13, 

piso radiante ou transferir o calor para um sistema de aquecimento e armazenamento de 

águas sanitárias. 

 



20 

 

 

Figura 13 - Esquema de um sistema de aquecimento doméstico a caldeira [28]. 

 

2.2.2. Aquecimento a pellets 

À exceção da lareira aberta, todos os sistemas anteriormente descritos têm uma 

versão cujo combustível são pellets, em vez da lenha.  

O aquecimento a pellets tem atraído cada vez mais consumidores. A Figura 14 mostra 

a evolução do mercado nacional de pellets. 

 

 

Figura 14 - Evolução do mercado nacional de pellets [9]. 

 

627 635
689

903

43 43 73
123

584 600 622
776

0

200

400

600

800

1000

2010 2011 2012 2013

k
to

n

Evolução do mercado nacional de pellets

Produção Consumo Interno Exportação



21 

 

Entre 2010 e 2013 verificou-se uma subida considerável na produção e na exportação 

de pellets. No entanto, é no consumo interno que a subida é mais acentuada: em três anos 

quase triplicou, passando de 43 kton para 123 kton. Em 2014 houve um aumento de produção 

para 1Mton e o consumo interno atingiu 200kton dos quais 60% representam o consumo no 

sector doméstico [9]. Estes dados revelam que os consumidores estão a apostar nos sistemas 

de queima de pellets. 

Na Figura 15 podemos visualizar o esquema típico de uma salamandra a pellets. 

 

 

Figura 15 - Corte lateral de uma salamandra a pellets [29]. 

 

Os pellets são armazenados num depósito, normalmente situado acima de um fuso 

sem-fim. A gravidade faz os pellets caírem para o fuso que, ao rodar, os transporta para a 

câmara de combustão. Além de transportados, são também comprimidos na câmara. Este 

transporte e compressão são acionados por um motor que faz rodar o fuso. Quando a câmara 

de combustão está devidamente carregada, a ignição é feita através de uma resistência 

elétrica, incandescente, que se desliga quando se inicia a combustão. A partir deste momento, 



22 

 

são a rotação do ventilador que controla a entrada de ar e a velocidade do fuso de transporte 

que controlam a combustão. No caso da Figura 15, o ventilador que controla a admissão de 

ar é o ventilador de escape, algo que é comum a vários modelos de salamandra a pellets. 

Numa salamandra a pellets o aquecimento do ambiente é feito através de radiação e 

convecção do ar. Quando o ar aquece, sobe, pois torna-se mais leve e menos denso, passando 

pelo permutador de calor. A entrada e saída de ar na salamandra são feitas através de 

circulação forçada. A saída de ar da salamandra faz-se através da passagem do ar pelo 

permutador - aquecido pelo ar da câmara de combustão-, aquecendo assim o espaço onde o 

aparelho está instalado. Os gases da câmara de combustão são renovados a partir de uma 

entrada de ar existente, fluindo por um circuito de escape. A queima é controlada pela 

regulação da quantidade de pellets e do ar renovado que necessitam de entrar na câmara de 

combustão, quantidade esta que é proporcional à energia térmica gerada. 

Entre uma salamandra e um recuperador de calor a pellets, como o da Figura 16, não 

há diferenças no processo de queima. Tal como nas versões a lenha, são equipamentos que 

se distinguem essencialmente pela colocação, já que o recuperador necessita de ser 

encastrado numa parede. 

 

 

Figura 16 - Exemplo de recuperador de calor a pellets [30]. 

 

As versões a pellets de recuperadores e de salamandras também permitem aproveitar 

o calor gerado para o aquecimento de águas sanitárias, adicionando um circuito de água que 

passa dentro de uma estrutura, normalmente tubular, ligada a uma parede da câmara de 



23 

 

combustão. O corte lateral de uma salamandra com aquecimento de águas sanitárias pode 

ser visto na Figura 17. 

 

 

Figura 17 - Salamandras com aquecimento de águas sanitárias [31]. 

 

As caldeiras também têm uma versão a pellets. Tal como nas versões a lenha, neste 

equipamento é utilizado um fluido para propagar energia térmica produzida pelo edifício. 

 

2.3. Controlo da queima de pellets 

Em todos os sistemas de queima de pellets está presente um controlador eletrónico. 

Este controlador consegue oferecer um leque de opções que proporcionam maior conforto e 

comodidade ao utilizador enquanto otimizam a eficiência e o desempenho e asseguram a 

monitorização da segurança do equipamento. A Figura 18, mostra um exemplo de um 

controlador existente no mercado. 

 



24 

 

 

Figura 18 - Controlador de queima de pellets da marca FUMIS ALPHA [32]. 

 

O transporte e compactação dos pellets, feito através do fuso sem-fim, é acionado 

através de um motor. Uma volta do fuso vai corresponder a um determinado número de 

pellets que caem na câmara de combustão. A quantidade de pellets que cai por unidade de 

tempo está diretamente relacionada com a potência térmica que pretendemos obter, motivo 

pelo qual o controlador tem que saber quando o fuso dá uma volta completa – caso o motor 

tenha um encoder - ou quanto tempo está a rodar. 

Para iniciar a queima dos pellets é utilizada uma resistência elétrica, normalmente 

em cerâmica, que aquece até atingir temperaturas de cerca de 600ºC. Esta resistência, igual 

à da Figura 19, está ligada apenas até que haja combustão, sendo desligada assim que é 

detetado o fogo. 

 

 

Figura 19 - Resistência incandescente de modo a iniciar a combustão dos pellets [33]. 

 

Para que a combustão seja detetada, existe um sensor de temperatura localizado na 

conduta de fumos. Quando a temperatura dos fumos ultrapassa os 50ºC, significa que existe 

fogo na câmara de combustão. Nesse momento a resistência é desligada e só volta a ser 

ligada num reinício do processo de acendimento. 



25 

 

No caso de uma salamandra há, dependendo do modelo, dois ou três ventiladores que 

precisam de ser controlados: o ventilador de entrada de ar, o ventilador de saída e o 

ventilador de escape. O ventilador de escape extrai os fumos e o ar da câmara de combustão 

e deve funcionar a partir do momento em que se pretende dar início à queima. O ventilador 

de saída, força o ar a sair da salamandra, aquecido pela passagem pelo permutador, para o 

local onde o equipamento se encontra. Nos modelos mais recentes raramente o ventilador de 

entrada é utilizado. Quando é, força a entrada de ar para a câmara de combustão e pode 

também forçar a passagem pelo permutador de calor, dependendo do modelo do 

equipamento. Quando não existe, é o ventilador de escape que força a entrada de ar na 

câmara de combustão. 

A velocidade do ventilador responsável pela admissão de ar na câmara de combustão 

está diretamente ligada, na programação de controlo, à velocidade de alimentação dos 

pellets. O fluxo de ar depende do nível de potência desejada. A Figura 20 ilustra o esquema 

de ligações entre um controlador e os elementos que constituem a salamandra a pellets. 

 



26 

 

 

Figura 20 - Esquema elétrico de um controlador de queima de pellets [34]. 

 

Numa caldeira o processo varia ligeiramente. Continua a existir o ventilador de 

escape, mas dado o modo de permutação de calor utilizado deixa de haver ventilador de 

saída, substituído por uma bomba hidráulica que força a circulação do fluido. O ventilador 

de escape força também a admissão do ar que alimenta a combustão dos pellets. A Figura 21 

ilustra um esquema típico de uma caldeira a pellets.  

 



27 

 

 

Figura 21 - Corte lateral de uma caldeira a pellets [35]. 

 

Todo este controlo eletrónico permite ao utilizador não só definir a potência de 

aquecimento que pretende que seja produzida, mas também, no caso das salamandras e 

recuperadores de calor, a temperatura ambiente que pretende. A existência de um sensor de 

temperatura ambiente, ligado ao controlador, permite que seja feita a gestão da potência 

térmica do equipamento de modo a que o local onde está instalada atinja e mantenha a 

temperatura desejada. 

No caso da caldeira, por ser um sistema de aquecimento central, a temperatura a 

controlar é a temperatura do fluido, necessitando depois que o utilizador controle o calor 

dissipado individualmente nos radiadores ou pavimento radiante, caso pretenda regular a 

temperatura em espaços distintos. O controlador não consegue controlar cada dissipador 

térmico individualmente, mas pode ser definido um nível de potência que serve toda a 

habitação. 

Por ser necessário garantir a segurança do equipamento e das pessoas, a temperatura 

de fumos da conduta de exaustão está constantemente a ser monitorizada por forma a alertar 

caso haja alguma anomalia. Quando através do sensor de detetam temperaturas na ordem 

dos 230ºC, é emitido um aviso que de imediato deve cortar a alimentação de modo a 

extinguir o fogo o mais rápido possível até que haja intervenção do utilizador. 



28 

 

Dependendo do modelo, há também sensores de obstrução nas grelhas de ventilação 

de entrada, saída ou extração de fumos. Em caso de erro, o controlador cessa o processo de 

queima até que o problema seja resolvido de modo a permitir a correta circulação do ar. 

Toda a eletrónica adjacente ao controlo permite que um sistema de aquecimento a 

pellets, nomeadamente as salamandras e recuperadores de calor, arranquem 

automaticamente e poupem bastante combustível, podendo atingir, como referido 

anteriormente, autonomias de 25 horas dependendo da capacidade do depósito. 

Apesar das diferenças entre as salamandras, recuperadores e caldeiras, o processo de 

controlo e queima de pellets é sempre muito semelhante. Por isso, um controlador pode ser 

desenvolvido para ser aplicado a qualquer um destes sistemas. 

 

2.3.1. Controlador 

Neste projeto, o objetivo é desenvolver um controlador genérico de custo reduzido, 

aplicado numa salamandra e que não comprometa a sua adaptação a outro tipo de aparelho. 

Com essa premissa, seguidamente é apresentado o levantamento de algumas opções de 

controlo existentes no mercado, nomeadamente no que diz respeito à interface e 

comunicação dos controladores de sistemas a pellets. 

O equipamento eletrónico que serve de controlo à queima dos pellets tem que ser 

capaz de atuar sobre o motor de alimentação de pellets, os ventiladores e a resistência de 

ignição em momentos de funcionamento distintos: início da queima, gestão de potência de 

queima e término do processo. Simultaneamente, deve monitorizar todos os sensores 

existentes pois servem de ponto de referência (p. ex.: início de ignição, temperatura 

pretendida) ou de sinal de erro (p. ex.: sobreaquecimento, porta aberta, etc.). 

A gestão que o controlador faz da potência térmica do equipamento pode ter duas 

formas de referência: uma em que o utilizador define um nível de potência pré-programado 

e outra em que a gestão é feita em torno de um valor de temperatura ambiente escolhido pelo 

utilizador. O fluxograma de funcionamento de um sistema de queima de pellets pode ser 

visto na Figura 22. 



29 

 

 

Figura 22 - Fluxograma de funcionamento de um equipamento a pellets. 

 

Entre a gestão de potência automática, para atingir uma temperatura definida pelo 

utilizador e a gestão de potência para um nível previamente definido, não há diferenças no 

processo. Esta gestão é feita pelo número de vezes que a câmara de combustão é alimentada 

num determinado intervalo de tempo e variando a velocidade do ventilador que gere a 

admissão de ar na câmara de combustão. 

Além da gestão de todo o processo, o controlador necessita ter recursos suficientes 

para interagir com o utilizador. 

 

2.3.2. Interface direta 

Utilizar um microcontrolador num equipamento de aquecimento doméstico, além de 

ter as vantagens no controlo do processo enunciadas anteriormente, também permite 

aumentar substancialmente o conforto do utilizador através da compatibilidade com várias 

formas de comunicação e interação. 

De suma importância, a interface é o elo entre o utilizador e o controlador sem a qual 

seria impossível a interação do utilizador com o equipamento. É ela que permite ao utilizador 

interagir com o equipamento e, sobretudo, são as suas características que determinam o 

conforto, usabilidade e acessibilidade dessa interação. Em seguida são apresentadas as 



30 

 

interfaces mais comuns dos controladores de queima de pellets existentes no mercado, 

juntamente com uma breve análise a cada uma delas. 

 

? Painel de botões 

Uma forma simples de interagir com um controlador é através de um painel com 

botões como o da Figura 23 ou potenciómetros como o da Figura 24. É também a solução 

mais barata. 

 

 

Figura 23 - Interface com botões para salamandra a pellets [36]. 

 

No exemplo da Figura 23, o utilizador pode alterar o nível da potência térmica da 

salamandra bem como variar a velocidade do ventilador de saída de ar quente. Uma série de 

cinco leds acendem de acordo com o nível de potência e velocidade escolhidos. Tem um 

potenciómetro que regula a velocidade do motor de alimentação e um botão de início de 

funcionamento. 

É a maneira mais simples de utilizar uma salamandra e será também a que melhor 

será entendida pelo grosso da população, em especial aqueles que não estão habituados à 

tecnologia. 

 



31 

 

 

Figura 24 - Interface com potenciómetros para salamandra a pellets [37]. 

 

A interface da Figura 24 é idêntica à da figura anterior, mas esta permite também o 

controlo automático da temperatura ambiente da divisão. 

Por serem tão simples, estes tipos de interface são bastante limitados em termos de 

funcionalidades. Têm vantagem no preço reduzido e na facilidade de utilização. 

 

? Painel com LCD 

Os painéis com um LCD como o da Figura 25 são o tipo de interface mais utilizado 

nos sistemas de aquecimento a pellets. Como o display apenas serve para leitura de 

informação, para a escrita no controlador é essencial outra forma de interação como uns 

botões de pressão. Estes painéis aliam a simplicidade de leitura de informação com a 

facilidade de interação e possibilidades de configuração de variadíssimas opções. 

 

 

Figura 25 - Interface com LCD para salamandra a pellets [38]. 



32 

 

Por ter um display, este tipo de interface permite ao utilizador ler um vasto leque de 

informações entre temperaturas, hora, data, informações de estado da salamandra ou detalhes 

acerca de erros que possam ocorrer.  

Torna-se também essencial ter acesso a muita informação quando se pretendem 

incluir funcionalidades como a climatização num determinado horário ou mesmo gerir um 

calendário de funcionamento para a salamandra onde tudo é feito automaticamente pelo 

controlador; tendo o utilizador apenas que colocar os pellets na salamandra.  

 

? Painel de ecrã-táctil 

Alguns painéis de controlo mais recentes têm uma interface dotada de ecrã táctil 

como o da Figura 26. Estes painéis conseguem ter todas as vantagens dos painéis com LCD 

e evitam outro tipo de entradas de informação – botões ou potenciómetros. É uma solução 

mais cara do que as anteriores. 

 

 

Figura 26 - Interface de ecrã-táctil para salamandra a pellets [39]. 

 

Além do preço não ser o mais adequado para a integração num controlador de custo 

reduzido, a facilidade de interação com ecrã-táctil ainda não é consensual, em especial dentro 

da população mais idosa. O ecrã necessita de ter um tamanho adequado para se tornar 

prático, podendo tornar-se inestético e aumentando bastante o seu custo. 

 



33 

 

2.3.3. Interface à distância 

? Painel remoto 

Alguns modelos de controlador dispõem de uma opção onde o painel não só não 

necessita de estar encastrado no aparelho, como também não tem um sítio fixo. É o caso do 

painel remoto da Figura 27. 

 

 

Figura 27 - Painel remoto com botões [40]. 

 

Para ser cómodo tem que ser limitado em tamanho e, portanto, em funcionalidades. 

A portabilidade também está limitada a uma certa distância do equipamento e ao tempo de 

vida útil da bateria que utilizar. Esta solução aumenta o preço final do controlador pois é 

necessária comunicação sem fios para interagir com este. Esta opção pode também ser 

aplicada com um painel remoto de ecrã-tátil como o apresentado na Figura 28.  

 

 

Figura 28 - Painel remoto de ecrã táctil [41]. 



34 

 

As soluções apresentadas podem ser aplicadas em conjunto com outros tipos de 

interface, complementando-se entre si. 

 

? Controlo por comando remoto 

Relativamente à possibilidade de controlo remoto, existe uma opção mais simples e 

mais barata do que as anteriores: a integração de um comando remoto com um painel LCD. 

A Figura 29 apresenta um exemplo desta solução. 

 

 

Figura 29 - Interface de LCD com um comando remoto [42]. 

 

Ao adicionar um módulo de infravermelhos ao controlador e um pequeno comando 

remoto, é possível controlar algumas variáveis do sistema, à distância, como a velocidade 

do motor ventilador ambiente, a temperatura ambiente desejada, ligar/desligar o 

equipamento, etc. 

Em termos de custo esta solução não tem um valor elevado e pode ser uma mais-

valia para alguns consumidores. 

 

? Módulo Wi-Fi 

Acrescentar ao controlador um módulo de comunicação sem fios Wi-Fi como o 

representado na Figura 30 abre portas no que à comunicação e interação diz respeito. 



35 

 

 

 

Figura 30 - Módulo Wi-Fi [43]. 

 

Um controlador com Wi-Fi permite, por exemplo, o acesso através de um 

computador, smartphone ou tablet, utilizando-os como controlo remoto dentro de casa ou 

em qualquer local com acesso à internet. Com este tipo de comunicação é possível configurar 

uma calendarização programada de aquecimento, monitorizar dados do controlador como a 

temperatura ambiente ou temperatura de fumos, iniciar ou terminar o processo de queima 

através de uma aplicação ou página web. 

Esta solução implica o desenvolvimento de uma página web ou aplicação que permita 

comunicar e controlar o equipamento. Como nem toda a gente tem interesse numa solução 

de controlo à distância nem dispõe de uma ligação à internet em casa, uma implementação 

deste tipo deve ser vista como um método interface complementar e opcional. O preço 

elevado deste módulo também traz consequências a nível de preço final do produto. 

 

? Módulo GPRS 

Um pouco mais barato que o módulo de Wi-Fi, a comunicação por GPRS - Figura 31 

- está implementada em alguns modelos de controladores topo de gama.  

 



36 

 

 

Figura 31 - Módulo GSM/GPRS [44]. 

 

Semelhante ao módulo anterior, o GPRS permite ao utilizador enviar uma SMS ao 

controlador com comandos de controlo. É possível controlar totalmente a salamandra e ainda 

receber alguma informação relevante, relativa a alguma anomalia que possa ocorrer no 

equipamento durante a sua utilização, através do telemóvel pessoal do utilizador. 

Os custos do módulo e da comunicação GPRS podem afastar os utilizadores desta 

solução, não fazendo também sentido num controlador que se pretende de baixo custo. 

 

2.3.4. Funcionalidades 

Como já foi referido, a presença de um controlador eletrónico permite uma série de 

funcionalidades ao equipamento. Algumas baseiam-se em programação e hardware 

adicional, outras apenas necessitam de programação. A primeira, que está sempre incluída 

em qualquer equipamento de queima de pellets, é o acendimento automático, onde o 

utilizador apenas carrega no botão e o processo de ignição é feito pelo controlador. 

Adicionalmente, os controladores podem ter implementadas: 

? Início automático da climatização: pressupõe que o utilizador defina a 

temperatura mínima do local onde se situa o equipamento que determine o seu arranque. 

Caso se atinjam temperaturas abaixo do estipulado, a combustão inicia-se e o equipamento 

procede à climatização. A temperatura de limite mínimo e a temperatura de climatização 

devem ser previamente definidas. 



37 

 

? Climatização: a presença de um sensor de temperatura ambiente permite ao 

utilizador definir a temperatura que mais conforto lhe proporciona, relegando para o 

controlador a gestão da potência necessária para atingir e manter essa mesma temperatura. 

Esta funcionalidade não só traz mais conforto ao utilizador como também poupa bastante 

combustível, evitando situações em que a temperatura se torne desconfortável. 

? Limpeza de cinzas: ao iniciar o funcionamento do equipamento, o ventilador 

de extração de fumos pode ser ligado na velocidade máxima durante uns segundos para 

limpar alguma cinza que esteja acumulada na câmara de combustão. Esta funcionalidade é 

limitada pelo design do equipamento. 

? Programação de funcionamento: o controlador permite a programação do 

funcionamento do equipamento. Significa isto que o aparelho funciona automaticamente 

dentro de um intervalo horário estipulado pelo utilizador, climatizando o local onde se 

encontra. Esta função necessita de um circuito integrado real time clock para que o 

controlador mantenha o conhecimento da data e hora. 

 

2.3.5. Controlador a implementar 

Um controlador de queima de pellets pode oferecer várias funcionalidades em 

diferentes tipos de interface. Como descrito na presente secção, o controlo do processo 

mantém-se o mesmo, independentemente do tipo de interface ou funcionalidades presentes. 

Dada a variedade de opções e ao facto de no desenvolvimento deste projeto a programação 

do firmware não acrescentar nenhum custo, é possível desenvolver um controlador base, 

onde a competitividade e o baixo custo são os principais requisitos, preparado para receber 

mais do que um tipo de interface. A interface define o nível e gama do equipamento e isso 

traz novas funcionalidades; o controlo do processo de queima e tudo o que lhe é associado 

mantém-se. A Figura 32 representa o diagrama de blocos do controlador a desenvolver neste 

projeto.  

 



38 

 

 

Figura 32 - Diagrama de blocos do controlador a desenvolver. 

 

Para o desenvolvimento deste controlador, ter uma interface de fácil utilização e que 

fosse capaz de permitir usufruir das funcionalidades indicadas nesta secção era um dos 

objetivos. Em termos de hardware, a escolha recaiu sobre um ecrã LCD e 6 botões de 

pressão. Adicionalmente, o controlo remoto por infravermelhos e a comunicação Bluetooth 

também foram implementados como interface adicional. 

A unidade de controlo também tinha que ter a capacidade de suportar o controlo 

básico de um equipamento de queima de pellets, portanto, ser capaz de adquirir informação 

dos sensores de temperatura e controlar os restantes elementos que constituem uma 

salamandra, ao mesmo tempo que permite uma expansão gradual do controlador em termos 

de capacidades (de comunicação, interação e monitorização) como p. ex. a comunicação por 

Bluetooth ou adição de sensores de nível de combustível. 

 

 

 

 

 



39 

 

3. Soluções de controlo 

Uma vez que a programação do firmware desenvolvido neste projeto não acrescenta 

nenhum custo monetário direto, é da escolha do hardware que depende o preço final do 

controlador. Numa primeira fase pretendeu-se que o desenvolvimento fosse feito procurando 

a integração de soluções de hardware existentes no mercado tendo em vista uma poupança 

de tempo em desenvolvimento de hardware, a minoração do custo final da solução e 

desenvolvendo apenas o hardware específico necessário, mantendo-se também em 

consideração a fiabilidade na realização de poucas unidades e a disponibilidade de mercado.  

Tendo em conta as explicações do funcionamento do sistema anteriormente referidas 

na secção 2.3, podemos definir os requisitos mínimos de hardware necessários para o início 

do desenvolvimento do projeto. A Tabela 5 faz um resumo do número e tipo de entradas e 

saídas necessárias para o desenvolvimento de um controlador, sem contabilizar a interface. 

 

Tabela 5 - Requisitos de um controlador de queima de pellets, sem interface. 

 Portos Tipo 

Motores Ventiladores 2x Digital 

Motor de alimentação 1x Digital 

Resistência 1x Digital 

Sondas de temperatura 2x Analógico 

Total 6 - 

  

A plataforma precisa de ter disponíveis pelo menos quatro saídas digitais para os 

ventiladores, motor e resistência elétrica e duas entradas analógicas para as sondas de 

temperatura ambiente e temperatura de fumos de combustão. Isto para o controlo dos 

modelos básicos, pois há que ter em conta que uma salamandra, dependendo do modelo, 

poderá apresentar outros requisitos – monitorização de temperatura da câmara de combustão, 

fecho da porta de alimentação, encoder de motores ventiladores ou/e alimentador, etc. – que 

se traduzem na obrigatoriedade em ter mais entradas analógicas e/ou digitais disponíveis. 

Há ainda que reservar entradas e saídas digitais para a interface homem-máquina, cujo 

número depende do tipo de interface que for utilizado. Tal como foi apresentado nas secções 

2.3.2 e 2.3.3, existem várias opções de interface que diferem no que respeita aos seus 

requisitos. O controlador não deve estar vinculado a apenas um tipo de interface, motivo 



40 

 

pelo qual a escolha da plataforma deve ter em consideração a capacidade de integrar várias 

opções. 

Seguidamente apresenta-se uma análise de várias plataformas de controladores 

existentes no mercado que sejam capazes de cumprir com os requisitos técnicos e 

especificações do produto, com uma análise das suas características, preço, vantagens e 

desvantagens que cada uma pode representar na concretização deste projeto. 

 

3.1. Arduino 

Arduino é provavelmente a plataforma de prototipagem eletrónica de hardware mais 

conhecida em todo o mundo. A maioria das placas utiliza um microcontrolador da Atmel 

AVR e são programadas com um sistema de linguagem própria que na prática é C/C++. A 

programação é feita recorrendo a uma ligação USB, através de um adaptador FTDI FT232 

existente em cada placa e, portanto, não necessitam de nenhum dispositivo programador 

externo uma vez que o carregamento do firmware pode ser feito diretamente de um 

computador. 

Esta plataforma inclui um Ambiente de Desenvolvimento Integrado chamado 

Arduíno IDE que contém um editor de texto para a escrita de código, uma consola de ligação 

série RS232 e permite descarregar os programas para o microcontrolador. 

A placa Arduino não só tem os portos de ligação disponíveis para que seja possível 

conectar qualquer dispositivo como existe uma grande variedade de dispositivos e acessórios 

normalmente conhecidos como Shields. Uma Shield é uma placa de ligação rápida à placa 

do Arduino que permite expandir as suas capacidades. Cada Shield, dependendo do seu 

design, pode ser compatível com vários modelos de Arduino. 

 



41 

 

 

Figura 33 - Protoshield para Arduíno Uno [45]. 

 

 Encontram-se a custos reduzidos placas de ligação que são apenas placas de 

prototipagem e permitem desenvolver qualquer circuito, como a placa da Figura 33, mas 

também placas para ligação Ethernet como mostra a Figura 34, Wi-Fi, Bluetooth, Drive de 

motores DC, leitores de encoders, relés, LCDs, vários tipos de sensores, etc. [46]. 

 

 

Figura 34 - Shield de Ethernet para Arduíno [46]. 

 

Como é uma plataforma de código aberto, qualquer pessoa pode consultar, examinar 

ou modificar um produto já que todos os ficheiros de desenvolvimento - esquemas de 

hardware e software - estão disponíveis. Tal facto também faz com que existam muitas 

versões, feitas por terceiros, vendidas a preços mais acessíveis. 

 



42 

 

3.1.1. Arduino Uno 

O Arduino Uno é a placa de desenvolvimento de entrada de gama da plataforma, que 

tem incorporado um microcontrolador de 8bits ATmega328P. Um resumo das especificações 

técnicas pode ser visto na Tabela 6. 

 

Tabela 6 - Especificações técnicas Arduíno Uno. 

Arduíno Uno 

Microcontrolador ATmega328P 

Tensão de Operação 5V 

Portos digitais I/O 14 

Portos PWM 6 

Entradas Analógicas 6 (10bits) 

Velocidade de Relógio 16MHz 

Memória flash 32KB 

 

A partir dos dados da Tabela 5 do início desta secção é percetível que esta placa tem 

os requisitos necessários para controlar a queima de pellets. Disponibiliza 6 entradas 

analógicas das quais são necessárias 2 e 14 portos digitais I/O sendo necessários 4. Supre as 

necessidades e ainda permite instalar uma interface de botões ou acoplar um LCD e botões 

de pressão. No entanto, a instalação de qualquer interface utilizaria praticamente todos os 

restantes portos disponíveis, inviabilizando a adição de qualquer funcionalidade que 

necessitasse de hardware extra. Esta opção deixa o controlador limitado em termos de 

evoluções futuras quer ao nível de expansão da interface quer de comunicação. 

Uma placa de outros fabricantes, equivalente à Arduino Uno da Figura 35 encontra-

se a preços que começam nos 2€. 

 

 



43 

 

 

Figura 35 - Arduíno Uno. 

 

3.1.2. Arduino Mega 2560 

Mega 2560 é das placas Arduino que mais possibilidades oferece: incorpora um 

microprocessador de 8bits, ATmega2560, tem 54 portos I/O, 16 entradas analógicas e 256 

kb de memória para carregar o firmware. Um resumo das especificações técnicas pode ser 

visto na Tabela 7. 

 

Tabela 7 - Especificações técnicas Arduíno Mega 2560. 

Arduíno Mega 

Microcontrolador ATmega2560 

Tensão de Operação 5V 

Portos digitais I/O 54 

Portos PWM 15 

Entradas Analógicas 16 (10bits) 

Velocidade de Relógio 16MHz 

Memória flash 256KB 

 

Esta placa tem capacidade suficiente para suprir as necessidades deste projeto. O 

número de portos disponíveis e a capacidade de memória alargada dão a possibilidade de 

desenvolver e expandir as capacidades e funcionalidades de um controlador sem o limitar 

logo à partida. Com esta placa não existirão muitas limitações caso se pretenda adicionar 

comunicação Wi-Fi, GPRS, monitorização de sensores extra como tranca da porta ou aviso 

de falta de combustível, entre outros. 

Recorrendo a outros fabricantes, consegue-se adquirir a um preço a partir dos 7€ uma 

placa idêntica à Arduíno Mega 2560, representada na Figura 36.  



44 

 

 

Figura 36 - Arduíno Mega 2560. 

 

3.2. Microchip  

A Microchip é o fornecedor líder mundial de microcontroladores. A família PIC é 

utilizada em aplicações que vão desde o áudio, gestão de baterias, Ethernet, monitorização 

de energia, iluminação, comunicações sem fios, domótica, indústria automóvel, etc., numa 

gama de aparelhos que se estende desde máquinas de café até berbequins [47]. 

A Microchip vende os seus microcontroladores apenas como unidades simples. Não 

existe uma placa de desenvolvimento rápido que permita programar e fazer ligações a 

dispositivos eletrónicos externos, capaz de ser integrada numa solução final, como no caso 

do Arduíno. Há uma grande quantidade de modelos em diferentes gamas e tipos que podem 

ser utilizados para este projeto, desde que respeitem o número de portos digitais e entradas 

analógicas necessárias. Por ser vendido apenas o microcontrolador, o preço por unidade 

também é reduzido, mas implica a compra – ou criação - de uma placa de desenvolvimento 

e de um programador. 

 Existem duas placas de desenvolvimento próprias que permitem programar uma série 

de microcontroladores mas que não possibilitam a integração numa solução final. Uma delas 

apenas tem o socket para o microprocessador e uma breadboard - Figura 37 - enquanto outra 

traz agregados alguns periféricos como um ecrã LCD, botões de pressão e tem saídas 

disponíveis para fazer ligações - Figura 38. 

 



45 

 

  

Figura 37 - Placa de desenvolvimento PICDEM LAB II [47]. 

 

Figura 38 - Placa de desenvolvimento Explorer 8 

[47]. 

 

 

A placa PICDEM LAB II custa 92€, enquanto a placa Explorer 8 tem um custo de 

69€. 

Apesar do software de desenvolvimento destes microcontroladores, o MPLAB 

Xpress, ser gratuito, caso não se utilizem as placas de desenvolvimento próprias, para 

descarregar o programa para o microcontrolador é necessário um programador específico, 

comprado à parte, cujo preço no fabricante é de 44€. Há possibilidade de desenvolver um 

programador próprio, mas obrigaria a desenvolver hardware. Existem também alguns 

programadores desenvolvidos por terceiros, disponíveis no mercado com um custo que 

começa nos 8€. 

 

3.3. ChipKIT 

A ChipKIT é o resultado de uma parceria da Microchip com a Digilent Inc que entra 

no mercado para tentar diminuir as desvantagens da Microchip como plataforma de 

desenvolvimento rápido e para introduzir microprocessadores de 32bits à comunidade que, 

até então, não existiam. Segundo a própria equipa de desenvolvimento, a ChipKIT é a mais 

recente plataforma de desenvolvimento rápido disponível, totalmente inspirada no Arduino. 

As placas não só foram desenhadas com o mesmo formato e disposição de furações para 

serem compatíveis com parte dos shields do Arduino como também as suas próprias 

bibliotecas e ambiente de programação foram trabalhadas para serem compatíveis nesta 

plataforma, tornando-as funcionais em ambas. A diferença para a plataforma Arduino está 

nos microprocessadores utilizados - da família PIC32, da Microchip, de 32bits, com uma 

tensão de operação de 3,3V [48]. 



46 

 

3.3.1. ChipKIT Uno32 

A placa de desenvolvimento ChipKIT Uno32 está desenhada com o mesmo formato 

da placa Arduino Uno, mas integra o microprocessador PIC32MX320F128. É um 

processador de 32bits, velocidade de relógio de 80MHz e com 42 portos digitais I/O 

disponíveis. A Tabela 8 resume as especificações técnicas desta placa. 

 

Tabela 8 - Especificações técnicas da placa de desenvolvimento ChipKIT Uno32. 

ChipKIT Uno32 

Microcontrolador PIC32MX320F128 

Tensão de Operação 3,3V 

Portos digitais I/O 41 

Portos PWM 5 

Entradas Analógicas 16 (10bits) 

Velocidade de Relógio 80MHz 

Memória flash 512KB 

 

Pelas características é percetível que as capacidades desta placa são superiores às da 

placa Arduino Uno e pouco inferiores a um Arduino Mega, ficando ligeiramente atrás da 

última no número de portos disponíveis, situação que não é limitadora para este projeto. É 

possível verificar também que tem uma velocidade de relógio superior a ambas as placas 

concorrentes. A tensão de operação é de 3,3V, diferente dos 5V da plataforma Arduino o 

que leva a que só seja compatível com shields do mesmo nível de tensão. Os portos digitais 

apenas conseguem fornecer uma saída digital de 3,3V mas são tolerantes a tensões de entrada 

até 5V. A placa ChipKIT Uno32 tem um preço de 27€ e está representada na Figura 39. 

 



47 

 

 

Figura 39 - Placa de desenvolvimento ChipKIT Uno32 [49]. 

 

Na família ChipKIT existe um modelo de gama superior, equivalente ao Arduino 

Mega, a placa MAX32. Ultrapassa em larga margem as necessidades deste projeto por ter 83 

portos digitais, p. ex. e também um preço bastante superior - 45€ - ao já capaz modelo 

Uno32. Por este motivo e por se considerar que o preço estaria logo à partida a condicionar 

o valor final do controlador sem oferecer mais do que a placa Uno32, não se irá detalhar 

acerca das suas especificações técnicas nem considerar na decisão. 

 

3.4. Raspberry Pi 

O Raspberry Pi é um computador desenvolvido pela Raspberry Pi Foundation. Tem 

um baixo custo, é capaz de se ligar a um monitor ou televisão, permite navegar na internet, 

reproduzir vídeo em alta definição ou até utilizar um processador de texto, tudo com o 

tamanho de um cartão de crédito. 

Este computador em miniatura contempla também 40 portos digitais, dando-lhe a 

capacidade de controlar um sistema de queima de pellets e adicionar sistemas de interface e 

comunicação. A programação é feita dentro do próprio sistema operativo, Raspbian, 

instalado num cartão de memória. O último modelo tem um preço de 40€, o que torna o 

preço do projeto mais elevado quando comparado com as outras opções/plataformas. A este 

preço é necessário adicionar também o preço do cartão de memória onde corre o sistema 

operativo e de uma placa ADC (Analog-Digital Converter), necessária para a leitura das 

sondas de temperatura. A Figura 40 representa um Raspberry Pi 2 Model B. 



48 

 

 

 

Figura 40 - Raspberry Pi 2 Model B. 

 

Bem mais interessante, pelo preço e tamanho ainda mais reduzido, é um outro modelo 

Pi, o Raspberry Pi Zero. Representado na Figura 41, este modelo mantém o mesmo número 

de portos I/O que o modelo anterior - 40 portos digitais -, com um preço de cerca de 5€. 

 

 

Figura 41 - Comparação do Raspberry Pi Zero com uma nota de 5$ [50]. 

 

Também neste caso é necessário adicionar ao preço do Raspberry o preço de um 

cartão de memória de onde corre o sistema operativo e da placa ADC. O preço do cartão 

ronda os 4€ enquanto a placa de conversão analógica tem um custo de 26€. 

No Raspberry, o firmware de controlo tem que ser executado através de uma 

aplicação desenvolvida que fica a correr no sistema. Deste modo, tudo fica guardado no 

cartão de memória, que precisa de ser carregado com uma imagem da aplicação e sistema 

operativo para operar corretamente. 

 



49 

 

3.5. Análise comparativa 

Analisando as opções anteriores percebemos que todas são tecnicamente válidas e 

cada uma apresenta vantagens e desvantagens que se podem encaixar no desenvolvimento 

deste projeto. 

O Raspberry Pi é a opção com mais poder de processamento. É desnecessário para o 

controlo da uma salamandra mas pode tornar-se vantajoso caso se pretenda implementar 

uma interface gráfica mais elaborada - para um ecrã-táctil, p. ex. - ou criar algum tipo de 

monitorização/interface através de uma rede doméstica - ethernet ou Wi-Fi. Implica o estudo 

de um ambiente de programação diferente das plataformas Arduíno/ChipKIT ou Microchip. 

A sua placa tem todos os portos I/O acessíveis para interligação com dispositivos eletrónicos, 

o que permite interagir com alguns módulos existentes no mercado ou até mesmo shields 

desenhadas para outras plataformas - embora não de uma forma integrada. Tanto o ambiente 

de programação como o sistema operativo estão disponíveis de forma gratuita.  

O modelo Zero tem um custo mais reduzido. A sua arquitetura complica o 

desenvolvimento de uma placa única dedicada no futuro, para reduzir ainda mais os custos, 

mas não impossibilita o desenvolvimento de uma ou mais placas separadas para a interface 

e para o módulo de potência do controlador. No total, um controlador com Raspberry Pi 

começaria logo à partira em 69€ com o modelo Pi 2 e 35€ com o modelo Zero, um valor 

acima dos concorrentes que não justificariam esta escolha para a aplicação em causa. 

A utilização de microcontroladores da família PIC da Microchip obriga a 

desenvolver uma placa que torne acessíveis os portos do microcontrolador e que o permita 

programar caso não se pretenda comprar o conjunto de placas de desenvolvimento e de 

programação. Esta placa tem que ter as dimensões corretas no caso de se pretender integrar 

com alguma shield, como na plataforma Arduino/ChipKIT ou as shields podem ser utilizadas 

como placas separadas desde que o microcontrolador utilize a mesma tensão de operação do 

módulo. Como já foi referido anteriormente, nesta fase do projeto é uma mais valia não 

necessitar de desenvolver hardware. 

A plataforma ChipKIT veio introduzir no mercado uma solução a grande parte das 

desvantagens da Microchip. São compatíveis com grande parte dos shields existentes para 

Arduino e partilham bibliotecas de programação. Ter um preço superior às placas da 



50 

 

plataforma concorrente fez com que fosse preterida como plataforma de desenvolvimento. 

No entanto, a proximidade entre a programação, dimensão de placas e ambiente de 

desenvolvimento abre a possibilidade de, no final do projeto, transferir o trabalho 

desenvolvido para um microcontrolador da Microchip. Desta forma, é possível desenvolver 

um firmware, testá-lo numa placa Arduino e no final compilar o projeto no ambiente do 

ChipKIT para aplicar a um microcontrolador da família PIC ou vice-versa - com as devidas 

alterações aos seus registos. 

A plataforma Arduino surge assim como a opção mais barata para desenvolver o 

protótipo. O ambiente de programação é gratuito e pode ser utilizado de forma livre. As 

placas têm o preço mais acessível quando comparadas com as outras opções e estão prontas 

a ser interligadas quer com shields ou módulos, quer com soluções desenvolvidas 

especificamente para este projeto pois têm acessíveis todos os portos I/O. 

A Tabela 9 resume as vantagens e desvantagens de cada uma das plataformas, 

analisando as suas características face aos requisitos para o desenvolvimento deste projeto. 

 

Tabela 9 - Análise às plataformas de controlo face aos requisitos do projeto. 

 Arduino ChipKIT Microchip Raspberry 

Compatibilidade com shields/módulos Sim Sim Não Não 

Portos I/O disponíveis Sim Sim Não Não 

Necessidade de hardware p/ 

programação  
Não Não Sim Não 

Capacidades de comunicação 

avançada (ethernet, Wi-Fi, etc.) 
Não Não Não Sim 

Necessidade de hardware extra* Não Não Sim Sim 
* Placa ADC, oscilador, resistências, etc. 

 

Através da Tabela 9 é possível verificar que as ofertas da Microchip e da Raspberry 

têm algumas desvantagens relativamente às outras duas plataformas concorrentes, já 

enunciadas no decorrer da análise comparativa. A plataforma Arduino e ChipKIT são muito 

semelhantes. Entre elas, a escolha recaiu sobre a Arduino devido ao seu preço mais reduzido. 

O desenvolvimento iniciou-se com uma placa Mega cuja escolha, dentro das opções da 

plataforma, se deveu à relação entre o preço e capacidade de expansão que a placa 

proporciona. A placa Uno é capaz de controlar a salamandra mas poderia impedir o 

desenvolvimento de funcionalidades que se possam futuramente implementar. A Mega 



51 

 

continua a ser uma das placas mais baratas e não limita este projeto em termos de 

desenvolvimento, dando margem para integrar um conjunto de capacidades - de 

comunicação, de monitorização, etc. - que não obrigam à troca do microcontrolador e/ou 

placa associada como poderia acontecer no caso da Uno.  

Além da placa Mega, para o início do desenvolvimento do projeto foram escolhidos 

um ecrã LCD e 3 botões de pressão para desenvolver e testar a interface principal, um 

módulo de relé e uma protoshield, - idêntica à da Figura 33 - para o controlo dos motores e 

resistência. O ecrã escolhido pode apresentar a informação numa dimensão que cause 

dificuldades de leitura por pessoas com problemas de visão. É possível e caberá a decisão 

ao fabricante das salamandras, substituir o ecrã escolhido por outro de maiores dimensões 

sem necessidade de ajuste na programação ou nas ligações elétricas do controlador. 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 



52 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 



53 

 

4. Controlador Desenvolvido 

Apesar da plataforma Arduino ter um grande número de módulos de hardware já 

desenvolvidos para as mais variadas aplicações, não foi possível encontrar no mercado todas 

as soluções de hardware necessárias para o desenvolvimento deste projeto, tanto por motivos 

de ordem técnica como financeira. Por exemplo, uma salamandra exige o controlo de 

velocidade de um motor AC. Não foi possível encontrar um módulo que permitisse o 

controlo requerido através de um microcontrolador e, portanto, teve que ser desenvolvido 

hardware com essa finalidade. 

Para o teste das soluções implementadas e ensaios de utilização do controlador foi 

utilizado um sistema de queima de pellets, uma salamandra, disponibilizada pela MVM e 

localizada na sede da empresa. Há muitas opções para a constituição de um equipamento de 

queima de pellets, onde cada fabricante toma as suas decisões. Para este trabalho, o modelo 

disponibilizado para testes e desenvolvimento foi o Prima Air que pode ser visto na 

Figura 42. 

 

 

Figura 42 - Salamandra de testes, modelo Prima Air, durante um ensaio de queima. 

 



54 

 

O controlador utilizado pela MVM no modelo Prima Air tem um sensor de massa de 

ar e um encoder acoplado ao ventilador extrator de fumos além dos constituintes básicos 

referidos na Tabela 5. Segundo as indicações da empresa, o encoder é um elemento essencial 

por questões de segurança mas o sensor de massa de ar é um elemento dispensável. 

Caso haja uma falha no extrator de fumos, detetada através da leitura do encoder, a 

salamandra tem que ser impedida de iniciar a queima ou cessar de imediato o processo de 

queima se este estiver a decorrer. A presença do sensor de massa de ar garante um fluxo de 

ar mínimo na admissão – para cada nível de potência – pois é, quanto existe, através da sua 

leitura que se varia a velocidade do ventilador encarregue da admissão de ar. A sua presença 

não é fundamental e encarece o sistema de aquecimento, motivo pelo qual foi ignorado no 

desenvolvimento do controlo a aplicar neste modelo. 

A Figura 43 mostra o conjunto de elementos deste modelo de salamandra que 

necessitam da atenção do controlador. 

 

 

Figura 43 - Elementos constituintes da salamandra a controlar. 

 

Tanto os motores como a resistência funcionam à tensão nominal da rede elétrica 

nacional, ou seja, 230V. 

 



55 

 

4.1. Protótipo - hardware 

Nas secções seguintes são descritos os circuitos desenvolvidos para o controlo dos 

motores, controlo de resistência e os componentes utilizados na interface e aquisição de 

dados de temperatura, concluindo com testes e resultados da implementação relativos ao 

desenvolvimento do protótipo do controlador. 

 

4.1.1. Controlo de motores e resistência 

Aos motores de exaustão de fumos e ventilação ambiente, exige-se que tenham 

velocidade variável tanto para controlar a queima como para regular a quantidade de ar 

quente que circula para o ambiente onde o sistema se encontra. A resistência de aquecimento 

e o motor de alimentação têm um controlo de estado on/off. Para variar a velocidade dos 

motores ventiladores foi implementado um controlo por ângulo de fase. 

 

? Controlo por ângulo de fase 

O controlo por ângulo de fase é um tipo de controlo que permite variar a tensão numa 

carga a partir de uma fonte AC de tensão fixa. A velocidade varia consoante a tensão eficaz 

aplicada no motor, que por sua vez varia conforme o ângulo de disparo, como mostra a 

equação: 

?? = ?? ? ???(?) [?] 

Onde: 

Vo: tensão eficaz de saída 

Vs: tensão eficaz de entrada 

?: ângulo de disparo 

 

Um interruptor (TRIAC) é acionado num determinado instante do semi-ciclo da onda, 

o que faz com que a tensão eficaz aplicada na carga varie consoante o ângulo de semi-ciclo 

em que começa a conduzir: a tensão é máxima quando o ângulo de disparo é de 0 radianos 



56 

 

e será mínima para um ângulo de ? radianos. A curva que estabelece a relação entre a tensão 

de saída Vo e o ângulo de disparo ? está representada na Figura 44. 

 

 

Figura 44 - Relação entre tensão de saída e ângulo de disparo [51]. 

 

Para uma carga puramente resistiva a corrente acompanha a tensão. Quando o disparo 

é dado no TRIAC, este inicia a condução até que a corrente seja inferior à corrente de 

manutenção, algo que acontece no final do semi-ciclo em que está a operar. Na Figura 45 

podemos observar este comportamento, onde Vo representa a tensão e iL a corrente na carga. 

 

 

Figura 45 - Tensão e corrente numa carga resistiva controlada com TRIAC [51]. 

 

 Como um motor AC é uma carga indutiva, o comportamento será ligeiramente 

diferente. A carga é excitada com a tensão correspondente ao ângulo de disparo ? mas a 



57 

 

corrente não tem um valor instantâneo diretamente proporcional. Existe um desfasamento 

que faz com que a corrente apenas baixe o suficiente para interromper a condução ? radianos 

após o início do semi-ciclo seguinte. A Figura 46 ilustra este comportamento, onde Vo e iL 

representam a tensão e a corrente na carga, respetivamente. 

 

 

Figura 46 - Tensão e corrente numa carga indutiva controlada com TRIAC [51]. 

  

Como referido anteriormente, ao contrário de uma carga resistiva, uma carga indutiva 

como um motor AC não permite variações de corrente instantâneas. Este facto impede um 

controlo completo num semi-ciclo de onda: se o ângulo de disparo ? for inferior ao ângulo 

em que a corrente é extinta, ?, o motor estará sempre ligado porque o fornecimento de 

corrente nunca é interrompido. Isto significa que neste tipo de controlo numa carga indutiva 

não é possível variar a tensão em toda a gama. 

Saber com precisão qual o ângulo num determinado momento pressupõe a existência 

de uma referência: o ângulo 0º. De maneira a encontrar uma referência angular foi 

implementado um circuito de deteção de zero – zero crossing detector. A Figura 47 mostra 

o diagrama de blocos do controlo de velocidade por ângulo de fase implementado nos 

motores ventiladores. 

 

 



58 

 

 

Figura 47 - Diagrama de blocos do controlo de velocidade de um motor AC. 

 

Um dos requisitos do hardware para controlo de velocidade a desenvolver é garantir 

que estaria isolado do microprocessador de maneira a evitar-lhe danos em caso de avaria. 

Além da proteção dos elementos periféricos, é necessário proteger os próprios elementos de 

potência como o TRIAC. Para tal foram utilizados um opto isolador e um circuito de snubber.  

O opto isolador escolhido foi o MOC3022 que é um circuito integrado com saída a 

TRIAC ativada por um díodo emissor de luz infravermelha, utilizado para fazer o controlo 

do disparo na gate de um TRIAC a jusante. Este integrado garante o isolamento para tensões 

eficazes até 5000V, o suficiente para garantir que um problema que exista a jusante deste 

não se propagará para os elementos a montante, pois caso aconteça alguma anomalia serve 

de elemento fusível.  

O snubber é utilizado para proteger o TRIAC que comuta a carga e simultaneamente 

para diminuir a interferência eletromagnética provocada pela comutação. A interrupção 

repentina de corrente numa carga indutiva leva a um aumento da tensão, já que a tensão aos 

terminais da indutância é proporcional à taxa de variação da corrente, ? ? ?? ??? . Este 

aumento de tensão nos terminais do TRIAC, ??/??, é descrito como critical rate of rise. 

Por ser uma carga indutiva, o motor armazena energia na forma de campo magnético 

devido à corrente que por ele passa. Quando o TRIAC está “on”, a corrente flui por ele e 

pelo motor. Quando TRIAC abre e fica “off”, ainda há corrente - e energia armazenada na 

forma de campo magnético - a passar pelo motor, porém, neste momento, não tem por onde 

circular visto que o circuito foi interrompido. Isto vai provocar um aumento de tensão até 

que toda a energia armazenada em forma de campo magnético seja transformada em energia 

elétrica. A tensão vai subir até a um ponto em que seja suficiente para que a corrente possa 



59 

 

continuar ao mesmo nível – já que não pode alterar-se instantaneamente – mesmo que para 

isso tenha que ionizar o ar, tornando-o condutor, momento em que é possível observar um 

arco elétrico. 

Este fenómeno transitório de aumento de tensão, conhecido como “inductive 

spiking”, é também uma fonte de interferências eletromagnéticas e caso a tensão gerada seja 

superior ao que o comutador pode suportar pode mesmo danificá-lo. 

O snubber é um circuito tipicamente composto por uma resistência em série com um 

condensador, paralelos aos terminais do TRIAC, que serve para atenuar ou eliminar este 

problema. A Figura 48 mostra um esquema de um circuito de snubber. 

 

 

Figura 48 - Circuito de snubber com resistência e condensador [52]. 

 

A inclusão deste tipo de circuito garante um caminho para que a carga indutiva possa 

fazer fluir a corrente quando o TRIAC está off, de maneira a que a tensão aos seus terminais 

não aumente tanto e o faça de forma mais lenta quando este abre, ou seja, faz com que ??/?? 

seja menor uma vez que a energia armazenada no motor será dissipada pelo snubber. 

Neste projeto, para o controlo dos ventiladores foi utilizado o circuito recomendado 

pela ficha técnica do MOC3022, onde já está incluído um snubber. 

O TRIAC escolhido foi o BT136-600 que se encontra no mercado por valores a partir 

de 0,35€. Poderia ter sido feita outra escolha para o modelo do TRIAC, nomeadamente entre 

modelos com circuitos de snubber integrados – snubberless TRIAC. No entanto, dados os 

requisitos dos motores e o preço do dispositivo, este era o modelo mais acessível. 



60 

 

Como são dispositivos de entrega comutada de potência podem aquecer bastante e 

necessitar de um dissipador. A verificação desta necessidade foi feita seguindo a equação da 

relação entre a temperatura da junção e a potência dissipada: 

?? ? ?? = (???? + ???? ) ? ?? 

Segundo a ficha técnica do TRIAC, a resistência térmica entre a junção e a cápsula 

(???? ) é de 3,7ºC/W e a resistência térmica entre a junção e o meio ambiente (????)  é de 

60ºC/W. A temperatura ambiente dentro da salamandra, à qual a eletrónica de controlo vai 

estar submetida, ??, pode atingir durante o seu funcionamento os 40ºC. A potência do 

TRIAC, ??, pode ser calculada através da corrente que por ele passa (?? ) multiplicada pela 

tensão aos seus terminais (?? ) quando está a conduzir, que segundo a ficha técnica o valor 

máximo é de 1,7V. 

Na salamandra, os motores de ventilação e exaustão de fumos têm a mesma potência 

elétrica, 57W. O motor alimentador tem uma potência ligeiramente inferior, de 53W. As 

correntes dos motores ventiladores foram medidas, tendo-se verificado valores eficazes de 

0,35A. 

Para efeitos de dimensionamento foram considerados os valores dos motores 

ventiladores pois são mais exigentes do que o motor alimentador no que a consumo de 

corrente elétrica diz respeito e a tensão máxima aos terminais do TRIAC: 

?? = ?? ? ??  

?? = 1,7 ? 0,35 ? 0,6 [?] 

Pela fórmula da temperatura de junção, temos: 

?? = ?? + ((???? + ???? ) ? ??) = 40 + ((60 + 3,7) ? 0,6) = 78,22 [º?] 

Com uma temperatura de junção máxima admissível de 125ºC, o funcionamento do 

TRIAC nunca estará em perigo devido à temperatura. Segundo informação da ficha técnica 

disponibilizada pelo fabricante, a corrente eficaz máxima admissível, 4A, apenas começa a 

decair acima dos 107ºC, um valor ainda distante de atingir nesta situação pelo que a 

instalação de um dissipador se pode dispensar. 

 



61 

 

? Deteção de Zero 

Os circuitos de deteção de zero recebem a tensão da rede como entrada e devolvem 

um pulso sincronizado com a passagem da tensão por ~0V - Figura 49 -, ou seja, 

sincronizado com o início de cada semi-ciclo da onda de tensão. O pulso de saída do circuito 

é a referência do controlador. 

 

 

Figura 49 - Ilustração de uma passagem por zero [52]. 

 

O circuito de deteção de zero dimensionado está esquematizado na Figura 50. 

 

 

Figura 50 - Esquema elétrico do circuito utilizado na deteção de zero. 

 

Quando a tensão de entrada - aplicada ao conector J1 - se encontra no final do semi-

ciclo negativo, o seu valor vai aumentando - passando de negativo para positivo - até 



62 

 

ultrapassar a tensão necessária para que o led consiga entrar na zona de condução, passando 

a emitir luz que satura o transístor do opto acoplador, forçando a saída para o 

microcontrolador a uma tensão de 0V. Seguidamente, no final do semi-ciclo seguinte – 

positivo - a tensão baixa até passar de um valor positivo para um valor negativo fazendo com 

que o led entre na zona de bloqueio, deixe de conduzir e, por conseguinte, cesse a emissão 

de luz. O transístor passa então a estar na zona de corte, bloqueando a passagem de corrente, 

elevando a tensão de saída para o microcontrolador ao nível lógico ativo, ou seja, Vcc. 

Sempre que há uma alteração no nível da saída para o controlador, há praticamente no 

mesmo instante uma passagem por zero: praticamente, pois o circuito não deteta o valor de 

tensão 0V mas sim o valor da tensão à entrada que permite a passagem de corrente suficiente 

no led para que o valor de tensão aos terminais do coletor e emissor do fototransistor (Vce) 

seja suficiente para que o microcontrolador reconheça como um nível lógico 0 ou 1. 

Para o dimensionamento do circuito foi necessário garantir que a corrente no led seria 

suficiente para que o microprocessador reconhecesse uma mudança de estado lógico e ao 

mesmo tempo que não ultrapassasse o limite suportado pelo circuito integrado escolhido, o 

PC814. 

Segundo informações do fabricante do microcontrolador que equipa a placa Arduino, 

a Atmel, as resistências de pull-up, R3 na Figura 50, têm um valor entre os 20k? e os 50k?. 

Esta informação permite saber qual a corrente necessária para a saturação do transístor. 

Assim, considerando o pior caso (pull-up de 20k?) e sabendo que Vcc = 5V, sabemos que a 

corrente é de: 

I? =
5

20 ? 103
= 0,250 [??] 

A ficha técnica do PC814 garante uma CTR (current tansfer ratio) mínima de 20% 

mas que pode atingir os 300%. Isto significa que, para uma CTR de 20%, apenas 20% da 

corrente no led, If estará à saída, no fototransistor, I?. Desta maneira foi possível estimar 

que, no pior dos casos, precisaremos de 1,25mA de corrente no led. 

Ainda segundo informações da ficha técnica do opto-acoplador quando este se 

encontra diretamente polarizado e com uma corrente If = ± 20mA estabelece aos seus 

terminais uma tensão - forward voltage - de cerca 1,2V. Com base nestas informações e 

considerando o valor de tensão eficaz da rede elétrica de 230V, sabendo que a corrente If 



63 

 

máxima suportada pelo opto-acoplador é de 50mA, calculou-se um valor de resistência para 

limitar a corrente: 

? =
230 ? 1,2

20 ? 10?3
~11 ? 103 [?]  

Com este valor de resistência a corrente máxima no led estaria abaixo dos 50mA: 

If ???
=  

(?2 ? 230) ? 1,2

11 ? 103
?  29,4 [??] 

A potência que essa resistência teria que dissipar seria de: 

?? =  
(230 ? 1,2)2

11 ? 103
?  4,76 [?] 

Nesta configuração era necessária uma resistência de 5W de potência ou superior, 

uma vez que estando muito próximo do valor nominal, poderia não se conseguir dissipar a 

potência caso a temperatura ambiente fosse maior que o valor nominal, 25ºC, como acontece 

no interior da salamandra. No entanto, por uma questão de preço e como o acesso a uma 

resistência com estas características não era imediato, optou-se por limitar um pouco mais a 

corrente no led e ao mesmo tempo tornar a solução mais barata, utilizando resistências de 

carvão. Uma resistência de 5W custa acima de 1,10€ enquanto que a solução adotada ficou 

nos 0,24€. 

Uma vez que há resistências de carvão de 2W, foi possível reduzir o custo do circuito. 

Considerando os componentes disponíveis, optou-se por uma resistência equivalente de 

23,5k?, resultado de um paralelo de duas resistências de 47 k?, com um preço unitário de 

0,12€. Recalculando, obtemos: 

?? =
230 ? 1,2

23,5 ? 10?3
? 9,73 ? 10?3 [?] 

A corrente de pico no led, nestas condições, seria de: 

?? ???
=  

(?2 ? 230) ? 1,2

23,5 ? 103
?  13,7 [??] 

Uma corrente eficaz de 9,73mA no led faz dissipar um total de potência em cada uma 

das resistências utilizadas em paralelo de:  



64 

 

?? =  
(230 ? 1,2)2

47 ? 103
?  1,11 [?] 

Este valor de potência encontra-se abaixo do valor nominal das resistências de 

carvão. Uma vez que lhes será aplicada uma tensão de pico superior a 300V, foram 

escolhidas resistências de maiores dimensões para não haver risco de arco elétrico entre os 

seus terminais. 

Com estes valores de resistência a deteção de passagem por zero é, no pior dos casos, 

feita a um nível de tensão de entrada de: 

?????????? = (23,5 ? 10
3 ? 0,625 ? 10?3)  + 1,2 ?  15,8 [?] 

O circuito foi composto pelos seguintes elementos: 

? 2x 47k? - 2W 

? 1x PC814 

O díodo D1 está incluído no encapsulamento do PC814 enquanto a resistência R3 é 

uma resistência de pullup interna, parte integrante do microprocessador e habilitada por 

software. 

 

? Controlo on/off 

A resistência de aquecimento para dar início à queima e o motor alimentador não 

estão constantemente ligados durante o funcionamento da salamandra. A resistência apenas 

tem importância no início do processo para garantir a ignição dos pellets e o motor 

alimentador é ligado apenas durante um curto intervalo de tempo ao longo de um período 

pré-definido, dependente do nível de potência selecionado. 

Para o controlo da resistência foi utilizado o módulo de relé da Figura 51 que tem um 

custo unitário de cerca de 1,60€. Este módulo já inclui um díodo em antiparalelo na bobine 

e é acionado por intermédio de um transístor para proteger o microcontrolador de picos de 

tensão gerados na sua comutação, tal como o circuito de snubber referido anteriormente. 

 



65 

 

 

Figura 51 - Módulo de relé utilizado na comutação da resistência de aquecimento. 

 

No motor de alimentação, o controlo é feito através de um opto-isolador com circuito 

de deteção de passagem por zero integrado, o MOC3041. Inicialmente foi testado o controlo 

através de um módulo de relé idêntico ao da resistência sem resultados satisfatórios, como é 

descrito na secção 4.1.3.  

 

4.1.2. Interface e Sensores 

A escolha da interface é sempre muito importante em qualquer sistema, em especial 

nos sistemas que pretendem, como este, abranger clientes de todas as faixas etárias e níveis 

de literacia. Como referido na secção 2.3.5, era essencial escolher algo que permitisse uma 

interação simples, de fácil implementação, com ampla capacidade de troca de informação 

na relação homem-máquina, ao mesmo tempo que não limitasse o sistema em 

funcionalidades. Dentro destas características optou-se por um ecrã LCD de 16 colunas por 

2 linhas e 6 botões de pressão como interface principal. Foi adicionado um módulo recetor 

de infravermelhos para permitir o controlo da salamandra através de um comando remoto, 

um sinalizador sonoro e um relógio de tempo real. Foi também adicionado um módulo de 

comunicação Bluetooth para permitir a comunicação com outros equipamentos, como um 

smartphone. 

 

? Ecrã LCD 

A presença do ecrã permite ao utilizador ter acesso a informações úteis da salamandra 

como o nível de potência debitada, temperatura ambiente, horas, data e dia da semana, obter 



66 

 

alguns detalhes sobre algum possível mau funcionamento ou disponibilizar informação 

acerca de várias funcionalidades como o funcionamento programado ou outras que possam 

ser adicionadas no futuro. A Figura 52 mostra o aspeto da informação dada pelo ecrã ao 

utilizador. 

 

 

Figura 52 - Informação disponibilizada pelo ecrã. 

 

? Botões de pressão 

Os 6 botões de pressão da interface estão associados a 6 portos digitais - configurados 

como entrada - do microcontrolador. Têm funções de início e paragem do processo de 

queima, alteração do modo de funcionamento do equipamento e incremento/decremento de 

variáveis. 

Todos os portos digitais associados aos botões são asseridos a zero e foram 

configurados com pull-up interno. A resistência de pull-up tem valor variável entre os 20k? 

e os 50k?, dependendo do microcontrolador [46] e é acionada por software. 

 

? Comando remoto / recetor de infravermelhos 

O sensor recetor de infravermelhos foi adicionado por uma questão de comodidade, 

de maneira a igualar a oferta de muitos controladores atuais, existentes no mercado. É um 

elemento opcional – a sua ausência não afeta o comportamento do sistema - e está 

acompanhado de um comando transmissor de infravermelhos para permitir a comunicação. 

A Figura 53 mostra ambos os componentes bem como as ligações do recetor, modelo 

VS1838B. 

 



67 

 

 

Figura 53 - Conjunto de comando remoto emissor e recetor de infravermelhos. 

 

Esta solução, com um custo total - comando e sensor de infravermelhos - a rondar os 

1,20€, apresenta uma boa relação entre o custo e a comodidade oferecida ao utilizador e daí 

a sua integração neste projeto. A presença ou ausência de controlo remoto também não 

carece de nenhuma configuração especial no firmware pelo que o fabricante de 

equipamentos pode decidir acerca da sua inclusão a cada venda de forma individual. 

Este protótipo também incorporou um besouro que emite um sinal sonoro a cada 

clique num botão de pressão ou ação por intermédio do comando remoto e um módulo com 

relógio de tempo real DS1302 para o controlador reter a informação horária e permitir a 

programação do funcionamento automático da salamandra. O conjunto tem um preço a 

rondar o 1€. 

 

? Módulo de comunicação Bluetooth 

O módulo de comunicação por Bluetooth, cujo preço ronda os 5€, foi integrado no 

sistema como forma de comunicação complementar, que lhe acresce valor mas que é 

opcional. Em primeiro lugar porque nem toda a gente tem um smartphone ou está disposta 

a pagar mais para algo que pode não lhe ser essencial. Segundo, porque a utilização 

pressupõe o desenvolvimento de uma aplicação e esse desenvolvimento acarreta custos. A 

utilização não é exclusiva a smartphones. Qualquer aparelho com comunicação bluetooth, - 

computador, tablet, etc. – pode interagir com o controlador. 



68 

 

A Figura 54 mostra o módulo bluetooth utilizado neste projeto, o módulo HC-05 que 

é um transcetor TTL – combina transmissor e recetor. 

 

 

Figura 54 - Módulo transcetor Bluetooth. 

 

? Sensores de temperatura 

A leitura dos sensores de temperatura deste modelo de salamandra é feita através da 

ligação a duas portas analógicas de duas resistências NTC de 240k? e 10k? uma para 

monitorização da temperatura dos fumos de combustão e outra de monitorização da 

temperatura ambiente do local onde a salamandra se encontra, respetivamente. Para obter o 

valor de temperatura destas resistências foi utilizado o circuito cujo esquema é apresentado 

na Figura 55. 

 

 

Figura 55 - Esquema elétrico do circuito de leitura dos sensores de temperatura. 

 



69 

 

A NTC é ligada em série com outra resistência, R1, de valor equivalente (240k? e 

10k? para estes sensores), criando um divisor de tensão aplicado numa entrada analógica 

do microcontrolador. A tensão aplicada, Vcc, é a mesma tensão de alimentação do 

microcontrolador. A variação do valor resistivo de uma NTC não é linear, obrigando a um 

tratamento da leitura do valor de tensão no porto analógico, que será abordado na secção 

4.3.2.  

 

4.1.3. Testes e resultados 

Para comprovar o bom funcionamento do hardware, foi realizada uma série de testes. 

Nesta secção descrevem-se os trabalhos realizados com vista ao teste/verificação do bom 

funcionamento do hardware desenvolvido. Serão abordados o circuito de controlo de 

velocidade por ângulo de fase, o circuito de deteção de zero com aferições das variações de 

sinal correspondentes à deteção de zero no que diz respeito ao seu valor e frequência, medida 

a corrente à entrada do mesmo circuito de maneira a confirmar que esta se encontra dentro 

dos limites do optoacoplador e testada a conformidade do sinal de disparo do TRIAC. A 

temperatura lida pelo microcontrolador através dos sensores de temperatura foi comparada 

com uma medição através de um sensor calibrado. Foi também desenvolvida uma aplicação 

móvel para comprovar o funcionamento do módulo de comunicação Bluetooth. 

 

? Circuito de controlo de velocidade por ângulo de fase 

No teste de verificação do valor de corrente na entrada do circuito detetor de zero, 

anteriormente apresentado na Figura 50, o valor medido foi de 10,38mA. 

Embora não seja uma discrepância significativa, a diferença está também relacionada 

com o valor de tensão da rede ser superior ao utilizado nos cálculos. A corrente foi calculada 

para um valor de tensão eficaz de 230V, mas aquando a medição do seu valor real verificou-

se um valor de 239V. Com este valor, cada resistência dissipa na realidade uma potência de: 

?? =  239 ? (
10,38 ? 10?3

2
) ?  1,24 [?] 



70 

 

O valor real está abaixo da potência nominal da resistência e não se desvia 

consideravelmente do valor calculado. 

Após confirmação de que o limite de corrente no led e nas resistências é válido, 

seguiu-se o teste de funcionamento do circuito de deteção de zero utilizando um osciloscópio 

ligado à saída do circuito e a um transformador 230V/12V. O recurso ao transformador para 

este teste deve-se às limitações técnicas da ponta de prova utilizada que não suportava 

diretamente a tensão da rede, 230V. Ao utilizar o transformador, garantiu-se uma análise 

fiável do ponto zero; dependendo do sentido do enrolamento, as tensões de entrada e saída 

dos transformadores ou estão em fase ou desfasadas 180º. A Figura 56 apresenta os 

resultados do teste. 

 

 

Figura 56 - Saída do circuito de deteção de zero. 

 

A amarelo está representada a tensão da rede, reduzida pelo transformador, enquanto 

o gráfico a azul mostra a variação do nível de tensão à saída do circuito de deteção. Os 

resultados visíveis na Figura 56 provam que o circuito de deteção de zero está a funcionar 

com um desfasamento muito pequeno relativamente a cada passagem da tensão da rede por 

zero, momento onde é possível observar a saída do circuito a variar entre os 0V e os 5V, tal 

como era esperado. Estes resultados são melhores do que os inicialmente calculados. 

A corrente mínima necessária no led foi verificada a partir de um ensaio que consistiu 

no aumento da tensão aos terminais de entrada do circuito da Figura 50 até que houvesse 

múltiplas leituras sequenciais do mesmo estado lógico, 1 ou 0, sendo o estado enviado 



71 

 

através da porta série do Arduino. Os resultados mostraram uma tensão de entrada de 6,9V, 

que resultou numa tensão aos terminais do PC814 de 1V. Conseguimos assim encontrar a 

corrente por:  

?? =  
6,9 ? 1

23,5 ? 103
 ? 0,251 [??] 

Para este valor de corrente no led, é possível calcular que a deteção de zero aconteça 

quando a sinusoide da tensão de entrada, 230V, atinge um valor instantâneo de: 

?????????? = (23,5 ? 10
3 ? 0,251 ? 10?3)  + 1 ?  7,1 [?] 

Este atraso na deteção de zero não tem consequências práticas no controlo dos 

motores. 

Para completar os testes no circuito de controlo com variação de velocidade, foi feito 

um teste que consistia na atuação no TRIAC para alimentar o motor, cerca de 5ms após o 

controlador receber o sinal de passagem por zero. O objetivo do teste era apenas confirmar 

que a atuação num TRIAC era feita de forma correta, com o tempo de espera em sincronismo 

com a passagem por zero, com início durante um semi-ciclo e o fim próximo do final do 

mesmo semi-ciclo. Os resultados podem ser observados na Figura 57. 

 

 

Figura 57 - Sinal de disparo de TRIAC em sincronismo com a deteção de zero. 

 



72 

 

Representado a amarelo aparece a tensão da rede, novamente reduzida através do 

transformador já referido, e a azul o sinal de disparo do TRIAC. Observa-se na imagem que 

o controlador dá o sinal de disparo praticamente a meio do ciclo de onda e terminando 

momentos antes do final do ciclo e da próxima passagem por zero, como pretendido, uma 

vez que foi programado um tempo de atraso de cerca 5ms. 

Confirmado o bom funcionamento da sucessão de sincronismo com zero e sinal de 

atuação no TRIAC, foi testado todo o circuito no TRIAC escolhido, conforme descrito na 

secção 4.1.1, com um motor aplicado. Este teste permitiu observar a rotação do motor e a 

variação de velocidade que ocorria quando se alterava o valor do tempo de espera do disparo 

relativamente à deteção de zero. 

Estes testes permitiram validar o correto funcionamento do hardware de controlo de 

velocidade dos motores ventiladores. 

 

? Controlo do motor de alimentação 

Os parâmetros usados para a alimentação da salamandra pelos controladores da 

MVM têm um tempo de alimentação variável – dependente do nível de potência selecionado 

- durante um período de 4 segundos. Para a utilização de um relé de contacto mecânico, o 

período e os tempos de alimentação foram ajustados para intervalos mais longos, 

proporcionais aos dos controladores existentes, de maneira a evitar um desgaste precoce do 

mecanismo de contacto e a diminuir a frequência de comutação deste, geradora de ruído 

audível que se torna incómodo. O motor alimentador mostrou-se funcional quando testado 

com o módulo de relé anteriormente referido, no entanto, o restante sistema apresentava 

anomalias no funcionamento. 

No início dos testes com o controlador instalado na salamandra, invariavelmente o 

LCD produzia caracteres típicos de um sistema corrompido ao final de algum tempo. Uma 

imagem desse estado pode ser vista na Figura 58. 

 



73 

 

 

Figura 58 - Ecrã corrompido pela comutação do motor de alimentação. 

 

Mesmo com o LCD ilegível o controlador continuava a operar de acordo com o 

expectável. Dado que o LCD é bastante sensível a flutuações de tensão e como estamos a 

lidar com comutações de carga com potência muitas vezes superior à do ecrã poderia haver 

alguma interferência, sobretudo tendo em conta que neste protótipo a disposição e 

comprimento dos cabos de ligação e o espaço entre os elementos com diferentes níveis de 

tensão permitiam uma maior exposição a perturbações como interferências eletromagnéticas 

(EMI) radiadas. 

Após analise da tensão de alimentação do ecrã recorrendo a um osciloscópio foi 

possível verificar que a alimentação do ecrã (5V) apresentava de forma frequente um 

fenómeno transitório e que esta anomalia coincidia com a comutação do relé do motor 

alimentador da salamandra. Na Figura 59 pode ser observado um registo da linha de 5V, 

capturado pelo osciloscópio, num momento de comutação do relé do motor alimentador. 

 

 

Figura 59 - Registo de efeito da comutação do relé na alimentação de 5V. 



74 

 

Os picos de tensão registados são demasiado elevados, chegando a ultrapassar os 

20V, um valor quatro vezes superior à tensão nominal. Cada comutação do motor de 

alimentação provocava um transitório forte o suficiente para corromper os dados do LCD. 

Apesar de o microcontrolador partilhar a alimentação, não há evidências de efeitos destas 

variações de tensão no seu funcionamento. No entanto, estes picos de tensão podem 

facilmente provocar danos, comprometendo a sua fiabilidade e longevidade. 

Comprovada a relação da comutação com os problemas no sistema de visualização, 

teria que se testar para aferir da existência de ruído em situação de funcionamento com carga 

e em vazio. 

Foram mantidos todos os elementos da salamandra ligados ao controlador com 

exceção do motor alimentador, ficando o programa a correr com a comutação do relé sem 

carga. Ao fim de mais de 1 hora não foi registada nenhuma anomalia observável diretamente 

– corrupção no ecrã – ou medida com o osciloscópio, o que provou a origem do problema 

na comutação do motor de alimentação através do relé. 

O motor é uma carga indutiva e, como tal, não permite que o valor da corrente se 

altere instantaneamente. No entanto, é isso que o relé faz quando abre e fecha os contactos, 

interrompendo o circuito e causando uma perturbação que é captada pela bobine do relé e 

consequentemente propagada para a alimentação de 5V. Aquando da comutação dos 

contactos é criado um pico de tensão e um arco elétrico entre eles, gerados pela energia 

armazenada no motor – que inclusivamente, por breves momentos, se torna um gerador de 

energia pois não se imobiliza de imediato. 

A solução para comutar o motor de forma linear foi a utilização de um opto-isolador 

com circuito de deteção de passagem por zero integrado como o MOC3041. Este circuito 

apenas conduz quando a tensão da rede se aproxima do valor zero, independentemente do 

momento em que o controlador dê o sinal de comando. O mesmo acontece quando o sinal 

de comando deixa de existir, uma vez que o integrado só inibe a alimentação do motor na 

passagem por zero seguinte ao término do sinal de comando. Desta forma o arranque e 

paragem do motor são bastante suaves, evitando flutuações e picos de tensão. Tem ainda 

uma vantagem para um possível cliente, que deixa de ouvir qualquer ruído ao proveniente 

do controlo do motor de alimentação como acontecia no caso do relé cujo movimento dos 

contactos mecânicos é audível. 



75 

 

O circuito de controlo do motor foi o recomentado pelo fabricante do MOC, segundo 

informação disponibilizada na ficha técnica, onde está incluído um circuito de snubber 

idêntico ao utilizado no controlo dos ventiladores. 

 A placa desenvolvida para testar o circuito é apresentada na Figura 60. 

 

 

Figura 60 - Acionamento de motor de alimentação, em protótipo, através de opto-isolador com deteção de passagem por 

zero. 

 

Para comprovar o bom funcionamento do sistema, a salamandra ficou em 

funcionamento durante várias horas e simultaneamente a alimentação de 5V era 

monitorizada pelo osciloscópio – configurado para detetar qualquer pico de tensão superior 

a 5,1V. Durante o teste não houve qualquer registo de interferência na linha de alimentação 

de 5V nem houve registo de qualquer anomalia no ecrã LCD até à data de escrita deste 

relatório. 

 

? Aquisição de sinal – sensores de temperatura 

A análise ao funcionamento dos sensores de temperatura foi feita através do envio, 

através da porta série, dos valores de temperatura e tensão reportados pelo controlador 

comparando-os com os valores medidos por um equipamento de referência, calibrado, de 

forma a aferir acerca da sua fiabilidade. 

A Figura 61 e a Figura 62 mostram os resultados da análise aos sensores de 

temperatura de fumos e ambiente, respetivamente. 

 



76 

 

 

Figura 61 - Comparação entre sinal, temperatura lida e real do sensor de fumos. 

 

 

Figura 62 - Comparação entre sinal, temperatura lida e real do sensor ambiente. 

 

Os resultados indicam uma leitura correta por parte do controlador não tendo sido 

verificadas discrepâncias consideráveis entre o valor medido e o valor real para a gama de 

37

62

81

105

135

159

41

60

80

101

130

154

25

45

65

85

105

125

145

165

3,16 4,09 4,48 4,73 4,87 4,93

T
e

m
p

e
ra

tu
ra

 (
ºC

)

Sinal de entrada (V)

Comparação entre sinal, temperatura lida 
e real do sensor de fumos

Temperatura
medida

Temperatura
real

19

25

29

32

19

27

32

36

15

20

25

30

35

40

2,21 2,55 2,72 2,88

T
e

m
p

e
ra

tu
ra

 (
ºC

)

Sinal de entrada (V)

Comparação entre sinal, temperatura lida e real do 
sensor ambiente

Temperatura
medida

Temperatura
real



77 

 

medição do teste. O sensor de temperatura ambiente revelou uma margem de erro superior 

ao sensor de temperatura de fumos. Esta diferença mais acentuada deve-se à constituição 

física que lhe confere uma resistência térmica superior – o sensor está envolvido por material 

plástico, ao contrário do sensor de fumos cujo corpo envolvente é metálico. Por este motivo, 

também foi mais difícil, durante o teste, garantir a homogeneidade térmica no sensor de 

temperatura ambiente, fator que pode ser motivo de erro de leitura. Uma vez que estes são 

os sensores utilizados pela MVM, não foi ponderada uma troca por outro tipo de sensores, 

nomeadamente no que diz respeito ao sensor de temperatura ambiente. 

 

? Comunicação por Bluetooth 

O teste de comunicação por Bluetooth foi feito recorrendo a uma aplicação que serve 

de interface com o controlador. Esta aplicação foi desenvolvida com recurso ao programa 

Visual Studio 2015, a exemplos de aplicações e tutoriais disponibilizados pela Microsoft. 

Por utilizar as mais recentes ferramentas, a aplicação pertence à Windows Universal 

Platform, o que significa que é capaz de correr em todas as versões do sistema operativo 

Windows 10; em computador, tablet ou smartphone.  

O teste consistiu no controlo da salamandra através da aplicação utilizando um 

smartphone, algo que se mostrou funcional e mais prático que a utilização do comando 

remoto pois o smartphone não necessita de ser apontado em direção à salamandra como o 

comando. A Figura 63 mostra a interface da aplicação, onde é possível verificar a existência 

de 6 botões tal como os utilizados na placa de interface ou no comando remoto. 

 



78 

 

 

Figura 63 - Interface da aplicação móvel para Windows 10, com comandos por Bluetooth. 

 

4.2. Controlador – Hardware em placa 

única 

Os ensaios ao controlador realizados na secção anterior procuraram, além de corrigir 

eventuais anomalias, comprovar a fiabilidade técnica do equipamento.  

Como o conjunto de hardware utilizado nos ensaios não apresentou problemas ou 

falhas de ordem técnica ao longo das horas, ciclos de teste e parametrização a que foi sujeito, 

considerou-se estar em condições de avançar com o desenvolvimento de um sistema 

integrado.  

A integração do sistema de controlo podia ser feita de duas maneiras: a primeira, 

mais comum, agregando todos os componentes eletrónicos numa única placa, a segunda, 

aproveitando o conceito das shields do Arduino e tornar o próprio controlador numa shield, 

separando o hardware desenvolvido no projeto da plataforma de desenvolvimento que 



79 

 

agrega o microcontrolador. Apesar de ser uma solução pouco vulgar, é sustentada pelo fator 

financeiro: o custo de produção inferior. 

Uma placa de desenvolvimento equivalente ao Arduino Mega, como a utilizada no 

protótipo do controlador, pode comprar-se por cerca de 7€ enquanto que comprar apenas o 

microcontrolador, ATmega2560, custa cerca de 10€ e exige normalmente volumes mínimos 

de compra entre as 1000 e as 1500 unidades. Para comprar uma quantidade menor o preço 

unitário sobe para cerca de 15€. A este preço ainda teríamos que adicionar o preço de um 

módulo de comunicação para programar o microcontrolador (cerca de 2€), oscilador e 

condensadores que apesar de terem um custo reduzido - na ordem dos cêntimos - acabam 

por ter o seu peso com o acumular de unidades fabricadas. Futuramente, caso se pretenda 

avançar para um volume de produção, o preço da placa com todos os componentes 

integrados pode tornar-se mais competitivo. 

Finalizados os testes de hardware no protótipo, avançou-se para o desenvolvimento 

das placas e dos seus esquemas elétricos. Para tal, foi utilizado o software gratuito 

DesignSpark PCB. Este software permite selecionar os componentes diretamente de uma 

loja online, importando o footprint (desenho da colocação do componente na placa de 

circuito impresso) específico. 

O controlo do equipamento ficou a cargo da mesma placa Arduino Mega, que tem 

como “shield” a placa desenvolvida neste projeto. O LCD, os botões de pressão e o recetor 

infravermelhos ficaram integrados numa placa à parte, exclusiva à interface do equipamento. 

O módulo de Bluetooth e o módulo de relógio de tempo real podem ser ligados à placa 

principal por intermédio de conectores dedicados. 

Nesta placa de interface deveria também ter sido integrado um sinalizador sonoro 

para emitir um feedback de uma entrada seja de um botão, sinal do comando ou comunicação 

Bluetooth, tal como no protótipo. O sinalizador foi substituído por um led que emite luz a 

cada entrada do utilizador como sinal de feedback. 

A placa de controlo tem as mesmas dimensões do controlador utilizado pela MVM 

de modo a ser possível trocar facilmente o controlador que existe nas salamandras 

comercializadas pela empresa pela placa desenvolvida neste projeto. Não foram tidas em 

consideração as dimensões para a criação da placa de interface pois nos modelos 

comercializados por outras marcas estas estão envolvidas numa caixa de plástico.  



80 

 

Para esta placa de controlo foram adicionadas algumas funcionalidades que poderão 

ser úteis no futuro e obrigariam a uma revisão da placa caso não fossem já contempladas: 

? Adicionada saída para relé de bomba de água para águas sanitárias e 

aquecimento central – sabendo que muitas salamandras têm uma bomba de água para 

aquecimento de águas sanitárias era incoerente desenvolver uma placa e não preparar o 

sistema para controlar este tipo de equipamentos. Mais ainda, as caldeiras a pellets têm um 

processo de queima muito semelhante ao das salamandras e uma ligeira modificação no 

firmware do controlador permite-lhe funcionar em ambos os sistemas. A bomba de fluido 

térmico que existe nas caldeiras também pode ser controlada a partir deste relé. 

? Adicionadas 2 ligações analógicas na ligação à placa de interface – a placa 

de interface do controlador está conectada com a placa de controlo através de uma ficha de 

20 pinos. Para a interface utilizada no protótipo não são necessários todos os pinos que a 

ficha disponibiliza. No entanto, o controlador não deve estar limitado à utilização desta 

interface. A adição de duas ligações aos portos analógicos do microcontrolador permite por 

exemplo substituir a placa de interface por outra que apenas tenhas dois potenciómetros que 

regulem a potência e a velocidade do ventilador ambiente. O número de ligações a portos 

digitais também permite substituir a interface por um ecrã táctil. A placa de controlo foi 

desenvolvida para estar preparada para receber vários tipos de interface necessitando apenas 

de alterações no firmware. 

? Adicionadas duas interrupções na alimentação de potência da placa – as 

duas interrupções podem ser usadas com proteções térmicas ou pressostato. A abertura 

destes contactos interrompe a alimentação de toda a parte de potência da placa – motores e 

resistência. 

Estas adições visam preparar as placas para futuros desenvolvimentos, não a 

limitando a um só equipamento de queima de pellets ou a uma só opção de interface. A 

Figura 64 mostra o conjunto das placas de controlo e de interface do controlador, bem como 

o cabo de ligação entre elas. 

 



81 

 

 

Figura 64 - Placas constituintes do controlador desenvolvido. 

 

Para o sistema integrado foi necessário desenvolver um circuito de alimentação da 

eletrónica de controlo, que era até então feito através de uma porta USB de um computador 

portátil. Esta integração motivou também alterações no circuito de deteção de zero, que 

tiveram como objetivo melhorar alguns aspetos que, apesar de serem tecnicamente viáveis, 

podiam ser melhorados por motivos de segurança e até económicos, recordando que as 

resistências do circuito detetor de zero têm perdas de mais de 1W cada. Estas alterações 

relativamente ao protótipo são apresentadas na secção seguinte. 

Aquando do desenvolvimento da placa, para a colocação dos seus componentes foi 

necessário ter em consideração a facilidade de instalação no equipamento e interligação aos 

componentes do equipamento de maneira a facilitar o processo e a minimizar erros de 

produção/montagem. Houve indicação por parte da empresa de que seria vantajoso ter fichas 

de ligação específicas para cada um dos componentes, que impossibilitassem uma instalação 

incorreta. 

 

 

 



82 

 

4.2.1. Alimentação de controlo 

Durante a fase de testes e desenvolvimento do projeto a eletrónica de controlo foi 

alimentada através de uma ligação a um computador por uma porta USB que consegue 

fornecer até 500mA a 5V. A placa Arduino está preparada para ser alimentada diretamente 

a partir destas portas pelo que se tornou na solução mais rápida e prática, mais ainda porque 

a própria programação do microcontrolador é feita através desta ligação. Para uma solução 

final, utilizar uma porta USB de um computador para alimentar a eletrónica de controlo não 

faz sentido. Acrescentar um transformador externo ligado à rede de 230V que apenas 

alimente a tensão de 5V também não se torna prático e acrescenta complexidade indesejada 

na montagem da máquina. 

Para dimensionar corretamente a alimentação do controlador é necessário perceber 

qual o seu consumo. A medição de consumo foi feita com o relé ativo e o brilho e contraste 

do ecrã no máximo de maneira a que o valor medido fosse o máximo necessário. Esta 

situação só se verifica quando o relé está energizado, ou seja, no início do processo de 

queima, quando a resistência está a aquecer. Arredondando os valores verificou-se que a 

alimentação da parte de controlo necessita de conseguir fornecer cerca de 1W de potência a 

5V, o que equivale a 200mA. Como termo de comparação, foi feita uma medição também 

no estado normal de operação, sem o relé energizado, onde se verificou que o consumo de 

corrente reduz para os 102mA, indicando 0,511W, ou seja, praticamente metade dos valores 

máximos do conjunto hardware utilizado neste controlador. 

A maneira mais rápida de solucionar a alimentação do microcontrolador sem 

qualquer ligação externa é utilizar um carregador USB e integrá-lo no desenho da placa final 

seja como módulo – tipo shield – ou integrando por completo todo o seu circuito elétrico na 

placa. Estes carregadores têm um custo aproximado de 1,5€. 

Há ainda uma segunda opção que embora seja um pouco mais dispendiosa torna todo 

o projeto mais eficiente e fiável. Como referido anteriormente, o controlador irá permanecer 

instalado dentro da estrutura salamandra, local onde se atingem temperaturas na ordem dos 

40ºC. Os carregadores USB e os módulos de alimentação são bastante ineficientes e, como 

tal, aquecem bastante. Uma utilização prolongada em ambientes com temperaturas elevadas 

como é o caso do interior da estrutura de um equipamento de queima de pellets pode revelar-



83 

 

se perigoso ou mesmo comprometer a fiabilidade do controlador. Além disso, o valor de 

tensão tem sempre presente um elevado nível de ruído, como mostra a Figura 65. 

 

 

Figura 65 - Análise de ruído em carga de um carregador USB. 

 

A análise da Figura 65 foi feita no protótipo de testes a fim de validar a ideia de 

integração no controlador final. Pelos resultados observáveis na Figura, esta solução não foi 

considerada satisfatória. 

Um transformador de montagem em placa de circuito impresso, além de permitir uma 

solução de alimentação integrada, mais eficiente e segura, permite também utilizar a tensão 

do secundário no circuito de deteção de zero e assim eliminar as resistências de 2W de 

potência utilizadas. Para o desenvolvimento de uma solução integrada final esta mostrou-se 

a opção com o melhor compromisso apesar de ser mais dispendiosa. Foi utilizado um 

transformador de 230V/9V com uma potência de 5VA que no mercado tem um custo unitário 

de 5€. Podia ter sido utilizado um transformador com uma tensão menor no secundário para 

dissipar menos potência, mas estes têm um custo superior – transformador de 230V/8V de 

4VA, p. ex., tem um preço superior a 8€. A Figura 66 mostra o diagrama de blocos dos 



84 

 

circuitos de deteção de zero e de alimentação redesenhados para a integração com utilização 

de um transformador. 

 

 

Figura 66 - Diagrama de blocos dos circuitos de alimentação e deteção de zero com a placa de controlo/Arduino. 

 

A Figura 67 mostra o esquema elétrico redesenhado do circuito de deteção de zero 

recorrendo à sinusoide de tensão do secundário do transformador de montagem em placa de 

circuito impresso. 

 

 

Figura 67 - Esquema de circuito de deteção de zero com recurso a transformador. 

 

Fazendo os cálculos para o dimensionamento do circuito de deteção de zero 

considerando o transformador com uma tensão no secundário de 9VAC e uma tensão aos 

terminais do díodo - segundo a ficha técnica - Vf = 1,2V para If = 20mA, de maneira a limitar 

a corrente no led do opto-acoplador, temos: 



85 

 

? =
9 ? 1,2

20 ? 10?3
? 390 [?]  

Com este valor de resistência a corrente máxima no led mantém-se abaixo do valor 

máximo indicado pelo fabricante, 50mA: 

If ???
=  

(?2 ? 9) ? 1,2

390
?  29,4 [??] 

Uma resistência de 390? satisfaz a limitação de corrente para o led do opto-

acoplador. Por se saber à partida que o consumo de potência por parte da eletrónica de 

controlo é percentualmente reduzido em relação à potência nominal do transformador - o 

que leva a um aumento de tensão aos terminais do secundário - foi utilizada uma resistência 

de valor superior, 680?.  

Para este circuito, o integrado identificado na Figura 67 como U1 foi alterado para o 

PC817 por dificuldades na aquisição do modelo utilizado no circuito anterior. Como 

consequência dessa alteração teve que ser colocado um díodo externo, D1, apesar de as suas 

características elétricas não diferirem do PC814. 

Para o circuito de alimentação do controlador, a tensão do secundário do 

transformador tem que ser retificada, filtrada e de seguida regulada. A retificação da onda 

sinusoidal do transformador é feita através de uma ponte de díodos (custo de 0,36€). 

As expressões que se seguem resultam da relação que se verifica entre a carga 

armazenada Q [C] num condensador com capacidade C [F], corrente constante de 

carga/descarga I [A], durante um tempo ?T [s] e respetiva variação de tensão ?V [V]. 

? = ? ? ? 

? ? ?? = ? ? ?? 

A capacidade do condensador, ?, é escolhida em função da corrente que o circuito 

tem de fornecer à carga IDC (corrente de descarga do condensador) e da máxima variação 

de tensão admissível (Vripple). ?? é o período da onda retificada, que será de 10ms uma 

vez que a onda sinusoidal tem uma frequência de 50Hz (período de 20ms). 

 



86 

 

Usando as expressões anteriores, resulta: 

?? = ??????? =
??? ? ??

?
? ? ?? ? ? =

??? ? ??

???????
 

O secundário do transformador tem uma tensão de 9VAC, o que significa que o seu 

valor máximo será de: 

9 ? ?2 ? 12,73 [?] , 

tensão à qual temos que retirar 1,4V devido à tensão nos terminais dos díodos 

12,73 ? 1,4 = 11,33 [?] 

O regulador de tensão utilizado foi o LM7805 que, segundo a sua ficha técnica, 

necessita de ter pelo menos 7V (Vdrop = 2V) na entrada para conseguir produzir uma tensão 

de saída regulada de 5V. Assim, conclui-se que a tensão de ripple, para que o circuito 

funcione corretamente, não pode ser superior a: 

11,33 ? 7 = 4,33 [V] 

O transformador utilizado tem uma potência de 5VA, o que corresponde a uma 

corrente máxima de: 

? = ? ? ? 

5 = 9 ? ? 

5

9
= ? ? 0,556 [?] 

A partir destes cálculos é possível calcular a capacidade mínima do condensador de 

filtragem através da fórmula inicial: 

? =
0,556 ? 0,01

4,33
= 1284 [??] 

Conclui-se que um condensador com um valor de 1284 ?? será o mínimo para o 

funcionamento do circuito. A esta capacidade corresponderia uma tensão de ripple de 4,33V 

para o consumo de corrente máximo admissível pelo transformador considerado. De maneira 

a diminuir o valor de ripple, foi utilizado um condensador de capacidade superior, de valor 

2200uF. 



87 

 

O circuito final de alimentação pode ser visto na Figura 68. 

 

Figura 68 - Esquema elétrico do circuito de alimentação do controlador. 

 

Os condensadores C2 e C3 têm um custo de 0,10€ e 0,07€ respetivamente. Foram 

adicionados ao circuito da Figura 68 por recomendação do fabricante do regulador de tensão, 

LM7805, que tem um custo de cerca de 0,40€. Para facilitar a montagem e por estar em 

paralelo com o condensador de filtragem, C2 foi ignorado uma vez que o valor de C1 

utilizado é superior à soma dos valores C1 e C2 do esquema da Figura 68. 

 

4.2.2. Testes e resultados 

Após a fabricação das placas, foi necessário confirmar o bom funcionamento do 

circuito detetor de zero e de alimentação. A análise ao circuito de deteção de zero foi feita 

com a alimentação ligada à placa recorrendo a um osciloscópio para verificar o sinal à saída 

do circuito e medida a tensão na resistência de maneira a calcular a corrente que passa no 

led. Foi também aferida a tensão de ripple à entrada e à saída do regulador de tensão, medida 

a sua temperatura e verificou-se a necessidade de utilização de um dissipador. 

A Figura 69 mostra a medição do sinal de deteção de zero. 

 



88 

 

 

Figura 69 - Sinal de saída do detetor de passagem por zero. 

 

Os resultados da análise no osciloscópio estão de acordo com o esperado. A cada 

passagem por zero o sinal do circuito alterna entre os 0V e os 5V. Obtemos uma onda 

quadrada com um período de 20ms, 50Hz de frequência. Na Figura 69 é possível ainda 

observar que a saturação do transístor do optoacoplador está a ser feita para um nível de 

tensão de entrada de 3,04V. 

O valor medido de tensão na resistência de 680? foi de 10,04V de tensão eficaz.  

Concluímos que a corrente eficaz nela e no led do optoacoplador é de: 

???? =  
10,04

680
? 14,7 [??] 

Para analisar o circuito de alimentação da parte de controlo ligou-se a placa à 

alimentação principal de 230V e com o osciloscópio mediu-se a entrada do regulador de 

tensão. A Figura 70 representa o resultado dessa observação. 

 



89 

 

 

Figura 70 - Análise de tensão à entrada do regulador após retificação e filtragem. 

 

Na Figura 70 é possível observar a tensão à entrada do regulador de tensão do circuito 

de alimentação, já retificada e filtrada, de valor 13,4V. Os valores são mais elevados do que 

o esperado, o que se deve ao facto do consumo de corrente da parte de controlo ser baixo 

relativamente à capacidade do transformador, o que faz com que a tensão aos terminais do 

secundário aumente. Verificamos também que o valor de ripple da tensão de entrada é de 

620mV o que é suficiente para garantir a estabilidade da saída do regulador de tensão para 

estes níveis de tensão de entrada. 

A componente AC da saída de tensão do regulador também foi analisada com recurso 

a um osciloscópio e está representada na Figura 71. 

 



90 

 

 

Figura 71 - Análise da componente AC da tensão de saída do regulador de tensão. 

 

É possível verificar uma variação de tensão na ordem dos 64mV, o que é um valor 

bastante aceitável para uma tensão de 5V. 

Tal como nos TRIACs, também no regulador de tensão é necessário ter atenção à 

potência dissipada. A sua ficha técnica informa uma resistência térmica, ???? = 65º?/? e 

???? = 5º?/?, sendo ????  a resistência térmica entre a junção e a cápsula e ???? a 

resistência térmica entre a junção e o meio ambiente. 

A potência dissipada pelo regulador é dada pela fórmula: 

? = (??? ? ????) ? ???? 

Para um valor de tensão eficaz de 13,4V e considerando a corrente máxima 

necessária para alimentar o controlador de 200mA, a potência é dada por: 

? = (13,4 ? 5) ? 0,2 = 1,68 [?] 

A relação entre a temperatura da junção e a potência dissipada é dada por: 

?? ? ?? = (???? + ???? ) ? ?? 



91 

 

  No interior da salamandra de testes, a temperatura atinge os 40ºC mas apenas 

quando está em funcionamento, o que não coincide com o momento de maior requisito 

energético que o regulador de tensão irá atingir. Nesta altura, considera-se uma temperatura 

ambiente (??) de 25ºC, ainda que seja um valor manifestamente elevado para a estação do 

ano em que a salamandra é suposta funcionar. Assim, temos segundo a equação anterior: 

?? = ((65 + 5) ? 1,68) + 25 = 142,6 [º?] 

 Esta situação é apenas temporária, enquanto o processo de queima está a iniciar e o 

relé tem que ser energizado para a resistência aquecer. Para comprovar os cálculos, foram 

feitos ensaios na salamandra, onde se verificou uma temperatura de 132ºC a uma temperatura 

ambiente de cerca de 19ºC. 

Durante o processo de queima ou quando a salamandra está parada, o consumo de 

corrente baixa para os 102mA, o que se traduz numa potência dissipada pelo regulador de: 

? = (13,4 ? 5) ? 0,102 ? 0,86 [?] 

Metade da potência significa também metade do calor produzido pelo regulador, mas 

nesta altura é necessário considerar o pior caso, onde a salamandra está em funcionamento 

e a temperatura ambiente atinge 40ºC. Para estas condições, temos: 

?? = ((65 + 5) ? 0,86) + 40 = 100,2 [º?] 

 Se a temperatura atingir os 40ºC no interior da salamandra, o regulador estará a cerca 

de 85,5ºC. Em ambos os casos as temperaturas encontram-se abaixo dos 150ºC de 

temperatura máxima indicada na ficha técnica (?? = 150º?) mas durante a queima as 

temperaturas são superiores a 100ºC e durante o aquecimento está muito acima dos 125ºC 

de temperatura máxima de funcionamento (???? = 125ºC), motivo pelo qual a instalação de 

um dissipador se torna indispensável. 

Para diminuir os riscos, garantir a fiabilidade térmica do regulador e prepará-lo para 

a possível instalação de um relé para acionamento da bomba de águas sanitárias, altura em 

que a potência dissipada será maior, foi instalado um dissipador: apesar de o relé da bomba 

de água não funcionar em simultâneo com o relé da resistência elétrica e, com isso, não 

existir um aumento no valor da corrente máxima necessária pelo controlador, é expectável 



92 

 

que o primeiro funcione durante longos períodos de tempo. Para uma temperatura ambiente 

de 19ºC, o regulador de corrente registou uma temperatura máxima de 47ºC. 

A Figura 72 mostra o início da instalação da placa de controlo desenvolvida numa 

salamandra a pellets, 

 

 

Figura 72 - Teste de instalação num equipamento de queima de pellets. 

 

4.3. Controlador – firmware 

Para que o microcontrolador execute todas as ações necessárias ao funcionamento da 

salamandra, precisa de executar um firmware que lhe permita atuar e comunicar 

corretamente com o hardware que o rodeia - TRIACs, relé, LCD, etc. –, receber e perceber 

a informação que o utilizador lhe quer transmitir. 



93 

 

O desenvolvimento do firmware deste controlador foi feito no ambiente de 

desenvolvimento disponibilizado pelo Arduino, o Arduino IDE, versão 1.6.9. O seu 

fluxograma de funcionamento geral pode ser visto na Figura 73. 

 

 

Figura 73 - Fluxograma do ciclo principal de funcionamento do firmware. 

 

O ciclo principal do programa começa por verificar se existe alguma entrada 

correspondente à interface disponível no controlador: primeiro os botões de pressão e depois 

o comando remoto por infravermelhos e comunicação Bluetooth. Caso exista a pressão de 

algum botão ou tenha sido enviado algum comando através de infravermelhos ou Bluetooth, 

essa entrada é tratada de imediato já que este tratamento corresponde apenas à adição, 

subtração ou alteração de estado (de verdadeiro para falso e vice-versa) de uma variável. Nas 



94 

 

entradas dos botões de pressão é feita uma verificação do estado lógico dos seus portos 

enquanto que na comunicação por Bluetooth e infravermelhos existe transmissão de dados. 

Seguidamente o programa passa para a gestão da alimentação do equipamento, onde 

corre uma função que gere o estado do motor alimentador de pellets. Esta função determina 

se a câmara de combustão deve ou não ser alimentada, tomando a decisão em função do 

intervalo de tempo estabelecido pelas variáveis “feeder_on_lvl” e “feeder_off_lvl”. Estas 

variáveis ditam o tempo que o motor deve estar ligado e desligado. Quando a salamandra 

não está a iniciar a queima ou esta não existe, o motor não entra em funcionamento. 

O ciclo continua com a execução dos cálculos do controlo PID que gere velocidade 

do motor exaustor, onde se inclui a leitura de velocidade através do encoder que lhe está 

associado. Este controlador PID atua diretamente no tempo de disparo do TRIAC, alterando 

o valor do registo do temporizador associado. 

Na última função executada pelo ciclo principal, correspondente aos dois últimos 

blocos do fluxograma da Figura 73, são atualizadas as variáveis auxiliares de gestão de 

tempo, verificação de erros do sistema, são feitas leituras das temperaturas de fumos e 

ambiente, é atualizada a informação do LCD e é executado código referente à tomada de 

decisão de arranque e término de queima, seja através de funcionamento automático ou por 

intermédio da interface. Caso a potência da queima esteja a ser regulada automaticamente 

com o objetivo de climatizar uma divisão, também é nesta altura que um controlador PID 

faz os cálculos para gerir a potência de saída da salamandra. 

O firmware está dividido em vários ficheiros para permitir uma melhor organização 

funcional. Além dos ficheiros que contêm código de funcionamento do sistema, existe ainda 

um ficheiro, “configurations.h”, que contém informação e configurações relativas ao 

controlo do processo de queima e ao controlador, que foi criado de maneira a facilitar a 

configuração do firmware no modelo de equipamento onde vai ser executado. 

Como cada modelo de salamandra necessita de ser devidamente testado e 

parametrizado para que seja possível controlar a queima de pellets, neste ficheiro encontram-

se os valores de alimentação e velocidade de rotação do extrator de fumos para os vários 

níveis de potência pretendida, para o acendimento da salamandra, valores de temperatura de 

deteção de fogo, extinção de fogo, período de alimentação de pellets, tempos de espera de 

mudança de nível de potência, tempo máximo de espera de acendimento da salamandra, etc.. 



95 

 

Desta forma qualquer fabricante de salamandras poderá testar e parametrizar facilmente os 

seus modelos, bastando-lhe para isso alterar os valores de configuração existentes neste 

ficheiro e carregar o firmware para o controlador. 

Ter as configurações agregadas num só ficheiro também permite mais facilmente 

organizar o firmware num momento em que este sirva para controlar vários modelos de 

equipamentos. Nessa altura, pode existir um ficheiro de configuração do controlador que 

selecione e carregue um ficheiro de configuração específico de cada modelo, já 

parametrizado, ainda que todos os ficheiros coabitem na mesma diretoria. 

 

4.3.1. Descrição de funcionamento 

A programação desenvolvida para este controlador garante o controlo da salamandra 

em todas as fases do processo de queima de pellets: o início e extinção de combustão e a 

queima contínua. 

O fluxograma da Figura 74 representa o fluxograma do processo de início de 

combustão programado neste controlador. Este processo é iniciado aquando da execução do 

código referente à tomada de decisão, no final do ciclo principal do firmware, sendo a partir 

daí feita toda a gestão que permite a ignição dos pellets. 

 



96 

 

 

Figura 74 - Fluxograma de início do processo de queima. 

 

Ao dar ordem de início ao controlador, aparece uma mensagem informativa no ecrã 

do controlador, como mostra a Figura 75. 

 

 

Figura 75 - Mensagem informativa de início de funcionamento. 

 

A resistência de aquecimento é ligada e o motor alimentador faz girar o fuso sem-

fim que transporta os pellets durante 3 segundos. Esta rotação inicial garante o transporte de 

combustível para a câmara de combustão ou do depósito para o fuso caso o combustível 

tenha acabado durante a última utilização. O ventilador de fumos começa a renovar o ar da 

câmara de combustão a uma velocidade de 1300 rpm. A partir deste momento o sistema 

entra num processo em que aguarda a subida de temperatura de fumos. Quando esta 



97 

 

temperatura atinge um valor igual ou superior a 35ºC o sistema deteta que os pellets já estão 

a começar a arder na câmara de combustão e aumenta a velocidade do extrator de fumos 

para as 1500 rpm. Este incremento de velocidade visa garantir um maior fluxo de ar na 

câmara de combustão e como consequência enriquecer a mistura e potenciar o incêndio. 

Quanto se atinge uma temperatura igual ou superior a 50ºC nos fumos, o sistema 

reconhece que o incêndio existe e é estável e passa a considerar-se em funcionamento. Nesta 

altura, a resistência de aquecimento é desligada e tanto a velocidade do motor de fumos 

como o intervalo e tempo de alimentação dos pellets assumem novos valores de acordo com 

o nível de potência selecionado pelo utilizador. O nível de potência está guardado na 

EEPROM do controlador, é lido a cada arranque do sistema e o seu valor no início da queima 

será o valor da última utilização do equipamento, podendo variar entre 1 e 5. Se a salamandra 

tiver sido encerrada com o modo de funcionamento automático, é lido o último valor de 

temperatura utilizado pelo utilizador. 

Caso se exceda o limite de tempo em que o processo de acendimento pode estar a 

decorrer, 15 minutos por omissão, o sistema entra em estado de erro, provocando a 

interrupção imediata do processo e apresentando uma mensagem no LCD. 

A Figura 76 representa o fluxograma do processo de extinção da queima 

implementado. Tal como no caso do início do processo de queima, também este processo é 

iniciado aquando da execução do código referente à tomada de decisão, no final do ciclo 

principal do firmware. 

 



98 

 

 

Figura 76 - Fluxograma do processo de extinção da queima de pellets. 

 

Quando se pretende desligar o equipamento, o sistema desliga a alimentação de 

pellets e maximiza a rotação do extrator de fumos até que a temperatura destes seja inferior 

a 45ºC, momento em que se desliga e o sistema fica a aguardar até receber nova ordem de 

iniciar. Na segunda linha do ecrã, até que a temperatura de fumos seja inferior a 45ºC, é dada 

a informação de que o processo de queima está a terminar, como é possível observar na 

Figura 77. 

 

 

Figura 77 - Mensagem de término de funcionamento. 

 

Os processos de início e de paragem de queima não podem ser interrompidos por 

questões de segurança, motivo pelo qual embora a ordem de início, através do painel de 

botões, do comando de infravermelhos ou da comunicação Bluetooth, seja identificada, não 

é tratada se o equipamento estiver em algum momento de transição – processo de arranque 

ou de paragem. 



99 

 

Quando se está a dar início à queima de pellets, existe fogo na câmara de combustão 

muito antes de o controlador o detetar – como referido anteriormente, é necessário detetar 

uma temperatura de fumos de exaustão igual ou superior a 50ºC para assumir a presença de 

fogo contínuo. Caso exista fogo mas a temperatura de fumos ainda não seja suficientemente 

alta para que o controlador o valide como tal, uma interrupção do início de queima desligaria 

os motores alimentadores e o ventilador de exaustão de fumos, causando uma queima 

deficiente, que gera muito fumo e resulta numa grande quantidade de cinzas.  

O inverso aconteceria com a interrupção do processo de extinção de queima. Se o 

processo fosse interrompido, caso se voltasse a habilitar a alimentação de combustível e a 

admissão de ar para a câmara de combustão, mas as chamas não fossem suficientes para 

sustentar o processo de queima, a câmara iria acabar por se encher de pellets que não seriam 

queimados, até que a temperatura diminuísse naturalmente e o controlador entrasse em erro, 

aguardando intervenção humana. 

Durante a queima de pellets o controlador apenas tem que se certificar que o motor 

alimentador faz girar o fuso dentro do tempo correto e que o ventilador de fumos está com a 

velocidade definida. Ambos os valores, tempo de alimentação e velocidade de extração, são 

assumidos quando existe uma mudança no estado da queima – de início de processo para 

queima continuada, p. ex. – ou no nível de potência selecionado. 

Ao longo dos processos de início, de extinção e de queima contínua, a velocidade do 

motor ventilador é sempre monitorizada no ciclo principal do firmware. 

Relativamente às funcionalidades potenciadas pela interface, os botões de pressão do 

painel, o comando remoto e aplicação para controlo através de Bluetooth permitem ao 

utilizador ligar ou desligar a queima de pellets, selecionar o nível de potência desejada e a 

velocidade do ventilador ambiente - através dos 5 níveis de potência pré-definidos - quando 

a salamandra está em funcionamento manual ou definir a temperatura desejada quando se 

encontra em modo de funcionamento automático. É possível também definir uma 

programação diária de funcionamento automático com horário de início e de fim bem como 

a hora, data e dia da semana do equipamento. O menu de programação de funcionamento 

pode ser visto na Figura 78. 

 



100 

 

 

Figura 78 - Menu de programação de funcionamento. 

 

 É também através dos botões que a hora e a data da salamandra são ajustadas em 

caso de necessidade. 

 

4.3.2. Gestão da interface 

No ciclo principal de funcionamento do programa a gestão da interface do 

controlador é feita no início para as entradas de informação e no final para a saída de 

informação apresentada no LCD.  

A gestão dos botões do painel de interface está dividida em duas funções. Uma das 

funções lê o estado dos pinos associados aos botões – “read_buttons()” - e outra efetua o 

tratamento de variáveis resultante da pressão do botão identificado – 

“buttons_press_decode()”. 

A função “read_buttons()” verifica o estado de cada um dos pinos associados aos 

botões. Para esta verificação foi necessário ter em conta o tempo de repetibilidade da pressão, 

pelo que foi implementado um sistema de debounce. Esta função de leitura apenas devolve 

a identificação do botão pressionado caso a última pressão lida para aquele botão tiver sido 

feita há mais de 500ms. Desta maneira, mesmo que o utilizador mantenha o botão 

pressionado o controlador só assume como uma entrada válida de 500ms em 500ms, tempo 

suficiente para entradas de informação rigorosas e precisas. O valor deste tempo de espera 

está pré-definido na variável “DEBOUNCE_BUTTONS” e pode ser facilmente alterado no 

ficheiro “configurations.h”. 

A função principal de tratamento de entradas nos botões é a função 

“buttons_press_decode()”. Esta função recebe o identificador gerado pela função de leitura 

e trata-o de imediato de acordo com a funcionalidade desejada. Existem 6 identificadores 



101 

 

diferentes, correspondentes aos 6 botões de pressão do painel de interface, como mostra a 

Figura 79. 

 

 

 

1- START_BUTTON 

2- AUTO_BUTTON 

3- BUTTON1 

4- BUTTON2 

5- BUTTON3 

6- BUTTON4 

Figura 79 - Botões do painel de interface. 

 

? START_BUTTON_PIN – identificador referente ao botão start. A pressão 

neste botão dá ordem de início ou paragem do processo de combustão dos pellets.  

? AUTO_BUTTON_PIN – identificador referente ao botão de modo de 

climatização automática ou nível de potência manual. Quando o processo de queima está a 

decorrer, permite ao utilizador selecionar o modo de climatização automática da divisão 

onde se encontra a salamandra ou selecionar o modo manual, onde o utilizador seleciona o 

nível de potência e velocidade de ventilação desejados. 

? BUTTON1_PIN – identificador referente ao botão número 1. Incrementa o 

nível de potência caso a salamandra esteja a funcionar em modo manual ou incrementa a 

temperatura desejada no caso de o equipamento estar a funcionar em modo de climatização 

automática. Quando não está a decorrer nenhum processo de queima – arranque, paragem 

ou queima contínua – este botão também incrementa as variáveis apresentadas no ecrã, como 

por exemplo a data, hora, o ano ou o dia da semana, para as funcionalidades de arranque e 

paragem autónoma da salamandra ou para a definição da data/hora. 

? BUTTON2_PIN – identificador referente ao botão número 2. O tratamento 

deste identificador é em tudo semelhante ao botão número 1 com a diferença que serve de 

decremento ao invés de incrementar. As variáveis apresentadas no ecrã, o nível de potência 

desejado ou a temperatura de climatização são decrementadas com a pressão neste botão. 



102 

 

? BUTTON3_PIN – identificador referente ao botão número 3. Quando o 

processo de queima está a decorrer e está selecionado o modo de funcionamento manual, 

este botão incrementa a velocidade do ventilador ambiente presente na salamandra. Se não 

existir processo de queima – arranque, paragem ou queima contínua – este botão movimenta 

os menus. No ecrã de funcionamento normal, a pressão deste botão entra no menu de 

funcionamento programado e sequencialmente avança sobre a definição de hora de arranque 

e paragem do mesmo, alterando a escolha da variável que se pretende modificar – horas e 

minutos. Caso esteja no menu de definição de hora e data, este botão faz recuar para a seleção 

de variável anterior. 

? BUTTON4_PIN – identificador do botão número 4. Tem o funcionamento 

contrário ao botão número 3. Decrementa a velocidade do ventilador ambiente quando a 

queima está a decorrer e o modo de funcionamento é manual e serve de movimento de 

menus. A pressão deste botão durante a apresentação do menu principal leva ao menu de 

acerto de hora/data, avançando na seleção de variável dentro deste até à definição do dia da 

semana e consequente gravação de todas as opções – data, hora e dia da semana. A pressão 

deste botão durante a apresentação do menu de funcionamento programado faz recuar a 

seleção de variável a alterar. 

O processamento das mensagens enviadas pelo comando remoto é feito de forma 

semelhante ao que é feito nos botões, mas neste caso foi utilizada uma biblioteca de 

comandos infravermelho já existente, instalada no ficheiro “IRremote.h”. A cada ciclo do 

programa é verificada a existência de alguma mensagem que, caso exista, é tratada logo de 

seguida. A verificação e tratamento das entradas de infravermelhos são processados na 

mesma função dos botões de painel, “buttons_press_decode()”. Cada botão do comando 

remoto envia uma mensagem específica, dando entrada no sistema como um valor 

hexadecimal.  

Para atribuir as funcionalidades a cada botão, foram identificadas as mensagens de 

cada botão do controlador – etiqueta identificadora -, imprimindo o seu valor na porta de 

comunicação série do Arduino. Depois de identificadas as etiquetas dos botões foi possível 

escolher quais os botões que se pretendia usar e atribuir-lhes uma funcionalidade, idênticas 

às funções dos botões do painel.  

O tratamento de informação recebida por Bluetooth também está implementado 

dentro da função “buttons_press_decode()”. A comunicação é estabelecida através da porta 



103 

 

série 3 do Arduino Mega e a aquisição de dados é feita do mesmo modo que uma 

comunicação por cabo, utilizando a biblioteca própria de comunicação série da plataforma.  

A Figura 80 mostra a parte da função de tratamento de dados relativa às 

comunicações sem fio, onde é verificada a existência de informação primeiro por 

infravermelhos e, caso não exista, verifica-se a existência de dados na porta de comunicações 

onde o módulo Bluetooth está instalado. 

 

 

Figura 80 - Aquisição de dados através de comunicação por infravermelhos e Bluetooth. 

 

A Tabela 10 mostra a equivalência entre os botões do comando, os botões do painel 

e as suas etiquetas identificadoras para cada tipo de comunicação no firmware. 

 

Tabela 10 - Equivalência entre botões do comando remoto, painel de interface e etiquetas. 

Botões Etiquetas 

Comando Painel IR Bluetooth Botões de pressão 

Play Start 0xFFA857 1 START_BUTTON_PIN 

Menu Auto 0xFFE21D 2 AUTO_BUTTON_PIN 

+ Botão 1 0xFF02FD 3 BUTTON1_PIN 

- Botão 2 0xFF9867 4 BUTTON2_PIN 

&gt;&gt;| Botão 3 0xFF906F 5 BUTTON3_PIN 

|&lt;&amp;lt;Botão 4 0xFFE01F 6 BUTTON4_PIN 

 

Cada vez que existe um input do utilizador, ou seja, cada vez que o utilizador 

pressiona um botão do painel, do comando remoto ou envia um comando por Bluetooth e 

essa entrada seja válida - com uma cadência superior a 500ms -, o led vermelho presente no 

painel acende durante um curto período de tempo. Na eventualidade do led ser substituído 

pelo sinalizador sonoro, este irá emitirá um sinal audível. 



104 

 

Para o output da interface o LCD disponibiliza todas as informações ao utilizador, 

como a temperatura ambiente da divisão onde o equipamento se encontra e um relógio com 

a hora. Quando não está em funcionamento, o ecrã informa na linha inferior a data e dia da 

semana, como anteriormente mostrado na Figura 52. O acesso à informação de hora e data 

é feito através de comunicação com o módulo de relógio DS1302, utilizando uma biblioteca 

própria “rtc.h” [53] e uma ligação “3-WIRE SPI”, que é idêntica a uma ligação SPI mas 

half-duplex, com uma única linha de dados [54]. 

Durante a queima de pellets a segunda linha do ecrã é utilizada para informar acerca 

do nível de potência e do nível de velocidade do ventilador ambiente que estão a ser 

utilizados no caso do funcionamento se encontrar em modo manual ou a temperatura 

desejada caso o equipamento se encontre em modo de funcionamento automático. 

 A Figura 81 mostra a informação disponibilizada pelo ecrã durante o funcionamento 

da salamandra em modo manual. 

 

 

Figura 81 - Informação no ecrã em modo de funcionamento manual. 

 

O LCD informa também o utilizador se a programação de funcionamento está ativa 

ou não, através do símbolo de alarme, a seguir à informação horária, que pode ser visto na 

Figura 82, onde também é visível a informação de temperatura desejada, disponibilizada na 

segunda linha do ecrã durante o modo de funcionamento automático. 

 

 

Figura 82 - Símbolo de alarme e informação no modo de climatização automática. 



105 

 

A segunda linha do ecrã também fornece informações em forma de texto acerca de 

alguns erros que possam ocorrer. Existem 4 erros identificados que são sinalizados com uma 

mensagem no ecrã: 

? “Erro!Queima” – este erro ocorre quando há uma anomalia no 

funcionamento do controlador ou quando o sensor de temperatura de fumos está danificado. 

Aparece quando o sistema está em funcionamento, não se encontra em processo de paragem 

e a temperatura de fumos lida pelo controlador é 5ºC inferior à temperatura de deteção de 

incêndio, portanto, aos 45ºC para uma temperatura de deteção de incêndio de 50ºC. O erro 

é considerado crítico, e como tal, o sistema interrompe de imediato a alimentação de pellets 

para a câmara de combustão e aguarda por intervenção do utilizador. 

? “Erro!Temp.Fumos” – ocorre quando o sensor de leitura da temperatura de 

fumos está danificado ou a temperatura de fumos ultrapassa o valor estipulado pela variável 

“MAX_SMOKE_TEMP” – 240ºC por omissão. Ao longo dos testes, a temperatura de fumos 

durante o funcionamento normal do equipamento rondou os 180ºC. A ocorrência deste erro 

cessa a alimentação dos pellets e coloca o ventilador de fumos na velocidade máxima até 

que a temperatura de fumos seja inferior à temperatura de deteção de extinção de incêndio, 

“FIRE_EXTINGUISH_TEMP” – 45ºC por omissão. Ambas as variáveis podem ser 

configuradas no ficheiro “configurations.h”. 

? “Erro!Vent.Fumos” – este erro está relacionado com o encoder do 

ventilador de fumos. Se o sistema detetar que a velocidade do ventilador - medida pelo 

encoder – é de 0 rpm e este valor for diferente da velocidade pretendida ou se a velocidade 

detetada tiver um erro superior a 300 rpm relativamente à velocidade pretendida, entra em 

erro. O ventilador de fumos tem que funcionar sempre pelo que este erro não só cessa o 

processo de queima impedindo a alimentação de pellets caso este esteja a decorrer como 

também impede o arranque da salamandra. A verificação do encoder ocorre a cada 20 

segundos. 

? “Erro!Acend.” – erro relacionado com o arranque do processo de queima. 

Se demorar mais de 15 minutos – valor configurado pela variável “START_TIMEOUT” do 

ficheiro “configurations.h” – o sistema entra neste erro e termina a tentativa de acendimento 

dos pellets. Pode ocorrer por ausência de pellets no compartimento ou na câmara de 

combustão ou por deficiência na resistência de acendimento. 

Além das mensagens de erro, o LCD informa também o utilizador das grandezas que 

está a manipular para definir a programação automática da salamandra ou o acerto de hora e 



106 

 

data. Durante a utilização de um destes menus o ecrã indica na primeira linha qual o menu 

onde se encontra e na segunda linha indica quais as grandezas que serão manipuladas, como 

indica a Figura 83, que mostra a informação dada pelo ecrã durante a definição de hora de 

arranque no menu de programação automática. 

 

 

Figura 83 - Informação no LCD durante a utilização de um menu. 

 

Durante a navegação nos menus o ecrã é atualizado imediatamente após um botão 

ser pressionado. No ecrã principal, a informação é atualizada automaticamente a cada 5 

segundos. 

A escrita de informação no LCD foi feita utilizando a biblioteca “LiquidCrystal.h”, 

que está disponível publicamente e faz parte da lista de bibliotecas disponibilizadas pela 

plataforma Arduino. 

Quando a informação é atualizada, é também feita uma atualização às leituras dos 

componentes que a ele estejam associados, nomeadamente o relógio e o sensor de 

temperatura ambiente. O período de atualização de 5 segundos é suficiente para manter o 

utilizador informado e para garantir a segurança da monitorização de temperaturas. Ao longo 

de 5 segundos não é possível haver uma variação considerável da temperatura que ponha em 

risco o sistema ou as pessoas, em especial na temperatura de fumos que é o parâmetro mais 

crítico no que à segurança diz respeito, no caso da salamandra utilizada neste projeto. 

A atualização da leitura das temperaturas é feita pela função “read_temp()”; 

chamada dentro da função principal “temperatures_update()”. A função principal garante a 

atualização dos valores das temperaturas e verifica se há algum valor em não conformidade. 

Se existir, a função obriga o sistema a entrar em estado de erro. Também é nesta função que 

são detetados o princípio de incêndio e o incêndio durante o início do processo de combustão 

e a extinção de incêndio quando se pretende terminar o processo. 



107 

 

O estado de “princípio de incêndio” ocorre quando o controlador deteta que a 

temperatura de fumos está a aumentar e ultrapassa os 35ºC – variável 

“START_FIRE_DETECT_TEMP” - mas ainda é inferior à temperatura de deteção de 

incêndio. A função identifica o estado de “incêndio” quando a temperatura de fumos 

ultrapassa o valor estipulado pela variável “FIRE_DETECT_TEMP” – 50ºC por omissão – 

e garante que o sistema inicia o controlo dos níveis de potência a partir deste momento. A 

extinção de incêndio acontece quando o processo de queima está a ser finalizado e a 

temperatura de fumos se torna inferior a 45ºC – valor guardado na variável 

“FIRE_EXTINGUISH_TEMP” –, momento em que o motor ventilador interrompe o seu 

funcionamento e o sistema se encontra pronto para iniciar de novo quando assim for 

pretendido. 

A função “read_temp()” devolve o valor da temperatura correspondente ao valor 

lido no porto analógico correspondente. O porto analógico do controlador devolve um valor 

entre 0 e 1023, lido pela função “analogRead()”,  que necessita de ser convertido primeiro 

em tensão e depois para uma escala de temperatura - em graus Celsius.   

Normalmente para o tratamento de informação de um sensor de temperatura NTC é 

utilizada uma tabela de conversão conhecida como “look-up table”. Neste caso para a 

conversão de valores foi utilizada a equação de Steinhart-Hart [55]. Além de ser mais 

simples, esta equação também ocupa menos memória no programa quando comparado com 

as tabelas de conversão. É a função “read_temp()”, ilustrada na Figura 84, que converte a 

informação lida no porto analógico pela função “analogRead()” para graus Celsius 

utilizando a equação e devolve o seu valor. 

 

 

Figura 84 - Função de conversão de tensão em temperatura. 

 

 



108 

 

4.3.3. Controlo do sistema 

Além da gestão da interface, o firmware gere também a velocidade dos motores e o 

estado da resistência do sistema.  

Na Figura 73 verifica-se que nem o motor ventilador ambiente nem a resistência de 

aquecimento estão presentes de forma direta no ciclo principal. Isto acontece porque são 2 

elementos que não têm ligação com a potência de saída da salamandra, fazendo com que não 

exista necessidade de controlar o seu estado ciclicamente. A resistência é ligada quando há 

ordem – através de uma entrada na interface – para o início da queima e é desligada quando 

se deteta o incêndio cuja gestão é feita pela função de leitura de temperaturas. O motor 

ventilador apenas vê a sua velocidade variar em situações específicas, também originadas 

por inputs do utilizador, como a mudança do seu nível de potência ou a temperatura mínima 

de funcionamento – o ventilador só é habilitado automaticamente a partir de uma 

temperatura de fumos mínima “START_ROOM_FAN_TEMP” de valor por omissão de 

55ºC. 

Por outro lado, o calor produzido pela salamandra depende diretamente tanto do 

estado do motor alimentador como da velocidade do exaustor de fumos. Ambos necessitam 

de controlo permanente de maneira a ser possível manter o nível de potência desejado. 

 

? Alimentação de pellets – motor alimentador 

O controlo do motor alimentador está a cargo da função feeder_management(). Esta 

função gere o estado do motor, ligado ou desligado, e a duração do funcionamento do 

mesmo. A Figura 85 mostra o fluxograma de funcionamento desta função. 



109 

 

 

Figura 85 - Fluxograma da função de gestão de estado do motor alimentador. 

 

 Ao entrar na função é verificado se a alimentação de pellets está ou não habilitada, o 

que depende do estado da variável booleana “enable_feed”, onde true significa que está 

habilitada e false o contrário. Esta habilitação é dada pela função que inicia o processo de 

queima, start_burning(), e retirada pela função que termina o funcionamento do sistema, 

stop_burning(), ou por qualquer evento de erro detetado pelo sistema. Caso não esteja 

habilitada, a função termina. Caso contrário, continua para as verificações temporais. A 

Figura 86 mostra o pedaço de código que gere a alimentação. 

 



110 

 

 

Figura 86 - Função de gestão de alimentação de pellets. 

 

O motor alimentador tem um tempo de funcionamento variável uma vez que a 

alimentação de pellets para a câmara de combustão é feita através de intervalos de tempo. A 

Tabela 11 mostra os diferentes tempos de alimentação conforme o nível de potência 

selecionado. 

 

Tabela 11 - Intervalos de tempo de funcionamento do motor alimentador para os diferentes níveis de potência. 

Nível de Potência Alimentação Lig. (s.) Alimentação Deslg. (s.) 

1 0,7 3,3 

2 0,84 3,16 

3 1,04 2,96 

4 1,24 2,76 

5 1,44 2,56 

 

Os tempos de alimentação utilizados são os mesmos dos parâmetros do controlador 

utilizado na salamandra Prima Air, parâmetros esses cedidos pela MVM. Durante os ensaios 

do controlador confirmou-se que estes parâmetros de alimentação servem os níveis de 

potência a que estão associados, confirmando também assim o bom funcionamento da gestão 

do motor alimentador por parte do controlador desenvolvido. 

 

 



111 

 

? Ventilador ambiente e exaustor de fumos – motores de 

velocidade variável 

Os motores de ventilação ambiente e de exaustão de fumos necessitam de regulação 

de velocidade para proporcionar o maior conforto possível ao utilizador e para controlar a 

admissão de ar da câmara de combustão, respetivamente. 

 Além do hardware dedicado descrito na secção 4.1.1, é necessário um tratamento 

especial no firmware que permita o controlo de velocidade destes motores. A Figura 87 

apresenta o fluxograma de controlo por ângulo de fase implementado. 

 

 

Figura 87 - Fluxograma de controlo por ângulo de fase implementado no firmware, 

 



112 

 

O controlo por ângulo de fase é tratado no firmware somente através de eventos 

despoletados por interrupções. Isto significa que todo o controlo é feito através de rotinas 

que não estão no ciclo principal do programa. 

O primeiro evento é a aquisição de referência de zero. O circuito de deteção de zero 

fornece uma transição no seu sinal de saída – ver Figura 56 –, coincidente com a passagem 

por zero da onda sinusoidal de tensão da rede, que vai fazer variar o nível lógico de um porto 

de interrupção externa do Arduino. Foi utilizado o porto digital 2 para este efeito. 

Após a deteção de zero é esperado o tempo necessário para que o ângulo de disparo 

seja o desejado. Nessa altura, o porto digital associado ao motor passa a ter à sua saída 5V 

até perto do final do semi-ciclo da onda sinusoidal, momento em que passa novamente a 0V, 

como ilustrado no exemplo da Figura 57.  

O fluxograma da Figura 88 mostra o fluxograma da rotina dos eventos de interrupção 

que ocorrem por cada disparo do TRIAC. Estes eventos são tratados de forma imediata, fora 

do programa principal. 

 

 

Figura 88 - Fluxograma de eventos interruptivos do controlo dos motores de velocidade variável. 

 



113 

 

A passagem por zero ativa uma interrupção externa. A rotina desta interrupção 

reinicia o temporizador 1 e dá início à contagem até ao momento de fazer o disparo do 

TRIAC, algo que é feito através do evento do comparador “Timer 1 Comparators Match”. 

O evento de interrupção de “Timer 1 overflow” desliga o disparo do TRIAC. 

Cada motor tem a ele associado um registo comparador. É através do valor deste 

registo que é alterado o ângulo de disparo. No programa, representa um tempo de espera 

após a passagem por zero. Quando a contagem do temporizador for igual ao valor do registo 

comparador onde está definido o valor para a contagem do temporizador 1, OCR1A/B, ocorre 

a interrupção em que a sua rotina dispara o TRIAC associado e permite a condução de 

corrente para o motor. 

A rotina de interrupção de final de contagem, overflow, tem a função de desligar o 

sinal de condução dos TRIACs. A sua ocorrência é manipulada dentro da última ISR de 

comparação que tenha existido. Se não tiver existido nenhuma, o temporizador nunca atinge 

o limite dos registos de contagem, recordando que são sempre reiniciados a cada 10ms, ou 

seja, a cada evento externo de deteção de zero. 

Para que este ciclo de interrupções se complete e repita de forma adequada, foi 

necessária uma configuração prévia. A onda sinusoidal da tensão da rede tem uma frequência 

de 50Hz e o seu período é dado por 1/50 = 20ms. Cada passagem por zero irá então ocorrer 

a uma frequência de 100Hz, ou seja, a cada 10ms. 

Para calibrar este controlo, o temporizador 1 - timer 1 na ficha técnica do 

controlador - foi configurado com um prescale de 1/256 que é basicamente um 

desmultiplicador de contagens. Uma vez que o Arduino funciona a uma frequência de 

16Mhz, podemos calcular que ao longo de 1 segundo o temporizador irá efetuar 

16 ? 106

256
= 62500 

incrementos no seu registo de contagem, 16us por cada um. Desta forma foi possível 

relacionar quantos incrementos existem durante meio período de uma onda sinusoidal com 

50Hz de frequência: 

10 ? 10?3

16 ? 10?6
= 625 



114 

 

Estes dados foram utilizados para garantir que a interrupção de overflow acontecesse 

antes de uma nova passagem por zero. Para este efeito, a última interrupção a acontecer 

associada a um registo comparador - OCR - atribui ao registo de contagem - TCNT - o valor 

máximo admissível menos o valor de contagens que faltam até estar próximo de uma nova 

passagem por zero, como mostra a Figura 89, onde “j” é a variável com o valor de contagens 

que já foram feitas desde última interrupção de deteção de zero. 

 

 

Figura 89 - Atribuição de valor ao registo de contagem TCNT1. 

 

Foi definido o valor próximo de uma nova passagem por zero de 580 contagens, o 

que corresponde a cerca de 9,28ms. 

 

? Controlo de velocidade com encoder 

A velocidade do motor de ventilação ambiente está pré-definida, associada aos níveis 

de potência disponíveis, mas também pode ser alterada pelo utilizador para que lhe sirva de 

melhor conforto. No caso do motor de exaustão de fumos a velocidade tem que ser precisa 

e vigiada.  

O motor ventilador de fumos tem incorporado um encoder baseado num sensor de 

efeito de Hall, ilustrado na Figura 90. 

 

 

Figura 90 - Encoder de efeito de Hall do motor extrator de fumos. 

 



115 

 

 O sensor de efeito de Hall faz variar a sua saída a cada volta completa do motor. Essa 

variação é lida e contabilizada pelo microcontrolador que calcula a velocidade em rotações 

por minuto a que o motor está a rodar. 

Esta contabilização de pulsos do sensor de Hall também está implementada através 

de um porto de interrupção externa. Sempre que o motor completa uma rotação, o sinal do 

encoder transita de 5V para 0V e a rotina de interrupção associada ao pino do Arduino 

incrementa uma unidade numa variável, “revolutions”. 

Para variar o ângulo de fase de disparo do TRIAC por forma a controlar a velocidade 

do exaustor de fumos, o firmware utiliza uma biblioteca de controlo PID que garante a 

estabilidade e precisão da velocidade em função do fluxo de ar que se pretende na câmara 

de combustão. Inicialmente, implementou-se um controlo proporcional que apenas atuava 

conforme a diferença entre a velocidade pretendida e a medida. No entanto, com a variedade 

de bibliotecas da plataforma que já oferecem controlo proporcional, integral e derivativo, 

tomou-se por opção passar a usar uma delas, pois conseguiam uma maior estabilidade a 

velocidades constantes do motor e variações mais suaves durante as transições de 

velocidade. 

O cálculo do ângulo de fase a aplicar no controlo do motor exaustor e a leitura da 

velocidade do ventilador são feitos na função “compute_smoke_fan_speed()”. A velocidade 

do ventilador é calculada apenas de segundo a segundo para se conseguir um bom nível de 

precisão na sua leitura. Foram efetuados testes para outros intervalos de medição, mais 

curtos, mas sem sucesso quanto à precisão do cálculo de velocidade: o valor calculado 

oscilava em demasia mesmo sem se verificar uma variação real de velocidade do motor. O 

aumento do intervalo de medição permitiu aumentar a precisão de leitura sem prejuízo do 

controlo do motor. 

Como a verificação é feita a cada segundo, para obter a velocidade do ventilador em 

rotações por minuto basta multiplicar o número de voltas completas – o número da variável 

incrementada pela interrupção gerada pelo encoder - por 60. A função 

“exhaust_fan_PID.Compute()” corre fora do período de 1 segundo, sendo executada em 

todos os ciclos por indicação das instruções da biblioteca utilizada. Apesar de ser sempre 

executada, a função apenas faz cálculos quando é necessário. 

 



116 

 

4.3.4. Testes e resultados 

O desenvolvimento do firmware deste projeto foi sempre suportado por ensaios no 

equipamento disponibilizado pela empresa MVM. Estes ensaios incluíram testes de início 

de queima, de variação e gestão de potência debitada, término da queima e de utilização dos 

vários tipos de interface implementados. 

O processo de queima de pellets está parametrizado para o modelo utilizado durante 

os testes, o Prima Air. Após correta parametrização, não foi registada nenhuma falha no 

arranque, término ou manutenção da queima durante as várias horas – intercaladas - de testes 

a que foi submetido. Para obter maior garantia de bom funcionamento e maior prova de 

fiabilidade do sistema, seria oportuno reunir condições para manter o equipamento em 

funcionamento durante um período superior a 24h. Infelizmente, tal não foi possível durante 

o desenvolvimento deste projeto. 

A parametrização do arranque do equipamento e da manutenção da queima para os 

diferentes níveis de potência foi feita inicialmente com valores idênticos aos utilizados 

noutros controladores. Após alguns ensaios, verificou-se que se obtinham melhores 

resultados durante o arranque fazendo com que o sistema fosse alimentando a câmara de 

combustão ao longo do tempo. Isto previne que o sistema tente arrancar sem combustível e 

garante uma combustão melhor durante o arranque do equipamento, acelerando a deteção de 

incêndio. 

Para os vários níveis de potência de queima foi necessário alterar o valor de 

velocidade do ventilador exaustor de fumos, que controla também a admissão de ar. No 

controlador utilizado pela MVM, a velocidade do exaustor parametrizada é apenas um limite 

mínimo e esta é controlada pelo fluxo de ar que existe. Como neste projeto se abdicou do 

medidor de massa de ar, ajustou-se a velocidade do ventilador, aumentando-a, mantendo os 

parâmetros de alimentação de pellets, de maneira a obter resultados de queima visível e 

termicamente satisfatórios. 

A função de climatização não foi testada num ambiente real devido a 

condicionamentos no que respeita à colocação do equipamento de testes. Esta funcionalidade 

deveria ter sido testada num espaço fechado, idêntico a uma divisão de um edifício, como 

por exemplo uma sala de estar, de maneira a aferir a capacidade de aumento, diminuição e 



117 

 

manutenção de temperatura por parte da salamandra especialmente no que diz respeito à 

estabilidade e velocidade de resposta. Preferencialmente, durante o teste, o equipamento 

deveria também ser sujeito a variações acentuadas de temperatura ambiente para ser 

estudado o seu comportamento, simulando a abertura de uma porta ou uma corrente de ar 

fria. Não obstante, o processo de climatização foi simulado, aquecendo e arrefecendo o 

sensor de temperatura ambiente e observando-se a resposta do controlador. Nesta simulação 

foram obtidos resultados satisfatórios. Para a climatização automática o firmware utiliza os 

5 níveis de potência existentes. 

O arranque e paragem programados não demonstraram nenhum problema no seu 

funcionamento. 

 

4.4. Análise de custos / produção 

Como foi sendo referido ao longo deste relatório, um dos principais objetivos do 

desenvolvimento do controlador seria ter um custo competitivo. Durante o 

desenvolvimento do hardware houve sempre a consideração do fator preço e 

disponibilidade no mercado na escolha dos componentes utilizados, tentando manter um 

compromisso entre o custo e a funcionalidade da solução final. 

Para a elaboração de uma unidade de controlo semelhante à desenvolvida, são 

necessários os componentes descritos no Anexo A, Tabela 13. Além do preço dos 

componentes, é necessário considerar o preço da placa Arduino e da placa de circuito 

impresso, o que dará um preço total a rondar os 50€ - excluindo a comunicação 

Bluetooth, módulo pelo qual se terá que somar 5€. Neste caso, seria necessário 

contabilizar também os custos de assemblagem, que não estão incluídos no preço do 

material. Os preços dos componentes foram consultados em lojas online, em setembro 

de 2016, pelo que o seu preço pode estar sujeito a alterações.  

É possível obter preços mais competitivos caso se opte pela compra em várias lojas 

distintas, procurando o preço mais baixo de mercado para cada componente, ou ainda 

caso se compre em grandes quantidades. 



118 

 

Para ter noção dos custos de produção e montagem deste controlador, foi feito um 

pedido de cotação a uma empresa internacional para 50 e 100 unidades. À produção e 

assemblagem de componentes para 50 unidades do controlador foi dada uma cotação de 

US$2076 – 1941€ – enquanto 100 unidades custariam US$3597 – 3364€, à taxa de 

conversão atual. Concluímos que a unidade ficaria por 38.82€ no caso da produção de 

50 controladores e 33.64€ para a produção de 100. A estes preços, seria necessário 

adicionar o preço do LCD (1€) e da placa Arduino (7€) bem como do módulo de relógio 

de tempo real (1€), comando e recetor infravermelhos (1,20€) e, caso necessário, 

Bluetooth (5€). A Tabela 12 resume os preços unitários dos 3 modos de produção 

analisados. 

 

Tabela 12 - Comparação de preços do controlador em diferentes métodos de produção. 

Modo de Produção 
Preço* total 

unitário 

Produção individual, manual** 50€ 

Produção e assemblagem – 50 unidades 49€ 

Produção e assemblagem – 100 unidades 44€ 
  *Os preços não incluem módulo Bluetooth. 

**Exclui mão de obra. 

 

Como era esperado, existe uma redução do custo unitário do controlador com o 

aumento da produção. Mesmo em pequenas quantidades, o custo de um controlador com 

assemblagem incluída é inferior ao preço da compra e montagem manual de um 

controlador se excluirmos o custo de mão de obra necessária para a operação. 

Relativamente aos controladores existentes no mercado, a empresa MVM indicou 

um preço de referência que ronda os 57€ para os modelos com funcionalidades idênticas 

ao desenvolvido neste projeto, embora sem conectividade Bluetooth nem controlo 

através de infravermelhos. 

Concluindo, pode-se afirmar que o controlador desenvolvido neste projeto apresenta 

um preço competitivo, que pode ser inferior aos utilizados atualmente conforme o 

método e volume de produção. A diferença de preço pode tornar-se mais significativa 

caso o número de unidades produzidas seja consideravelmente aumentado, bem como a 

procura por outros fornecedores pode levar à conclusão de que é possível um preço ainda 

mais baixo. 



119 

 

5. Conclusões e Trabalhos Futuros 

Para a realização deste trabalho foi necessário proceder a um estudo exaustivo acerca 

dos sistemas de queima para aquecimento doméstico, nomeadamente dos sistemas de 

queima a pellets: o estudo do seu funcionamento e das opções existentes no mercado para 

controlar estes sistemas caracterizaram o primeiro passo para o desenvolvimento deste 

controlador. 

Reunida a informação acerca dos equipamentos, através de pesquisa e através do 

diálogo com a MVM, procurou-se iniciar o projeto escolhendo uma plataforma que se 

concluiu ser a mais adequada, o Arduino. 

Posteriormente, durante o desenvolvimento do hardware protótipo, os vários 

métodos de controlo associados aos elementos da salamandra foram desenvolvidos e 

agregados a uma solução de interface e firmware desenvolvido em paralelo. 

Este trabalho engloba ensaios num equipamento de testes, localizado na MVM, onde 

foram obtidos resultados satisfatórios no que à qualidade da queima – ausência de fumos – 

diz respeito. O sistema mostrou-se fiável ao longo das horas de teste, não havendo registo 

de nenhuma anomalia no que diz respeito à queima, à leitura de temperaturas ou mau 

funcionamento de hardware. 

Para efeitos de comercialização, será necessário submeter o controlador a várias 

horas de testes monitorizados – os chamados stress tests – e também tratar dos processos de 

certificação. Durante a realização do projeto não foi possível efetuar testes de longa duração 

uma vez que não havia condições para o efeito, dado o equipamento estar localizado na 

empresa, local onde durante a noite não existe vigilância. Seria também importante aferir 

acerca do cumprimento das diretivas referentes à legislação a aplicar relativamente à 

compatibilidade eletromagnética do controlador, nomeadamente através de testes na câmara 

anecoica da ESTG. Seria necessário garantir o cumprimento das diretivas 2004/108/CE que 

diz respeito à compatibilidade eletromagnética e a 2006/95/CE que refere à baixa tensão e 

submeter o controlador ao organismo nacional de normalização, o Instituto Português da 

Qualidade (IPQ). 

Relativamente ao custo deste controlador, tendo como referência o preço indicado 

pela MVM, que é de controladores produzidos para vários países – portanto, em vários 



120 

 

milhares de unidades -, pode-se considerar que o objetivo de apresentar um controlador com 

um custo competitivo foi alcançado. O custo é inferior ao valor de referência e consegue-se 

diluir caso seja produzido em grandes quantidades, o que implica a venda a várias empresas 

e provavelmente a exportação. 

Para trabalhos futuros, apesar de objetivamente o trabalho inicial proposto estar 

concluído, a melhoria contínua é uma vantagem que se pretendeu garantir desde o início do 

projeto. O desenho da placa de controlo contempla as ligações para um relé que pode ser 

aproveitado para acionar uma bomba de água, aplicado a equipamentos com aquecimento 

de águas sanitárias e/ou a caldeiras. No entanto, o firmware não prevê essa situação. Bastaria, 

por exemplo, ligar a bomba de água sempre que a temperatura de fumos fosse superior a um 

determinado valor, conhecido e testado, que garantisse o aquecimento da água em 

circulação. 

Ainda relativamente ao firmware, é possível reduzir os custos do controlador caso se 

implemente uma interface mais simples e barata. Há utilizadores que não dão valor a um 

ecrã ou comando remoto e cuja interação com dois potenciómetros seletores de nível de 

potência e velocidade de ventilador sejam suficientes. O hardware já prevê isso – diferentes 

placas de interface – mas o firmware necessita de ser adaptado. No caso de um utilizador ter 

dificuldades visuais, é possível substituir o ecrã utilizado neste projeto por outro de maiores 

dimensões, desde que tenha o mesmo controlador de ecrã (HD44780), sem efetuar alterações 

ao firmware; seria uma mais valia a ter em conta, mediante avaliação do custo inerente. 

A climatização não foi testada em ambiente próprio neste trabalho e apenas reflete o 

controlo nos 5 níveis de potência pré-definidos. Uma climatização com débito de potência 

gradual poderá trazer melhores resultados tanto na manutenção de temperatura como na 

poupança de consumo de pellets. Para este efeito provavelmente seria necessário incluir o 

medidor de massa de ar para conseguir fazer um controlo direto da admissão de ar na 

combustão. Embora a integração do sensor medidor de massa de ar obrigue a uma revisão 

na placa do controlador e a implementação no firmware, esta poderia ser uma funcionalidade 

vantajosa para parte dos clientes de sistemas de aquecimento a pellets. A alteração à placa 

do controlador não daria origem a uma versão distinta mas sim a uma nova versão, 

compatível com a placa atual. 

A comunicação sem fios também não ficou esquecida. Ao ser aplicado o módulo 

Bluetooth, o utilizador pode controlar o equipamento através vários dispositivos, fazendo 



121 

 

uso da aplicação universal criada no decorrer deste projeto, compatível com smartphones, 

tablets, ou computadores com o sistema operativo Windows 10. A aplicação desenvolvida, 

apesar de plenamente funcional, serve meramente para efeitos demonstrativos. Numa versão 

comercial deverá ser melhorada a sua interface e alargadas as capacidades. Seria útil por 

exemplo uma monitorização da temperatura da casa, receber alertas de pouco combustível 

no depósito ou até mesmo notificações de temperatura baixa na habitação, sugerindo o início 

de climatização automática – deste modo, a salamandra não deixaria o edifício arrefecer em 

demasia, poupando combustível na manutenção da temperatura e garantindo conforto 

térmico aos utilizadores. Outra possibilidade seria fazer uso da ligação Bluetooth para 

comandar o sistema através de um painel de controlo embutido na parede, com botões ou 

ecrã táctil, dispensando a interface presente no corpo da salamandra. 

Fazendo uma retrospetiva ao trabalho desenvolvido, verifica-se que os objetivos 

principais foram cumpridos: desenvolvimento de um controlador nacional, com um custo 

reduzido e ainda com margem para evolução, que oferece algo que de momento não existe 

no mercado da MVM: a comunicação Bluetooth e a existência de uma aplicação móvel. 

 

 

 

 

 

 

 

 

 

 

 

 



122 

 

 

 

 

 

 

 

 

Esta página foi intencionalmente deixada em branco 

 

  



123 

 

Referências 

 

[1] “TradingEconomics,” [Online]. Available: 

http://www.tradingeconomics.com/. [Acedido em 2016 Fevereiro 19]. 

[2] “Enerpellets,” [Online]. Available: 

http://www.enerpellets.pt/our_pellets.html. [Acedido em 18 Fevereiro 2016]. 

[3] “Energium,” [Online]. Available: 

http://www.energenium.pt/energias/biomassa.html. [Acedido em 18 Fevereiro 

2016]. 

[4] “Energias Renováveis,” [Online]. Available: 

http://energiasalternativas.webnode.com.pt/energias-renovaveis/biomassa/. 

[Acedido em 17 Fevereiro 2016]. 

[5] “Jornal de Negócios,” [Online]. Available: 

http://www.jornaldenegocios.pt/empresas/detalhe/grupo_portugues_investe_53_

milhoes_em_fabrica_de_pellets_nos_estados_unidos.html. [Acedido em 18 

Fevereiro 2016]. 

[6] “DECO Proteste,” [Online]. Available: http://www.deco.proteste.pt/. 

[Acedido em 19 Fevereiro 2016]. 

[7] “Portal do Ambiente e do Cidadão,” [Online]. Available: 

http://ambiente.maiadigital.pt/ambiente/energia/mais-informacao-1/sobre-as-

energias-alternativas. [Acedido em 23 Fevereiro 2016]. 

[8] “Directiva Europeia,” [Online]. Available: 

http://www.apren.pt/fotos/gca/lexuriserv_1265321625.pdf. [Acedido em 18 

Fevereiro 2016]. 

[9] “BioEnergiaPortugal,” [Online]. Available: 

http://bioenergiaportugal.com/wp-

content/uploads/2015/06/02_BioenergiaPortugal2015_CBE_TeresaAlmeida.pdf. 

[Acedido em 24 Fevereiro 2016]. 



124 

 

[10] “Chaleurnature,” [Online]. Available: http://www.chaleurnature-granules-

bois-76-chauffage-normandie.com/images/prod2-big.jpg. [Acedido em 18 

Fevereiro 2016]. 

[11] “Enerpor,” [Online]. Available: www.enerpor.pt. [Acedido em 24 

Fevereiro 2016]. 

[12] “Enerpor,” [Online]. Available: http://www.enerpor.pt/pt/Simulador. 

[Acedido em 03 Agosto 2016]. 

[13] “Câmara Municipal Oliveira de Azemeis,” [Online]. Available: www.cm-

oaz.pt. [Acedido em 13 03 2016]. 

[14] “Cebio,” [Online]. Available: 

http://www.cebio.net/web/images/stories/PellCert_flyer.pdf. [Acedido em 7 

Setembro 2016]. 

[15] “Associação Nacional de Pellets Energéticas de Biomassa,” [Online]. 

Available: http://www.anpeb.pt/. [Acedido em 25 Fevereiro 2016]. 

[16] “Quente-e-frio,” [Online]. Available: http://www.quente-e-frio.info/wp-

content/uploads/2014/03/lareira-1.jpg. [Acedido em 18 Fevereiro 2016]. 

[17] [Online]. Available: http://img.edilportale.com/product-

thumbs/b_prodotti-62649-rele9c2503b1fc64d40bf7996074373e526.jpg. [Acedido 

em 18 Fevereiro 2016]. 

[18] “Tvi24,” 11 Fevereiro 2009. [Online]. Available: www.tvi24.iol.pt. 

[Acedido em 14 Março 2016]. 

[19] “Alpis,” [Online]. Available: 

http://www.alpis.pt/recuperadores/manualrecuperador.pdf. [Acedido em 20 

Outubro 2016]. 

[20] “Salar Lareiras,” [Online]. Available: http://www.salar-

lareiras.pt/vantagens-lareira-recuperador-calor.html. [Acedido em 5 Dezembro 

2016]. 

[21] “Maxima Interiores,” [Online]. Available: 

http://www.maximainteriores.xl.pt/decor/interiores/especial/19/esp_03.jpg. 

[Acedido em 18 Fevereiro 2016]. 



125 

 

[22] “JVP Churrasqueiras,” [Online]. Available: http://www.jvp-

churrasqueiras.com/imagens/recuperadores_calor_K78-c.jpg. [Acedido em 18 

Fevereiro 2016]. 

[23] “Sitiodaslareiras,” [Online]. Available: http://www.sitiodaslareiras.com. 

[Acedido em 18 Fevereiro 2016]. 

[24] “Enat.pt,” [Online]. Available: http://pt.enat.pt/media/342827/esquema-

solzaima2.jpg. [Acedido em 18 Fevereiro 2016]. 

[25] “Oliveira &amp;amp; Carvalho,” [Online]. Available: 

http://img.pai.pt/mysite/media/40/02/5/961d8533-ee54-4c5f-bc3c-

9cb1df07624a_LARGE.jpg. [Acedido em 18 Fevereiro 2016]. 

[26] “LeroyMerlin,” [Online]. Available: http://www.leroymerlin.pt/Site/Fazer-

e-facil/Tutoriais/Tudo-o-que-precisa-saber-sobre-salamandras.aspx. [Acedido em 

15 Fevereiro 2017]. 

[27] “Energokamin - Solid Fuel Flames,” [Online]. Available: 

http://www.energokamin.com/EN/images/solid-fuel-flames-en.jpg. [Acedido em 

16 Fevereiro 2016]. 

[28] “Hydronic Heating,” [Online]. Available: http://1.bp.blogspot.com/-

wR7Oj8y_TVE/UmE2Dy96heI/AAAAAAAAHDU/Fyznr1k-

NJI/s1600/hydronic-heating-installation.gif. [Acedido em 18 Fevereiro 2016]. 

[29] “Thisoldhouse,” [Online]. Available: 

http://www.thisoldhouse.com/toh/photos/0,,20654453_21251500,00.html. 

[Acedido em 18 Fevereiro 2016]. 

[30] “MLE - Soluções de Climatização,” [Online]. Available: 

http://www.mle.pt/extraflame/encastraveis-a-pellets/encastravel-a-pellets-

comfort-mini-crystal/#prettyPhoto[gallery1]/1/. [Acedido em 18 Fevereiro 2016]. 

[31] “Famarbrevetti,” [Online]. Available: 

http://www.famarbrevetti.com/media/comuni/spaccato-karif-zefira.jpg. [Acedido 

em 18 Fevereiro 2016]. 

[32] “Enat.pt,” [Online]. Available: 

http://pt.enat.pt/pt/produtos/biomassa/caldeiras-a-pellets. [Acedido em 18 

Fevereiro 2016]. 



126 

 

[33] “Rauschert,” [Online]. Available: 

http://rauschert.com/images/content_200x200/functional-

components/gluehzuender-1.jpg. [Acedido em 18 Fevereiro 2016]. 

[34] C. M. Mendes, “C. M. Mendes, "Ensaio de equipamento de aquecimento 

ambiente a pellets para marcação CE", Universidade do Minho,” [Online]. 

Available: 

http://repositorium.sdum.uminho.pt/bitstream/1822/21725/1/TESE_Carl 

os%20Mendes_2011.pdf. [Acedido em 18 Fevereiro 2016]. 

[35] “Propellets,” [Online]. Available: http://www.propellets.at/en/heating-

with-woodpellets/pellet-boilers/how-does-it-work/. [Acedido em 18 Fevereiro 

2016]. 

[36] “PelletHead,” [Online]. Available: http://pellethead.com/wp-

content/uploads/2013/12/p-323-120559_one__34368.jpg. [Acedido em 18 

Fevereiro 2016]. 

[37] [Online]. Available: 

http://cdn.shopify.com/s/files/1/0270/8519/files/HarmanCircuitBoard_large.JPG?

8666109069640077379. [Acedido em 18 Fevereiro 2016]. 

[38] “CEZA,” [Online]. Available: 

http://ceza.it/media/images/prodotti/pannello_display.jpg. [Acedido em 18 

Fevereiro 2016]. 

[39] [Online]. Available: 

https://i.ytimg.com/vi/6rU2K6ZmTMs/maxresdefault.jpg. [Acedido em 18 

Fevereiro 2016]. 

[40] “Amazon,” [Online]. Available: http://ecx.images-

amazon.com/images/I/41eEOMq2OpL._SX300_.jpg. [Acedido em 18 Fevereiro 

2016]. 

[41] “Amazon,” [Online]. Available: http://ecx.images-

amazon.com/images/I/51X%2BRUkJcuL._SX342_.jpg. [Acedido em 18 

Fevereiro 2016]. 

[42] “EveryChina,” [Online]. Available: 

http://img2.everychina.com/img/b1/af/b6dbb3d09292ee04744ba0417e31-

300x300c0-



127 

 

aa6b/control_panel_home_heater_wood_pellet_stoves_burners_fire_place_cr_06

.jpg. [Acedido em 18 Fevereiro 2016]. 

[43] “Instructables,” [Online]. Available: http://www.instructables.com. 

[Acedido em 18 Fevereiro 2016]. 

[44] “Módulo GPRS,” [Online]. Available: 

http://g01.a.alicdn.com/kf/HTB1HoZgIVXXXXbTaXXXq6xXFXXXK/New-

SIM900A-V4-0-Kit-Wireless-Extension-Module-GSM-GPRS-Board-Antenna-

Tested-Worldwide-Store.jpg. [Acedido em 18 Fevereiro 2016]. 

[45] “Wikimédia,” [Online]. Available: 

https://upload.wikimedia.org/wikipedia/commons/d/d7/Protoshield2.jpg. 

[Acedido em 28 Fevereiro 2016]. 

[46] “Arduino.cc,” [Online]. [Acedido em 28 Fevereiro 2016]. 

[47] “Microchip,” [Online]. Available: http://www.microchip.com/. [Acedido 

em 29 Fevereiro 2016]. 

[48] “ChipKITT,” [Online]. Available: http://chipkit.net. [Acedido em 10 

Setembro 2016]. 

[49] “EmbeddedAdventures,” [Online]. Available: 

http://www.embeddedadventures.com/images/uploaded_images/PLT_1005_600.j

pg. [Acedido em 10 Setembro 2016]. 

[50] “RaspberryPiOrg,” [Online]. Available: https://www.raspberrypi.org. 

[Acedido em 28 02 2016]. 

[51] L. M. P. Neves, Rectificadores Controlados a Tirístor - Electrónica de 

Potência.  

[52] “Wikipédia,” [Online]. Available: 

https://en.wikipedia.org/wiki/Zero_crossing#/media/File:Zero_crossing.svg. 

[Acedido em 23 06 2016]. 

[53] Arduino, “ArduinoDS1302,” [Online]. Available: 

http://playground.arduino.cc/Main/DS1302. [Acedido em 3 Fevereiro 2017]. 

[54] “TOTALPHASE,” [Online]. Available: 

https://www.totalphase.com/support/articles/200350046-Interfacing-with-3-wire-

SPI. [Acedido em 20 Setembro 2016]. 



128 

 

[55] C. Erlich Industrial Development, “EIDUSA,” [Online]. Available: 

http://www.eidusa.com/Electronics_Kits_TEMP_THERMISTOR_1.htm. 

[Acedido em 16 Novembro 2016]. 

[56] [Online]. Available: 

http://www.solucoesindustriais.com.br/images/produtos/imagens_897/p_microco

ntroladores-8.jpg. [Acedido em 29 Fevereiro 2016]. 

[57] Eletronica-pt, “Eletronica-pt,” [Online]. Available: 

http://www.electronica-pt.com/. [Acedido em 21 06 2016]. 

[58] “Radio-Electronics,” [Online]. Available: http://www.radio-

electronics.com/. [Acedido em 2016 06 21]. 

[59] “PCB Heaven,” [Online]. Available: http://www.pcbheaven.com/. 

[Acedido em 08 Setembro 2016]. 

[60] “QPH.EC,” [Online]. Available: https://qph.ec.quoracdn.net/main-qimg-

2e55af769c5750d552fc37570eb7f07b?convert_to_webp=true. [Acedido em 8 

Setembro 2016]. 

 

 

 

  



129 

 

 

 

 

 

 

 

 

Esta página foi intencionalmente deixada em branco 

 

  



130 

 

 

 

 

 

 

 

 

Esta página foi intencionalmente deixada em branco 

 

  



131 

 

 Anexos 

Anexo A – Lista de material 

 

Os preços indicados na Tabela 13 são valores de referência. 

Tabela 13 - Lista de componentes utilizados no controlador. 

Quantidade Descrição Preço und. 

6 Botões de pressão 0,10€ 

1 Buzzer 0,2€ 

1 Condensador 0,1uF 0,26€ 

3 Condensador de Poliester 100nF 1,2€ 

1 Condensador 2200uF 0,35€ 

3 Conetor macho, passo 2,54mm 0,80€ 

1 Díodo 1N4148 0,05€ 

2 Ficha fêmea p/ cabo flat cable 1,35€ 

2 Ficha macho p/ pcb flat cable 0,55€ 

7 Fichas de parafuso 0,65€ 

1(m) Flat cable 1,8€ 

1 LCD 1€ 

2 MOC3022 0,25 € 

1 MOC3041 0,64 € 

1 Módulo Bluetooth 5€ 

1 Módulo RTC DS1302 1€ 

1 Opto. PC814 0,18€ 

1 Ponte Rect. DF08M 0,36€ 

1 Recetor IR c/ Comando Remoto 1,20€ 

1 Reg. Tensão LM7805 0,4€ 

1 Relé 5Vdc 1€ 

2 Resistência 10k? 0,15€ 

2 Resistência 180? 2W 0,10 € 

1 Resistência 1k? 0.20€ 

3 Resistência 2,2k? 2W 0,18€ 

2 Resistência 220? 0,13€ 

1 Resistência 240k? 0,20€ 

1 Resistência 360? 2W 0,30€ 

1 Resistência 380? 0,13€ 

1 Resistência 680? 0,13€ 

1 Transformador 230V/9V, 5VA 5,01 € 

1 Transístor 2n3904 0,05€ 

3 TRIAC BT136-600 0,35 € 
 


</field>
	</doc>
</add>